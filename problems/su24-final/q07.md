# BEGIN PROB

\[(12 pts)\]

You are analyzing the data in `stages` to see which countries winners
come from.

You categorize the countries into four groups: France, Italy, Belgium,
and Other. After performing some analysis, you find that the observed
distribution of countries of origin for Tour de France stage winners is
`[0.3, 0.2, 0.1, 0.4]`; i.e. 30% of stage winners are French, 20%
Italian, etc. Based on census information, the expected population
distribution is `[0.07, 0.06, 0.01, 0.86]`; that is, France's total
population is 7% of the sum of the populations of all countries
participating in the Tour, Italy's is 6%, etc.

You conduct a hypothesis test with the following hypotheses:

-   **Null Hypothesis**: The distribution of countries of origin for
    Tour de France stage winners is equivalent to the distribution of
    the populations of the countries participating in the Tour de
    France. Any observed difference is due to chance.

-   **Alternative Hypothesis**: The distribution of countries of origin
    for Tour de France stage winners is different from the distribution
    of the populations of the countries participating in the Tour de
    France.

# BEGIN SUBPROB

Which of the following test statistics are appropriate for this
hypothesis test? Select all that apply.

[ ] The absolute difference between the expected proportion of French
stage winners\
and the observed proportion of French stage winners.

[ ] The sum of the differences between the expected population
distribution and the\
observed distribution of stage winners.

[ ] The absolute difference between the number of French stage winners
and the number\
of Italian stage winners.

[ ] The sum of the absolute differences between the expected
population distribution\
and the observed distribution of stage winners.

# BEGIN SOLUTION

# END SOLUTION

# END SUBPROB

**For the rest of this question, assume that we will be using the Total
Variation Distance as our test statistic.**

# BEGIN SUBPROB

Complete the implementation of the `simulate` and `calculate_test_stat`
functions so that the code below successfully simulates 10,000 test
statistics.

    expected_dist = [0.07, 0.06, 0.01, 0.86]
    observed_dist = [0.3, 0.2, 0.1, 0.4]

    def simulate(__(i)__):
        simulated_winners = np.random.__(ii)__(100, __(iii)__)
        return simulated_winners / 100

    def calculate_test_stat(__(iv)__, __(v)__):
        return __(vi)__


    observed_stat = calculate_test_stat(observed_dist, expected_dist)
    simulated_stats = np.array([])
    for i in np.arange(10000):
        simulated_dist = simulate(expected_dist)
        simulated_stat = calculate_test_stat(simulated_dist, expected_dist)
        simulated_stats = np.append(simulated_stats, simulated_stat)

`(i): `

`(ii): `

`(iii): `

`(iv): `

`(v): `

`(vi): `

# BEGIN SOLUTION

# END SOLUTION

# END SUBPROB

# BEGIN SUBPROB

Fill in the blank in the following code so that `p_value` evaluates to
the correct p-value for this hypothesis test:

    p_value = np.mean(simulated_stats ___ observed_statistic))

::: center
( ) ` > ` ( ) ` >= ` ( ) ` < ` ( ) ` <= ` ( ) ` = `
:::

# BEGIN SOLUTION

# END SOLUTION

# END SUBPROB

# END PROB