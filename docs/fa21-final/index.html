<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>Fall 2021 Final Exam</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    /* The extra [class] is a hack that increases specificity enough to
       override a similar rule in reveal.js */
    ul.task-list[class]{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      font-size: inherit;
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      {   }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span.al { color: #ff0000; font-weight: bold; } /* Alert */
    code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
    code span.at { color: #7d9029; } /* Attribute */
    code span.bn { color: #40a070; } /* BaseN */
    code span.bu { color: #008000; } /* BuiltIn */
    code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #4070a0; } /* Char */
    code span.cn { color: #880000; } /* Constant */
    code span.co { color: #60a0b0; font-style: italic; } /* Comment */
    code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
    code span.do { color: #ba2121; font-style: italic; } /* Documentation */
    code span.dt { color: #902000; } /* DataType */
    code span.dv { color: #40a070; } /* DecVal */
    code span.er { color: #ff0000; font-weight: bold; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #40a070; } /* Float */
    code span.fu { color: #06287e; } /* Function */
    code span.im { color: #008000; font-weight: bold; } /* Import */
    code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
    code span.kw { color: #007020; font-weight: bold; } /* Keyword */
    code span.op { color: #666666; } /* Operator */
    code span.ot { color: #007020; } /* Other */
    code span.pp { color: #bc7a00; } /* Preprocessor */
    code span.sc { color: #4070a0; } /* SpecialChar */
    code span.ss { color: #bb6688; } /* SpecialString */
    code span.st { color: #4070a0; } /* String */
    code span.va { color: #19177c; } /* Variable */
    code span.vs { color: #4070a0; } /* VerbatimString */
    code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="../assets/theme.css" />
  <script defer=""
  src="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.js"></script>
  <script>document.addEventListener("DOMContentLoaded", function () {
 var mathElements = document.getElementsByClassName("math");
 var macros = [];
 for (var i = 0; i < mathElements.length; i++) {
  var texText = mathElements[i].firstChild;
  if (mathElements[i].tagName == "SPAN") {
   katex.render(texText.data, mathElements[i], {
    displayMode: mathElements[i].classList.contains('display'),
    throwOnError: false,
    macros: macros,
    fleqn: false
   });
}}});
  </script>
  <link rel="stylesheet"
  href="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.css" />
</head>
<body>
<header id="title-block-header">
<h1 class="title">Fall 2021 Final Exam</h1>
</header>
<p><link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
<!-- add after bootstrap.min.css -->
<link rel="stylesheet" href="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.css"/>
<!-- add after bootstrap.min.js or bootstrap.bundle.min.js -->
<script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script></p>
<!-- for difficulty gauges-->
<script src="https://cdn.plot.ly/plotly-2.16.1.min.js"></script>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-B947E6J6H4"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-B947E6J6H4');
</script>
<p><a href="../index.html">← return to practice.dsc10.com</a></p>
<hr />
<p><strong>Instructor(s):</strong> Janine Tiefenbruck, Suraj Rampure</p>
<p>This exam was administered remotely via Gradescope. The exam was
open-internet, and students were able to use Jupyter Notebooks. They had
<strong>3 hours</strong> to work on it.</p>
<hr />
<p>Welcome to the Final Exam! In honor of the (at the time) brand-new
Comic-Con Museum that just opened at Balboa Park here in San Diego, this
exam will contain questions about various museums and zoos around the
world.</p>
<p>In this question, we’ll work with the DataFrame
<code>art_museums</code>, which contains the name, city, number of
visitors in 2019, and rank (based on number of visitors) for the 100
most visited art museums in 2019. The first few rows of
<code>art_museums</code> are shown below.</p>
<center><img src='../assets/images/fa21-final/art_museums.png' width=40%></center>
<p><br></p>
<p><strong>Tip:</strong> Open this page in another tab, so that it is
easy to refer to this data description as you work through the exam.</p>
<hr />
<h2 id="problem-1">Problem 1</h2>
<p><br></p>
<h3 id="problem-1.1">Problem 1.1</h3>
<p>Which of the following blocks of code correctly assigns
<code>random_art_museums</code> to an array of the names of 10 art
museums, randomly selected without replacement from those in
<code>art_museums</code>? Select all that apply.</p>
<p>Option 1:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> get_10(df):</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> np.array(df.sample(<span class="dv">10</span>).get(<span class="st">&#39;Name&#39;</span>))</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>random_art_museums <span class="op">=</span> get_10(art_museums)</span></code></pre></div>
<p>Option 2:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> get_10(art_museums):</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> np.array(art_museums.sample(<span class="dv">10</span>).get(<span class="st">&#39;Name&#39;</span>))</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>random_art_museums <span class="op">=</span> get_10(art_museums)</span></code></pre></div>
<p>Option 3:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> get_10(art_museums):</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>    random_art_museums <span class="op">=</span> np.array(art_museums.sample(<span class="dv">10</span>).get(<span class="st">&#39;Name&#39;</span>))</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>random_art_museums <span class="op">=</span> get_10(art_museums)</span></code></pre></div>
<p>Option 4:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> get_10():</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> np.array(art_museums.sample(<span class="dv">10</span>).get(<span class="st">&#39;Name&#39;</span>))</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>random_art_museums <span class="op">=</span> get_10()</span></code></pre></div>
<p>Option 5:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>random_art_museums <span class="op">=</span> np.array([])</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> get_10():</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>    random_art_museums <span class="op">=</span> np.array(art_museums.sample(<span class="dv">10</span>).get(<span class="st">&#39;Name&#39;</span>))</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> random_art_museums</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>get_10()</span></code></pre></div>
<ul class="task-list">
<li><p><input type="checkbox" disabled="" /> Option 1</p></li>
<li><p><input type="checkbox" disabled="" /> Option 2</p></li>
<li><p><input type="checkbox" disabled="" /> Option 3</p></li>
<li><p><input type="checkbox" disabled="" /> Option 4</p></li>
<li><p><input type="checkbox" disabled="" /> Option 5</p></li>
<li><p><input type="checkbox" disabled="" /> None of the above</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading1_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse1_1" aria-expanded="true" aria-controls="collapse1_1">
Click to view the solution.
</button>
</h2>
<div id="collapse1_1" class="accordion-collapse collapse"
aria-labelledby="heading1_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answers:</strong> Option 1, Option 2, and Option 4</p>
<p>Note that if <code>df</code> is a DataFrame, then
<code>df.sample(10)</code> is a DataFrame containing 10 randomly
selected rows in <code>df</code>. With that in mind, let’s look at all
of our options.</p>
<ul>
<li><strong>Option 1:</strong> This implementation of
<code>get_10</code> takes in a DataFrame <code>df</code> and returns an
array containing 10 randomly selected values in <code>df</code>’s
<code>'Name'</code> column. After defining <code>get_10</code>, we
assign <code>random_art_museums</code> to the result of calling
<code>get_10(art_museums)</code>. This assigns
<code>random_art_museums</code> as intended, so Option 1 is
correct.</li>
<li><strong>Option 2:</strong> This option is functionally the same as
Option 1, so it is also correct. The only difference between Option 2
and Option 1 is that Option 2 uses the parameter name
<code>art_museums</code> and Option 1 uses the parameter name
<code>df</code> (both in the <code>def</code> line and in the function
body); this does not change the behavior of <code>get_10</code> or the
lines afterward.</li>
<li><strong>Option 3:</strong> <code>get_10</code> here does not return
anything! So, <code>get_10(art_museums)</code> evaluates to
<code>None</code> (which means “nothing” in Python), and
<code>random_art_museums</code> is also <code>None</code>, meaning
Option 3 is incorrect.</li>
<li><strong>Option 4:</strong> At first, it may appear that this option
is wrong, as <code>get_10</code> does not take in any inputs. However,
the body of <code>get_10</code> contains a reference to the DataFrame
<code>art_museums</code>, which is ultimately where we want to sample
from. As a result, <code>get_10</code> does indeed return an array
containing 10 randomly selected museum names, and
<code>random_art_museums = get_10()</code> correctly assigns
<code>random_art_museums</code> to this array, so Option 4 is
correct.</li>
<li><strong>Option 5:</strong> Here, <code>get_10</code> returns the
correct array. However, outside of the function,
<code>random_art_museums</code> is never assigned to the output of
<code>get_10</code>. (The variable name <code>random_art_museums</code>
inside the function has nothing to do with the array defined before and
outside the function.) As a result, after running the line
<code>get_10()</code> at the bottom of the code block,
<code>random_art_museums</code> is still an empty array, and as such,
Option 5 is incorrect.</li>
</ul>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 85%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-1.2">Problem 1.2</h3>
<p>London has the most art museums in the top 100 of any city in the
world. The most visited art museum in London is
<code>'Tate Modern'</code>.</p>
<p>Which of the following blocks of code correctly assigns
<code>best_in_london</code> to <code>'Tate Modern'</code>? Select all
that apply.</p>
<p>Option 1:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> most_common(df, col):</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> df.groupby(col).count().sort_values(by<span class="op">=</span><span class="st">&#39;Rank&#39;</span>, ascending<span class="op">=</span><span class="va">False</span>).index[<span class="dv">0</span>]</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> most_visited(df, col, value):</span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> df[df.get(col)<span class="op">==</span>value].sort_values(by<span class="op">=</span><span class="st">&#39;Visitors&#39;</span>, ascending<span class="op">=</span><span class="va">False</span>).get(<span class="st">&#39;Name&#39;</span>).iloc[<span class="dv">0</span>]</span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>best_in_london <span class="op">=</span> most_visited(art_museums, <span class="st">&#39;City&#39;</span>, most_common(art_museums, <span class="st">&#39;City&#39;</span>))</span></code></pre></div>
<p>Option 2:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> most_common(df, col):</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(df.groupby(col).count().sort_values(by<span class="op">=</span><span class="st">&#39;Rank&#39;</span>, ascending<span class="op">=</span><span class="va">False</span>).index[<span class="dv">0</span>])</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> most_visited(df, col, value):</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(df[df.get(col)<span class="op">==</span>value].sort_values(by<span class="op">=</span><span class="st">&#39;Visitors&#39;</span>, ascending<span class="op">=</span><span class="va">False</span>).get(<span class="st">&#39;Name&#39;</span>).iloc[<span class="dv">0</span>])</span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>best_in_london <span class="op">=</span> most_visited(art_museums, <span class="st">&#39;City&#39;</span>, most_common(art_museums, <span class="st">&#39;City&#39;</span>))</span></code></pre></div>
<p>Option 3:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> most_common(df, col):</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> df.groupby(col).count().sort_values(by<span class="op">=</span><span class="st">&#39;Rank&#39;</span>, ascending<span class="op">=</span><span class="va">False</span>).index[<span class="dv">0</span>]</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> most_visited(df, col, value):</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(df[df.get(col)<span class="op">==</span>value].sort_values(by<span class="op">=</span><span class="st">&#39;Visitors&#39;</span>, ascending<span class="op">=</span><span class="va">False</span>).get(<span class="st">&#39;Name&#39;</span>).iloc[<span class="dv">0</span>])</span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>best_in_london <span class="op">=</span> most_visited(art_museums, <span class="st">&#39;City&#39;</span>, most_common(art_museums, <span class="st">&#39;City&#39;</span>))</span></code></pre></div>
<ul class="task-list">
<li><p><input type="checkbox" disabled="" /> Option 1</p></li>
<li><p><input type="checkbox" disabled="" /> Option 2</p></li>
<li><p><input type="checkbox" disabled="" /> Option 3</p></li>
<li><p><input type="checkbox" disabled="" /> None of the above</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading1_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse1_2" aria-expanded="true" aria-controls="collapse1_2">
Click to view the solution.
</button>
</h2>
<div id="collapse1_2" class="accordion-collapse collapse"
aria-labelledby="heading1_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> Option 1 only</p>
<p>At a glance, it may seem like there’s a lot of reading to do to
answer the question. However, it turns out that all 3 options follow
similar logic; the difference is in their use of <code>print</code> and
<code>return</code> statements. Whenever we want to “save” the output of
a function to a variable name or use it in another function, we need to
<code>return</code> somewhere within our function. Only Option 1
contains a <code>return</code> statement in both
<code>most_common</code> and <code>most_visited</code>, so it is the
only correct option.</p>
<p>Let’s walk through the logic of Option 1 (which we don’t necessarily
need to do to answer the problem, but we should in order to enhance our
understanding):</p>
<ul>
<li>First, we use <code>most_common</code> to find the city with the
most art museums. <code>most_common</code> does this by grouping the
input DataFrame <code>df</code> (<code>art_museums</code>, in this case)
by <code>'City'</code> and using the <code>.count()</code> method to
find the number of rows per <code>'City'</code>. Note that when using
<code>.count()</code>, all columns in the aggregated DataFrame will
contain the same information, so it doesn’t matter which column you use
to extract the counts per group. After sorting by one of these columns
(<code>'Rank'</code>, in this case) in decreasing order,
<code>most_common</code> takes the first value in the
<code>index</code>, which will be the name of the <code>'City'</code>
with the most art museums. <strong>This is London</strong>,
i.e. <code>most_common(art_museums, 'City')</code> evaluates to
<code>'London'</code> in Option 1 (in Option 2, it evaluates to
<code>None</code>, since <code>most_common</code> there doesn’t
<code>return</code> anything).</li>
<li>Then, we use <code>most_visited</code> to find the museum with the
most visitors in the city with the most museums. This is achieved by
keeping only the rows of the input DataFrame <code>df</code> (again,
<code>art_museums</code> in this case) where the value in the
<code>col</code> (<code>'City'</code>) column is <code>value</code>
(<code>most_common(art_museums, 'City')</code>, or
<code>'London'</code>). Now that we only have information for museums in
London, we can sort by <code>'Visitors'</code> to find the most visited
such museum, and take the first value from the resulting
<code>'Name'</code> column. While all 3 options follow this logic, only
Option 1 <strong>returns</strong> the desired value, and so only Option
1 assigns <code>best_in_london</code> correctly. (Even if Option 2’s
<code>most_visited</code> used <code>return</code> instead of
<code>print</code>, it still wouldn’t work, since Option 2’s
<code>most_common</code> also uses <code>print</code> instead of
<code>return</code>).</li>
</ul>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 86%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="problem-2">Problem 2</h2>
<p>In this question, we’ll keep working with the
<code>art_museums</code> DataFrame.</p>
<p><br></p>
<h3 id="problem-2.1">Problem 2.1</h3>
<p>(Remember to keep the data description from the top of the exam open
in another tab!)</p>
<p><code>'Tate Modern'</code> is the most popular art museum in London.
But what’s the most popular art museum in each city?</p>
<p>It turns out that there’s no way to answer this easily using the
tools that you know about so far. To help, we’ve created a new Series
method, <code>.last()</code>. If <code>s</code> is a Series,
<code>s.last()</code> returns the last element of <code>s</code>
(i.e. the element at the very end of <code>s</code>).
<code>.last()</code> works with <code>.groupby</code>, too (just like
<code>.mean()</code> and <code>.count()</code>).</p>
<p>Fill in the blanks so that the code below correctly assigns
<code>best_per_city</code> to a DataFrame with one row per city, that
describes the name, number of visitors, and rank of the most visited art
museum in each city. <code>best_per_city</code> should be sorted in
decreasing order of number of visitors. The first few rows of
<code>best_per_city</code> are shown below.</p>
<center><img src='../assets/images/fa21-final/best_per_city.png' width=40%></center>
<p><br></p>
<div class="sourceCode" id="cb9"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>best_per_city <span class="op">=</span> __(a)__.groupby(__(b)__).last().__(c)__</span></code></pre></div>
<ol type="1">
<li>What goes in blank (a)?</li>
<li>What goes in blank (b)?</li>
<li>What goes in blank (c)?</li>
</ol>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading2_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse2_1" aria-expanded="true" aria-controls="collapse2_1">
Click to view the solution.
</button>
</h2>
<div id="collapse2_1" class="accordion-collapse collapse"
aria-labelledby="heading2_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answers:</strong></p>
<ol type="1">
<li><code>art_museums.sort_values('Visitors', ascending=True)</code></li>
<li><code>'City'</code></li>
<li><code>sort_values('Visitors', ascending=False)</code></li>
</ol>
<p>Let’s take a look at the completed implementation.</p>
<div id="cb1" class="sourceCode">
<pre class="sourceCode py"><code class="sourceCode python"><span id="cb1-1"><a aria-hidden="true" href="#cb1-1" tabindex="-1"></a>best_per_city <span class="op">=</span> art_museums.sort_values(<span class="st">'Visitors'</span>, ascending<span class="op">=</span><span class="va">True</span>).groupby(<span class="st">'City'</span>).last().sort_values(<span class="st">'Visitors'</span>, ascending<span class="op">=</span><span class="va">False</span>)</span></code></pre>
</div>
<p>We first sort the row in <code>art_museums</code> by the number of
<code>'Visitors'</code> in <code>ascending</code> order. Then
<code>goupby('City')</code>, so that we have one row per city. Recall,
we need an aggregation method after using <code>groupby()</code>. In
this question, we use <code>last()</code> to only keep the one last row
for each city. Since in blank (a) we have sorted the rows by
<code>'Visitors'</code>, so <code>last()</code> keeps the row that
contains the name of the most visited museum in that city. At last we
sort this new DataFrame by <code>'Visitors'</code> in descending order
to fulfill the question’s requirement.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 65%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-2.2">Problem 2.2</h3>
<p>Assume you’ve defined <code>best_per_city</code> correctly.</p>
<p>Which of the following options evaluates to the number of visitors to
the most visited art museum in Amsterdam? Select all that apply.</p>
<ul class="task-list">
<li><p><input type="checkbox" disabled="" /> <code>best_per_city.get('Visitors').loc['Amsterdam']</code></p></li>
<li><p><input type="checkbox" disabled="" /> <code>best_per_city[best_per_city.index == 'Amsterdam'].get('Visitors').iloc[0]</code></p></li>
<li><p><input type="checkbox" disabled="" /> <code>best_per_city[best_per_city.index == 'Amsterdam'].get('Visitors').iloc[-1]</code></p></li>
<li><p><input type="checkbox" disabled="" /> <code>best_per_city[best_per_city.index == 'Amsterdam'].get('Visitors').loc['Amsterdam']</code></p></li>
<li><p><input type="checkbox" disabled="" /> None of the above</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading2_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse2_2" aria-expanded="true" aria-controls="collapse2_2">
Click to view the solution.
</button>
</h2>
<div id="collapse2_2" class="accordion-collapse collapse"
aria-labelledby="heading2_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong>
<code>best_per_city.get('Visitors').loc['Amsterdam']</code>,
<code>best_per_city[best_per_city.index == 'Amsterdam'].get('Visitors').iloc[0]</code>,
<code>best_per_city[best_per_city.index == 'Amsterdam'].get('Visitors').iloc[-1]</code>,
<code>best_per_city[best_per_city.index == 'Amsterdam'].get('Visitors').loc['Amsterdam']</code>
(Select all except “None of the above”)</p>
<p><code>best_per_city.get('Visitors').loc['Amsterdam']</code> We first
use <code>.get(column_name)</code> to get a series with number of
visitors to the most visited art museum, and then locate the number of
visitors to the most visited art museum in Amsterdam using
<code>.loc[index]</code> since we have <code>"City"</code> as index.</p>
<p><code>best_per_city[best_per_city.index == 'Amsterdam'].get('Visitors').iloc[0]</code>
We first query the <code>best_per_city</code> to only include the
DataFrame with one row with index <code>'Amsterdam'</code>. Then, we get
the <code>'Visitors'</code> column of this DataFrame. Finally, we use
<code>iloc[0]</code> to access the first and the only value in this
column.</p>
<p><code>best_per_city[best_per_city.index == 'Amsterdam'].get('Visitors').iloc[-1]</code>
We first query the <code>best_per_city</code> to only include the
DataFrame with one row with index <code>'Amsterdam'</code>. Then, we get
the <code>'Visitors'</code> column of this DataFrame. Finally, we use
<code>iloc[-1]</code> to access the last and the only value in this
column.</p>
<p><code>best_per_city[best_per_city.index == 'Amsterdam'].get('Visitors').loc['Amsterdam']</code>
We first query the <code>best_per_city</code> to only include the
DataFrame with one row with index <code>'Amsterdam'</code>. Then, we get
the <code>'Visitors'</code> column of this DataFrame. Finally, we use
<code>loc['Amsterdam']</code> to access the value in this column with
index <code>'Amsterdam'</code>.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 84%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="problem-3">Problem 3</h2>
<p>The table below shows the average amount of revenue from different
sources for art museums in 2003 and 2013.</p>
<center><img src='../assets/images/fa21-final/means.png' width=20%></center>
<p><br></p>
<h3 id="problem-3.1">Problem 3.1</h3>
<p>What is the total variation distance between the distribution of
revenue sources in 2003 and the distribution of revenue sources in 2013?
Give your answer as a proportion (i.e. a decimal between 0 and 1),
<strong>not</strong> a percentage. Round your answer to three decimal
places.</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading3_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse3_1" aria-expanded="true" aria-controls="collapse3_1">
Click to view the solution.
</button>
</h2>
<div id="collapse3_1" class="accordion-collapse collapse"
aria-labelledby="heading3_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> 0.19</p>
<p>Recall, the total variation distance (TVD) is the sum of the absolute
differences in proportions, divided by 2. The absolute differences in
proportions for each source are as follows:</p>
<ul>
<li>Admissions: <span class="math inline">|0.15 - 0.24| =
0.09</span></li>
<li>Restaurants and Catering: <span class="math inline">|0.09 - 0.12| =
0.03</span></li>
<li>Store: <span class="math inline">|0.52 - 0.33| = 0.19</span></li>
<li>Other: <span class="math inline">|0.24 - 0.31| = 0.07</span></li>
</ul>
<p>Then, we have</p>
<p><span class="math display">\text{TVD} = \frac{1}{2} (0.09 + 0.03 +
0.19 + 0.07) = 0.19</span></p>
<hr/>
<h5>Difficulty: ⭐️</h5>
<p>
</p>
<p>The average score on this problem was 95%.</p>
</div>
</div>
</div>
</div>
<p><br> <br></p>
<h3 id="problem-3.2">Problem 3.2</h3>
<p>Which type of visualization would be best suited for comparing the
two distributions in the table?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> Scatter plot</p></li>
<li><p><input type="radio" disabled="" /> Line plot</p></li>
<li><p><input type="radio" disabled="" /> Overlaid histogram</p></li>
<li><p><input type="radio" disabled="" /> Overlaid bar chart</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading3_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse3_2" aria-expanded="true" aria-controls="collapse3_2">
Click to view the solution.
</button>
</h2>
<div id="collapse3_2" class="accordion-collapse collapse"
aria-labelledby="heading3_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> Overlaid bar chart</p>
<p>A <strong>scatter plot</strong> visualizes the relationship between
two numerical variables. In this problem, we only have to visualize the
distribution of a categorical variable.</p>
<p>A <strong>line plot</strong> shows trends in numerical variables over
time. In this problem, we only have categorical variables. Moreover,
when it says over time, it is suitable for plotting change in multiple
years (e.g. 2001, 2002, 2003, … , 2013), or even with data of days. In
this question, we only want to compare the distribution of 2003 and
2013, this makes the line plot not useful. In addition, if you try to
draw a line plot for this question, you will find the line plot fails to
visualize distribution (e.g. the idea of 15%, 9%, 52%, and 24% add up to
100%).</p>
<p>An overlaid graph is useful in this question since this visualizes
comparison between the two distributions.</p>
<p>However, an <strong>overlaid histogram</strong> is not useful in this
problem. The key reason is the differences between a histogram and a bar
chart.</p>
<p>Bar Chart: Space between the bars; 1 categorical axis, 1 numerical
axis; order does not matter<br/>
Histogram: No space between the bars; intervals on axis; 2 numerical
axes; order matters</p>
<p>In the question, we are plotting 2003 and 2013 distributions of four
categories (Admissions, Restaurants and Catering, Store, and Other).
Thus, an <strong>overlaid bar chart</strong> is more appropriate.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 74%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-3.3">Problem 3.3</h3>
<p><span style="color:red"><b>Note: This problem is out of scope; it
covers material no longer included in the course.</b></span></p>
<p>Notably, there was an economic recession in 2008-2009. Which of the
following can we conclude was an effect of the recession?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> The increase in revenue from admissions, as more people were visiting
museums.</p></li>
<li><p><input type="radio" disabled="" /> The decline in revenue from museum stores, as people had less money
to spend.</p></li>
<li><p><input type="radio" disabled="" /> The decline in total revenue, as fewer people were visiting
museums.</p></li>
<li><p><input type="radio" disabled="" /> None of the above</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading3_3">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse3_3" aria-expanded="true" aria-controls="collapse3_3">
Click to view the solution.
</button>
</h2>
<div id="collapse3_3" class="accordion-collapse collapse"
aria-labelledby="heading3_3" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> None of the above</p>
<p>Since we are only given the distribution of the revenue, and have no
information about the amount of revenue in 2003 and 2013, we cannot
conclude how the revenue has changed from 2003 to 2013 after the
recession.</p>
<p>For instance, if the total revenue in 2003 was 100 billion USD and
the total revenue in 2013 was 50 billion USD, revenue from admissions in
2003 was 100 * 15% = 15 billion USD, and revenue from admissions in 2003
was 50 * 24% = 12 billion USD. In this case, we will have 15 &gt; 12,
the revenue from admissions has declined rather than increased (As
stated by ‘The increase in revenue from admissions, as more people were
visiting museums.’). Similarly, since we don’t know the total revenue in
2003 and 2013, we cannot conclude ‘The decline in revenue from museum
stores, as people had less money to spend.’ or ‘The decline in total
revenue, as fewer people were visiting museums.’</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 72%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="problem-4">Problem 4</h2>
<p><br></p>
<h3 id="problem-4.1">Problem 4.1</h3>
<p>The Museum of Natural History has a large collection of dinosaur
bones, and they know the approximate year each bone is from. They want
to use this sample of dinosaur bones to estimate <strong>the total
number of years that dinosaurs lived on Earth</strong>. We’ll make the
assumption that the sample is a uniform random sample from the
population of all dinosaur bones. Which statistic below will give the
best estimate of the population parameter?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> sample sum</p></li>
<li><p><input type="radio" disabled="" /> sample max - sample min</p></li>
<li><p><input type="radio" disabled="" /> 2 <span class="math inline">\cdot</span> (sample mean - sample
min)</p></li>
<li><p><input type="radio" disabled="" /> 2 <span class="math inline">\cdot</span> (sample max - sample
mean)</p></li>
<li><p><input type="radio" disabled="" /> 2 <span class="math inline">\cdot</span> sample mean</p></li>
<li><p><input type="radio" disabled="" /> 2 <span class="math inline">\cdot</span> sample median</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading4_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse4_1" aria-expanded="true" aria-controls="collapse4_1">
Click to view the solution.
</button>
</h2>
<div id="collapse4_1" class="accordion-collapse collapse"
aria-labelledby="heading4_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> sample max - sample min</p>
<p>Our goal is to estimate <strong>the total number of years that
dinosaurs lived on Earth</strong>. In other words, we want to know the
range of time that dinosaurs lived on Earth, and by definition range =
biggest value - smallest value. By using “sample max - sample min”, we
calculate the difference between the earliest and the latest dinosaur
bones in this uniform random sample, which helps us to estimate the
population range.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 52%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-4.2">Problem 4.2</h3>
<p>The curator at the Museum of Natural History, who happens to have
taken a data science course in college, points out that the estimate of
the parameter obtained from this sample could certainly have come out
differently, if the museum had started with a different sample of bones.
The curator suggests trying to understand the distribution of the sample
statistic. Which of the following would be an appropriate way to create
that distribution?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> bootstrapping the original sample</p></li>
<li><p><input type="radio" disabled="" /> using the Centrual Limit Theorem</p></li>
<li><p><input type="radio" disabled="" /> both bootstrapping and the Central Limit Theorem</p></li>
<li><p><input type="radio" disabled="" /> neither bootstrapping nor the Central Limit Theorem</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading4_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse4_2" aria-expanded="true" aria-controls="collapse4_2">
Click to view the solution.
</button>
</h2>
<div id="collapse4_2" class="accordion-collapse collapse"
aria-labelledby="heading4_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> neither bootstrapping nor the Central Limit
Theorem</p>
<p>Recall, the Central Limit Theorem (CLT) says that the probability
distribution of <strong>the sum or average</strong> of a large random
sample drawn with replacement will be roughly normal, regardless of the
distribution of the population from which the sample is drawn. Thus, the
theorem only applies when our sample statistics is sum or average, while
in this question, our statistics is range, so CLT does not apply.</p>
<p>Bootstrapping is a valid technique for estimating measures of central
tendency, e.g. the population mean, median, standard deviation, etc. It
doesn’t work well in estimating extreme or sensitive values, like the
population maximum or minimum. Since the statistic we’re trying to
estimate is the difference between the population maximum and population
minimum, bootstrapping is not appropriate.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 20%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="problem-5">Problem 5</h2>
<p><br></p>
<h3 id="problem-5.1">Problem 5.1</h3>
<p>Now, the Museum of Natural History wants to know how many visitors
they have in a year. However, their computer systems are rather archaic
and so they aren’t able to keep track of the number of tickets sold for
an entire year. Instead, they randomly select five days in the year, and
keep track of the number of visitors on those days. Let’s call these
numbers <span class="math inline">v_1</span>, <span
class="math inline">v_2</span>, <span class="math inline">v_3</span>,
<span class="math inline">v_4</span>, and <span
class="math inline">v_5</span>.</p>
<p>Which of the following is the best estimate the number of visitors
for the entire year?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> <span class="math inline">v_1 + v_2 + v_3 + v_4 + v_5</span></p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">\frac{5}{365}\cdot(v_1 + v_2 + v_3 + v_4 +
v_5)</span></p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">\frac{365}{5}\cdot(v_1 + v_2 + v_3 + v_4 +
v_5)</span></p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">365\cdot v_3</span></p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading5_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse5_1" aria-expanded="true" aria-controls="collapse5_1">
Click to view the solution.
</button>
</h2>
<div id="collapse5_1" class="accordion-collapse collapse"
aria-labelledby="heading5_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> <span class="math inline">\frac{365}{5}\cdot(v_1 + v_2 + v_3 + v_4 +
v_5)</span></p>
<p>Our sample is the number of visitors on the five days, and our
population is the number of visitors in all 365 days.</p>
<p>First, we calculate the sample mean, the average number of visitors
in the 5 days, which is <span class="math inline">m =
\frac{1}{5}\cdot(v_1 + v_2 + v_3 + v_4 + v_5)</span>. We use this
statistic to estimate the population mean, the average number of
visitors in this year.</p>
<p>Then, we use the estimated population mean to calculate the estimated
pupulation sum, so we multiply the number of days in a year (365) with
the estimated population mean. We get <span class="math display">365 m =
\frac{365}{5}\cdot(v_1 + v_2 + v_3 + v_4 + v_5)</span></p>
<hr/>
<h5>Difficulty: ⭐️</h5>
<p>
</p>
<p>The average score on this problem was 92%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-5.2">Problem 5.2</h3>
<p>Now we’re interested in predicting the admission cost of a museum
based on its number of visitors. Suppose:</p>
<ul>
<li><p>admission cost and number of visitors are linearly associated
with a correlation coefficient of 0.25,</p></li>
<li><p>the number of visitors at the Museum of Natural History is six
standard deviations below average,</p></li>
<li><p>the average cost of museum admission is 15 dollars, and</p></li>
<li><p>the standard deviation of admission cost is 3 dollars.</p></li>
</ul>
<p>What would the regression line predict for the admission cost (in
dollars) at the Museum of Natural History? Give your answer as a number
without any units, rounded to three decimal places.</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading5_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse5_2" aria-expanded="true" aria-controls="collapse5_2">
Click to view the solution.
</button>
</h2>
<div id="collapse5_2" class="accordion-collapse collapse"
aria-labelledby="heading5_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> 10.500</p>
<p>Recall, we can make predictions in standard units with the following
formula</p>
<p><span class="math display"> \text{predicted}\ y_{su} = r \cdot
x_{su}</span></p>
<p>We’re given that the correlation coefficient, <span class="math inline">r</span>, between visitors and admission cost is
0.25. Here, we’re using the number of visitors (<span class="math inline">x</span>) to predict admission cost (<span class="math inline">y</span>). Given that the number of visitors at the
Museum of Natural History is 6 standard deviations
<strong>below</strong> average,</p>
<p><span class="math display">\text{predicted}\ y_{su} =  r \cdot x_{su}
= 0.25 \cdot -6 =  -1.5</span></p>
<p>We then compute y, which is the admission cost (in dollars) at the
Museum of Natural History.</p>
<p><span class="math display">\begin{align*} y_{su} &amp;= \frac{y-
\text{Mean of } y}{\text{SD of } y}\\
-1.5 &amp;= \frac{y-15}{3} \\
-1.5 \cdot 3 &amp;= y-15\\
-4.5 + 15 &amp;= y\\
y &amp;= \boxed{10.5}
\end{align*}
</span></p>
<p>So, the regression line predicts that the admission cost at the
Museum of Natural History is $10.50.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 62%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="problem-6">Problem 6</h2>
<p>Researchers from the San Diego Zoo, located within Balboa Park,
collected physical measurements of several species of penguins in a
region of Antarctica.</p>
<p>One piece of information they tracked for each of 330 penguins was
its mass in grams. The average penguin mass is 4200 grams, and the
standard deviation is 840 grams.</p>
<p><br></p>
<h3 id="problem-6.1">Problem 6.1</h3>
<p>Consider the histogram of mass below.</p>
<center><img src='../assets/images/fa21-final/mass.png' width=40%></center>
<p><br></p>
<p>Select the true statement below.</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> The median mass of penguins is larger than the average mass of
penguins</p></li>
<li><p><input type="radio" disabled="" /> The median mass of penguins is roughly equal to the average mass of
penguins (within 50 grams)</p></li>
<li><p><input type="radio" disabled="" /> The median mass of penguins is less than the average mass of
penguins</p></li>
<li><p><input type="radio" disabled="" /> It is impossible to determine the relationship between the median and
average mass of penguins just by looking at the above histogram</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading6_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse6_1" aria-expanded="true" aria-controls="collapse6_1">
Click to view the solution.
</button>
</h2>
<div id="collapse6_1" class="accordion-collapse collapse"
aria-labelledby="heading6_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> The median mass of penguins is less than the
average mass of penguins</p>
<p>This is a distribution that is skewed to the right, so mean is
greater than median.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 87%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-6.2">Problem 6.2</h3>
<p>Which of the following is a valid conclusion that we can draw solely
from the histogram above?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> The number of penguins with a mass of exactly 3500 grams is greater
than the number of penguins with a mass of exactly 5500 grams.</p></li>
<li><p><input type="radio" disabled="" /> The number of penguins with a mass of at most 3500 grams is greater
than the number of penguins with a mass of at least 5500 grams.</p></li>
<li><p><input type="radio" disabled="" /> There is an odd number of penguins in the dataset.</p></li>
<li><p><input type="radio" disabled="" /> The number penguins with a mass of exactly 4000 grams is greater than
zero.</p></li>
<li><p><input type="radio" disabled="" /> None of the above.</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading6_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse6_2" aria-expanded="true" aria-controls="collapse6_2">
Click to view the solution.
</button>
</h2>
<div id="collapse6_2" class="accordion-collapse collapse"
aria-labelledby="heading6_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> The number of penguins with a mass of at
most 3500 grams is greater than the number of penguins with a mass of at
least 5500 grams.</p>
<p>Recall, a histogram has intervals on the axis, so we cannot know the
frequency of an exact value. Thus, we cannot conclude statements 1, 3,
4. Since the frequency of an exact value is unknown, for statement 3, it
is possible that all numbers we have in this distribution are even.
Although in the graph, we are only given frequency rather than number,
we can justify statement 2 by comparing the area in the left side of
3500, and the area in the right side of 5500. You can either estimate by
visually comparing the areas of both parts or compute the area sum of
both sides by estimating the bars’ height and windth.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 89%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-6.3">Problem 6.3</h3>
<p>For your convenience, we show the histogram of mass again below.</p>
<center><img src='../assets/images/fa21-final/mass.png' width=40%></center>
<p><br></p>
<p>Recall, there are 330 penguins in our dataset. Their average mass is
4200 grams, and the standard deviation of mass is 840 grams.</p>
<p>Per Chebyshev’s inequality, at least what percentage of penguins have
a mass between 3276 grams and 5124 grams? Input your answer as a
percentage between 0 and 100, without the % symbol. Round to three
decimal places.</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading6_3">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse6_3" aria-expanded="true" aria-controls="collapse6_3">
Click to view the solution.
</button>
</h2>
<div id="collapse6_3" class="accordion-collapse collapse"
aria-labelledby="heading6_3" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> 17.355</p>
<p>Recall, Chebyshev’s inequality states that No matter what the shape
of the distribution is, the proportion of values in the range “average ±
z SDs” is <strong>at least</strong> <span class="math inline">1 -
\frac{1}{z^2}</span>.</p>
<p>To approach the problem, we’ll start by converting 3276 grams and
5124 grams to standard units. Doing so yields <span class="math inline">\frac{3276 - 4200}{840} = -1.1</span>, similarly,
<span class="math inline">\frac{5124 - 4200}{840} = 1.1</span>. This
means that 3276 is 1.1 standard deviations <strong>below</strong> the
mean, and 5124 is 1.1 standard deviations <strong>above</strong> the
mean. Thus, we are calculating the proportion of values in the range
“average ± 1.1 SDs”.</p>
<p>When <span class="math inline">z = 1.1</span>, we have <span class="math inline">1 - \frac{1}{z^2} = 1 - \frac{1}{1.1^2} \approx
0.173553719</span>, which as a percentage rounded to three decimal
places is <span class="math inline">17.355\%</span>.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 76%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-6.4">Problem 6.4</h3>
<p>Per Chebyshev’s inequality, at least what percentage of penguins have
a mass between 1680 grams and 5880 grams?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> 50%</p></li>
<li><p><input type="radio" disabled="" /> 55.5%</p></li>
<li><p><input type="radio" disabled="" /> 65.25%</p></li>
<li><p><input type="radio" disabled="" /> 68%</p></li>
<li><p><input type="radio" disabled="" /> 75%</p></li>
<li><p><input type="radio" disabled="" /> 88.8%</p></li>
<li><p><input type="radio" disabled="" /> 95%</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading6_4">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse6_4" aria-expanded="true" aria-controls="collapse6_4">
Click to view the solution.
</button>
</h2>
<div id="collapse6_4" class="accordion-collapse collapse"
aria-labelledby="heading6_4" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> 75%</p>
<p>Recall: proportion with <span class="math inline">z</span> SDs of the
mean</p>
<table>
<colgroup>
<col style="width: 33%"/>
<col style="width: 33%"/>
<col style="width: 33%"/>
</colgroup>
<thead>
<tr class="header">
<th>Percent in Range</th>
<th>All Distributions (via Chebyshev’s Inequality)</th>
<th>Normal Distributions</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><span class="math inline">\text{average} \pm 1 \
\text{SD}</span></td>
<td><span class="math inline">\geq 0\%</span></td>
<td><span class="math inline">\approx 68\%</span></td>
</tr>
<tr class="even">
<td><span class="math inline">\text{average} \pm 2\text{SDs}</span></td>
<td><span class="math inline">\geq 75\%</span></td>
<td><span class="math inline">\approx 95\%</span></td>
</tr>
<tr class="odd">
<td><span class="math inline">\text{average} \pm 3\text{SDs}</span></td>
<td><span class="math inline">\geq 88\%</span></td>
<td><span class="math inline">\approx 99.73\%</span></td>
</tr>
</tbody>
</table>
<p>To approach the problem, we’ll start by converting 3276 grams and
5124 grams to standard units. Doing so yields <span class="math inline">\frac{1680 - 4200}{840} = -3</span>, similarly,
<span class="math inline">\frac{5880 - 4200}{840} = 2</span>. This means
that 1680 is 3 standard deviations <strong>below</strong> the mean, and
5880 is 2 standard deviations <strong>above</strong> the mean.</p>
<p>Proportion of values in [-3 SUs, 2 SUs] &gt;= Proportion of values in
[-2 SUs, 2 SUs] &gt;= 75% (Since we cannot assume that the distribution
is normal, we look at the <strong>All Distributions (via Chebyshev’s
Inequality)</strong> column for proportion).</p>
<p>Thus, <strong>at least</strong> 75% of the penguins have a mass
between 1680 grams and 5880 grams.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 72%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-6.5">Problem 6.5</h3>
<p>The distribution of mass in grams is not roughly normal. Is the
distribution of mass in standard units roughly normal?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> Yes</p></li>
<li><p><input type="radio" disabled="" /> No</p></li>
<li><p><input type="radio" disabled="" /> Impossible to tell</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading6_5">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse6_5" aria-expanded="true" aria-controls="collapse6_5">
Click to view the solution.
</button>
</h2>
<div id="collapse6_5" class="accordion-collapse collapse"
aria-labelledby="heading6_5" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> No</p>
<p>The shape of the distribution does not change since we are scaling
the x values for all data.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 60%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-6.6">Problem 6.6</h3>
<p>Suppose all 330 penguin body masses (in grams) that the researchers
collected are stored in an array called <code>masses</code>. We’d like
to estimate the probability that two different randomly selected
penguins from our dataset have body masses within 50 grams of one
another (including a difference of exactly 50 grams). Fill in the
missing pieces of the simulation below so that the function
<code>estimate_prob_within_50g</code> returns an estimate for this
probability.</p>
<div class="sourceCode" id="cb10"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> estimate_prob_within_50g():</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>    num_reps <span class="op">=</span> <span class="dv">10000</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>    within_50g_count <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> i <span class="kw">in</span> np.arange(num_reps):</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>        two_penguins <span class="op">=</span> np.random.choice(__(a)__)</span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> __(b)__:</span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>            within_50g_count <span class="op">=</span> within_50g_count <span class="op">+</span> <span class="dv">1</span></span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> within_50g_count <span class="op">/</span> num_reps</span></code></pre></div>
<p>What goes in blank (a)? What goes in blank (b)?</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading6_6">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse6_6" aria-expanded="true" aria-controls="collapse6_6">
Click to view the solution.
</button>
</h2>
<div id="collapse6_6" class="accordion-collapse collapse"
aria-labelledby="heading6_6" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> (a) <code>masses, 2, replace=False</code>
(b) <code>abs(two_penguins[0] - two_penguins[1])&lt;=50</code></p>
<ol type="a">
<li>Recall, <code>np.random.choice( )</code> can have three parameters
<code>array, n, replace=False</code>, and returns n elements from the
array at random, without replacement. We are randomly choosing <strong>2
different</strong> penguins from the <code>masses</code>
<strong>array</strong>, so we are using <code>np.random.choice( )</code>
without replacement.</li>
<li>We want to count the number of pairs of penguins that have body
masses difference within 50 grams, so we are using the index to access
the two penguins generated from <code>two_penguins</code> and
calculating their absolute difference with <code>abs()</code>. And in
this <code>if</code> condition, we only want to have penguins with
absolute difference less than or equal to 50, so we write a
<code>&lt;=</code> condition to justify whether the generated pairs of
penguins fulfill this requirement.</li>
</ol>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 84%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-6.7">Problem 6.7</h3>
<p>Recall, there are 330 penguins in our dataset. Their average mass is
4200 grams, and the standard deviation of mass is 840 grams. Assume that
the 330 penguins in our dataset are a random sample from the population
of all penguins in Antarctica. Our sample gives us one estimate of the
population mean.</p>
<p>To better estimate the population mean, we bootstrapped our sample
and plotted a histogram of the resample means, then took the middle 68
percent of those values to get a confidence interval. Which option below
shows the histogram of the resample means and the confidence interval we
found?</p>
<p align="center">
Option 1
</p>
<center><img src='../assets/images/fa21-final/option1.png' width=40%></center>
<p align="center">
Option 2
</p>
<p><center><img src='../assets/images/fa21-final/option2.png' width=40%></center>
<p align="center"> Option 3 </p>
<center><img src='../assets/images/fa21-final/option3.png' width=40%></center>
<p align="center"> Option 4 </p>
<center><img src='../assets/images/fa21-final/option4.png' width=40%></center></p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading6_7">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse6_7" aria-expanded="true" aria-controls="collapse6_7">
Click to view the solution.
</button>
</h2>
<div id="collapse6_7" class="accordion-collapse collapse"
aria-labelledby="heading6_7" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> Option 2</p>
<p>Recall, according to the Central Limit Theorem (CLT), the probability
distribution of the sum or mean of a large random sample drawn with
replacement will be roughly normal, regardless of the distribution of
the population from which the sample is drawn.</p>
<p>Thus, our graph should have a normal distribution. We eliminate
<strong>Option 4</strong>.</p>
<p>Recall that the standard normal curve has inflection points at <span class="math inline">z = +-1</span>, which is 68% proportion of a normal
distribution.(inflection point is where a curve goes from “opening down”
to “opening up”) Since we have a confidence intervel of 68% in this
question, by looking at the inflection point, we can eliminate
<strong>Option 3</strong></p>
<p>To compute the SD of the sample mean’s distribution, when we don’t
know the population’s SD, we can use the sample’s SD (840): <span class="math display">\text{SD of Distribution of Possible Sample Means}
\approx \frac{\text{Sample SD}}{\sqrt{\text{sample size}}} =
\frac{840}{\sqrt{330}} \approx 46.24</span></p>
<p>Recall: proportion with <span class="math inline">z</span> SDs of the
mean</p>
<table>
<colgroup>
<col style="width: 33%"/>
<col style="width: 33%"/>
<col style="width: 33%"/>
</colgroup>
<thead>
<tr class="header">
<th>Percent in Range</th>
<th>All Distributions (via Chebyshev’s Inequality)</th>
<th>Normal Distributions</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><span class="math inline">\text{average} \pm 1 \
\text{SD}</span></td>
<td><span class="math inline">\geq 0\%</span></td>
<td><span class="math inline">\approx 68\%</span></td>
</tr>
<tr class="even">
<td><span class="math inline">\text{average} \pm 2\text{SDs}</span></td>
<td><span class="math inline">\geq 75\%</span></td>
<td><span class="math inline">\approx 95\%</span></td>
</tr>
<tr class="odd">
<td><span class="math inline">\text{average} \pm 3\text{SDs}</span></td>
<td><span class="math inline">\geq 88\%</span></td>
<td><span class="math inline">\approx 99.73\%</span></td>
</tr>
</tbody>
</table>
<p>In this question, we want 68% confidence interval, given that the
distribution of sample mean is roughly normal, our CI should have range
<span class="math inline">\text{sample mean} \pm 1 \ \text{SD}</span>.
Thus, the interval is approximately <span class="math inline">[4200-46.24 = 4153.76, 4200+46.24=4246.24]</span>.
We compare the 68% CI in Option 1, 2 and we choose <strong>Option
2</strong> since it has a 68% CI with approximately the same
interval.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 66%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-6.8">Problem 6.8</h3>
<p>Suppose <code>boot_means</code> is an array of the resampled means.
Fill in the blanks below so that <code>[left, right]</code> is a 68%
confidence interval for the true mean mass of penguins.</p>
<div class="sourceCode" id="cb11"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>left <span class="op">=</span> np.percentile(boot_means, __(a)__)</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>right <span class="op">=</span> np.percentile(boot_means, __(b)__)</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>[left, right]</span></code></pre></div>
<p>What goes in blank (a)? What goes in blank (b)?</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading6_8">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse6_8" aria-expanded="true" aria-controls="collapse6_8">
Click to view the solution.
</button>
</h2>
<div id="collapse6_8" class="accordion-collapse collapse"
aria-labelledby="heading6_8" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> (a) 16 (b) 84</p>
<p>Recall, <code>np.percentile(array, p)</code> computes the
<code>p</code>th percentile of the numbers in <code>array</code>. To
compute the 68% CI, we need to know the percentile of left tail and
right tail.</p>
<p>left percentile = <span class="math inline">(1-0.68)/2 = (0.32)/2 =
0.16</span> so we have 16th percentile</p>
<p>right percentile = <span class="math inline">1-((1-0.68)/2) =
1-((0.32)/2) = 1-0.16 = 0.84</span> so we have 84th percentile</p>
<hr/>
<h5>Difficulty: ⭐️</h5>
<p>
</p>
<p>The average score on this problem was 94%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-6.9">Problem 6.9</h3>
<p>Which of the following is a correct interpretation of this confidence
interval? Select all that apply.</p>
<ul class="task-list">
<li><p><input type="checkbox" disabled="" /> There is an approximately 68% chance that mean weight of all penguins
in Antarctica falls within the bounds of this confidence interval.</p></li>
<li><p><input type="checkbox" disabled="" /> Approximately 68% of penguin weights in our sample fall within the
bounds of this confidence interval.</p></li>
<li><p><input type="checkbox" disabled="" /> Approximately 68% of penguin weights in the population fall within
the bounds of this interval.</p></li>
<li><p><input type="checkbox" disabled="" /> If we created many confidence intervals using the same method,
approximately 68% of them would contain the mean weight of all penguins
in Antarctica.</p></li>
<li><p><input type="checkbox" disabled="" /> None of the above</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading6_9">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse6_9" aria-expanded="true" aria-controls="collapse6_9">
Click to view the solution.
</button>
</h2>
<div id="collapse6_9" class="accordion-collapse collapse"
aria-labelledby="heading6_9" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> Option 4 (If we created many confidence
intervals using the same method, approximately 68% of them would contain
the mean weight of all penguins in Antarctica.)</p>
<p>Recall, what a <span class="math inline">k</span>% confidence level
states is that approximately <span class="math inline">k</span>% of the
time, the intervals you create through this process will contain the
true population parameter.</p>
<p>In this question, our population parameter is the mean weight of all
penguins in Antarctica. So 86% of the time, the intervals you create
through this process will contain the mean weight of all penguins in
Antarctica. This is the same as Option 4. However, it will be false if
we state it in the reverse order (Option 1) since our population
parameter is already fixed.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 81%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="problem-7">Problem 7</h2>
<p>Now let’s study the relationship between a penguin’s bill length (in
millimeters) and mass (in grams). Suppose we’re given that</p>
<ul>
<li>bill length and body mass have a correlation coefficient of
0.55</li>
<li>the average bill length is 44 mm and the standard deviation of bill
lengths is 6 mm</li>
<li>as before, the average body mass is 4200 grams and the standard
deviation of body mass is 840 grams</li>
</ul>
<p><br></p>
<h3 id="problem-7.1">Problem 7.1</h3>
<p>Which of the four scatter plots below describe the relationship
between bill length and body mass, based on the information provided in
the question?</p>
<center><img src='../assets/images/fa21-final/bills_scatter.png' width=40%></center>
<p><br></p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> Option 1</p></li>
<li><p><input type="radio" disabled="" /> Option 2</p></li>
<li><p><input type="radio" disabled="" /> Option 3</p></li>
<li><p><input type="radio" disabled="" /> Option 4</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading7_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse7_1" aria-expanded="true" aria-controls="collapse7_1">
Click to view the solution.
</button>
</h2>
<div id="collapse7_1" class="accordion-collapse collapse"
aria-labelledby="heading7_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer</strong> Option 3</p>
<p>Given the correlation coefficient is 0.55, bill length and body mass
has a moderate positive correlation. We eliminate Option 1 (strong
correlation) and Option 4 (weak correlation).</p>
<p>Given the average bill length is 44 mm, we expect our x-axis to have
44 at the middle, so we eliminate Option 2</p>
<hr/>
<h5>Difficulty: ⭐️</h5>
<p>
</p>
<p>The average score on this problem was 91%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-7.2">Problem 7.2</h3>
<p>Suppose we want to find the regression line that uses bill length,
<span class="math inline">x</span>, to predict body mass, <span
class="math inline">y</span>. The line is of the form <span
class="math inline">y = mx +\ b</span>. What are <span
class="math inline">m</span> and <span class="math inline">b</span>?</p>
<p>What is <span class="math inline">m</span>? Give your answer as a
number without any units, rounded to three decimal places.</p>
<p>What is <span class="math inline">b</span>? Give your answer as a
number without units, rounded to three decimal places.</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading7_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse7_2" aria-expanded="true" aria-controls="collapse7_2">
Click to view the solution.
</button>
</h2>
<div id="collapse7_2" class="accordion-collapse collapse"
aria-labelledby="heading7_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> <span class="math inline">m = 77</span>,
<span class="math inline">b = 812</span></p>
<p><span class="math display">m = r \cdot \frac{\text{SD of }y
}{\text{SD of }x} = 0.55 \cdot \frac{840}{6} = 77</span> <span class="math display">b = \text{mean of }y - m \cdot \text{mean of }x =
4200-77 \cdot 44 = 812 </span></p>
<hr/>
<h5>Difficulty: ⭐️</h5>
<p>
</p>
<p>The average score on this problem was 92%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-7.3">Problem 7.3</h3>
<p>What is the predicted body mass (in grams) of a penguin whose bill
length is 44 mm? Give your answer as a number without any units, rounded
to three decimal places.</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading7_3">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse7_3" aria-expanded="true" aria-controls="collapse7_3">
Click to view the solution.
</button>
</h2>
<div id="collapse7_3" class="accordion-collapse collapse"
aria-labelledby="heading7_3" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> 4200</p>
<p><span class="math display">y = mx\ +\ b = 77 \cdot 44 + 812 = 3388
+812 = 4200</span></p>
<hr/>
<h5>Difficulty: ⭐️</h5>
<p>
</p>
<p>The average score on this problem was 95%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-7.4">Problem 7.4</h3>
<p>A particular penguin had a predicted body mass of 6800 grams. What is
that penguin’s bill length (in mm)? Give your answer as a number without
any units, rounded to three decimal places.</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading7_4">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse7_4" aria-expanded="true" aria-controls="collapse7_4">
Click to view the solution.
</button>
</h2>
<div id="collapse7_4" class="accordion-collapse collapse"
aria-labelledby="heading7_4" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> 77.766</p>
<p>In this question, we want to compute x value given y value <span class="math display">y = mx\ +\ b</span> <span class="math display">y -
b = mx</span> <span class="math display">\frac{y - b}{m} = x\ \ \text{(m
is nonzero)}</span> <span class="math display">x = \frac{y - b}{m} =
\frac{6800 - 812}{77} = \frac{5988}{77} \approx 77.766</span></p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 88%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-7.5">Problem 7.5</h3>
<p>Below is the residual plot for our regression line.</p>
<center><img src='../assets/images/fa21-final/bills_residual.png' width=40%></center>
<p>Which of the following is a valid conclusion that we can draw solely
from the residual plot above?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> For this dataset, there is another line with a lower root mean
squared error</p></li>
<li><p><input type="radio" disabled="" /> The root mean squared error of the regression line is 0</p></li>
<li><p><input type="radio" disabled="" /> The accuracy of the regression line’s predictions depends on bill
length</p></li>
<li><p><input type="radio" disabled="" /> The relationship between bill length and body mass is likely
non-linear</p></li>
<li><p><input type="radio" disabled="" /> None of the above</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading7_5">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse7_5" aria-expanded="true" aria-controls="collapse7_5">
Click to view the solution.
</button>
</h2>
<div id="collapse7_5" class="accordion-collapse collapse"
aria-labelledby="heading7_5" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> The accuracy of the regression line’s
predictions depends on bill length</p>
<p>The vertical spread in this residual plot is uneven, which implies
that the regression line’s predictions aren’t equally accurate for all
inputs. This doesn’t necessarily mean that fitting a nonlinear curve
would be better. It just impacts how we interpret the regression line’s
predictions.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 40%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="problem-8">Problem 8</h2>
<p>Each individual penguin in our dataset is of a certain species
(Adelie, Chinstrap, or Gentoo) and comes from a particular island in
Antarctica (Biscoe, Dream, or Torgerson). There are 330 penguins in our
dataset, grouped by species and island as shown below.</p>
<center><img src='../assets/images/fa21-final/dream_form.png' width=20%></center>
<p><br></p>
<p>Suppose we pick one of these 330 penguins, uniformly at random, and
name it Chester.</p>
<p><br></p>
<h3 id="problem-8.1">Problem 8.1</h3>
<p>What is the probability that Chester comes from Dream island? Give
your answer as a number between 0 and 1, rounded to three decimal
places.</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading8_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse8_1" aria-expanded="true" aria-controls="collapse8_1">
Click to view the solution.
</button>
</h2>
<div id="collapse8_1" class="accordion-collapse collapse"
aria-labelledby="heading8_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> 0.373</p>
<p>P(Chester comes from Dream island) = # of penguins in dream island
<span class="math inline">/</span> # of all penguins in the data = <span class="math inline">\frac{55+68}{330} \approx 0.373</span></p>
<hr/>
<h5>Difficulty: ⭐️</h5>
<p>
</p>
<p>The average score on this problem was 94%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-8.2">Problem 8.2</h3>
<p>If we know that Chester comes from Dream island, what is the
probability that Chester is an Adelie penguin? Give your answer as a
number between 0 and 1, rounded to three decimal places.</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading8_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse8_2" aria-expanded="true" aria-controls="collapse8_2">
Click to view the solution.
</button>
</h2>
<div id="collapse8_2" class="accordion-collapse collapse"
aria-labelledby="heading8_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> 0.447</p>
<p>P(Chester is an Adelie penguin given that Chester comes from Dream
island) = # of Adelie penguins from Dream island <span class="math inline">/</span> # of penguins from Dream island = <span class="math inline">\frac{55}{55+68} \approx 0.447</span></p>
<hr/>
<h5>Difficulty: ⭐️</h5>
<p>
</p>
<p>The average score on this problem was 91%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-8.3">Problem 8.3</h3>
<p>If we know that Chester is not from Dream island, what is the
probability that Chester is not an Adelie penguin? Give your answer as a
number between 0 and 1, rounded to three decimal places.</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading8_3">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse8_3" aria-expanded="true" aria-controls="collapse8_3">
Click to view the solution.
</button>
</h2>
<div id="collapse8_3" class="accordion-collapse collapse"
aria-labelledby="heading8_3" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> 0.575</p>
<p>Method 1</p>
<p>P(Chester is not an Adelie penguin given that Chester is not from
Dream island) = # of penguins that are not Adelie penguins from islands
other than Dream island <span class="math inline">/</span> # of penguins
in island other than Dream island = <span class="math inline">\frac{119\
\text{(eliminate all penguins that are Adelie or from Dream island, only
Gentoo penguins from Biscoe are left)}}{44+44+119} \approx
0.575</span></p>
<p>Method 2</p>
<p>P(Chester is not an Adelie penguin given that Chester is not from
Dream island) = 1- (# of penguins that are Adelie penguins from islands
other than Dream island <span class="math inline">/</span> # of penguins
in island other than Dream island) = <span class="math inline">1-\frac{44+44}{44+44+119} \approx 0.575</span></p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 85%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="problem-9">Problem 9</h2>
<p>We’re now interested in investigating the differences between the
masses of Adelie penguins and Chinstrap penguins. Specifically, our null
hypothesis is that their masses are drawn from the same population
distribution, and any observed differences are due to chance only.</p>
<p>Below, we have a snippet of working code for this hypothesis test,
for a specific test statistic. Assume that <code>adelie_chinstrap</code>
is a DataFrame of only Adelie and Chinstrap penguins, with just two
columns – <code>'species'</code> and <code>'mass'</code>.</p>
<div class="sourceCode" id="cb12"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>stats <span class="op">=</span> np.array([])</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>num_reps <span class="op">=</span> <span class="dv">500</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i <span class="kw">in</span> np.arange(num_reps):</span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>    <span class="co"># --- line (a) starts ---</span></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>    shuffled <span class="op">=</span> np.random.permutation(adelie_chinstrap.get(<span class="st">&#39;species&#39;</span>))</span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>    <span class="co"># --- line (a) ends ---</span></span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a>    <span class="co"># --- line (b) starts ---</span></span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a>    with_shuffled <span class="op">=</span> adelie_chinstrap.assign(species<span class="op">=</span>shuffled)</span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a>    <span class="co"># --- line (b) ends ---</span></span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-12"><a href="#cb12-12" aria-hidden="true" tabindex="-1"></a>    grouped <span class="op">=</span> with_shuffled.groupby(<span class="st">&#39;species&#39;</span>).mean()</span>
<span id="cb12-13"><a href="#cb12-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-14"><a href="#cb12-14" aria-hidden="true" tabindex="-1"></a>    <span class="co"># --- line (c) starts ---</span></span>
<span id="cb12-15"><a href="#cb12-15" aria-hidden="true" tabindex="-1"></a>    stat <span class="op">=</span> grouped.get(<span class="st">&#39;mass&#39;</span>).iloc[<span class="dv">0</span>] <span class="op">-</span> grouped.get(<span class="st">&#39;mass&#39;</span>).iloc[<span class="dv">1</span>]</span>
<span id="cb12-16"><a href="#cb12-16" aria-hidden="true" tabindex="-1"></a>    <span class="co"># --- line (c) ends ---</span></span>
<span id="cb12-17"><a href="#cb12-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-18"><a href="#cb12-18" aria-hidden="true" tabindex="-1"></a>    stats <span class="op">=</span> np.append(stats, stat)</span></code></pre></div>
<p><br></p>
<h3 id="problem-9.1">Problem 9.1</h3>
<p>Which of the following statements best describe the procedure
above?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> This is a standard hypothesis test, and our test statistic is the
total variation distance between the distribution of Adelie masses and
Chinstrap masses</p></li>
<li><p><input type="radio" disabled="" /> This is a standard hypothesis test, and our test statistic is the
difference between the expected proportion of Adelie penguins and the
proportion of Adelie penguins in our resample</p></li>
<li><p><input type="radio" disabled="" /> This is a permutation test, and our test statistic is the total
variation distance between the distribution of Adelie masses and
Chinstrap masses</p></li>
<li><p><input type="radio" disabled="" /> This is a permutation test, and our test statistic is the difference
in the mean Adelie mass and mean Chinstrap mass</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading9_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse9_1" aria-expanded="true" aria-controls="collapse9_1">
Click to view the solution.
</button>
</h2>
<div id="collapse9_1" class="accordion-collapse collapse"
aria-labelledby="heading9_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> This is a permutation test, and our test
statistic is the difference in the mean Adelie mass and mean Chinstrap
mass (Option 4)</p>
<p>Recall, a permutation test helps us decide whether two random samples
come from the same distribution. This test matches our goal of testing
whether the masses of Adelie penguins and Chinstrap penguins are drawn
from the same population distribution. The code above are also doing
steps of a permutation test. In part (a), it shuffles
<code>'species'</code> and stores the shuffled series to
<code>shuffled</code>. In part (b), it assign the shuffled series of
values to <code>'species'</code> column. Then, it uses
<code>grouped = with_shuffled.groupby('species').mean()</code> to
calculate the mean of each species. In part (c), it computes the
difference between mean mass of the two species by first getting the
<code>'mass'</code> column and then accessing mean mass of each group
(Adelie and Chinstrap) with positional index <code>0</code> and
<code>1</code>.</p>
<hr/>
<h5>Difficulty: ⭐️</h5>
<p>
</p>
<p>The average score on this problem was 98%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-9.2">Problem 9.2</h3>
<p>Currently, line (c) (marked with a comment) uses .iloc. Which of the
following options compute the exact same statistic as line (c) currently
does?</p>
<p>Option 1:</p>
<div class="sourceCode" id="cb13"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>stat <span class="op">=</span> grouped.get(<span class="st">&#39;mass&#39;</span>).loc[<span class="st">&#39;Adelie&#39;</span>] <span class="op">-</span> grouped.get(<span class="st">&#39;mass&#39;</span>).loc[<span class="st">&#39;Chinstrap&#39;</span>]</span></code></pre></div>
<p>Option 2:</p>
<div class="sourceCode" id="cb14"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>stat <span class="op">=</span> grouped.get(<span class="st">&#39;mass&#39;</span>).loc[<span class="st">&#39;Chinstrap&#39;</span>] <span class="op">-</span> grouped.get(<span class="st">&#39;mass&#39;</span>).loc[<span class="st">&#39;Adelie&#39;</span>]</span></code></pre></div>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> Option 1 only</p></li>
<li><p><input type="radio" disabled="" /> Option 2 only</p></li>
<li><p><input type="radio" disabled="" /> Both options</p></li>
<li><p><input type="radio" disabled="" /> Neither option</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading9_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse9_2" aria-expanded="true" aria-controls="collapse9_2">
Click to view the solution.
</button>
</h2>
<div id="collapse9_2" class="accordion-collapse collapse"
aria-labelledby="heading9_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> Option 1 only</p>
<p>We use <code>df.get(column_name).iloc[positional_index]</code> to
access the value in a column with <code>positional_index</code>.
Similarly, we use <code>df.get(column_name).loc[index]</code> to access
value in a column with its <code>index</code>. Remember
<code>grouped</code> is a DataFrame that
<code>groupby('species')</code>, so we have species name
<code>'Adelie'</code> and <code>'Chinstrap'</code> as index for
<code>grouped</code>.</p>
<p>Option 2 is incorrect since it does subtraction in the reverse order
which results in a different <code>stat</code> compared to
<code>line(c)</code>. Its output will be <span class="math inline">-1
\cdot</span> <code>stat</code>. Recall, in
<code>grouped = with_shuffled.groupby('species').mean()</code>, we use
<code>groupby()</code> and since <code>'species'</code> is a column with
string values, our index will be sorted in alphabetical order. So,
<code>.iloc[0]</code> is <code>'Adelie'</code> and <code>.iloc[1]</code>
is <code>'Chinstrap'</code>.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 81%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-9.3">Problem 9.3</h3>
<p>Is it possible to re-write <code>line (c)</code> in a way that uses
<code>.iloc[0]</code> twice, without any other uses of <code>.loc</code>
or <code>.iloc</code>?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> Yes, it’s possible</p></li>
<li><p><input type="radio" disabled="" /> No, it’s not possible</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading9_3">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse9_3" aria-expanded="true" aria-controls="collapse9_3">
Click to view the solution.
</button>
</h2>
<div id="collapse9_3" class="accordion-collapse collapse"
aria-labelledby="heading9_3" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> Yes, it’s possible</p>
<p>There are multiple ways to achieve this. For instance
<code>stat = grouped.get('mass').iloc[0] - grouped.sort_index(ascending = False).get('mass').iloc[0]</code>.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 64%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-9.4">Problem 9.4</h3>
<p>For your convenience, we copy the code for the hypothesis test
below.</p>
<div class="sourceCode" id="cb15"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>stats <span class="op">=</span> np.array([])</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>num_reps <span class="op">=</span> <span class="dv">500</span></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i <span class="kw">in</span> np.arange(num_reps):</span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>    <span class="co"># --- line (a) starts ---</span></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>    shuffled <span class="op">=</span> np.random.permutation(adelie_chinstrap.get(<span class="st">&#39;species&#39;</span>))</span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>    <span class="co"># --- line (a) ends ---</span></span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a>    <span class="co"># --- line (b) starts ---</span></span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a>    with_shuffled <span class="op">=</span> adelie_chinstrap.assign(species<span class="op">=</span>shuffled)</span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a>    <span class="co"># --- line (b) ends ---</span></span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-12"><a href="#cb15-12" aria-hidden="true" tabindex="-1"></a>    grouped <span class="op">=</span> with_shuffled.groupby(<span class="st">&#39;species&#39;</span>).mean()</span>
<span id="cb15-13"><a href="#cb15-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-14"><a href="#cb15-14" aria-hidden="true" tabindex="-1"></a>    <span class="co"># --- line (c) starts ---</span></span>
<span id="cb15-15"><a href="#cb15-15" aria-hidden="true" tabindex="-1"></a>    stat <span class="op">=</span> grouped.get(<span class="st">&#39;mass&#39;</span>).iloc[<span class="dv">0</span>] <span class="op">-</span> grouped.get(<span class="st">&#39;mass&#39;</span>).iloc[<span class="dv">1</span>]</span>
<span id="cb15-16"><a href="#cb15-16" aria-hidden="true" tabindex="-1"></a>    <span class="co"># --- line (c) ends ---</span></span>
<span id="cb15-17"><a href="#cb15-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-18"><a href="#cb15-18" aria-hidden="true" tabindex="-1"></a>    stats <span class="op">=</span> np.append(stats, stat)</span></code></pre></div>
<p>What would happen if we removed <code>line (a)</code>, and replaced
<code>line (b)</code> with</p>
<div class="sourceCode" id="cb16"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>with_shuffled <span class="op">=</span> adelie_chinstrap.sample(adelie_chinstrap.shape[<span class="dv">0</span>], replace<span class="op">=</span><span class="va">False</span>)</span></code></pre></div>
<p>Select the best answer.</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> This would still run a valid hypothesis test</p></li>
<li><p><input type="radio" disabled="" /> This would not run a valid hypothesis test, as all values in the
<code>stats</code> array would be exactly the same</p></li>
<li><p><input type="radio" disabled="" /> This would not run a valid hypothesis test, even though there would
be several different values in the <code>stats</code> array</p></li>
<li><p><input type="radio" disabled="" /> This would not run a valid hypothesis test, as it would incorporate
information about Gentoo penguins</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading9_4">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse9_4" aria-expanded="true" aria-controls="collapse9_4">
Click to view the solution.
</button>
</h2>
<div id="collapse9_4" class="accordion-collapse collapse"
aria-labelledby="heading9_4" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> This would not run a valid hypothesis test,
as all values in the <code>stats</code> array would be exactly the same
(Option 2)</p>
<p>Recall, <code>DataFrame.sample(n, replace = False)</code> (or
<code>DataFrame.sample(n)</code> since <code>replace = False</code> is
by default) returns a DataFrame by randomly sampling <code>n</code> rows
from the DataFrame, without replacement. Since our <code>n</code> is
<code>adelie_chinstrap.shape[0]</code>, and we are sampling without
replacement, we will get the exactly same Dataframe (though the order of
rows may be different but the <code>stats</code> array would be exactly
the same).</p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 87%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-9.5">Problem 9.5</h3>
<p>For your convenience, we copy the code for the hypothesis test
below.</p>
<div class="sourceCode" id="cb17"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>stats <span class="op">=</span> np.array([])</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>num_reps <span class="op">=</span> <span class="dv">500</span></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i <span class="kw">in</span> np.arange(num_reps):</span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>    <span class="co"># --- line (a) starts ---</span></span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>    shuffled <span class="op">=</span> np.random.permutation(adelie_chinstrap.get(<span class="st">&#39;species&#39;</span>))</span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a>    <span class="co"># --- line (a) ends ---</span></span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a>    <span class="co"># --- line (b) starts ---</span></span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a>    with_shuffled <span class="op">=</span> adelie_chinstrap.assign(species<span class="op">=</span>shuffled)</span>
<span id="cb17-10"><a href="#cb17-10" aria-hidden="true" tabindex="-1"></a>    <span class="co"># --- line (b) ends ---</span></span>
<span id="cb17-11"><a href="#cb17-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-12"><a href="#cb17-12" aria-hidden="true" tabindex="-1"></a>    grouped <span class="op">=</span> with_shuffled.groupby(<span class="st">&#39;species&#39;</span>).mean()</span>
<span id="cb17-13"><a href="#cb17-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-14"><a href="#cb17-14" aria-hidden="true" tabindex="-1"></a>    <span class="co"># --- line (c) starts ---</span></span>
<span id="cb17-15"><a href="#cb17-15" aria-hidden="true" tabindex="-1"></a>    stat <span class="op">=</span> grouped.get(<span class="st">&#39;mass&#39;</span>).iloc[<span class="dv">0</span>] <span class="op">-</span> grouped.get(<span class="st">&#39;mass&#39;</span>).iloc[<span class="dv">1</span>]</span>
<span id="cb17-16"><a href="#cb17-16" aria-hidden="true" tabindex="-1"></a>    <span class="co"># --- line (c) ends ---</span></span>
<span id="cb17-17"><a href="#cb17-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-18"><a href="#cb17-18" aria-hidden="true" tabindex="-1"></a>    stats <span class="op">=</span> np.append(stats, stat)</span></code></pre></div>
<p>What would happen if we removed <code>line (a)</code>, and replaced
<code>line (b)</code> with</p>
<div class="sourceCode" id="cb18"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>with_shuffled <span class="op">=</span> adelie_chinstrap.sample(adelie_chinstrap.shape[<span class="dv">0</span>], replace<span class="op">=</span><span class="va">True</span>)</span></code></pre></div>
<p>Select the best answer.</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> This would still run a valid hypothesis test</p></li>
<li><p><input type="radio" disabled="" /> This would not run a valid hypothesis test, as all values in the
<code>stats</code> array would be exactly the same</p></li>
<li><p><input type="radio" disabled="" /> This would not run a valid hypothesis test, even though there would
be several different values in the <code>stats</code> array</p></li>
<li><p><input type="radio" disabled="" /> This would not run a valid hypothesis test, as it would incorporate
information about Gentoo penguins</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading9_5">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse9_5" aria-expanded="true" aria-controls="collapse9_5">
Click to view the solution.
</button>
</h2>
<div id="collapse9_5" class="accordion-collapse collapse"
aria-labelledby="heading9_5" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> This would not run a valid hypothesis test,
even though there would be several different values in the
<code>stats</code> array (Option 3)</p>
<p>Recall, <code>DataFrame.sample(n, replace = True)</code> returns a
new DataFrame by randomly sampling <code>n</code> rows from the
DataFrame, with replacement. Since we are sampling with replacement, we
will have a DataFrame which produces a <code>stats</code> array with
some different values. However, recall, the key idea behind a
permutation test is to shuffle the group labels. So, the above code does
not meet this key requirement since we only want to shuffle the
<code>"species"</code> column without changing the size of the two
species. However, the code may change the size of the two species.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 66%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-9.6">Problem 9.6</h3>
<p>For your convenience, we copy the code for the hypothesis test
below.</p>
<div class="sourceCode" id="cb19"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>stats <span class="op">=</span> np.array([])</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>num_reps <span class="op">=</span> <span class="dv">500</span></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i <span class="kw">in</span> np.arange(num_reps):</span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>    <span class="co"># --- line (a) starts ---</span></span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>    shuffled <span class="op">=</span> np.random.permutation(adelie_chinstrap.get(<span class="st">&#39;species&#39;</span>))</span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a>    <span class="co"># --- line (a) ends ---</span></span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a>    <span class="co"># --- line (b) starts ---</span></span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a>    with_shuffled <span class="op">=</span> adelie_chinstrap.assign(species<span class="op">=</span>shuffled)</span>
<span id="cb19-10"><a href="#cb19-10" aria-hidden="true" tabindex="-1"></a>    <span class="co"># --- line (b) ends ---</span></span>
<span id="cb19-11"><a href="#cb19-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-12"><a href="#cb19-12" aria-hidden="true" tabindex="-1"></a>    grouped <span class="op">=</span> with_shuffled.groupby(<span class="st">&#39;species&#39;</span>).mean()</span>
<span id="cb19-13"><a href="#cb19-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-14"><a href="#cb19-14" aria-hidden="true" tabindex="-1"></a>    <span class="co"># --- line (c) starts ---</span></span>
<span id="cb19-15"><a href="#cb19-15" aria-hidden="true" tabindex="-1"></a>    stat <span class="op">=</span> grouped.get(<span class="st">&#39;mass&#39;</span>).iloc[<span class="dv">0</span>] <span class="op">-</span> grouped.get(<span class="st">&#39;mass&#39;</span>).iloc[<span class="dv">1</span>]</span>
<span id="cb19-16"><a href="#cb19-16" aria-hidden="true" tabindex="-1"></a>    <span class="co"># --- line (c) ends ---</span></span>
<span id="cb19-17"><a href="#cb19-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-18"><a href="#cb19-18" aria-hidden="true" tabindex="-1"></a>    stats <span class="op">=</span> np.append(stats, stat)</span></code></pre></div>
<p>What would happen if we replaced <code>line (a)</code> with</p>
<div class="sourceCode" id="cb20"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>with_shuffled <span class="op">=</span> adelie_chinstrap.assign(</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>    species<span class="op">=</span>np.random.permutation(adelie_chinstrap.get(<span class="st">&#39;species&#39;</span>)</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<p>and replaced line (b) with</p>
<div class="sourceCode" id="cb21"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>with_shuffled <span class="op">=</span> with_shuffled.assign(</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>    mass<span class="op">=</span>np.random.permutation(adelie_chinstrap.get(<span class="st">&#39;mass&#39;</span>)</span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<p>Select the best answer.</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> This would still run a valid hypothesis test</p></li>
<li><p><input type="radio" disabled="" /> This would not run a valid hypothesis test, as all values in the
<code>stats</code> array would be exactly the same</p></li>
<li><p><input type="radio" disabled="" /> This would not run a valid hypothesis test, even though there would
be several different values in the <code>stats</code> array</p></li>
<li><p><input type="radio" disabled="" /> This would not run a valid hypothesis test, as it would incorporate
information about Gentoo penguins</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading9_6">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse9_6" aria-expanded="true" aria-controls="collapse9_6">
Click to view the solution.
</button>
</h2>
<div id="collapse9_6" class="accordion-collapse collapse"
aria-labelledby="heading9_6" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> This would still run a valid hypothesis test
(Option 1)</p>
<p>Our goal for the permutation test is to randomly assign birth weights
to groups, without changing group sizes. The above code shuffles
<code>'species'</code> and <code>'mass'</code> columns and assigns them
back to the DataFrame. This fulfills our goal.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 81%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-9.7">Problem 9.7</h3>
<p>Suppose we run the code for the hypothesis test and see the following
empirical distribution for the test statistic. In red is the observed
statistic.</p>
<center><img src='../assets/images/fa21-final/measuring_up_his.png' width=40%></center>
<p><br></p>
<p>Suppose our alternative hypothesis is that Chinstrap penguins weigh
more on average than Adelie penguins. Which of the following is closest
to the p-value for our hypothesis test?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> <span class="math inline">0</span></p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">\frac{1}{4}</span></p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">\frac{1}{3}</span></p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">\frac{2}{3}</span></p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">\frac{3}{4}</span></p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">1</span></p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading9_7">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse9_7" aria-expanded="true" aria-controls="collapse9_7">
Click to view the solution.
</button>
</h2>
<div id="collapse9_7" class="accordion-collapse collapse"
aria-labelledby="heading9_7" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> <span class="math inline">\frac{1}{3}</span></p>
<p>Recall, the p-value is the chance, under the null hypothesis, that
the test statistic is equal to the value that was observed in the data
or is even further in the direction of the alternative. Thus, we compute
the proportion of the test statistic that is equal or less than the
observed statistic. (It is less than because less than corresponds to
the alternative hypothesis “Chinstrap penguins weigh more on average
than Adelie penguins”. Recall, when computing the statistic, we use
Adelie’s mean mass minus Chinstrap’s mean mass. If Chinstrap’s mean mass
is larger, the statistic will be negative, the direction of less than
the observed statistic).</p>
<p>Thus, we look at the proportion of area less than or on the red line
(which represents observed statistic), it is around <span class="math inline">\frac{1}{3}</span>.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 80%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="problem-10">Problem 10</h2>
<p>At the San Diego Model Railroad Museum, there are different admission
prices for children, adults, and seniors. Over a period of time, as
tickets are sold, employees keep track of how many of each type of
ticket are sold. These ticket counts (in the order child, adult, senior)
are stored as follows.</p>
<div class="sourceCode" id="cb22"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>admissions_data <span class="op">=</span> np.array([<span class="dv">550</span>, <span class="dv">1550</span>, <span class="dv">400</span>])</span></code></pre></div>
<p><br></p>
<h3 id="problem-10.1">Problem 10.1</h3>
<p>Complete the code below so that it creates an array
<code>admissions_proportions</code> with the proportions of tickets sold
to each group (in the order child, adult, senior).</p>
<div class="sourceCode" id="cb23"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> as_proportion(data):</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> __(a)__</span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>admissions_proportions <span class="op">=</span> as_proportion(admissions_data)</span></code></pre></div>
<p>What goes in blank (a)?</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading10_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse10_1" aria-expanded="true" aria-controls="collapse10_1">
Click to view the solution.
</button>
</h2>
<div id="collapse10_1" class="accordion-collapse collapse"
aria-labelledby="heading10_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> <code>data/data.sum()</code></p>
<p>To calculate proportion for each group, we divide each value in the
array (tickets sold to each group) by the sum of all values (total
tickets sold). Remember values in an array can be processed as a
whole.</p>
<hr/>
<h5>Difficulty: ⭐️</h5>
<p>
</p>
<p>The average score on this problem was 95%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-10.2">Problem 10.2</h3>
<p>The museum employees have a model in mind for the proportions in
which they sell tickets to children, adults, and seniors. This model is
stored as follows.</p>
<div class="sourceCode" id="cb24"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>model <span class="op">=</span> np.array([<span class="fl">0.25</span>, <span class="fl">0.6</span>, <span class="fl">0.15</span>])</span></code></pre></div>
<p>We want to conduct a hypothesis test to determine whether the
admissions data we have is consistent with this model. Which of the
following is the null hypothesis for this test?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> Child, adult, and senior tickets might plausibly be purchased in
proportions 0.25, 0.6, and 0.15.</p></li>
<li><p><input type="radio" disabled="" /> Child, adult, and senior tickets are purchased in proportions 0.25,
0.6, and 0.15.</p></li>
<li><p><input type="radio" disabled="" /> Child, adult, and senior tickets might plausibly be purchased in
proportions other than 0.25, 0.6, and 0.15.</p></li>
<li><p><input type="radio" disabled="" /> Child, adult, and senior tickets, are purchased in proportions other
than 0.25, 0.6, and 0.15.</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading10_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse10_2" aria-expanded="true" aria-controls="collapse10_2">
Click to view the solution.
</button>
</h2>
<div id="collapse10_2" class="accordion-collapse collapse"
aria-labelledby="heading10_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> Child, adult, and senior tickets are
purchased in proportions 0.25, 0.6, and 0.15. (Option 2)</p>
<p>Recall, null hypothesis is the hypothesis that there is no
significant difference between specified populations, any observed
difference being due to sampling or experimental error. So, we assume
the distribution is the same as the model.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 88%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-10.3">Problem 10.3</h3>
<p>Which of the following test statistics could we use to test our
hypotheses? Select all that could work.</p>
<ul class="task-list">
<li><p><input type="checkbox" disabled="" /> sum of differences in proportions</p></li>
<li><p><input type="checkbox" disabled="" /> sum of squared differences in proportions</p></li>
<li><p><input type="checkbox" disabled="" /> mean of differences in proportions</p></li>
<li><p><input type="checkbox" disabled="" /> mean of squared differences in proportions</p></li>
<li><p><input type="checkbox" disabled="" /> none of the above</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading10_3">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse10_3" aria-expanded="true" aria-controls="collapse10_3">
Click to view the solution.
</button>
</h2>
<div id="collapse10_3" class="accordion-collapse collapse"
aria-labelledby="heading10_3" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> sum of squared differences in proportions,
mean of squared differences in proportions (Option 2, 4)</p>
<p>We need to use squared difference to avoid the case that large
positive and negative difference cancel out in the process of
calculating sum or mean, resulting in small sum of difference or mean of
difference that does not reflect the actual deviation. So, we eliminate
Option 1 and 3.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 77%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-10.4">Problem 10.4</h3>
<p>Below, we’ll perform the hypothesis test with a different test
statistic, the mean of the absolute differences in proportions.</p>
<p>Recall that the ticket counts we observed for children, adults, and
seniors are stored in the array
<code>admissions_data  = np.array([550, 1550, 400])</code>, and that our
model is <code>model = np.array([0.25, 0.6, 0.15])</code>.</p>
<p>For our hypothesis test to determine whether the admissions data is
consistent with our model, what is the observed value of the test
statistic? Input your answer as a decimal between 0 and 1. Round to
three decimal places. (Suppose that the value you calculated is assigned
to the variable <code>observed_stat</code>, which you will use in later
questions.)</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading10_4">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse10_4" aria-expanded="true" aria-controls="collapse10_4">
Click to view the solution.
</button>
</h2>
<div id="collapse10_4" class="accordion-collapse collapse"
aria-labelledby="heading10_4" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> 0.02</p>
<p>We first calculate the proportion for each value in
<code>admissions_data</code> <span class="math display">\frac{550}{550+1550+400} = 0.22</span> <span class="math display">\frac{1550}{550+1550+400} = 0.62</span> <span class="math display">\frac{400}{550+1550+400} = 0.16</span> So, we have
the distribution of the <code>admissions_data</code></p>
<p>Then, we calculate the observed value of the test statistic (the mean
of the absolute differences in proportions) <span class="math display">\frac{|0.22-0.25|+|0.62-0.6|+|0.16-0.15|}{number\
of\ goups}</span> <span class="math display">=\frac{0.03+0.02+0.01}{3} =
0.02</span></p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 82%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-10.5">Problem 10.5</h3>
<p>Now, we want to simulate the test statistic 10,000 times under the
assumptions of the null hypothesis. Fill in the blanks below to complete
this simulation and calculate the p-value for our hypothesis test.
Assume that the variables <code>admissions_data</code>,
<code>admissions_proportions</code>, <code>model</code>, and
<code>observed_stat</code> are already defined as specified earlier in
the question.</p>
<div class="sourceCode" id="cb25"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>simulated_stats <span class="op">=</span> np.array([]) </span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i <span class="kw">in</span> np.arange(<span class="dv">10000</span>):</span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>    simulated_proportions <span class="op">=</span> as_proportions(np.random.multinomial(__(a)__, __(b)__))</span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>    simulated_stat <span class="op">=</span> __(c)__</span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a>    simulated_stats <span class="op">=</span> np.append(simulated_stats, simulated_stat)</span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a>p_value <span class="op">=</span> __(d)__</span></code></pre></div>
<p>What goes in blank (a)? What goes in blank (b)? What goes in blank
(c)? What goes in blank (d)?</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading10_5">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse10_5" aria-expanded="true" aria-controls="collapse10_5">
Click to view the solution.
</button>
</h2>
<div id="collapse10_5" class="accordion-collapse collapse"
aria-labelledby="heading10_5" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> (a) <code>admissions_data.sum()</code> (b)
<code>model</code> (c)
<code>np.abs(simulated_proportions - model).mean()</code> (d)
<code>np.count_nonzero(simulated_stats &gt;= observed_stat) / 10000</code></p>
<p>Recall, in <code>np.random.multinomial(n, [p_1, ..., p_k])</code>,
<code>n</code> is the number of experiments, and
<code>[p_1, ..., p_k]</code> is a sequence of probability. The method
returns an array of length k in which each element contains the number
of occurrences of an event, where the probability of the ith event is
<code>p_i</code>.</p>
<p>We want our <code>simulated_proportion</code> to have the same data
size as <code>admissions_data</code>, so we use
<code>admissions_data.sum()</code> in (a).</p>
<p>Since our null hypothesis is based on <code>model</code>, we simulate
based on distribution in <code>model</code>, so we have
<code>model</code> in (b).</p>
<p>In (c), we compute the mean of the absolute differences in
proportions. <code>np.abs(simulated_proportions - model)</code> gives us
a series of absolute differences, and <code>.mean()</code> computes the
mean of the absolute differences.</p>
<p>In (d), we calculate the <code>p_value</code>. Recall, the
<code>p_value</code> is the chance, under the null hypothesis, that the
test statistic is equal to the value that was observed in the data or is
even further in the direction of the alternative.
<code>np.count_nonzero(simulated_stats &gt;= observed_stat)</code> gives
us the number of <code>simulated_stats</code> greater than or equal to
the <code>observed_stat</code> in the 10000 times simulations, so we
need to divide it by <code>10000</code> to compute the proportion of
<code>simulated_stats</code> greater than or equal to the
<code>observed_stat</code>, and this gives us the
<code>p_value</code>.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 79%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-10.6">Problem 10.6</h3>
<p>True or False: the p-value represents the probability that the null
hypothesis is true.</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> True</p></li>
<li><p><input type="radio" disabled="" /> False</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading10_6">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse10_6" aria-expanded="true" aria-controls="collapse10_6">
Click to view the solution.
</button>
</h2>
<div id="collapse10_6" class="accordion-collapse collapse"
aria-labelledby="heading10_6" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> False</p>
<p>Recall, the p-value is the chance, under the null hypothesis, that
the test statistic is equal to the value that was observed in the data
or is even further in the direction of the alternative. It only gives us
the strength of evidence in favor of the null hypothesis, which is
different from “the probability that the null hypothesis is true”.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 64%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-10.7">Problem 10.7</h3>
<p>The new statistic that we used for this hypothesis test, the mean of
the absolute differences in proportions, is in fact closely related to
the total variation distance. Given two arrays of length three,
<code>array_1</code> and <code>array_2</code>, suppose we compute the
mean of the absolute differences in proportions between
<code>array_1</code> and <code>array_2</code> and store the result as
<code>madp</code>. What value would we have to multiply
<code>madp</code> by to obtain the total variation distance
<code>array_1</code> and <code>array_2</code>? Input your answer below,
rounding to three decimal places.</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading10_7">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse10_7" aria-expanded="true" aria-controls="collapse10_7">
Click to view the solution.
</button>
</h2>
<div id="collapse10_7" class="accordion-collapse collapse"
aria-labelledby="heading10_7" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> 1.5</p>
<p>Recall, the total variation distance (TVD) is the sum of the absolute
differences in proportions, divided by 2. When we compute the mean of
the absolute differences in proportions, we are computing the sum of the
absolute differences in proportions, divided by the number of groups
(which is 3). Thus, to get TVD, we first multiply our current statistics
(the mean of the absolute differences in proportions) by 3, we get the
sum of the absolute differences in proportions. Then according to the
definition of TVD, we divide this value by 2. Thus, we have <span class="math inline">\text{current statistics}\cdot 3 / 2 = \text{current
statistics}\cdot 1.5</span>.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 65%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="section"><span class="math display"> </span></h2>
<h4
id="feedback-find-an-error-still-confused-have-a-suggestion-let-us-know-here.">👋
Feedback: Find an error? Still confused? Have a suggestion?
<a href="https://forms.gle/WZ71FchnXU1K154d7">Let us know
here</u></a>.</h4>
<hr />
</body>
</html>
