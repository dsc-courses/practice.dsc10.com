<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>Fall 2023 Midterm Exam</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    /* The extra [class] is a hack that increases specificity enough to
       override a similar rule in reveal.js */
    ul.task-list[class]{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      font-size: inherit;
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
  </style>
  <link rel="stylesheet" href="../assets/theme.css" />
  <script defer=""
  src="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.js"></script>
  <script>document.addEventListener("DOMContentLoaded", function () {
 var mathElements = document.getElementsByClassName("math");
 var macros = [];
 for (var i = 0; i < mathElements.length; i++) {
  var texText = mathElements[i].firstChild;
  if (mathElements[i].tagName == "SPAN") {
   katex.render(texText.data, mathElements[i], {
    displayMode: mathElements[i].classList.contains('display'),
    throwOnError: false,
    macros: macros,
    fleqn: false
   });
}}});
  </script>
  <link rel="stylesheet"
  href="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.css" />
</head>
<body>
<header id="title-block-header">
<h1 class="title">Fall 2023 Midterm Exam</h1>
</header>
<p><link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
<!-- add after bootstrap.min.css -->
<link rel="stylesheet" href="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.css"/>
<!-- add after bootstrap.min.js or bootstrap.bundle.min.js -->
<script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script></p>
<!-- for difficulty gauges-->
<script src="https://cdn.plot.ly/plotly-2.16.1.min.js"></script>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-B947E6J6H4"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-B947E6J6H4');
</script>
<p><a href="../index.html">← return to practice.dsc10.com</a></p>
<hr />
<p><strong>Instructor(s):</strong> Rod Albuyeh, Suraj Rampure, Janine
Tiefenbruck</p>
<p>This exam was administered in-person. The exam was closed-notes,
except students were provided a copy of the
<a href='https://drive.google.com/file/d/1ky0Np67HS2O4LO913P-ing97SJG0j27n/view'>DSC
10 Reference Sheet<a>. No calculators were allowed. Students had
<strong>50 minutes</strong> to take this exam.</p>
<hr />
<p>An area’s cost of living describes how expensive it is to live in
that area. In this exam, we’ll work with the DataFrame
<code>living_cost</code>, which describes the typical cost of living for
different types of families across all 3143 counties in the 50 United
States. The first few rows of <code>living_cost</code> are shown below,
but <code>living_cost</code> has <strong>many more rows</strong> than
shown.</p>
<center><img src='../assets/images/fa23-midterm/living_cost_preview.jpg' width=800></center>
<p><br></p>
<p>Two counties in the same state will never have the same name, but as
the last two rows above illustrate, there are some counties in different
states with the same name, like Lee County.</p>
<p>The <code>"family_type"</code> column uses a code to describe the
number of adults and children in a family. For example, a value of
<code>"2a1c"</code> represents families with two adults and one child.
There are ten unique values, as follows: <code>"1a0c"</code>,
<code>"1a1c"</code>, <code>"1a2c"</code>, <code>"1a3c"</code>,
<code>"1a4c"</code>, <code>"2a0c"</code>, <code>"2a1c"</code>,
<code>"2a2c"</code>, <code>"2a3c"</code>, <code>"2a4c"</code>. We will
assume that <strong>all families fall into one of these ten
categories</strong>, and <strong>all ten family structures are present
in each US county</strong>.</p>
<p>Each of the 31430 rows of the DataFrame represents a unique
combination of <code>"state"</code>, <code>"county"</code>, and
<code>"family_type"</code>. As a result, there will be more than one row
with a <code>"state"</code> of <code>"CA"</code> and a
<code>"county"</code> of <code>"San Diego"</code>, corresponding to
different values of <code>"family_type"</code>. Similarly, there will be
many rows such that <code>"family_type"</code> is <code>"2a1c"</code>,
all corresponding to different counties. There is <strong>only one
row</strong>, however, where <code>"state"</code> is <code>"CA"</code>,
<code>"county"</code> is <code>"San Diego"</code>, and
<code>"family_type"</code> is <code>"1a2c"</code></p>
<p>In addition to the <code>"state"</code>, <code>"county"</code>, and
<code>"family_type"</code> columns, <code>living_cost</code> includes
the following columns.</p>
<ul>
<li><code>"is_metro"</code> (<code>bool</code>): <code>True</code> if
the county is part of a metropolitan (urban) area, <code>False</code>
otherwise. This value is the same for all rows of the DataFrame
corresponding to the same county and state.</li>
<li><code>"avg_housing_cost"</code> (<code>int</code>): The average
yearly cost of housing, in dollars, for families of the given size in
the given county and state.</li>
<li><code>"avg_childcare_cost"</code> (<code>int</code>): The average
yearly cost of childcare, in dollars, for families of the given size in
the given county and state.</li>
<li><code>"median_income"</code> (<code>int</code>): The median annual
income, in dollars, for families of the given size in the given county
and state.</li>
</ul>
<p><strong>Throughout the exam</strong>, assume we have already run
<code>import babypandas as bpd</code> and
<code>import numpy as np</code>.</p>
<hr />
<h2 id="problem-1">Problem 1</h2>
<p><br></p>
<h3 id="problem-1.1">Problem 1.1</h3>
<p>You’re interested in comparing the <code>"avg_housing_cost"</code>
across different <code>"family_type"</code> groups for San Diego County,
CA specifically. Which type of visualization would be most
appropriate?<br />
</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> Scatter plot</p></li>
<li><p><input type="radio" disabled="" /> Line plot</p></li>
<li><p><input type="radio" disabled="" /> Bar chart</p></li>
<li><p><input type="radio" disabled="" /> Histogram</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading1_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse1_1" aria-expanded="true" aria-controls="collapse1_1">
Click to view the solution.
</button>
</h2>
<div id="collapse1_1" class="accordion-collapse collapse"
aria-labelledby="heading1_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> Bar chart<br/>
</p>
<p><code>"family_type"</code> is a categorical variable, and we use bar
charts to visualize the distribution of categorical variables.</p>
<ul>
<li>A scatter plot visualizes the relationship between two numerical
variables, but we are only using one numerical variable here
(<code>"avg_housing_cost"</code>).</li>
<li>A line plot is used to visualize the trend between two numerical
variables, but we are only using one numerical variable.</li>
<li>A histogram is used to visualize the distribution of numerical
variables, but we want to see the distribution of the categorical
variable <code>"family_type"</code>.</li>
</ul>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 89%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-1.2">Problem 1.2</h3>
<p>Suppose we run the three lines of code below.</p>
<pre><code>families = living_cost.groupby(&quot;family_type&quot;).median()
sorted_families = families.sort_values(by=&quot;avg_housing_cost&quot;)
result = sorted_families.get(&quot;avg_childcare_cost&quot;).iloc[0]</code></pre>
<p>Which of the following does <code>result</code> evaluate to?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> The median <code>"avg_childcare_cost"</code> of the
<code>"family_type"</code> with the lowest median
<code>"avg_housing_cost"</code>.</p></li>
<li><p><input type="radio" disabled="" /> The median <code>"avg_childcare_cost"</code> of the
<code>"family_type"</code> with the highest median
<code>"avg_housing_cost"</code>.</p></li>
<li><p><input type="radio" disabled="" /> The median <code>"avg_housing_cost"</code> of the
<code>"family_type"</code> with the lowest median
<code>"avg_childcare_cost"</code>.</p></li>
<li><p><input type="radio" disabled="" /> The median <code>"avg_housing_cost"</code> of the
<code>"family_type"</code> with the highest median
<code>"avg_childcare_cost"</code>.</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading1_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse1_2" aria-expanded="true" aria-controls="collapse1_2">
Click to view the solution.
</button>
</h2>
<div id="collapse1_2" class="accordion-collapse collapse"
aria-labelledby="heading1_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> The median <code>"avg_childcare_cost"</code>
of the <code>"family_type"</code> with the lowest median
<code>"avg_housing_cost"</code>.<br/>
</p>
<p>When we grouped <code>living_cost</code> by
<code>"family_type"</code>, <code>families</code> is a DataFrame with
one row per <code>"family_type"</code>. Using the <code>.median()</code>
aggregation method takes the median of all numerical columns per
<code>"family_type"</code>.</p>
<p><code>sorted_families</code> is the <code>families</code> DataFrame,
but sorted in ascending order based on the
<code>"avg_housing_cost"</code> column. The first row of
<code>sorted_families</code> is the <code>"family_type"</code> with the
lowest median <code>"avg_housing_cost"</code>, and the last row of
<code>sorted_families</code> is the <code>"family_type"</code> with the
highest median <code>"avg_housing_cost"</code>.</p>
<p>In the last line of code, we’re getting the
<code>"avg_childcare_cost"</code> column from the
<code>sorted_families</code> DataFrame. We then use <code>iloc</code> to
get the first entry in the <code>"avg_childcare_cost"</code> column.
Since <code>sorted_families</code> is sorted in ascending order, this
means that we’re getting the lowest median in the column. Therefore,
<code>result</code> evaluates to the median
<code>"avg_childcare_cost"</code> of the <code>"family_type"</code> with
the lowest median <code>"avg_housing_cost"</code>.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 82%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-1.3">Problem 1.3</h3>
<p>Suppose we define <code>another_result</code> as follows.</p>
<pre><code>another_result = (living_cost.groupby(&quot;state&quot;).count()
                  .sort_values(by=&quot;median_income&quot;, ascending=False)
                  .get(&quot;median_income&quot;).index[0])</code></pre>
<p>What does <code>another_result</code> represent?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> The state with the highest median income.</p></li>
<li><p><input type="radio" disabled="" /> The median income in the state with the highest median income.</p></li>
<li><p><input type="radio" disabled="" /> The state with the most counties.</p></li>
<li><p><input type="radio" disabled="" /> The median income in the state with the most counties.</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading1_3">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse1_3" aria-expanded="true" aria-controls="collapse1_3">
Click to view the solution.
</button>
</h2>
<div id="collapse1_3" class="accordion-collapse collapse"
aria-labelledby="heading1_3" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> The state with the most counties.<br/>
</p>
<p>The <code>living_cost</code> DataFrame is being grouped by the
<code>"state"</code> column, so there is now one row per
<code>"state"</code>. By using the <code>.count()</code> aggregation
method, the columns in the DataFrame will contain the number of rows
in <code>living_count</code> for each <code>"state"</code>. All of the
columns will also be the same after using <code>.count()</code>, so they
will all contain the distribution of <code>"state"</code>. Since
<code>living_cost</code> has data on every county in the US, the grouped
DataFrame represents the number of counties that each state has.</p>
<p>We then sort the DataFrame in descending order, so the state with the
most counties is at the top of the DataFrame. The last line of the
expression gets a column and uses <code>.index</code> to get the state
corresponding to the first entry, which happens to be the state with the
most counties and the value that gets assigned to
<code>another_result</code>.</p>
<p>Since all the columns are the same, it doesn’t matter which column we
pick to use in the <code>.sort_values()</code> method. In this case, we
used the <code>"median_income"</code> column, but picking any other
column will produce the same result.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 65%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-1.4">Problem 1.4</h3>
<p>Which of the following DataFrames has exactly four columns?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> <code>living_cost.groupby("family_type").min()</code></p></li>
<li><p><input type="radio" disabled="" /> <code>living_cost.groupby("family_type").sum()</code></p></li>
<li><p><input type="radio" disabled="" /> <code>living_cost.groupby("family_type").count()</code></p></li>
<li><p><input type="radio" disabled="" /> None of the above.</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading1_4">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse1_4" aria-expanded="true" aria-controls="collapse1_4">
Click to view the solution.
</button>
</h2>
<div id="collapse1_4" class="accordion-collapse collapse"
aria-labelledby="heading1_4" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong>
<code>living_cost.groupby("family_type").sum()</code><br/>
</p>
<p>Since we can’t take the sum of columns with categorical data, all of
the columns in <code>living_cost</code> that contain non-numerical data
are dropped after we use the <code>.sum()</code> aggregation method.
There are four columns in <code>living_cost</code> that have numerical
data (<code>"is_metro"</code>, <code>"avg_housing_cost"</code>,
<code>"avg_childcare_cost"</code>, and <code>"median_income"</code>).
Since Python can take the sum of these numerical columns, these four
columns are kept. Therefore, the resulting DataFrame has exactly four
columns.</p>
<p>Although <code>"is_metro"</code> contains Boolean values, Python can
still calculate the sum of this column. The Boolean value
<code>True</code> corresponds to 1 and <code>False</code> corresponds to
0.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 35%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-1.5">Problem 1.5</h3>
<p>Suppose we define the Series <code>three_columns</code> to be the
concatenation of three columns of the <code>living_cost</code> DataFrame
as follows.</p>
<pre><code>three_columns = (living_cost.get(&quot;state&quot;) + &quot; &quot; +
                 living_cost.get(&quot;county&quot;) + &quot; &quot; + 
                 living_cost.get(&quot;family_type&quot;))</code></pre>
<p>For example, the first element of <code>three_columns</code> is the
string <code>"CA San Diego County 1a2c"</code> (refer back to the first
row of <code>living_cost</code> provided in the data overview).</p>
<p>What does the following expression evaluate to?</p>
<pre><code>(living_cost.assign(geo_family=three_columns)
            .groupby(&quot;geo_family&quot;).count()
            .shape[0])</code></pre>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> <span class="math inline">10</span>, the number of distinct
<code>"family_type"</code> values.</p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">50</span>, the number of states in the
US.</p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">500</span>, the number of combinations of
states in the US and <code>"family_type"</code> values.</p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">3143</span>, the number of counties in the
US.</p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">31430</span>, the number of rows in the
<code>living_cost</code> DataFrame.</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading1_5">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse1_5" aria-expanded="true" aria-controls="collapse1_5">
Click to view the solution.
</button>
</h2>
<div id="collapse1_5" class="accordion-collapse collapse"
aria-labelledby="heading1_5" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> <span class="math inline">31430</span>, the
number of rows in the <code>living_cost</code> DataFrame.<br/>
</p>
<p>The first line of the expression creates a new column in
<code>living_cost</code>, called <code>"geo_family"</code> that
represents the concatenation of the values in
<code>"three_columns"</code>. When we group the DataFrame by
<code>"geo_family"</code>, we create a new DataFrame that contains a row
for every unique value in <code>"three_columns"</code>.
<code>"three_columns"</code> has various combinations of
<code>"state"</code>, <code>"country"</code>, and
<code>"family_type"</code>. Since it’s given in the DataFrame
description that each of the 31430 rows of the DataFrame represents a
different combination of <code>"state"</code>, <code>"country"</code>,
and <code>"family_type"</code>, this means that the grouped DataFrame
has 31430 unique combinations as well. Therefore, when we use
<code>.shape[0]</code> to get the number of rows in the grouped
DataFrame in the last line of the expression, we get the same value as
the number of rows in the <code>living_cost</code> DataFrame, 31430.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 74%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="problem-2">Problem 2</h2>
<p>Suppose we define the three variables below.</p>
<pre><code>J = living_cost.get(&quot;county&quot;) == &quot;Benton County&quot;
K = living_cost.get(&quot;state&quot;) == &quot;IN&quot;
L = living_cost.get(&quot;family_type&quot;) == &quot;1a2c&quot;</code></pre>
<p>Feel free to use these variables in your solutions to the following
questions.</p>
<p><br></p>
<h3 id="problem-2.1">Problem 2.1</h3>
<p>Fill in the blanks so that the expression below evaluates to the
average yearly childcare cost for families with one adult and two
children in Benton County, IN.</p>
<pre><code>    __(a)__.__(b)__.iloc[0]</code></pre>
<ol type="1">
<li><p>What goes in blank (a)?</p></li>
<li><p>What goes in blank (b)?</p></li>
</ol>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading2_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse2_1" aria-expanded="true" aria-controls="collapse2_1">
Click to view the solution.
</button>
</h2>
<div id="collapse2_1" class="accordion-collapse collapse"
aria-labelledby="heading2_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong></p>
<ol type="1">
<li><code>living_cost[J &amp; K &amp; L]</code></li>
</ol>
<p>The first step is to query the rows in the DataFrame that meet our
specific criteria. In this case, we want the rows in the DataFrame where
the county is <code>"Benton County"</code>, the state is
<code>"IN"</code>, and the family has 1 adult and 2 children.
<code>J</code>, <code>K</code>, and <code>L</code> specify these
criteria. When used to query the <code>living_cost</code> DataFrame, we
are able to obtain a DataFrame with only one row, corresponding this
family type in this specific county.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 69%.</p>
<p><strong>Answer:</strong></p>
<ol start="2" type="1">
<li><code>get("avg_childcare_cost")</code></li>
</ol>
<p>Once we have a DataFrame that contains the row we need, we need to
use it to get the average yearly childcare cost. To do that, we get out
the <code>"avg_childcare_cost"</code> column and access the entry in row
0 with <code>.iloc[0]</code>. This works because after querying, there
is only one row, and it corresponds exactly to the families with one
adult and two children in Benton County, IN. </p>
<hr/>
<h5>Difficulty:
⭐️⭐️⭐️</h5>
<p>The average score on this problem was 57%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-2.2">Problem 2.2</h3>
<p>Fill in the blanks so that the expression below evaluates to the
number of states with a county named Benton County.</p>
<pre><code>    __(c)__.__(d)__ / 10</code></pre>
<ol type="1">
<li><p>What goes in blank (c)?</p></li>
<li><p>What goes in blank (d)?</p></li>
</ol>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading2_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse2_2" aria-expanded="true" aria-controls="collapse2_2">
Click to view the solution.
</button>
</h2>
<div id="collapse2_2" class="accordion-collapse collapse"
aria-labelledby="heading2_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong></p>
<ol type="1">
<li><code>living_cost[J]</code></li>
</ol>
<p>Since we want to find how many states have a county named
<code>"Benton County"</code>, we first want to obtain all the rows of
the DataFrame where the county is <code>"Benton County"</code>. Variable
<code>J</code> specifies this condition, so we use it to query and
obtain a DataFrame with the rows in <code>living_cost</code> where the
county is <code>"Benton County."</code></p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 60%.</p>
<p><strong>Answer:</strong></p>
<ol start="2" type="1">
<li><code>shape[0]</code></li>
</ol>
<p>Now that we have all the rows in the DataFrame where the county is
<code>"Benton County"</code>, let’s consider how many rows it has. Each
row of this DataFrame represents a unique combination of
<code>"state"</code> and <code>"family_type"</code> for counties called
<code>"Benton County"</code>. We know from the data description that
each of the ten family structures is present in each county. This means
that for each state with a county called <code>"Benton County"</code>,
our DataFrame has exactly ten rows. Therefore, the number of states with
a county called <code>"Benton County"</code> is the total number of rows
in our DataFrame divided by ten. Therefore, we should fill in blank (d)
with <code>.shape[0]</code> to extract the number of rows from our
DataFrame.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 40%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="problem-3">Problem 3</h2>
<p>Suppose we want to assign a new column named
<code>"family_size"</code> to <code>living_cost</code> that contains the
total number of people in each family, stored as an int. We do so as
follows.</p>
<pre><code>living_cost = living_cost.assign(
              family_size=living_cost.get(&quot;family_type&quot;).apply(num_people))</code></pre>
<p>Which of the following options correctly define the function
<code>num_people</code> such that the line above adds the
<code>"family_size"</code> column as desired? <strong>Select all that
apply.</strong></p>
<p><em>Hint:</em> You can access an individual character in a string
using the position number in square brackets. For example,
<code>"midterm"[0]</code> evaluates to <code>"m"</code> and
<code>"midterm"[1]</code> evaluates to <code>"i"</code>.</p>
<pre><code># Option 1
def num_people(fam): 
    return int(fam[0]) + int(fam[2])
------------------------------------
# Option 2
def num_people(fam):
    return int(fam[0] + fam[2])
------------------------------------
# Option 3
def num_people(fam):
    x = int(fam[0] + fam[2])
    return int(x / 10) + x % 10
------------------------------------
# Option 4
def num_people(fam):
    x = fam.strip(&quot;c&quot;).split(&quot;a&quot;)
    return int(x[0]) + int(x[1])
------------------------------------
# Option 5
def num_people(fam):
    x = 0
    for i in fam:
        if i % 2 == 0:
            x = x + 1
    return x
------------------------------------
# Option 6
def num_people(fam):
    x = 0
    for i in np.arange(len(fam)):
        if i % 2 == 0:
            x = x + int(fam[i])
    return x</code></pre>
<ul class="task-list">
<li><p><input type="checkbox" disabled="" /> Option 1</p></li>
<li><p><input type="checkbox" disabled="" /> Option 2</p></li>
<li><p><input type="checkbox" disabled="" /> Option 3</p></li>
<li><p><input type="checkbox" disabled="" /> Option 4</p></li>
<li><p><input type="checkbox" disabled="" /> Option 5</p></li>
<li><p><input type="checkbox" disabled="" /> Option 6</p></li>
<li><p><input type="checkbox" disabled="" /> None of the above.</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading3">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse3" aria-expanded="true" aria-controls="collapse3">
Click to view the solution.
</button>
</h2>
<div id="collapse3" class="accordion-collapse collapse"
aria-labelledby="heading3" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> Options 1, 3, 4, 6</p>
<p>Option 1: In order to get the number of people within a family, we
can look at the character at position 0 (for the number of adults) and
the character at position 2 (for the number of children). Converting
each character into an int and adding these ints yields the correct
results.</p>
<p>Option 2: This is similar to Option 1, however, the key difference is
that the separate strings are concatenated first, then converted into an
integer afterwards. Remember that the plus sign between two strings
concatenates the strings together, and does not add mathematically. For
example, on a family type of <code>"1a2c"</code>, <code>"1"</code> and
<code>"2"</code> will be extracted and concatenated together as
<code>"12"</code>, then converted to the int 12. This is returned
instead of the value 3 that we are looking for.</p>
<p>Option 3: This option is similar to Option 2, however, it includes an
extra step after concatenation. <code>int(x/10)</code> gets the value in
the tens place, taking advantage of the fact that the <code>int()</code>
function always rounds down. At the same time, <code>x % 10</code> gets
the value in the ones place by calculating the remainder upon division
by ten. Looking at the example of <code>"1a2c"</code>, the first line
will set <code>x = 12</code> and then <code>int(12/10)</code> will yield
1 while <code>12 % 10</code> yields 2. Adding these together achieves
the correct answer of 3.</p>
<p>Option 4: This option is similar to Option 1, but includes the
initial step of removing <code>"c"</code> from the string and separating
by <code>"a"</code>. After this, <code>x</code> is a list of two
elements, the first of which represents the number of adults in the
family, and the second of which represents the number of children in the
family. These are separately converted to ints then added up in the last
line.</p>
<p>Option 5: This option iterates through the input string, where
<code>i</code> represents each individual character in the string. For
example, on an input of <code>"1a2c"</code>, <code>i</code> is first set
to <code>1</code>, then <code>a</code>, then <code>2</code>, then
<code>c</code>. However, calculating the remainder when we divide by two
(<code>i % 2</code>) only makes sense when <code>i</code> is a number,
and results in an error when <code>i</code> is a string.</p>
<p>Option 6: This is a similar approach to Option 5, except this time,
<code>i</code> represents each of the numbers 0, 1, 2, and 3, since
<code>len(fam)</code> is always 4. For each such <code>i</code>, which
we can think of as the position number, the code will check if the
position number is even (<code>i % 2 == 0</code>). This is only true for
position 0 and 2, which are the positions that contain the numbers of
adults and children in the family. When this condition is met, we add
the value at that position onto our running total, <code>x</code>, which
at the end, equals the total number of adults and children in the
family.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 73%.</p>
</div>
</div>
</div>
</div>
<hr />
<h2 id="problem-4">Problem 4</h2>
<p>For those who plan on having children, an important consideration
when deciding whether to live in an area is the cost of raising children
in that area. The DataFrame <code>expensive</code>, defined below,
contains all of the rows in <code>living_cost</code> where the
<code>"avg_childcare_cost"</code> is at least $20,000.</p>
<pre><code>expensive = living_cost[living_cost.get(&quot;avg_childcare_cost&quot;) 
                        &gt;= 20000]</code></pre>
<p>We’ll call a county an “expensive county" if there is <strong>at
least one</strong> <code>"family_type"</code> in that county with an
<code>"avg_childcare_cost"</code> of at least $20,000. Note that all
expensive counties appear in the <code>expensive</code> DataFrame, but
some may appear multiple times (if they have multiple
<code>"family_type"</code>s with an <code>"avg_childcare_cost"</code> of
at least $20,000).</p>
<p>Recall that the <code>"is_metro"</code> column contains Boolean
values indicating whether or not each county is part of a metropolitan
(urban) area. For all rows of <code>living_cost</code> (and, hence,
<code>expensive</code>) corresponding to the same geographic location,
the value of <code>"is_metro"</code> is the same. For instance, every
row corresponding to San Diego County has an <code>"is_metro"</code>
value of <code>True</code>.</p>
<p>Fill in the blanks below so that the result is a DataFrame indexed by
<code>"state"</code> where the <code>"is_metro"</code> column gives the
<strong>proportion of expensive counties in each state that are part of
a metropolitan area</strong>. For example, if New Jersey has five
expensive counties and four of them are metropolitan, the row
corresponding to a New Jersey should have a value of 0.8 in the
<code>"is_metro"</code> column.</p>
<pre><code>(expensive.groupby(____(a)____).max()
          .reset_index()
          .groupby(____(b)____).____(c)____)</code></pre>
<p><br></p>
<h3 id="problem-4.1">Problem 4.1</h3>
<p>What goes in blank (a)?</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading4_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse4_1" aria-expanded="true" aria-controls="collapse4_1">
Click to view the solution.
</button>
</h2>
<div id="collapse4_1" class="accordion-collapse collapse"
aria-labelledby="heading4_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> <code>["state", "county"]</code> or
<code>["county", "state"]</code></p>
<p>We are told that all expensive counties appear in the
<code>expensive</code> DataFrame, but some may appear multiple times,
for several different <code>"family_type"</code> values. The question we
want to answer, however, is about the proportion of expensive counties
in each state that are part of a metropolitan area, which has nothing to
do with <code>"family_type"</code>. In other words, we don’t want or
need multiple rows corresponding to the same US county.</p>
<p>To keep just one row for each US county, we can group by both
<code>"state"</code> and <code>"county"</code> (in either order). Then
the resulting DataFrame will have one row for each unique combination of
<code>"state"</code> and <code>"county"</code>, or one row for each US
county. Notice that the <code>.max()</code> aggregation method keeps the
last alphabetical value from the <code>"is_metro"</code> column in each
US county. If there are multiple rows in <code>expensive</code>
corresponding to the same US county, we are told that they will all have
the same value in the <code>"is_metro"</code> column, so taking the
maximum just takes any one of these values, which are all the same. We
could have just as easily taken the minimum.</p>
<p>Notice the presence of <code>.reset_index()</code> in the provided
code. That is a clue that we may need to group by multiple columns in
this problem!</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 14%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-4.2">Problem 4.2</h3>
<p>What goes in blank (b)?</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading4_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse4_2" aria-expanded="true" aria-controls="collapse4_2">
Click to view the solution.
</button>
</h2>
<div id="collapse4_2" class="accordion-collapse collapse"
aria-labelledby="heading4_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> <code>"state"</code></p>
<p>Now that we have one row for each US county that is considered
expensive, we want to proceed by calculating the proportion of expensive
counties within each state that are in a metropolitan area. Our goal is
to organize the counties by state and create a DataFrame indexed only by
<code>"state"</code> so we want to group by <code>"state"</code> to
achieve this. </p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>The average score on
this problem was 68%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-4.3">Problem 4.3</h3>
<p>What goes in blank (c)?</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading4_3">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse4_3" aria-expanded="true" aria-controls="collapse4_3">
Click to view the solution.
</button>
</h2>
<div id="collapse4_3" class="accordion-collapse collapse"
aria-labelledby="heading4_3" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> <code>mean()</code></p>
<p>Recall that the <code>"is_metro"</code> column consists of Boolean
values, where <code>True</code> equals 1 and <code>False</code> equals
0. Notice that if we take the average of the <code>"is_metro"</code>
column for all the counties in a given state, we’ll be computing the sum
of these 0s and 1s (or the number of <code>True</code> values) divided
by the total number of expensive counties in that state. This gives the
proportion of expensive counties in the state that are in a metropolitan
area. Thus, when we group the expensive counties according to what state
they are in, we can use the <code>.mean()</code> aggregation method to
calculate the proportion of expensive counties in each state that are in
a metropolitan area.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 35%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="problem-5">Problem 5</h2>
<p>The rows in <code>living_cost</code> with a
<code>"family_type"</code> value of <code>"1a0c"</code> correspond to
families that consist of individuals living on their own. We’ll call
such families “solo families." Below, we’ve visualized the distribution
of the <code>"median_income"</code> column, but only for rows
corresponding to solo families. Instead of visualizing median incomes in
dollars, we’ve visualized them in thousands of dollars.</p>
<center><img src='../assets/images/fa23-midterm/hist.png' width=500></center>
<p>Suppose we’re interested in splitting the <span
class="math inline">[50, 80)</span> bin into two separate bins — a <span
class="math inline">[50, 70)</span> bin and a <span
class="math inline">[70, 80)</span> bin.</p>
<p>Let <span class="math inline">h_1</span> be the height of the new bar
corresponding to the <span class="math inline">[50, 70)</span> bin and
let <span class="math inline">h_2</span> be the height of the new bar
corresponding to the <span class="math inline">[70, 80)</span> bin.</p>
<p><br></p>
<h3 id="problem-5.1">Problem 5.1</h3>
<p>What are the minimum and maximum possible values of <span
class="math inline">h_2</span>? Give your answers as <strong>decimals
rounded to three decimal places</strong>.</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading5_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse5_1" aria-expanded="true" aria-controls="collapse5_1">
Click to view the solution.
</button>
</h2>
<div id="collapse5_1" class="accordion-collapse collapse"
aria-labelledby="heading5_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer</strong>: Minimum: 0</p>
<p>In a histogram, we do not know how data are distributed within a bin.
This means that when we split the bin with range <span class="math inline">[50, 80)</span> into two smaller bins, we have no
way of knowing how the data from the original bin will be distributed.
It is possible that all of the data in the <span class="math inline">[50, 80)</span> bin fell between <span class="math inline">50</span> and <span class="math inline">70</span>.
In this case, there would be no data in the <span class="math inline">[70, 80)</span> bin, and as such, the height of this
new bar would be <span class="math inline">0</span>.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 61%.</p>
<p><strong>Answer</strong>: Maximum: 0.072</p>
<p>Similarly, if all of the data in the original <span class="math inline">[50,80)</span> bin fell between <span class="math inline">70</span> and $80, then all of the data that was
originally in the <span class="math inline">[50, 80)</span> bin would be
allocated to the <span class="math inline">[70, 80)</span> bin. In a
density histogram, the area of a bar corresponds to the proportion of
the data contained within the bar (for example, a bar with area <span class="math inline">0.5</span> contains <span class="math inline">50%</span> of the total data). Since the maximum
value of <span class="math inline">h_2</span> is achieved when the bin
<span class="math inline">[70, 80)</span> contains all of the data
originally contained in the bin <span class="math inline">[50,
80)</span>, this means area of the <span class="math inline">[70,
80)</span> bar must be the same as the original area of the <span class="math inline">[50, 80)</span> bar, since it contains the same
proportion of data.</p>
<p>The original bar had area <span class="math inline">30 * 0.024 =
0.72</span>, which comes from multiplying its base and its height. Since
the new bar has a base of <span class="math inline">10</span>, its
height must be <span class="math inline">0.072</span> to make its area
equal to <span class="math inline">0.72</span>. Intuitively, if a
rectangle is one third as wide as another rectangle and has the same
area, it must be three times as tall.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 42%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-5.2">Problem 5.2</h3>
<p>Suppose that the number of counties in which the median income of
solo families is in the interval <span class="math inline">[50,
70)</span> is <span class="math inline">r</span> times the number of
counties in which the median income of solo families is in the interval
<span class="math inline">[70, 80)</span>. Given this fact, what is the
value of <span class="math display">\frac{h_1}{h_2},</span> the ratio of
the heights of the two new bars?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> <span class="math inline">\frac{1}{r}</span></p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">\frac{2}{r}</span></p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">\frac{3}{r}</span></p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">\frac{r}{2}</span></p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">\frac{r}{3}</span></p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">2r</span></p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">3r</span></p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading5_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse5_2" aria-expanded="true" aria-controls="collapse5_2">
Click to view the solution.
</button>
</h2>
<div id="collapse5_2" class="accordion-collapse collapse"
aria-labelledby="heading5_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer</strong>: <span class="math inline">\frac{r}{2}</span></p>
<p>The key to solving this problem is recognizing that the number of
counties in a given interval is directly related to the area of that
interval’s bar in the histogram. This comes from the property of density
histograms that the area of a bar corresponds to the proportion of the
data contained within the bar.</p>
<p>Given that there are <span class="math inline">r</span> times the
amount of data in the interval <span class="math inline">[50,
70)</span>, in comparison to the interval <span class="math inline">[70,
80)</span>, we know that the <em>area</em> of the bar corresponding to
the bin <span class="math inline">[50, 70)</span> is <span class="math inline">r</span> times the area of the bar corresponding to
the bin <span class="math inline">[70, 80)</span>.</p>
<p>Therefore, if <span class="math inline">A_1</span> represents the
area of the <span class="math inline">[50, 70)</span> bar and <span class="math inline">A_2</span> represents the area of the <span class="math inline">[70, 80)</span> bar, we have</p>
<p><span class="math display">
A_1 = r \cdot A_2.
</span></p>
<p>Then, since each bar is a rectangle, its area comes from the product
of its height and its base. We know the <span class="math inline">[50,
70)</span> bar has a base of <span class="math inline">20</span> and a
height of <span class="math inline">h_1</span>, and the <span class="math inline">[70, 80)</span> bar has a base of <span class="math inline">10</span> and a height of <span class="math inline">h_2</span>. Plugging this in gives</p>
<p><span class="math display">
h_1 \cdot 20 = r \cdot h_2 \cdot 10.
</span></p>
<p>From here, we can rearrange terms to get</p>
<p><span class="math display">
\frac{h_1}{h_2} = \frac{r}{2}.
</span></p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 40%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="problem-6">Problem 6</h2>
<p>Recall that <code>living_cost</code> has <span
class="math inline">31430</span> rows, one for each of the ten possible
<code>"family_type"</code> values in each of the <span
class="math inline">3143</span> US counties.</p>
<p>Consider the function <code>state_merge</code>, defined below.</p>
<pre><code>def state_merge(A, B):
    state_A = living_cost[living_cost.get(&quot;state&quot;) == A]
    state_B = living_cost[living_cost.get(&quot;state&quot;) == B]
    return state_A.merge(state_B, on=&quot;family_type&quot;).shape[0]</code></pre>
<p>Suppose Montana (<code>"MT"</code>) has 5 counties, and suppose
<code>state_merge("MT", "NV")</code> evaluates to <code>1050</code>. How
many counties does Nevada (<code>"NV"</code>) have? Give your answer as
an integer.</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading6">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse6" aria-expanded="true" aria-controls="collapse6">
Click to view the solution.
</button>
</h2>
<div id="collapse6" class="accordion-collapse collapse"
aria-labelledby="heading6" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer</strong> <span class="math inline">21</span></p>
<p>We are told Montana has 5 counties. We don’t know how many counties
Nevada has, but let’s call the number of counties in Nevada <span class="math inline">x</span> and see how many rows the merged DataFrame
should have, in terms of <span class="math inline">x</span>. If Montana
has 5 counties, since there are 10 <code>"family_type"</code> values per
county, this means the <code>state_A</code> DataFrame has 50 rows.</p>
<p>Similarly, if Nevada has <span class="math inline">x</span> counties,
then <code>state_B</code> has <span class="math inline">10x</span> rows.
When we merge on <code>"family_type"</code>, each of the 5 rows in
<code>state_A</code> with a given <code>"family_type"</code> (say
<code>"2a3c"</code>) will match with each of the <span class="math inline">x</span> rows in <code>state_B</code> with that same
<code>"family_type"</code>. This will lead to <span class="math inline">5x</span> rows in the output corresponding to each
<code>"family_type"</code>, and since there are 10 different values for
<code>"family_type"</code>, this means the final output will have <span class="math inline">50x</span> rows.</p>
<p>We are told that the merged DataFrame has <span class="math inline">1050</span> rows, so we can find <span class="math inline">x</span> by solving <span class="math inline">50x =
1050</span>, which leads to <span class="math inline">x = 21</span>.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 36%.</p>
</div>
</div>
</div>
</div>
<hr />
<h2 id="problem-7">Problem 7</h2>
<p>King Triton had four children, and each of his four children started
their own families. These four families organize a Triton family reunion
each year. The compositions of the four families are as follows:</p>
<ul>
<li><p>Family W: <code>"1a4c"</code></p></li>
<li><p>Family X: <code>"2a1c"</code></p></li>
<li><p>Family Y: <code>"2a3c"</code></p></li>
<li><p>Family Z: <code>"1a1c"</code></p></li>
</ul>
<p>Suppose we choose one of the fifteen people at the Triton family
reunion at random.</p>
<p><br></p>
<h3 id="problem-7.1">Problem 7.1</h3>
<p>Given that the chosen individual is from a family with one child,
what is the probability that they are from Family X? Give your answer as
a simplified fraction.</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading7_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse7_1" aria-expanded="true" aria-controls="collapse7_1">
Click to view the solution.
</button>
</h2>
<div id="collapse7_1" class="accordion-collapse collapse"
aria-labelledby="heading7_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> <span class="math inline">\frac{3}{5}</span></p>
<p>Given that the chosen individual is from a family with one child, we
know that they must be from either Family X or Family Z. There are three
individuals in Family X, and there are a total of five individuals from
these two families. Thus, the probability of choosing any one of the
three individuals from Family X out of the five individuals from both
families is <span class="math inline">\frac{3}{5}</span>.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 43%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-7.2">Problem 7.2</h3>
<p>Consider the events <span class="math inline">A</span> and <span
class="math inline">B</span>, defined below.</p>
<ul>
<li><p><span class="math inline">A</span>: The chosen individual is an
adult.</p></li>
<li><p><span class="math inline">B</span>: The chosen individual is a
child.</p></li>
</ul>
<p>True or False: Events <span class="math inline">A</span> and <span
class="math inline">B</span> are independent.</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> True</p></li>
<li><p><input type="radio" disabled="" /> False</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading7_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse7_2" aria-expanded="true" aria-controls="collapse7_2">
Click to view the solution.
</button>
</h2>
<div id="collapse7_2" class="accordion-collapse collapse"
aria-labelledby="heading7_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> False</p>
<p>If two events are independent, knowledge of one event happening does
not change the probability of the other event happening. In this case,
events <span class="math inline">A</span> and <span class="math inline">B</span> are not independent because knowledge of
one event gives complete knowledge of the other.</p>
<p>To see this, note that the probability of choosing a child randomly
out of the fifteen individuals is <span class="math inline">\frac{9}{15}</span>. That is, <span class="math inline">P(B) = \frac{9}{15}</span>.</p>
<p>Suppose now that we know that the chosen individual is an adult. In
this case, the probability that the chosen individual is a child is
<span class="math inline">0</span>, because nobody is both a child and
an adult. That is, <span class="math inline">P(B \text{ given } A) =
0</span>, which is not the same as <span class="math inline">P(B) =
\frac{9}{15}</span>.</p>
<p>This problem illustrates the difference between mutually exclusive
events and independent events. In this case <span class="math inline">A</span> and <span class="math inline">B</span> are
mutually exclusive, because they cannot both happen. But that forces
them to be dependent events, because knowing that someone is an adult
completely determines the probability that they are a child (it’s
zero!)</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 33%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-7.3">Problem 7.3</h3>
<p>Consider the events <span class="math inline">C</span> and <span
class="math inline">D</span>, defined below.</p>
<ul>
<li><p><span class="math inline">C</span>: The chosen individual is a
child.</p></li>
<li><p><span class="math inline">D</span>: The chosen individual is from
family <span class="math inline">Y</span>.</p></li>
</ul>
<p>True or False: Events <span class="math inline">C</span> and <span
class="math inline">D</span> are independent.</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> True</p></li>
<li><p><input type="radio" disabled="" /> False</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading7_3">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse7_3" aria-expanded="true" aria-controls="collapse7_3">
Click to view the solution.
</button>
</h2>
<div id="collapse7_3" class="accordion-collapse collapse"
aria-labelledby="heading7_3" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> True</p>
<p>If two events are independent, the probability of one event happening
does not change when we know that the other event happens. In this case,
events <span class="math inline">C</span> and <span class="math inline">D</span> are indeed independent.</p>
<p>If we know that the chosen individual is a child, the probability
that they come from Family Y is <span class="math inline">\frac{3}{9}</span>, which simplifies to <span class="math inline">\frac{1}{3}</span>. That is <span class="math inline">P(D \text{ given } C) = \frac{1}{3}</span>.</p>
<p>On the other hand, without any prior knowledge, when we select
someone randomly from all fifteen individuals, the probability they come
from Family Y is <span class="math inline">\frac{5}{15}</span>, which
also simplifies to <span class="math inline">\frac{1}{3}</span>. This
says <span class="math inline">P(D) = \frac{1}{3}</span>.</p>
<p>In other words, knowledge of <span class="math inline">C</span> is
irrelevant to the probability of <span class="math inline">D</span>
occurring, which means <span class="math inline">C</span> and <span class="math inline">D</span> are independent.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 35%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-7.4">Problem 7.4</h3>
<p>At the reunion, the Tritons play a game that involves placing the
four letters into a hat (W, X, Y, and Z, corresponding to the four
families). Then, <strong>five times</strong>, they draw a letter from
the hat, write it down on a piece of paper, and place it back into the
hat.</p>
<p>Let <span class="math inline">p = \frac{1}{4}</span> in the questions
that follow.</p>
<p>What is the probability that Family W is selected all 5 times?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> <span class="math inline">p^5</span></p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">1 - p^5</span></p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">1 - (1 - p)^5</span></p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">(1 - p)^5</span></p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">p \cdot (1 - p)^4</span></p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">p^4 (1 - p)</span></p></li>
<li><p><input type="radio" disabled="" /> None of these.</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading7_4">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse7_4" aria-expanded="true" aria-controls="collapse7_4">
Click to view the solution.
</button>
</h2>
<div id="collapse7_4" class="accordion-collapse collapse"
aria-labelledby="heading7_4" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> <span class="math inline">p^5</span></p>
<p>The probability of selecting Family W in the first round is <span class="math inline">p</span>, which is the same for the second round,
the third round, and so on. Each of the chosen letters is drawn
independently from the others because the result of one draw does not
affect the result of the next. We can apply the multiplication rule here
and multiply the probabilities of choosing Family W in each round. This
comes out to be <span class="math inline">p\cdot p\cdot p\cdot p\cdot
p</span>, which is <span class="math inline">p^5</span>.</p>
<hr/>
<h5>Difficulty: ⭐️</h5>
<p>
</p>
<p>The average score on this problem was 91%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<p><br></p>
<h3 id="problem-7.5">Problem 7.5</h3>
<p>What is the probability that Family W is selected at least once?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> <span class="math inline">p^5</span></p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">1 - p^5</span></p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">1 - (1 - p)^5</span></p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">(1 - p)^5</span></p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">p \cdot (1 - p)^4</span></p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">p^4 (1 - p)</span></p></li>
<li><p><input type="radio" disabled="" /> None of these.</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading7_5">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse7_5" aria-expanded="true" aria-controls="collapse7_5">
Click to view the solution.
</button>
</h2>
<div id="collapse7_5" class="accordion-collapse collapse"
aria-labelledby="heading7_5" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> <span class="math inline">1 - (1 -
p)^5</span></p>
<p>Since there are too many ways that Family W can be selected to meet
the condition that it is selected at least once, it is easier if we
calculate the probability that Family W is never selected and subtract
that from 1. The probability that Family W is not selected in the first
round is <span class="math inline">1-p</span>, which is the same for the
second round, the third round, and so on. We want this to happen for all
five rounds, and since the events are independent, we can multiply their
probabilities all together. This comes out to be <span class="math inline">(1-p)^5</span>, which represents the probability
that Family W is never selected. Finally, we subtract <span class="math inline">(1-p)^5</span> from 1 to find the probability that
Family W is selected at least once, giving the answer <span class="math inline">1 - (1-p)^5</span>.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 62%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-7.6">Problem 7.6</h3>
<p>What is the probability that Family W is selected exactly once, as
the last family that is selected?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> <span class="math inline">p^5</span></p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">1 - p^5</span></p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">1 - (1 - p)^5</span></p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">(1 - p)^5</span></p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">p \cdot (1 - p)^4</span></p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">p^4 (1 - p)</span></p></li>
<li><p><input type="radio" disabled="" /> None of these.</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading7_6">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse7_6" aria-expanded="true" aria-controls="collapse7_6">
Click to view the solution.
</button>
</h2>
<div id="collapse7_6" class="accordion-collapse collapse"
aria-labelledby="heading7_6" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> <span class="math inline">p \cdot (1 -
p)^4</span></p>
<p>We want to find the probability of Family W being selected only as
the last draw, and not in the first four draws. The probability that
Family W is not selected in the first draw is <span class="math inline">(1-p)</span>, which is the same for the second,
third, and fourth draws. For the fifth draw, the probability of choosing
Family W is <span class="math inline">p</span>. Since the draws are
independent, we can multiply these probabilities together, which comes
out to be <span class="math inline">(1-p)^4 \cdot p = p\cdot
(1-p)^4</span>.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 67%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="problem-8">Problem 8</h2>
<p>After the family reunion, Family Y gets together with nine other
families to play a game. All ten families (which we’ll number 1 through
10) have a composition of <code>"2a3c"</code>. Within each family, the
three children are labeled <code>"oldest"</code>, <code>"middle"</code>,
or <code>"youngest"</code>.</p>
<p>In this game, the numbers 1 through 10, representing the ten
families, are placed into a hat. Then, <strong>five times</strong>, they
draw a number from the hat, write it down on a piece of paper, and place
it back into the hat. If a family’s number is written down on the paper
at least twice, then two of the three children in that family are
randomly selected to win a prize. The same child cannot be selected to
win a prize twice.</p>
<p>Chiachan is the middle child in Family 4. He writes a simulation,
which is partially provided on the next page. Fill in the blanks so that
after running the simulation,</p>
<ul>
<li><p><code>np.count_nonzero(outcomes == "Outcome Q") / repetitions</code>
gives an estimate of the probability that Chiachan wins a
prize.</p></li>
<li><p><code>np.count_nonzero(outcomes == "Outcome R") / repetitions</code>
gives an estimate of the probability that both of Chiachan’s siblings
win a prize, but Chiachan does not.</p></li>
<li><p><code>np.count_nonzero(outcomes == "Outcome S") / repetitions</code>
gives an estimate of the probability that nobody from Chiachan’s family
wins a prize.</p></li>
</ul>
<!-- -->
<pre><code>ages = np.array([&quot;oldest&quot;, &quot;middle&quot;, &quot;youngest&quot;])
outcomes = np.array([])
repetitions = 10000
for i in np.arange(repetitions):
    fams = np.random.choice(np.arange(1, 11), 5, ____(a)____)
    if ____(b)____:
        children = np.random.choice(ages, 2, ____(c)____)
        if not &quot;middle&quot; in children:
            outcomes = np.append(outcomes, ____(d)____)
        else:
            outcomes = np.append(outcomes, ____(e)____)
    else:
        outcomes = np.append(outcomes, ____(f)____)</code></pre>
<p><br></p>
<h3 id="problem-8.1">Problem 8.1</h3>
<p>What goes in blank (a)?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> <code>replace=True</code></p></li>
<li><p><input type="radio" disabled="" /> <code>replace=False</code></p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading8_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse8_1" aria-expanded="true" aria-controls="collapse8_1">
Click to view the solution.
</button>
</h2>
<div id="collapse8_1" class="accordion-collapse collapse"
aria-labelledby="heading8_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> <code>replace=True</code></p>
<p>A family can be selected more than once, as indicated by “placing the
number back into the hat” in the problem statement. Therefore we use
<code>replace=True</code> to allow for the same family to get picked
more than once.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 88%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-8.2">Problem 8.2</h3>
<p>What goes in blank (b)?</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading8_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse8_2" aria-expanded="true" aria-controls="collapse8_2">
Click to view the solution.
</button>
</h2>
<div id="collapse8_2" class="accordion-collapse collapse"
aria-labelledby="heading8_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong>
<code>np.count_nonzero(fams == 4) &gt;= 2</code> or equivalent</p>
<p>Notice that inside the body of the <code>if</code> statement, the
first line defines a variable <code>children</code> which selects two
children from among <code>ages</code>. We are told in the problem
statement that if a family’s number is written down on the paper at
least twice, then two of the three children in that family are randomly
selected to win a prize. Therefore, the condition that we want to check
in the <code>if</code> statement should correspond to Chiachan’s family
number (4) being written down on the paper at least twice.</p>
<p>When we compare the entire <code>fams</code> array to the value 4
using <code>fams == 4</code>, the result is an array of
<code>True</code> or <code>False</code> values, where each
<code>True</code> represents an instance of Chiachan’s family being
chosen. Then <code>np.count_nonzero(fams == 4)</code> evaluates to the
number of <code>True</code>s, because in Python, <code>True</code> is 1
and <code>False</code> is 0. That is,
<code>np.count_nonzero(fams == 4)</code> represents the number of times
Chichan’s family is selected, and so our condition is
<code>np.count_nonzero(fams == 4) &gt;= 2</code>.</p>
<p>There are many equivalent ways to write this same condition,
including <code>np.count_nonzero(fams == 4) &gt; 1</code> and
<code>(fams == 4).sum() &gt;= 2</code>.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 17%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-8.3">Problem 8.3</h3>
<p>What goes in blank (c)?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> <code>replace=True</code></p></li>
<li><p><input type="radio" disabled="" /> <code>replace=False</code></p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading8_3">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse8_3" aria-expanded="true" aria-controls="collapse8_3">
Click to view the solution.
</button>
</h2>
<div id="collapse8_3" class="accordion-collapse collapse"
aria-labelledby="heading8_3" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> <code>replace=False</code></p>
<p>A child cannot win a prize twice, so we remove them from the pool
after being selected.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 86%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-8.4">Problem 8.4</h3>
<p>What goes in blank (d)?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> <code>"Outcome Q"</code></p></li>
<li><p><input type="radio" disabled="" /> <code>"Outcome R"</code></p></li>
<li><p><input type="radio" disabled="" /> <code>"Outcome S"</code></p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading8_4">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse8_4" aria-expanded="true" aria-controls="collapse8_4">
Click to view the solution.
</button>
</h2>
<div id="collapse8_4" class="accordion-collapse collapse"
aria-labelledby="heading8_4" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> <code>"Outcome R"</code></p>
<p>Chiachan is the middle child in the family, and recall that each
outcome corresponds to either Chiachan winning
(<code>"Outcome Q"</code>), Chiachan not winning but his siblings
winning (<code>"Outcome R"</code>), or nobody in his family winning
(<code>"Outcome S"</code>).</p>
<p>This condition checks the negation of the middle child being
selected, which evaluates to <code>True</code> when Chiachan’s siblings
win but he doesn’t, so we append <code>"Outcome R"</code> to the
<code>outcomes</code> array in this case.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 76%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-8.5">Problem 8.5</h3>
<p>What goes in blank (e)?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> <code>"Outcome Q"</code></p></li>
<li><p><input type="radio" disabled="" /> <code>"Outcome R"</code></p></li>
<li><p><input type="radio" disabled="" /> <code>"Outcome S"</code></p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading8_5">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse8_5" aria-expanded="true" aria-controls="collapse8_5">
Click to view the solution.
</button>
</h2>
<div id="collapse8_5" class="accordion-collapse collapse"
aria-labelledby="heading8_5" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> <code>"Outcome Q"</code></p>
<p>Chiachan is the middle child in the family, and recall that each
outcome corresponds to either Chiachan winning
(<code>"Outcome Q"</code>), Chiachan not winning but his siblings
winning (<code>"Outcome R"</code>), or nobody in his family winning
(<code>"Outcome S"</code>).</p>
<p>This condition corresponds to the middle child being selected, so we
append <code>"Outcome Q"</code> to the <code>outcomes</code> array in
this case. </p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>The average score on this
problem was 75%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-8.6">Problem 8.6</h3>
<p>What goes in blank (f)?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> <code>"Outcome Q"</code></p></li>
<li><p><input type="radio" disabled="" /> <code>"Outcome R"</code></p></li>
<li><p><input type="radio" disabled="" /> <code>"Outcome S"</code></p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading8_6">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse8_6" aria-expanded="true" aria-controls="collapse8_6">
Click to view the solution.
</button>
</h2>
<div id="collapse8_6" class="accordion-collapse collapse"
aria-labelledby="heading8_6" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> <code>"Outcome S"</code></p>
<p>Chiachan is the middle child in the family, and recall that each
outcome corresponds to either Chiachan winning
(<code>"Outcome Q"</code>), Chiachan not winning but his siblings
winning (<code>"Outcome R"</code>), or nobody in his family winning
(<code>"Outcome S"</code>).</p>
<p>This condition is that Chichan’s family was not selected two or more
times, which means nobody in his family will win a prize, so we append
<code>"Outcome S"</code> to the <code>outcomes</code> array in this
case.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 80%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="section"><span class="math display"> </span></h2>
<h4
id="feedback-find-an-error-still-confused-have-a-suggestion-let-us-know-here.">👋
Feedback: Find an error? Still confused? Have a suggestion?
<a href="https://forms.gle/WZ71FchnXU1K154d7">Let us know
here</u></a>.</h4>
<hr />
</body>
</html>
