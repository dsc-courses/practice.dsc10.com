<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>Winter 2021 Midterm Exam</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    /* The extra [class] is a hack that increases specificity enough to
       override a similar rule in reveal.js */
    ul.task-list[class]{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      font-size: inherit;
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      {   }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span.al { color: #ff0000; font-weight: bold; } /* Alert */
    code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
    code span.at { color: #7d9029; } /* Attribute */
    code span.bn { color: #40a070; } /* BaseN */
    code span.bu { color: #008000; } /* BuiltIn */
    code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #4070a0; } /* Char */
    code span.cn { color: #880000; } /* Constant */
    code span.co { color: #60a0b0; font-style: italic; } /* Comment */
    code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
    code span.do { color: #ba2121; font-style: italic; } /* Documentation */
    code span.dt { color: #902000; } /* DataType */
    code span.dv { color: #40a070; } /* DecVal */
    code span.er { color: #ff0000; font-weight: bold; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #40a070; } /* Float */
    code span.fu { color: #06287e; } /* Function */
    code span.im { color: #008000; font-weight: bold; } /* Import */
    code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
    code span.kw { color: #007020; font-weight: bold; } /* Keyword */
    code span.op { color: #666666; } /* Operator */
    code span.ot { color: #007020; } /* Other */
    code span.pp { color: #bc7a00; } /* Preprocessor */
    code span.sc { color: #4070a0; } /* SpecialChar */
    code span.ss { color: #bb6688; } /* SpecialString */
    code span.st { color: #4070a0; } /* String */
    code span.va { color: #19177c; } /* Variable */
    code span.vs { color: #4070a0; } /* VerbatimString */
    code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="..\assets\theme.css" />
  <script defer=""
  src="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.js"></script>
  <script>document.addEventListener("DOMContentLoaded", function () {
 var mathElements = document.getElementsByClassName("math");
 var macros = [];
 for (var i = 0; i < mathElements.length; i++) {
  var texText = mathElements[i].firstChild;
  if (mathElements[i].tagName == "SPAN") {
   katex.render(texText.data, mathElements[i], {
    displayMode: mathElements[i].classList.contains('display'),
    throwOnError: false,
    macros: macros,
    fleqn: false
   });
}}});
  </script>
  <link rel="stylesheet"
  href="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.css" />
</head>
<body>
<header id="title-block-header">
<h1 class="title">Winter 2021 Midterm Exam</h1>
</header>
<p><link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
<!-- add after bootstrap.min.css -->
<link rel="stylesheet" href="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.css"/>
<!-- add after bootstrap.min.js or bootstrap.bundle.min.js -->
<script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script></p>
<!-- for difficulty gauges-->
<script src="https://cdn.plot.ly/plotly-2.16.1.min.js"></script>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-B947E6J6H4"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-B947E6J6H4');
</script>
<p><a href="../index.html">← return to practice.dsc10.com</a></p>
<hr />
<p><strong>Instructor(s):</strong> Janine Tiefenbruck</p>
<p>This exam was administered remotely via Gradescope. The exam was
open-notes, and students could access any resource including the
internet and Jupyter notebooks. Students had <strong>90 minutes</strong>
to work on it.</p>
<hr />
<h2 id="problem-1">Problem 1</h2>
<p><span style="color:red"><b>Note: This problem is out of scope; it
covers material no longer included in the course.</b></span></p>
<p>Which of the following questions could not be answered by running a
randomized controlled experiment?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> Does eating citrus fruits increase the risk of heart disease?</p></li>
<li><p><input type="radio" disabled="" /> Do exams with integrity pledges have fewer reported cases of academic
dishonesty?</p></li>
<li><p><input type="radio" disabled="" /> Does rewarding students for good grades improve high school
graduation rates?</p></li>
<li><p><input type="radio" disabled="" /> Does drug abuse lead to a shorter life span?</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse1" aria-expanded="true" aria-controls="collapse1">
Click to view the solution.
</button>
</h2>
<div id="collapse1" class="accordion-collapse collapse"
aria-labelledby="heading1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer: </strong> Does drug abuse lead to a shorter life
span?</p>
<p>It would be unethical to try to run a randomized controlled
experiment to address the question of whether drug abuse leads to a
shorter life span, as this would involve splitting participants into
groups and telling one group to abuse drugs. This is problematic because
we know drug abuse brings about a host of problems, so we could not
ethically ask people to harm themselves.</p>
<p>Notice that the first proposed study, about the impacts of citrus
fruits on heart disease, does not involve the same kind of ethical
dilemma because we’re not forcing people to do something known to be
harmful. A randomized controlled experiment would involve splitting
participants into two groups and asking one group to eat citrus fruits,
and measuring the heart health of both groups. Since there are no known
harmful effects of eating citrus fruits, there is no ethical issue.</p>
<p>Similarly, we could run a randomized controlled trial by giving an
exam where some students had to sign an integrity pledge and others
didn’t, tracking the number of reported dishonesty cases in each group.
Likewise, we could reward some students for good grades and not others,
and keep track of high school graduation rates in each group. Neither of
these studies would involve knowingly harming people and could
reasonably be carried out.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 85%.</p>
</div>
</div>
</div>
</div>
<hr />
<h2 id="problem-2">Problem 2</h2>
<p>You are given a DataFrame called <code>sports</code>, indexed by
<code>'Sport'</code> containing one column,
<code>'PlayersPerTeam'</code>. The first few rows of the DataFrame are
shown below:</p>
<table>
<thead>
<tr class="header">
<th>Sport</th>
<th>PlayersPerTeam</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>baseball</td>
<td>9</td>
</tr>
<tr class="even">
<td>basketball</td>
<td>5</td>
</tr>
<tr class="odd">
<td>field hockey</td>
<td>11</td>
</tr>
</tbody>
</table>
<p><br /> Which of the following evaluates to
<code>'basketball'</code>?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> <code>sports.loc[1]</code></p></li>
<li><p><input type="radio" disabled="" /> <code>sports.iloc[1]</code></p></li>
<li><p><input type="radio" disabled="" /> <code>sports.index[1]</code></p></li>
<li><p><input type="radio" disabled="" /> <code>sports.get('Sport').iloc[1]</code></p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse2" aria-expanded="true" aria-controls="collapse2">
Click to view the solution.
</button>
</h2>
<div id="collapse2" class="accordion-collapse collapse"
aria-labelledby="heading2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer: </strong> <code>sports.index[1]</code></p>
<p>We are told that the DataFrame is indexed by <code>'Sport'</code> and
<code>'basketball'</code> is one of the elements of the index. To access
an element of the index, we use <code>.index</code> to extract the index
and square brackets to extract an element at a certain position.
Therefore, <code>sports.index[1]</code> will evaluate to
<code>'basketball'</code>.</p>
<p>The first two answer choices attempt to use <code>.loc</code> or
<code>.iloc</code> directly on a DataFrame. We typically use
<code>.loc</code> or <code>.iloc</code> on a Series that results from
using <code>.get</code> on some column. Although we don’t typically do
it this way, it is possible to use <code>.loc</code> or
<code>.iloc</code> directly on a DataFrame, but doing so would produce
an entire row of the DataFrame. Since we want just one word,
<code>'basketball'</code>, the first two answer choices must be
incorrect.</p>
<p>The last answer choice is incorrect because we can’t use
<code>.get</code> with the index, only with a column. The index is never
considered a column.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 88%.</p>
</div>
</div>
</div>
</div>
<hr />
<h2 id="problem-3">Problem 3</h2>
<p>The following is a quote from The New York Times’ <em>The
Morning</em> newsletter.</p>
<p><i>As Dr. Ashish Jha, the dean of the Brown University School of
Public Health, told me this weekend: “I don’t actually care about
infections. I care about hospitalizations and deaths and long-term
complications.” </i></p>
<p><i>By those measures, all five of the vaccines — from Pfizer,
Moderna, AstraZeneca, Novavax and Johnson &amp; Johnson — look extremely
good. Of the roughly 75,000 people who have received one of the five in
a research trial, not a single person has died from Covid, and only a
few people appear to have been hospitalized. None have remained
hospitalized 28 days after receiving a shot.</i></p>
<p><i>To put that in perspective, it helps to think about what Covid has
done so far to <strong>a representative group of 75,000 American
adults</strong>: It has killed roughly 150 of them and sent several
hundred more to the hospital. The vaccines reduce those numbers to zero
and nearly zero, based on the research trials.</i></p>
<p><i>Zero isn’t even the most relevant benchmark. A typical U.S. flu
season kills between five and 15 out of every 75,000 adults and
hospitalizes more than 100 of them.</i></p>
<p>Why does the article use a representative group of 75,000 American
adults?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> Convention. Rates are often given per 75,000 people.</p></li>
<li><p><input type="radio" disabled="" /> Comparison. It allows for quick comparison against the group of
people who got the vaccine in a trial.</p></li>
<li><p><input type="radio" disabled="" /> Comprehension. Readers should have a sense of the scale of 75,000
people.</p></li>
<li><p><input type="radio" disabled="" /> Arbitrary. There is no particular reason to use a group of this
size.</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading3">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse3" aria-expanded="true" aria-controls="collapse3">
Click to view the solution.
</button>
</h2>
<div id="collapse3" class="accordion-collapse collapse"
aria-labelledby="heading3" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer: </strong> Comparison. It allows for quick comparison
against the group of people who got the vaccine in a trial.</p>
<p>The purpose of the article is to compare Covid outcomes among two
groups of people: the 75,000 people who got the vaccine in a research
trial and a representative group of 75,000 American adults. Since 75,000
people got the vaccine in a research trial, we need to compare
statistics like number of deaths and hospitalizations to another group
of the same size for the comparison to be meaningful.</p>
<p>There is no convention about using 75,000 for rates. This number is
used because that’s how many people got the vaccine in a research trial.
If a different number of people had been vaccinated in a research trial,
the article would have taken that number of adults in their
representative comparison group.</p>
<p>75,000 is quite a large number and most people probably don’t have a
sense of the scale of 75,000 people. If the goal were comprehension, it
would have made more sense to use a smaller number like 100 people.</p>
<p>The number 75,000 is not arbitrary. It was chosen as the size of the
representative group specifically to equal the number of people who got
the vaccine in a research trial.</p>
<hr/>
<h5>Difficulty: ⭐️</h5>
<p>
</p>
<p>The average score on this problem was 91%.</p>
</div>
</div>
</div>
</div>
<hr />
<h2 id="problem-4">Problem 4</h2>
<p>Suppose you are given a DataFrame of employees for a given company.
The DataFrame, called <code>employees</code>, is indexed by
<code>'employee_id'</code> (string) with a column called
<code>'years'</code> (int) that contains the number of years each
employee has worked for the company.</p>
<p><br></p>
<h3 id="problem-4.1">Problem 4.1</h3>
<p>Suppose that the code</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>employees.sort_values(by<span class="op">=</span><span class="st">&#39;years&#39;</span>, ascending<span class="op">=</span><span class="va">False</span>).index[<span class="dv">0</span>]</span></code></pre></div>
<p>outputs <code>'2476'</code>.</p>
<p>True or False: The number of years that employee 2476 has worked for
the company is greater than the number of years that any other employee
has worked for the company.</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> True</p></li>
<li><p><input type="radio" disabled="" /> False</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading4_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse4_1" aria-expanded="true" aria-controls="collapse4_1">
Click to view the solution.
</button>
</h2>
<div id="collapse4_1" class="accordion-collapse collapse"
aria-labelledby="heading4_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer: </strong> False</p>
<p>This is false because there could be other employees who worked at
the company equally long as employee 2476.</p>
<p>The code says that when the <code>employees</code> DataFrame is
sorted in descending order of <code>'years'</code>, employee 2476 is in
the first row. There might, however, be a tie among several employees
for their value of <code>'years'</code>. In that case, employee 2476 may
wind up in the first row of the sorted DataFrame, but we cannot say that
the number of years employee 2476 has worked for the company is greater
than the number of years that any other employee has worked for the
company.</p>
<p>If the statement had said <em>greater than or equal to</em> instead
of <em>greater than</em>, the statement would have been true.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 29%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-4.2">Problem 4.2</h3>
<p>What will be the output of the following code?</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>employees.assign(start<span class="op">=</span><span class="dv">2021</span><span class="op">-</span>employees.get(<span class="st">&#39;years&#39;</span>))</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>employees.sort_values(by<span class="op">=</span><span class="st">&#39;start&#39;</span>).index.iloc[<span class="op">-</span><span class="dv">1</span>]</span></code></pre></div>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> the employee id of an employee who has worked there for the most
years</p></li>
<li><p><input type="radio" disabled="" /> the employee id of an employee who has worked there for the fewest
years</p></li>
<li><p><input type="radio" disabled="" /> an error message complaining about <code>iloc[-1]</code></p></li>
<li><p><input type="radio" disabled="" /> an error message complaining about something else</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading4_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse4_2" aria-expanded="true" aria-controls="collapse4_2">
Click to view the solution.
</button>
</h2>
<div id="collapse4_2" class="accordion-collapse collapse"
aria-labelledby="heading4_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer: </strong> an error message complaining about
something else</p>
<p>The problem is that the first line of code does not actually add a
new column to the <code>employees</code> DataFrame because the
expression is not saved. So the second line tries to sort by a column,
<code>'start'</code>, that doesn’t exist in the <code>employees</code>
DataFrame and runs into an error when it can’t find a column by that
name.</p>
<p>This code also has a problem with <code>iloc[-1]</code>, since
<code>iloc</code> cannot be used on the index, but since the problem
with the missing <code>'start'</code> column is encountered first, that
will be the error message displayed.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 27%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="problem-5">Problem 5</h2>
<p>Suppose <code>df</code> is a DataFrame and <code>b</code> is any
boolean array whose length is the same as the number of rows of
<code>df</code>.</p>
<p>True or False: For any such boolean array <code>b</code>,
<code>df[b].shape[0]</code> is less than or equal to
<code>df.shape[0]</code>.</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> True</p></li>
<li><p><input type="radio" disabled="" /> False</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading5">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse5" aria-expanded="true" aria-controls="collapse5">
Click to view the solution.
</button>
</h2>
<div id="collapse5" class="accordion-collapse collapse"
aria-labelledby="heading5" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer: </strong> True</p>
<p>The brackets in <code>df[b]</code> perform a query, or filter, to
keep only the rows of <code>df</code> for which <code>b</code> has a
<code>True</code> entry. Typically, <code>b</code> will come from some
condition, such as the entry in a certain column of <code>df</code>
equaling a certain value. Regardless, <code>df[b]</code> contains a
subset of the rows of <code>df</code>, and <code>.shape[0]</code> counts
the number of rows, so <code>df[b].shape[0]</code> must be less than or
equal to <code>df.shape[0]</code>.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 86%.</p>
</div>
</div>
</div>
</div>
<hr />
<h2 id="problem-6">Problem 6</h2>
<p>You are given a DataFrame called <code>books</code> that contains
columns <code>'author'</code> (string), <code>'title'</code> (string),
<code>'num_chapters'</code> (int), and <code>'publication_year'</code>
(int).</p>
<p>Suppose that after doing <code>books.groupby('Author').max()</code>,
one row says</p>
<table>
<colgroup>
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 25%" />
</colgroup>
<thead>
<tr class="header">
<th>author</th>
<th>title</th>
<th>num_chapters</th>
<th>publication_year</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Charles Dickens</td>
<td>Oliver Twist</td>
<td>53</td>
<td>1838</td>
</tr>
</tbody>
</table>
<p><br></p>
<h3 id="problem-6.1">Problem 6.1</h3>
<p>Based on this data, can you conclude that Charles Dickens is the
alphabetically last of all author names in this dataset?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> Yes</p></li>
<li><p><input type="radio" disabled="" /> No</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading6_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse6_1" aria-expanded="true" aria-controls="collapse6_1">
Click to view the solution.
</button>
</h2>
<div id="collapse6_1" class="accordion-collapse collapse"
aria-labelledby="heading6_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer: </strong> No</p>
<p>When we group by <code>'Author'</code>, all books by the same author
get aggregated together into a single row. The aggregation function is
applied separately to each other column besides the column we’re
grouping by. Since we’re grouping by <code>'Author'</code> here, the
<code>'Author'</code> column never has the <code>max()</code> function
applied to it. Instead, each unique value in the <code>'Author'</code>
column becomes a value in the index of the grouped DataFrame. We are
told that the Charles Dickens row is just one row of the output, but we
don’t know anything about the other rows of the output, or the other
authors. We can’t say anything about where Charles Dickens falls when
authors are ordered alphabetically (but it’s probably not last!)</p>
<hr/>
<h5>Difficulty: ⭐️</h5>
<p>
</p>
<p>The average score on this problem was 94%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-6.2">Problem 6.2</h3>
<p>Based on this data, can you conclude that Charles Dickens wrote
<em>Oliver Twist</em>?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> Yes</p></li>
<li><p><input type="radio" disabled="" /> No</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading6_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse6_2" aria-expanded="true" aria-controls="collapse6_2">
Click to view the solution.
</button>
</h2>
<div id="collapse6_2" class="accordion-collapse collapse"
aria-labelledby="heading6_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer: </strong> Yes</p>
<p>Grouping by <code>'Author'</code> collapses all books written by the
same author into a single row. Since we’re applying the
<code>max()</code> function to aggregate these books, we can conclude
that <em>Oliver Twist</em> is alphabetically last among all books in the
<code>books</code> DataFrame written by Charles Dickens. So Charles
Dickens did write <em>Oliver Twist</em> based on this data.</p>
<hr/>
<h5>Difficulty: ⭐️</h5>
<p>
</p>
<p>The average score on this problem was 95%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-6.3">Problem 6.3</h3>
<p>Based on this data, can you conclude that <em>Oliver Twist</em> has
53 chapters?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> Yes</p></li>
<li><p><input type="radio" disabled="" /> No</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading6_3">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse6_3" aria-expanded="true" aria-controls="collapse6_3">
Click to view the solution.
</button>
</h2>
<div id="collapse6_3" class="accordion-collapse collapse"
aria-labelledby="heading6_3" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer: </strong> No</p>
<p>The key to this problem is that <code>groupby</code> applies the
aggregation function, <code>max()</code> in this case, independently to
each column. The output should be interpreted as follows:</p>
<ul>
<li>Among all books in <code>books</code> written by Charles Dickens,
<em>Oliver Twist</em> is the title that is alphabetically last.</li>
<li>Among all books in <code>books</code> written by Charles Dickens, 53
is the greatest number of chapters.</li>
<li>Among all books in <code>books</code> written by Charles Dickens,
1838 is the latest year of publication.</li>
</ul>
<p>However, the book titled <em>Oliver Twist</em>, the book with 53
chapters, and the book published in 1838 are not necessarily all the
same book. We cannot conclude, based on this data, that <em>Oliver
Twist</em> has 53 chapters.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 74%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-6.4">Problem 6.4</h3>
<p>Based on this data, can you conclude that Charles Dickens wrote a
book with 53 chapters that was published in 1838?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> Yes</p></li>
<li><p><input type="radio" disabled="" /> No</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading6_4">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse6_4" aria-expanded="true" aria-controls="collapse6_4">
Click to view the solution.
</button>
</h2>
<div id="collapse6_4" class="accordion-collapse collapse"
aria-labelledby="heading6_4" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer: </strong> No</p>
<p>As explained in the previous question, the <code>max()</code>
function is applied separately to each column, so the book written by
Charles Dickens with 53 chapters may not be the same book as the book
written by Charles Dickens published in 1838.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 73%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="problem-7">Problem 7</h2>
<p>Give an example of a dataset and a question you would want to answer
about that dataset which you would answer by grouping with subgroups
(using multiple columns in the <code>groupby</code> command). Explain
how you would use the <code>groupby</code> command to answer your
question.</p>
<p>Creative responses that are different than ones we’ve already seen in
this class will earn the most credit.</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading7">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse7" aria-expanded="true" aria-controls="collapse7">
Click to view the solution.
</button>
</h2>
<div id="collapse7" class="accordion-collapse collapse"
aria-labelledby="heading7" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer: </strong> There are many possible correct answers.
Below are some student responses that earned full credit, lightly edited
for clarity.</p>
<hr/>
<p><i> Consider the dataset of Olympic medals (Bronze, Silver, Gold)
that a country won for a specific sport, with columns
<code>'sport'</code>, <code>'country'</code>,
<code>'medals'</code>.</i></p>
<p><i> Question: In which sport did the US win the most medals?</i></p>
<p><i>We can group by country and then subgroup by sport. We can then
use a combination of <code>reset_index()</code> and
<code>sort_values(by = 'medals')</code> and then use <code>.get</code>
and <code>.iloc[-1]</code> to get the our answer to the
question.</i></p>
<hr/>
<p><i> Given a data set of cell phone purchase volume at every
electronics store, we might want to find the difference in popularity of
Samsung phones and iPhones in every state. I would use the
<code>groupby</code> command to first group by state, followed by phone
brand, and then aggregate with the <code>sum()</code> method. The
resulting table would show the total iPhone and Samsung phone sales
separately for each state which I could then use to calculate the
difference in proportion of each brand’s sales volumes.</i></p>
<hr/>
<p><i> You are given a table called <code>cars</code> with columns:
<code>'brands'</code> (Toyota, Honda, etc.), <code>'model'</code>
(Prius, Accord, etc.), <code>'price'</code> of the car, and
<code>'fuel_type'</code> (gas, hybrid, electric). Since you are
environmentally friendly you only want cars that are electric, but you
want to find the cheapest one. Find the brand that has the cheapest
average price for an electric car.</i></p>
<p><i>You want to <code>groupby</code> on both <code>'brands'</code> and
<code>'fuel_type'</code> and use the aggregate command
<code>mean()</code> to find the average price per fuel type for each
brand. Then you would find only the electric fuel types and sort values
to find the cheapest. </i></p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 81%.</p>
</div>
</div>
</div>
</div>
<hr />
<h2 id="problem-8">Problem 8</h2>
<p>Which of the following best describes the input and output types of
the <code>.apply</code> Series method?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> input: string, output: Series</p></li>
<li><p><input type="radio" disabled="" /> input: Series, output: function</p></li>
<li><p><input type="radio" disabled="" /> input: function, output: Series</p></li>
<li><p><input type="radio" disabled="" /> input: function, output: function</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading8">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse8" aria-expanded="true" aria-controls="collapse8">
Click to view the solution.
</button>
</h2>
<div id="collapse8" class="accordion-collapse collapse"
aria-labelledby="heading8" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer: </strong> input: function, output: Series</p>
<p>It helps to think of an example of how we typically use
<code>.apply</code>. Consider a DataFrame called <code>books</code> and
a function called <code>year_to_century</code> that converts a year to
the century it belongs to. We might use <code>.apply</code> as
follows:</p>
<p><code>books.assign(publication_century = books.get('publication_year').apply(year_to_century))</code></p>
<p><code>.apply</code> is called a Series method because we use it on a
Series. In this case that Series is
<code>books.get('publication_year')</code>. <code>.apply</code> takes
one input, which is the name of the function we wish to apply to each
element of the Series. In the example above, that function is
<code>year_to_century</code>. The result is a Series containing the
centuries for each book in the <code>books</code> DataFrame, which we
can then assign back as a new column to the DataFrame. So
<code>.apply</code> therefore takes as input a function and outputs a
Series.</p>
<hr/>
<h5>Difficulty: ⭐️</h5>
<p>
</p>
<p>The average score on this problem was 98%.</p>
</div>
</div>
</div>
</div>
<hr />
<h2 id="problem-9">Problem 9</h2>
<p>You are given a DataFrame called <code>restaurants</code> that
contains information on a variety of local restaurants’ daily number of
customers and daily income. There is a row for each restaurant for each
date in a given five-year time period.</p>
<p>The columns of <code>restaurants</code> are <code>'name'</code>
(string), <code>'year'</code> (int), <code>'month'</code> (int),
<code>'day'</code> (int), <code>'num_diners'</code> (int), and
<code>'income'</code> (float).</p>
<p>Assume that in our data set, there are not two different restaurants
that go by the same <code>'name'</code> (chain restaurants, for
example).</p>
<p><br></p>
<h3 id="problem-9.1">Problem 9.1</h3>
<p>What type of visualization would be best to display the data in a way
that helps to answer the question “Do more customers bring in more
income?”</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> scatterplot</p></li>
<li><p><input type="radio" disabled="" /> line plot</p></li>
<li><p><input type="radio" disabled="" /> bar chart</p></li>
<li><p><input type="radio" disabled="" /> histogram</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading9_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse9_1" aria-expanded="true" aria-controls="collapse9_1">
Click to view the solution.
</button>
</h2>
<div id="collapse9_1" class="accordion-collapse collapse"
aria-labelledby="heading9_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer: </strong> scatterplot</p>
<p>The number of customers is given by <code>'num_diners'</code> which
is an integer, and <code>'income'</code> is a float. Since both are
numerical variables, neither of which represents time, it is most
appropriate to use a scatterplot. </p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>The
average score on this problem was 87%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-9.2">Problem 9.2</h3>
<p>What type of visualization would be best to display the data in a way
that helps to answer the question “Have restaurants’ daily incomes been
declining over time?”</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> scatterplot</p></li>
<li><p><input type="radio" disabled="" /> line plot</p></li>
<li><p><input type="radio" disabled="" /> bar chart</p></li>
<li><p><input type="radio" disabled="" /> histogram</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading9_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse9_2" aria-expanded="true" aria-controls="collapse9_2">
Click to view the solution.
</button>
</h2>
<div id="collapse9_2" class="accordion-collapse collapse"
aria-labelledby="heading9_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer: </strong> line plot</p>
<p>Since we want to plot a trend of a numerical quantity
(<code>'income'</code>) over time, it is best to use a line plot.</p>
<hr/>
<h5>Difficulty: ⭐️</h5>
<p>
</p>
<p>The average score on this problem was 95%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="problem-10">Problem 10</h2>
<p>You have a DataFrame called <code>prices</code> that contains
information about food prices at 18 different grocery stores. There is
column called <code>'broccoli'</code> that contains the price in dollars
for one pound of broccoli at each grocery store. There is also a column
called <code>'ice_cream'</code> that contains the price in dollars for a
pint of store-brand ice cream.</p>
<p><br></p>
<h3 id="problem-10.1">Problem 10.1</h3>
<p>What should <code>type(prices.get('broccoli').iloc[0])</code>
output?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> int</p></li>
<li><p><input type="radio" disabled="" /> float</p></li>
<li><p><input type="radio" disabled="" /> array</p></li>
<li><p><input type="radio" disabled="" /> Series</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading10_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse10_1" aria-expanded="true" aria-controls="collapse10_1">
Click to view the solution.
</button>
</h2>
<div id="collapse10_1" class="accordion-collapse collapse"
aria-labelledby="heading10_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer: </strong> float</p>
<p>This code extracts the first entry of the <code>'broccoli'</code>
column. Since this column contains prices in dollars for a pound of
broccoli, it makes sense to represent such a price using a float,
because the price of a pound of broccoli is not necessarily an
integer.</p>
<hr/>
<h5>Difficulty: ⭐️</h5>
<p>
</p>
<p>The average score on this problem was 92%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-10.2">Problem 10.2</h3>
<p>Using the code,</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>prices.plot(kind<span class="op">=</span><span class="st">&#39;hist&#39;</span>, y<span class="op">=</span><span class="st">&#39;broccoli&#39;</span>, bins<span class="op">=</span>np.arange(<span class="fl">0.8</span>, <span class="fl">2.11</span>, <span class="fl">0.1</span>), density<span class="op">=</span><span class="va">True</span>)</span></code></pre></div>
<p>we produced the histogram below:</p>
<center><img src='../assets/images/wi21-midterm/broccoli.png' width=40%></center>
<p>How many grocery stores sold broccoli for a price greater than or
equal to $1.30 per pound, but less than $1.40 per pound (the tallest
bar)?</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading10_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse10_2" aria-expanded="true" aria-controls="collapse10_2">
Click to view the solution.
</button>
</h2>
<div id="collapse10_2" class="accordion-collapse collapse"
aria-labelledby="heading10_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer: </strong> 4 grocery stores</p>
<p>We are given that the bins start at 0.8 and have a width of 0.1,
which means one of the bins has endpoints 1.3 and 1.4. This bin (the
tallest bar) includes all grocery stores that sold broccoli for a price
greater than or equal to $1.30 per pound, but less than $1.40 per
pound.</p>
<p>This bar has a width of 0.1 and we’d estimate the height to be around
2.2, though we can’t say exactly. Multiplying these values, the area of
the bar is about 0.22, which means about 22 percent of the grocery
stores fall into this bin. There are 18 grocery stores in total, as we
are told in the introduction to this question. We can compute using a
calculator that 22 percent of 18 is 3.96. Since the actual number of
grocery stores this represents must be a whole number, this bin must
represent 4 grocery stores.</p>
<p>The reason for the slight discrepancy between 3.96 and 4 is that we
used 2.2 for the height of the bar, a number that we determined by eye.
We don’t know the exact height of the bar. It is reassuring to do the
calculation and get a value that’s very close to an integer, since we
know the final answer must be an integer.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 71%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-10.3">Problem 10.3</h3>
<p>Suppose we now plot the same data with different bins, using the
following line of code:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>prices.plot(kind<span class="op">=</span><span class="st">&#39;hist&#39;</span>, y<span class="op">=</span><span class="st">&#39;broccoli&#39;</span>, bins<span class="op">=</span>[<span class="fl">0.8</span>, <span class="dv">1</span>, <span class="fl">1.1</span>, <span class="fl">1.5</span>, <span class="fl">1.8</span>, <span class="fl">1.9</span>, <span class="fl">2.5</span>], density<span class="op">=</span><span class="va">True</span>)</span></code></pre></div>
<p>What would be the height on the y-axis for the bin corresponding to
the interval <span class="math inline">[\$1.10, \$1.50)</span>? Input
your answer below.</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading10_3">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse10_3" aria-expanded="true" aria-controls="collapse10_3">
Click to view the solution.
</button>
</h2>
<div id="collapse10_3" class="accordion-collapse collapse"
aria-labelledby="heading10_3" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer: </strong> 1.25</p>
<p>First, we need to figure out how many grocery stores the bin <span class="math inline">[\$1.10, \$1.50)</span> contains. We already know
from the previous subpart that there are four grocery stores in the bin
<span class="math inline">[\$1.30, \$1.40)</span>. We could do similar
calculations to find the number of grocery stores in each of these
bins:</p>
<ul>
<li><span class="math inline">[\$1.10, \$1.20)</span></li>
<li><span class="math inline">[\$1.20, \$1.30)</span></li>
<li><span class="math inline">[\$1.40, \$1.50)</span></li>
</ul>
<p>However, it’s much simpler and faster to use the fact that when the
bins are all equally wide, the height of a bar is proportional to the
number of data values it contains. So looking at the histogram in the
previous subpart, since we know the <span class="math inline">[\$1.30,
\$1.40)</span> bin contains 4 grocery stores, then the <span class="math inline">[\$1.10, \$1.20)</span> bin must contain 1 grocery
store, since it’s only a quarter as tall. Again, we’re taking advantage
of the fact that there must be an integer number of grocery stores in
each bin when we say it’s 1/4 as tall. Our only options are 1/4, 1/2, or
3/4 as tall, and among those choices, it’s clear.</p>
<p>Therefore, by looking at the relative heights of the bars, we can
quickly determine the number of grocery stores in each bin:</p>
<ul>
<li><span class="math inline">[\$1.10, \$1.20)</span>: 1 grocery
store</li>
<li><span class="math inline">[\$1.20, \$1.30)</span>: 3 grocery
stores</li>
<li><span class="math inline">[\$1.30, \$1.40)</span>: 4 grocery
stores</li>
<li><span class="math inline">[\$1.40, \$1.50)</span>: 1 grocery
store</li>
</ul>
<p>Adding these numbers together, this means there are 9 grocery stores
whose broccoli prices fall in the interval <span class="math inline">[\$1.10, \$1.50)</span>. In the new histogram, these
9 grocery stores will be represented by a bar of width <span class="math inline">1.50-1.10 = 0.4</span>. The area of the bar should
be <span class="math inline">\frac{9}{18} = 0.5</span>. Therefore the
height must be <span class="math inline">\frac{0.5}{0.4} =
1.25</span>.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 33%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-10.4">Problem 10.4</h3>
<p>You are interested in finding out the number of stores in which a
pint of ice cream was cheaper than a pound of broccoli. Will you be able
to determine the answer to this question by looking at the plot produced
by the code below?</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>prices.get([<span class="st">&#39;broccoli&#39;</span>, <span class="st">&#39;ice_cream&#39;</span>]).plot(kind<span class="op">=</span><span class="st">&#39;barh&#39;</span>)</span></code></pre></div>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> Yes</p></li>
<li><p><input type="radio" disabled="" /> No</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading10_4">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse10_4" aria-expanded="true" aria-controls="collapse10_4">
Click to view the solution.
</button>
</h2>
<div id="collapse10_4" class="accordion-collapse collapse"
aria-labelledby="heading10_4" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer: </strong> Yes</p>
<p>When we use <code>.plot</code> without specifying a <code>y</code>
column, it uses every column in the DataFrame as a <code>y</code> column
and creates an overlaid plot. Since we first use <code>get</code> with
the list <code>['broccoli', 'ice_cream']</code>, this keeps the
<code>'broccoli'</code> and <code>'ice_cream'</code> columns from
<code>prices</code>, so our bar chart will overlay broccoli prices with
ice cream prices. Notice that this <code>get</code> is unnecessary
because <code>prices</code> only has these two columns, so it would have
been the same to just use <code>prices</code> directly. The resulting
bar chart will look something like this:</p>
<center><img src="../assets/images/wi21-midterm/broc_bar.png" width="40%"/></center>
<p>Each grocery store has its broccoli price represented by the length
of the blue bar and its ice cream price represented by the length of the
red bar. We can therefore answer the question by simply counting the
number of red bars that are shorter than their corresponding blue
bars.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 78%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-10.5">Problem 10.5</h3>
<p>You are interested in finding out the number of stores in which a
pint of ice cream was cheaper than a pound of broccoli. Will you be able
to determine the answer to this question by looking at the plot produced
by the code below?</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>prices.get([<span class="st">&#39;broccoli&#39;</span>, <span class="st">&#39;ice_cream&#39;</span>]).plot(kind<span class="op">=</span><span class="st">&#39;hist&#39;</span>)</span></code></pre></div>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> Yes</p></li>
<li><p><input type="radio" disabled="" /> No</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading10_5">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse10_5" aria-expanded="true" aria-controls="collapse10_5">
Click to view the solution.
</button>
</h2>
<div id="collapse10_5" class="accordion-collapse collapse"
aria-labelledby="heading10_5" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer: </strong> No</p>
<p>This will create an overlaid histogram of broccoli prices and ice
cream prices. So we will be able to see the distribution of broccoli
prices together with the distribution of ice cream prices, but we won’t
be able to pair up particular broccoli prices with ice cream prices at
the same store. This means we won’t be able to answer the question. The
overlaid histogram would look something like this:</p>
<center><img src="../assets/images/wi21-midterm/broc_hist.png" width="40%"/></center>
<p>This tells us that broadly, ice cream tends to be more expensive than
broccoli, but we can’t say anything about the number of stores where ice
cream is cheaper than broccoli.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 81%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-10.6">Problem 10.6</h3>
<p>Some code and the scatterplot that produced it is shown below:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>(prices.get([<span class="st">&#39;broccoli&#39;</span>, <span class="st">&#39;ice_cream&#39;</span>]).plot(kind<span class="op">=</span><span class="st">&#39;scatter&#39;</span>, x<span class="op">=</span><span class="st">&#39;broccoli&#39;</span>, y<span class="op">=</span><span class="st">&#39;ice_cream&#39;</span>))</span></code></pre></div>
<center><img src='../assets/images/wi21-midterm/broc_ice_cream.png' width=40%></center>
<p>Can you use this plot to figure out the number of stores in which a
pint of ice cream was cheaper than a pound of broccoli?</p>
<p>If so, say how many such stores there are and explain how you came to
that conclusion.</p>
<p>If not, explain why this scatterplot cannot be used to answer the
question.</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading10_6">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse10_6" aria-expanded="true" aria-controls="collapse10_6">
Click to view the solution.
</button>
</h2>
<div id="collapse10_6" class="accordion-collapse collapse"
aria-labelledby="heading10_6" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer: </strong> Yes, and there are 2 such stores.</p>
<p>In this scatterplot, each grocery store is represented as one dot.
The <span class="math inline">x</span>-coordinate of that dot tells the
price of broccoli at that store, and the <span class="math inline">y</span>-coordinate tells the price of ice cream. If
a grocery store’s ice cream price is cheaper than its broccoli price,
the dot in the scatterplot will have <span class="math inline">y&lt;x</span>. To identify such dots in the
scatterplot, imagine drawing the line <span class="math inline">y=x</span>. Any dot below this line corresponds to a
point with <span class="math inline">y&lt;x</span>, which is a grocery
store where ice cream is cheaper than broccoli. As we can see, there are
two such stores.</p>
<center><img src="../assets/images/wi21-midterm/broc_ice_cream2.png" width="40%"/></center>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 78%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="problem-11">Problem 11</h2>
<p><span style="color:red"><b>Note: This problem is out of scope; it
covers material no longer included in the course.</b></span></p>
<p>You have a DataFrame called <code>flights</code> containing
information on various plane tickets sold between US cities. The columns
are <code>'route_length'</code>, which stores distance between the
arrival and departure airports, in miles, and <code>'price'</code>,
which stores the cost of the airline ticket, in dollars. You notice that
longer flights tend to cost more, as expected.</p>
<table>
<thead>
<tr class="header">
<th>route_length</th>
<th>price</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>2500</td>
<td>249</td>
</tr>
<tr class="even">
<td>2750</td>
<td>249</td>
</tr>
<tr class="odd">
<td>2850</td>
<td>349</td>
</tr>
<tr class="even">
<td>2850</td>
<td>319</td>
</tr>
<tr class="odd">
<td>2950</td>
<td>329</td>
</tr>
<tr class="even">
<td>2950</td>
<td>309</td>
</tr>
<tr class="odd">
<td>3000</td>
<td>349</td>
</tr>
</tbody>
</table>
<p><br/> You want to use your data, shown in full above, to predict the
price of an airline ticket for a route that is 2800 miles long. What
would Galton’s method predict for the price of your ticket, if we
consider “nearby” to mean within 6o miles? Give your answer to the
nearest dollar.</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading11">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse11" aria-expanded="true" aria-controls="collapse11">
Click to view the solution.
</button>
</h2>
<div id="collapse11" class="accordion-collapse collapse"
aria-labelledby="heading11" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer: </strong> 306 dollars</p>
<p>Galton’s method for making predictions is to take “nearby” <span class="math inline">x</span>-values and average their corresponding
<span class="math inline">y</span>-values. For example, to predict the
height of a child born to 70-inch parents, he averages the heights of
children born to families where the parents are close to 70 inches tall.
Using that same strategy here, we first need to identify which flights
are considered “nearby” to a route that is 2800 miles. We are told that
“nearby” means within 60 miles, so we are looking for flights between
2740 and 2860 miles in length. There are three such flights (the second,
third, and fourth rows of the original data):</p>
<table>
<thead>
<tr class="header">
<th>route_length</th>
<th>price</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>2750</td>
<td>249</td>
</tr>
<tr class="even">
<td>2850</td>
<td>349</td>
</tr>
<tr class="odd">
<td>2850</td>
<td>319</td>
</tr>
</tbody>
</table>
<p><br/> Now, we simply need to average these three prices to make our
prediction. Since <span class="math inline">\frac{249+349+319}{3} =
305.67</span> and we are told to round to the nearest dollar, our
prediction is 306 dollars.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 59%.</p>
</div>
</div>
</div>
</div>
<hr />
<h2 id="problem-12">Problem 12</h2>
<p>You generate a three-digit number by randomly choosing each digit to
be a number 0 through 9, inclusive. Each digit is equally likely to be
chosen.</p>
<p><br></p>
<h3 id="problem-12.1">Problem 12.1</h3>
<p>What is the probability you produce the number <strong>027</strong>?
Give your answer as a decimal number between 0 and 1 with no
rounding.</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading12_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse12_1" aria-expanded="true" aria-controls="collapse12_1">
Click to view the solution.
</button>
</h2>
<div id="collapse12_1" class="accordion-collapse collapse"
aria-labelledby="heading12_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer: </strong> 0.001</p>
<p>There is a <span class="math inline">\frac{1}{10}</span> chance that
we get 0 as the first random number, a <span class="math inline">\frac{1}{10}</span> chance that we get 2 as the
second random number, and a <span class="math inline">\frac{1}{10}</span> chance that we get 7 as the
third random number. The probability of all of these events happening is
<span class="math inline">\frac{1}{10}*\frac{1}{10}*\frac{1}{10} =
0.001</span>.</p>
<p>Another way to do this problem is to think about the possible
outcomes. Any number from 000 to 999 is possible and all are equally
likely. Since there are 1000 possible outcomes and the number 027 is
just one of the possible outcomes, the probability of getting this
outcome is <span class="math inline">\frac{1}{1000} = 0.001</span>.</p>
<hr/>
<h5>Difficulty: ⭐️</h5>
<p>
</p>
<p>The average score on this problem was 92%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-12.2">Problem 12.2</h3>
<p>What is the probability you produce a number with an odd digit in the
middle position? For example, <strong>250</strong>. Give your answer as
a decimal number between 0 and 1 with no rounding.</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading12_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse12_2" aria-expanded="true" aria-controls="collapse12_2">
Click to view the solution.
</button>
</h2>
<div id="collapse12_2" class="accordion-collapse collapse"
aria-labelledby="heading12_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer: </strong> 0.5</p>
<p>Because the values of the left and right positions are not important
to us, think of the middle position only. When selecting a random number
to go here, we are choosing randomly from the numbers 0 through 9. Since
5 of these numbers are odd (1, 3, 5, 7, 9), the probability of getting
an odd number is <span class="math inline">\frac{5}{10} =
0.5</span>.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 78%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-12.3">Problem 12.3</h3>
<p>What is the probability you produce a number with a
<strong>7</strong> in it somewhere? Give your answer as a decimal number
between 0 and 1 with no rounding.</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading12_3">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse12_3" aria-expanded="true" aria-controls="collapse12_3">
Click to view the solution.
</button>
</h2>
<div id="collapse12_3" class="accordion-collapse collapse"
aria-labelledby="heading12_3" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer: </strong> 0.271</p>
<p>It’s easier to calculate the probability that the number has no 7 in
it, and then subtract this probability from 1. To solve this problem
directly, we’d have to consider cases where 7 appeared multiple times,
which would be more complicated.</p>
<p>The probability that the resulting number has no 7 is <span class="math inline">\frac{9}{10}*\frac{9}{10}*\frac{9}{10} =
0.729</span> because in each of the three positions, there is a <span class="math inline">\frac{9}{10}</span> chance of selecting something
other than a 7. Therefore, the probability that the number has a 7 is
<span class="math inline">1 - 0.729 = 0.271</span>. </p>
<hr/>
<h5>Difficulty:
⭐️⭐️⭐️</h5>
<p>The average score on this problem was 69%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="problem-13">Problem 13</h2>
<p>Describe in your own words the difference between a probability
distribution and an empirical distribution. Give an example of what each
distribution might look like for a certain experiment. Choose an
experiment that we have not already seen in this class.</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading13">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse13" aria-expanded="true" aria-controls="collapse13">
Click to view the solution.
</button>
</h2>
<div id="collapse13" class="accordion-collapse collapse"
aria-labelledby="heading13" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer: </strong> There are many possible correct answers.
Below are some student responses that earned full credit, lightly edited
for clarity.</p>
<hr/>
<p><i>Probability distributions are theoretical distributions
distributed over all possible values of an experiment. Meanwhile,
empirical distributions are distributions of the real observed data. An
example of this would be choosing a certain suit from a deck of cards.
The probability distribution would be uniform, with a 1/4 chance of
choosing each suit. Meanwhile, the empirical distribution of choosing
suits from a deck of cards in 50 pulls manually and graphing the
observed data would show us different chances. </i></p>
<hr/>
<p><i>A probability distribution is the distribution describing the
theoretical probability of each potential value occurring in an
experiment, while the empirical distribution describes the proportion of
each of the values in the experiment after running it, including all
observed values. In other words, the probability distribution is what we
expect to happen, and the empirical distribution is what actually
happens.</i></p>
<p><i>For example: My friends and I often go to a food court to eat, and
we randomly pick a restaurant every time. There is 1 McDonald’s, 1
Subway, and 2 Panda Express restaurants in the food court.</i></p>
<p><i>The probability distribution is as follows:</i></p>
<ul>
<li>P(McDonald’s) = 0.25</li>
<li>P(Subway) = 0.25</li>
<li>P(Panda Express) = 0.5</li>
</ul>
<p><i>After going to the food court 100 times, we look at the empirical
distribution to see which restaurants we eat at most often. it is as
follows:</i></p>
<ul>
<li>(McDonald’s) = 0.21</li>
<li>(Subway) = 0.22</li>
<li>(Panda Express) = 0.57</li>
</ul>
<hr/>
<p><i>Probability distribution is a theoretical representation of
certain outcomes in an event whereas an empirical distribution is the
observational representation of the same outcomes in an event produced
from an experiment.</i></p>
<p><i>An example would be if I had 10 pairs of shoes in my closet: The
probability distribution would suggest that each pair of shoes has an
equal chance of getting picked on any given day. On the other hand, an
empirical distribution would be drawn by recording which pair got picked
on a given day in N trials. </i></p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 82%.</p>
</div>
</div>
</div>
</div>
<hr />
<h2 id="problem-14">Problem 14</h2>
<div class="sourceCode" id="cb8"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>results <span class="op">=</span> np.array([])</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i <span class="kw">in</span> np.arange(<span class="dv">10</span>):</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>    result <span class="op">=</span> np.random.choice(np.arange(<span class="dv">1000</span>), replace<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>    results <span class="op">=</span> np.append(results, result)</span></code></pre></div>
<p>After this code executes, <code>results</code> contains:</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> a simple random sample of size 9, chosen from a set of size 999 with
replacement</p></li>
<li><p><input type="radio" disabled="" /> a simple random sample of size 9, chosen from a set of size 999
without replacement</p></li>
<li><p><input type="radio" disabled="" /> a simple random sample of size 10, chosen from a set of size 1000
with replacement</p></li>
<li><p><input type="radio" disabled="" /> a simple random sample of size 10, chosen from a set of size 1000
without replacement</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading14">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse14" aria-expanded="true" aria-controls="collapse14">
Click to view the solution.
</button>
</h2>
<div id="collapse14" class="accordion-collapse collapse"
aria-labelledby="heading14" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer: </strong> a simple random sample of size 10, chosen
from a set of size 1000 with replacement</p>
<p>Let’s see what the code is doing. The first line initializes an empty
array called <code>results</code>. The for loop runs 10 times. Each
time, it creates a value called <code>result</code> by some process
we’ll inspect shortly and appends this value to the end of the
<code>results</code> array. At the end of the code snippet,
<code>results</code> will be an array containing 10 elements.</p>
<p>Now, let’s look at the process by which each element
<code>result</code> is generated. Each <code>result</code> is a random
element chosen from <code>np.arange(1000)</code> which is the numbers
from 0 to 999, inclusive. That’s 1000 possible numbers. Each time
<code>np.random.choice</code> is called, just one value is chosen from
this set of 1000 possible numbers.</p>
<p>When we sample just one element from a set of values, sampling with
replacement is the same as sampling without replacement, because
sampling with or without replacement concerns whether subsequent draws
can be the same as previous ones. When we’re just sampling one element,
it really doesn’t matter whether our process involves putting that
element back, as we’re not going to draw again!</p>
<p>Therefore, <code>result</code> is just one random number chosen from
the 1000 possible numbers. Each time the <code>for</code> loop executes,
<code>result</code> gets set to a random number chosen from the 1000
possible numbers. It is possible (though unlikely) that the random
<code>result</code> of the first execution of the loop matches the
<code>result</code> of the second execution of the loop. More generally,
there can be repeated values in the <code>results</code> array since
each entry of this array is independently drawn from the same set of
possibilities. Since repetitions are possible, this means the sample is
drawn with replacement.</p>
<p>Therefore, the <code>results</code> array contains a sample of size
10 chosen from a set of size 1000 with replacement. This is called a
“simple random sample” because each possible sample of 10 values is
equally likely, which comes from the fact that
<code>np.random.choice</code> chooses each possible value with equal
probability by default.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 11%.</p>
</div>
</div>
</div>
</div>
<hr />
<h2 id="problem-15">Problem 15</h2>
<p>Suppose we take a uniform random sample with replacement from a
population, and use the sample mean as an estimate for the population
mean. Which of the following is correct?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> If we take a larger sample, our sample mean will be closer to the
population mean.</p></li>
<li><p><input type="radio" disabled="" /> If we take a smaller sample, our sample mean will be closer to the
population mean.</p></li>
<li><p><input type="radio" disabled="" /> If we take a larger sample, our sample mean is more likely to be
close to the population mean than if we take a smaller sample.</p></li>
<li><p><input type="radio" disabled="" /> If we take a smaller sample, our sample mean is more likely to be
close to the population mean than if we take a larger sample.</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading15">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse15" aria-expanded="true" aria-controls="collapse15">
Click to view the solution.
</button>
</h2>
<div id="collapse15" class="accordion-collapse collapse"
aria-labelledby="heading15" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer: </strong> If we take a larger sample, our sample mean
is more likely to be close to the population mean than if we take a
smaller sample.</p>
<p>Larger samples tend to give better estimates of the population mean
than smaller samples. That’s because large samples are more like the
population than small samples. We can see this in the extreme. Imagine a
sample of 1 element from a population. The sample might vary a lot,
depending on the distribution of the population. On the other extreme,
if we sample the whole population, our sample mean will be exactly the
same as the population mean.</p>
<p>Notice that the correct answer choice uses the words “is more likely
to be close to” as opposed to “will be closer to.” We’re talking about a
general phenomenon here: larger samples tend to give better estimates of
the population mean than smaller samples. We cannot say that if we take
a larger sample our sample mean “will be closer to” the population mean,
since it’s always possible to get lucky with a small sample and unlucky
with a large sample. That is, one particular small sample may happen to
have a mean very close to the population mean, and one particular large
sample may happen to have a mean that’s not so close to the population
mean. This <em>can</em> happen, it’s just not likely to.</p>
<hr/>
<h5>Difficulty: ⭐️</h5>
<p>
</p>
<p>The average score on this problem was 100%.</p>
</div>
</div>
</div>
</div>
<hr />
<h2 id="section"><span class="math display"> </span></h2>
<h4
id="feedback-find-an-error-still-confused-have-a-suggestion-let-us-know-here.">👋
Feedback: Find an error? Still confused? Have a suggestion?
<a href="https://forms.gle/WZ71FchnXU1K154d7">Let us know
here</u></a>.</h4>
<hr />
</body>
</html>
