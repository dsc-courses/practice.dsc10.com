<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>Winter 2021 Midterm Exam</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
  </style>
  <link rel="stylesheet" href="..\assets\theme.css" />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.js"></script>
  <script>document.addEventListener("DOMContentLoaded", function () {
   var mathElements = document.getElementsByClassName("math");
   var macros = [];
   for (var i = 0; i < mathElements.length; i++) {
    var texText = mathElements[i].firstChild;
    if (mathElements[i].tagName == "SPAN") {
     katex.render(texText.data, mathElements[i], {
      displayMode: mathElements[i].classList.contains('display'),
      throwOnError: false,
      macros: macros,
      fleqn: false
     });
  }}});
  </script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" />
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<header id="title-block-header">
<h1 class="title">Winter 2021 Midterm Exam</h1>
</header>
<p><link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous"> <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script> <!-- add after bootstrap.min.css --> <link rel="stylesheet" href="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.css"/> <!-- add after bootstrap.min.js or bootstrap.bundle.min.js --> <script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script></p>
<p><a href="../index.html">← return to practice.dsc10.com</a></p>
<hr />
<p><strong>Instructor(s):</strong> Janine Tiefenbruck</p>
<p>This exam was administered remotely via Gradescope. The exam was open-notes, and students could access any resource including the internet and Jupyter notebooks. Students had 90 minutes to work on it.</p>
<hr />
<h2 id="problem-1">Problem 1</h2>
<p>Which of the following questions could not be answered by running a randomized controlled experiment?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> Does eating citrus fruits increase the risk of heart disease?</p></li>
<li><p><input type="radio" disabled="" /> Do exams with integrity pledges have fewer reported cases of academic dishonesty?</p></li>
<li><p><input type="radio" disabled="" /> Does rewarding students for good grades improve high school graduation rates?</p></li>
<li><p><input type="radio" disabled="" /> Does drug abuse lead to a shorter life span?</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse1" aria-expanded="true" aria-controls="collapse1">
Click to view the solution.
</button>
</h2>
<div id="collapse1" class="accordion-collapse collapse collapse" aria-labelledby="heading1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer: </strong> Does drug abuse lead to a shorter life span?</p>
<p>It would be unethical to try to run a randomized controlled experiment to address the question of whether drug abuse leads to a shorter life span, as this would involve splitting participants into groups and telling one group to abuse drugs. This is problematic because we know drug abuse brings about a host of problems, so we could not ethically ask people to harm themselves.</p>
<p>Notice that the first proposed study, about the impacts of citrus fruits on heart disease, does not involve the same kind of ethical dilemma because we’re not forcing people to do something known to be harmful. A randomized controlled experiment would involve splitting participants into two groups and asking one group to eat citrus fruits, and measuring the heart health of both groups. Since there are no known harmful effects of eating citrus fruits, there is no ethical issue.</p>
<p>Similarly, we could run a randomized controlled trial by giving an exam where some students had to sign an integrity pledge and others didn’t, tracking the number of reported dishonesty cases in each group. Likewise, we could reward some students for good grades and not others, and keep track of high school graduation rates in each group. Neither of these studies would involve knowingly harming people and could reasonably be carried out.</p>
</div>
</div>
</div>
</div>
<hr />
<h2 id="problem-2">Problem 2</h2>
<p>You are given a DataFrame called <code>sports</code>, indexed by <code>'Sport'</code> containing one column, <code>'PlayersPerTeam'</code>. The first few rows of the DataFrame are shown below:</p>
<table>
<thead>
<tr class="header">
<th>Sport</th>
<th>PlayersPerTeam</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>baseball</td>
<td>9</td>
</tr>
<tr class="even">
<td>basketball</td>
<td>5</td>
</tr>
<tr class="odd">
<td>field hockey</td>
<td>11</td>
</tr>
</tbody>
</table>
<p>Which of the following evaluates to <code>'basketball'</code>?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> <code>sports.loc[1]</code></p></li>
<li><p><input type="radio" disabled="" /> <code>sports.iloc[1]</code></p></li>
<li><p><input type="radio" disabled="" /> <code>sports.index[1]</code></p></li>
<li><p><input type="radio" disabled="" /> <code>sports.get('Sport').iloc[1]</code></p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse2" aria-expanded="true" aria-controls="collapse2">
Click to view the solution.
</button>
</h2>
<div id="collapse2" class="accordion-collapse collapse collapse" aria-labelledby="heading2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer: </strong> <code>sports.index[1]</code></p>
<p>We are told that the DataFrame is indexed by <code>'Sport'</code> and <code>'basketball'</code> is one of the elements of the index. To access an element of the index, we use <code>.index</code> to extract the index and square brackets to extract an element at a certain position. Therefore, <code>sports.index[1]</code> will evaluate to <code>'basketball'</code>..</p>
<p>The first two answer choices attempt to use <code>.loc</code> or <code>.iloc</code> directly on a DataFrame. We typically use <code>.loc</code> or <code>.iloc</code> on a Series that results from using <code>.get</code> on some column. Although we don’t typically do it this way, it is possible to use <code>.loc</code> or <code>.iloc</code> directly on a DataFrame, but doing so would produce an entire row of the DataFrame. Since we want just one word, <code>'basketball'</code>, the first two answer choices must be incorrect.</p>
<p>The last answer choice is incorrect because we can’t use <code>.get</code> with the index, only with a column. The index is never considered a column.</p>
</div>
</div>
</div>
</div>
<hr />
<h2 id="problem-3">Problem 3</h2>
<p>The following is a quote from The New York Times’ <em>The Morning</em> newsletter.</p>
<blockquote>
<p>As Dr. Ashish Jha, the dean of the Brown University School of Public Health, told me this weekend: “I don’t actually care about infections. I care about hospitalizations and deaths and long-term complications.”</p>
<p>By those measures, all five of the vaccines — from Pfizer, Moderna, AstraZeneca, Novavax and Johnson &amp; Johnson — look extremely good. Of the roughly 75,000 people who have received one of the five in a research trial, not a single person has died from Covid, and only a few people appear to have been hospitalized. None have remained hospitalized 28 days after receiving a shot.</p>
<p>To put that in perspective, it helps to think about what Covid has done so far to <strong>a representative group of 75,000 American adults</strong>: It has killed roughly 150 of them and sent several hundred more to the hospital. The vaccines reduce those numbers to zero and nearly zero, based on the research trials.</p>
<p>Zero isn’t even the most relevant benchmark. A typical U.S. flu season kills between five and 15 out of every 75,000 adults and hospitalizes more than 100 of them.</p>
</blockquote>
<p>Why does the article use <em>a representative group of 75,000 American adults</em>?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> Convention. Rates are often given per 75,000 people.</p></li>
<li><p><input type="radio" disabled="" /> Comparison. It allows for quick comparison against the group of people who got the vaccine in a trial.</p></li>
<li><p><input type="radio" disabled="" /> Comprehension. Readers should have a sense of the scale of 75,000 people.</p></li>
<li><p><input type="radio" disabled="" /> Arbitrary. There is no particular reason to use a group of this size.</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading3">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse3" aria-expanded="true" aria-controls="collapse3">
Click to view the solution.
</button>
</h2>
<div id="collapse3" class="accordion-collapse collapse collapse" aria-labelledby="heading3" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer: </strong> Comparison. It allows for quick comparison against the group of people who got the vaccine in a trial.</p>
<p>The purpose of the article is to compare Covid outcomes among two groups of people: the 75,000 people who got the vaccine in a research trial and a representative group of 75,000 American adults. Since 75,000 people got the vaccine in a research trial, we need to compare statistics like number of deaths and hospitalizations to another group of the same size for the comparison to be meaningful.</p>
<p>There is no convention about using 75,000 for rates. This number is used because that’s how many people got the vaccine in a research trial. If a different number of people had been vaccinated in a research trial, the article would have taken that number of adults in their representative comparison group.</p>
<p>75,000 is quite a large number and most people probably don’t have a sense of the scale of 75,000 people. If the goal were comprehension, it would have made more sense to use a smaller number like 100 people.</p>
<p>The number 75,000 is not arbitrary. It was chosen as the size of the representative group specifically to match the size of the group of people who the vaccine in a research trial.</p>
</div>
</div>
</div>
</div>
<hr />
<h2 id="problem-4">Problem 4</h2>
<p>Suppose you are given a DataFrame of employees for a given company. The DataFrame, called <code>employees</code>, is indexed by <code>'employee_id'</code> (string) with a column called <code>'years'</code> (int) that contains the number of years each employee has worked for the company.</p>
<p><br></p>
<h3 id="problem-4.1">Problem 4.1</h3>
<p>Suppose that the code <code>employees.sort_values(by='years', ascending=False).index[0]</code> outputs <code>'2476'</code>.</p>
<p>True or False: The number of years that employee 2476 has worked for the company is greater than the number of years that any other employee has worked for the company.</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> True</p></li>
<li><p><input type="radio" disabled="" /> False</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading4_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse4_1" aria-expanded="true" aria-controls="collapse4_1">
Click to view the solution.
</button>
</h2>
<div id="collapse4_1" class="accordion-collapse collapse collapse" aria-labelledby="heading4_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer: </strong> False</p>
<p>This is false because there could be other employees who worked at the company equally long as employee 2476.</p>
<p>The code says that when the <code>employees</code> DataFrame is sorted in descending order of <code>'years'</code>, employee 2476 is in the first row. There might, however, be a tie among several employees for their value of <code>'years'</code>. In that case, employee 2476 may wind up in the first row of the sorted DataFrame, but we cannot say that the number of years employee 2476 has worked for the company is greater than the number of years that any other employee has worked for the company.</p>
<p>If the statement had said <em>greater than or equal to</em> instead of <em>greater than</em>, the statement would have been true</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-4.2">Problem 4.2</h3>
<p>What will be the output of the following code? <code>employees.assign(start=2021-employees.get('years')) employees.sort_values(by='start').index.iloc[-1]</code></p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> the employee id of an employee who has worked there for the most years</p></li>
<li><p><input type="radio" disabled="" /> the employee id of an employee who has worked there for the fewest years</p></li>
<li><p><input type="radio" disabled="" /> an error message complaining about <code>iloc[-1]</code></p></li>
<li><p><input type="radio" disabled="" /> an error message complaining about something else</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading4_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse4_2" aria-expanded="true" aria-controls="collapse4_2">
Click to view the solution.
</button>
</h2>
<div id="collapse4_2" class="accordion-collapse collapse collapse" aria-labelledby="heading4_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer: </strong> an error message complaining about something else</p>
<p>The problem is that the first line of code does not actually add a new column to the <code>employees</code> DataFrame because the expression is not saved. So the second line tries to sort by a column, <code>'start'</code>, that doesn’t exist in the <code>employees</code> DataFrame and runs into an error when it can’t find a column by that name.</p>
<p>This code also has a problem with <code>iloc[-1]</code>, since <code>iloc</code> cannot be used on the index, but since the problem with the missing <code>'start'</code> column is encountered first, that will be the error message displayed.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="problem-5">Problem 5</h2>
<p>Suppose <code>df</code> is a DataFrame and <code>b</code> is any boolean array whose length is the same as the number of rows of <code>df</code>.</p>
<p>True or False: For any such boolean array <code>b</code>, <code>df[b].shape[0]</code> is less than or equal to <code>df.shape[0]</code>.</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> True</p></li>
<li><p><input type="radio" disabled="" /> False</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading5">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse5" aria-expanded="true" aria-controls="collapse5">
Click to view the solution.
</button>
</h2>
<div id="collapse5" class="accordion-collapse collapse collapse" aria-labelledby="heading5" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer: </strong> True</p>
<p>The brackets in <code>df[b]</code> perform a query, or filter, to keep only the rows of <code>df</code> for which <code>b</code> has a <code>True</code> entry. Typically, <code>b</code> will come from some condition, such as the entry in a certain column of <code>df</code> equaling a certain value. Regardless, <code>df[b]</code> contains a subset of the rows of <code>df</code>, and <code>.shape[0]</code> counts the number of rows, so <code>df[b].shape[0]</code> must be less than or equal to <code>df.shape[0]</code>.</p>
</div>
</div>
</div>
</div>
<hr />
<h2 id="problem-6">Problem 6</h2>
<p>You are given a DataFrame called <code>books</code> that contains columns <code>author</code> (string), <code>title</code> (string), <code>num_chapters</code> (int), and <code>publication_year</code> (int).</p>
<p>Suppose that after doing <code>books.groupby('Author').max()</code>, one row says</p>
<table>
<thead>
<tr class="header">
<th>author</th>
<th>title</th>
<th>num_chapters</th>
<th>publication_year</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Charles Dickens</td>
<td>Oliver Twist</td>
<td>53</td>
<td>1838</td>
</tr>
</tbody>
</table>
<p><br></p>
<h3 id="problem-6.1">Problem 6.1</h3>
<p>Based on this data, can you conclude that “Charles Dickens” is the alphabetically last of all names listed in this dataset?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> Yes</p></li>
<li><p><input type="radio" disabled="" /> No</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading6_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse6_1" aria-expanded="true" aria-controls="collapse6_1">
Click to view the solution.
</button>
</h2>
<div id="collapse6_1" class="accordion-collapse collapse collapse" aria-labelledby="heading6_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer: </strong> No</p>
<p>When we group by <code>'Author'</code>, all books by the same author get aggregated together into a single row. The aggregation function is applied separately to each other column besides the column we’re grouping by. Since we’re grouping by <code>'Author'</code> here, the <code>'Author'</code>column never has the <code>max()</code> function applied to it. Instead, unique value in the <code>'Author'</code> column becomes a value in the index of the grouped DataFrame. We are told that the Charles Dickens row is just one row of the output, but we don’t know anything about the other rows of the output, or the other authors. We can’t say anything about where Charles Dickens falls when authors are ordered alphabetically (but it’s probably not last!)</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-6.2">Problem 6.2</h3>
<p>Based on this data, can you conclude that Charles Dickens wrote <em>Oliver Twist</em>?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> Yes</p></li>
<li><p><input type="radio" disabled="" /> No</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading6_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse6_2" aria-expanded="true" aria-controls="collapse6_2">
Click to view the solution.
</button>
</h2>
<div id="collapse6_2" class="accordion-collapse collapse collapse" aria-labelledby="heading6_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer: </strong> Yes</p>
<p>Grouping by <code>'Author'</code> collapses all books written by the same author into a single row. Since we’re applying the <code>max()</code> function to aggregate these books, we can conclude that <em>Oliver Twist</em> is alphabetically last among all books in the <code>books</code> DataFrame written by Charles Dickens. So Charles Dickens did write <em>Oliver Twist</em> based on this data.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-6.3">Problem 6.3</h3>
<p>Based on this data, can you conclude that “Oliver Twist” has 53 chapters?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> Yes</p></li>
<li><p><input type="radio" disabled="" /> No</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading6_3">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse6_3" aria-expanded="true" aria-controls="collapse6_3">
Click to view the solution.
</button>
</h2>
<div id="collapse6_3" class="accordion-collapse collapse collapse" aria-labelledby="heading6_3" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer: </strong> No</p>
<p>The key to this problem is that <code>groupby</code> applies the aggregation function, <code>max()</code> in this case, independently to each column. The output should be interpreted as follows:</p>
<ul>
<li>Among all books in <code>books</code> written by Charles Dickens, <em>Oliver Twist</em> is the title that is alphabetically last.</li>
<li>Among all books in <code>books</code> written by Charles Dickens, 53 is the greatest number of chapters.</li>
<li>Among all books in <code>books</code> written by Charles Dickens, 1838 is the latest year of publication.</li>
</ul>
<p>However, the book titled <em>Oliver Twist</em> and the book with 53 chapters and the book published in 1838 are not necessarily all the same book. We cannot conclude, based on this data, that <em>Oliver Twist</em> has 53 chapters.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-6.4">Problem 6.4</h3>
<p>Based on this data, can you conclude that Charles Dickens wrote a book with 53 chapters that was published in 1838?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> Yes</p></li>
<li><p><input type="radio" disabled="" /> No</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading6_4">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse6_4" aria-expanded="true" aria-controls="collapse6_4">
Click to view the solution.
</button>
</h2>
<div id="collapse6_4" class="accordion-collapse collapse collapse" aria-labelledby="heading6_4" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer: </strong> No</p>
<p>As explained in the previous question, the <code>max()</code> function is applied separately to each column, so the book written by Charles Dickens with 53 chapters may not be the same book as the book written by Charles Dickens published in 1838.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="problem-7">Problem 7</h2>
<p>Give an example of a dataset and a question you would want to answer about that dataset which you would answer by grouping with subgroups (using multiple columns in the <code>groupby</code> command). Explain how you would use the <code>groupby</code> command to answer your question.</p>
<p>Creative responses that are different than ones we’ve already seen in this class will earn the most credit.</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading7">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse7" aria-expanded="true" aria-controls="collapse7">
Click to view the solution.
</button>
</h2>
<div id="collapse7" class="accordion-collapse collapse collapse" aria-labelledby="heading7" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer: </strong> There are many possible correct answers. Below are some student responses that earned full credit.</p>
</div>
</div>
</div>
</div>
<hr />
<h2 id="problem-8">Problem 8</h2>
<p>Which of the following best describes the input and output types of the <code>.apply</code> Series method?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> input: string, output: Series</p></li>
<li><p><input type="radio" disabled="" /> input: Series, output: function</p></li>
<li><p><input type="radio" disabled="" /> input: function, output: Series</p></li>
<li><p><input type="radio" disabled="" /> input: function, output: function</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading8">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse8" aria-expanded="true" aria-controls="collapse8">
Click to view the solution.
</button>
</h2>
<div id="collapse8" class="accordion-collapse collapse collapse" aria-labelledby="heading8" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer: </strong> input: function, output: Series</p>
<p>It helps to think of an example of how we typically use <code>.apply</code>. Consider the <code>books</code> DataFrame from question 6 and a function called <code>year_to_century</code> that converts a year to the century it belongs to. We might use <code>.apply</code> as follows:</p>
<p><code>books.assign(publication_century = books.get('publication_year').apply(year_to_century))</code></p>
<p><code>.apply</code> is called a Series method because we use it on a Series, in this case that Series is <code>books.get('publication_year')</code>. <code>.apply</code> takes one input, which is the name of the function we wish to apply to each element of the Series. In the example above, that function is <code>year_to_century</code>. The result is a Series containing the centuries for each book in the <code>books</code> DataFrame, which we can then assign back as a new column to the DataFrame. So <code>.apply</code> therefore takes as input a function and outputs a Series.</p>
</div>
</div>
</div>
</div>
<hr />
<h2 id="problem-9">Problem 9</h2>
<p>You are given a DataFrame called <code>restaurants</code> that contains information on a variety of local restaurants’ daily number of customers and daily income. There is a row for each restaurant for each date in a given five-year time period.</p>
<p>The columns of <code>restaurants</code> are <code>name</code> (string), <code>year</code> (int), <code>month</code> (int), <code>day</code> (int), <code>num_diners</code> (int), and <code>income</code> (float).</p>
<p>Assume that in our data set, there are not two different restaurants that go by the same <code>name</code> (chain restaurants, for example).</p>
<p><br></p>
<h3 id="problem-9.1">Problem 9.1</h3>
<p>What type of visualization would be best to display the data in a way that helps to answer the question “Do more customers bring in more income?”</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> scatterplot</p></li>
<li><p><input type="radio" disabled="" /> line plot</p></li>
<li><p><input type="radio" disabled="" /> bar chart</p></li>
<li><p><input type="radio" disabled="" /> histogram</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading9_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse9_1" aria-expanded="true" aria-controls="collapse9_1">
Click to view the solution.
</button>
</h2>
<div id="collapse9_1" class="accordion-collapse collapse collapse" aria-labelledby="heading9_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer: </strong> scatterplot</p>
<p>The number of customers is given by <code>num_diners</code> which is an integer, and <code>income</code> is a float. Since both are numerical variables, neither of which represents time, it is most appropriate to use a scatterplot.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-9.2">Problem 9.2</h3>
<p>What type of visualization would be best to display the data in a way that helps to answer the question “Have restaurants’ daily incomes been declining over time?”</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> scatterplot</p></li>
<li><p><input type="radio" disabled="" /> line plot</p></li>
<li><p><input type="radio" disabled="" /> bar chart</p></li>
<li><p><input type="radio" disabled="" /> histogram</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading9_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse9_2" aria-expanded="true" aria-controls="collapse9_2">
Click to view the solution.
</button>
</h2>
<div id="collapse9_2" class="accordion-collapse collapse collapse" aria-labelledby="heading9_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer: </strong> line plot</p>
<p>Since we want to plot a trend of a numerical quantity (<code>income</code>) over time, it is best to use a line plot.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="problem-10">Problem 10</h2>
<p>You have a DataFrame called <code>prices</code> that contains information about food prices at 18 different grocery stores. There is column called <code>'broccoli'</code> that contains the price in dollars for one pound of broccoli at each grocery store. There is also a column called <code>'ice_cream'</code> that contains the price in dollars for a pint of store-brand ice cream.</p>
<p><br></p>
<h3 id="problem-10.1">Problem 10.1</h3>
<p>What should <code>type(prices.get('broccoli').iloc[0])</code> output?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> int</p></li>
<li><p><input type="radio" disabled="" /> float</p></li>
<li><p><input type="radio" disabled="" /> array</p></li>
<li><p><input type="radio" disabled="" /> Series</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading10_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse10_1" aria-expanded="true" aria-controls="collapse10_1">
Click to view the solution.
</button>
</h2>
<div id="collapse10_1" class="accordion-collapse collapse collapse" aria-labelledby="heading10_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer: </strong> float</p>
<p>This code extracts the first entry of the <code>'broccoli'</code> column. Since this column contains prices in dollars for a pound of broccoli, it makes sense to represent such a price using a float, because the price of a pound of broccoli is not necessarily an integer.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-10.2">Problem 10.2</h3>
<p>The code <code>prices.plot(kind='hist', y='broccoli', bins=np.arange(0.8, 2.11, 0.1), density=True)</code> produces the histogram below.</p>
<p>How many grocery stores sold broccoli for a price greater than or equal to $1.30 per pound, but less than $1.40 per pound (the tallest bar)?</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading10_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse10_2" aria-expanded="true" aria-controls="collapse10_2">
Click to view the solution.
</button>
</h2>
<div id="collapse10_2" class="accordion-collapse collapse collapse" aria-labelledby="heading10_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer: </strong> 4 grocery stores</p>
<p>We are given that the bins start at 0.8 and have a width of 0.1, which means one of the bins has endpoints 1.3 and 1.4. This bin (the tallest bar) includes all grocery stores that sold broccoli for a price greater than or equal to $1.30 per pound, but less than $1.40 per pound.</p>
<p>This bar has a width of 0.1 and we’d estimate the height to be around 2.2, though we can’t say exactly. Multiplying these values, the area of the bar is about 0.22, which means about 22 percent of the grocery stores fall into this bin. There are 18 grocery stores in total, as we are told in the introduction to this question. We can compute using a calculator that 22 percent of 18 is 3.96. Since the actual number of grocery stores this represents must be a whole number, this bin must represent 4 grocery stores.</p>
<p>The reason for the slight discrepancy between 3.96 and 4 is that we used 2.2 for the height of the bar, a number that we determined by eye. We don’t know the exact height of the bar. It is reassuring to do the calculation and get a value that’s very close to an integer, since we know the final answer must be an integer.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-10.3">Problem 10.3</h3>
<p>Suppose we now plot the same data with different bins, using the code <code>prices.plot(kind='hist', y='broccoli', bins=[0.8, 1, 1.1, 1.5, 1.8, 1.9, 2.5], density=True)</code>.</p>
<p>What would be the height on the y-axis for the bin corresponding to the interval <span class="math inline">[\$1.10, \$1.50)</span>? Input your answer below.</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading10_3">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse10_3" aria-expanded="true" aria-controls="collapse10_3">
Click to view the solution.
</button>
</h2>
<div id="collapse10_3" class="accordion-collapse collapse collapse" aria-labelledby="heading10_3" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer: </strong> 1.25</p>
<p>First we need to figure out how many grocery stores the bin <span class="math inline">[\$1.10, \$1.50)</span> contains. We already know from the previous subpart that there are four grocery stores in the bin <span class="math inline">[\$1.30, \$1.40)</span>. We could do similar calculations to find the number of grocery stores in each of these bins:</p>
<ul>
<li><span class="math inline">[\$1.10, \$1.20)</span></li>
<li><span class="math inline">[\$1.20, \$1.30)</span></li>
<li><span class="math inline">[\$1.30, \$1.40)</span></li>
<li><span class="math inline">[\$1.40, \$1.50)</span></li>
</ul>
<p>However, it’s much simpler and faster to use the fact that when the bins are all equally wide, the height of a bar is proportional to the number of data values it contains. So looking at the histogram in the previous subpart, since we know the <span class="math inline">[\$1.30, \$1.40)</span> bin contains 4 grocery stores, then the <span class="math inline">[\$1.10, \$1.20)</span> bin must contain 1 grocery store, since it’s only a quarter as tall. Again, we’re taking advantage of the fact that there must be an integer number of grocery stores in each bin when we say it’s 1/4 as tall. Our only options are 1/4, 1/2, or 3/4 as tall, and among those choices, it’s clear.</p>
<p>Therefore, by looking at the relative heights of the bars, we can quickly determine the number of grocery stores in each bin:</p>
<ul>
<li><span class="math inline">[\$1.10, \$1.20)</span>: 1 grocery store</li>
<li><span class="math inline">[\$1.20, \$1.30)</span>: 3 grocery stores</li>
<li><span class="math inline">[\$1.30, \$1.40)</span>: 4 grocery stores</li>
<li><span class="math inline">[\$1.40, \$1.50)</span>: 1 grocery store</li>
</ul>
<p>Adding these numbers together, this means there are 9 grocery stores whose broccoli prices fall in the interval <span class="math inline">[\$1.10, \$1.50)</span>. In the new histogram, these 9 grocery stores will be represented by a bar of width <span class="math inline">1.50-1.10 = 0.4</span>. The area of the bar should be <span class="math inline">\frac{9}{18} = 0.5</span>. Therefore the height must be <span class="math inline">\frac{0.5}{0.4} = 1.25.</span></p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-10.4">Problem 10.4</h3>
<p>part d here</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading10_4">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse10_4" aria-expanded="true" aria-controls="collapse10_4">
Click to view the solution.
</button>
</h2>
<div id="collapse10_4" class="accordion-collapse collapse collapse" aria-labelledby="heading10_4" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer: </strong></p>
<p>solution here</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-10.5">Problem 10.5</h3>
<p>part e here</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading10_5">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse10_5" aria-expanded="true" aria-controls="collapse10_5">
Click to view the solution.
</button>
</h2>
<div id="collapse10_5" class="accordion-collapse collapse collapse" aria-labelledby="heading10_5" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer: </strong></p>
<p>solution here</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-10.6">Problem 10.6</h3>
<p>part f here</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading10_6">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse10_6" aria-expanded="true" aria-controls="collapse10_6">
Click to view the solution.
</button>
</h2>
<div id="collapse10_6" class="accordion-collapse collapse collapse" aria-labelledby="heading10_6" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer: </strong></p>
<p>solution here</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<p><span class="math display"> </span></p>
</body>
</html>
