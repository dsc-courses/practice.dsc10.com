<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>Fall 2023 Final Exam</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    /* The extra [class] is a hack that increases specificity enough to
       override a similar rule in reveal.js */
    ul.task-list[class]{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      font-size: inherit;
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      {   }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span.al { color: #ff0000; font-weight: bold; } /* Alert */
    code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
    code span.at { color: #7d9029; } /* Attribute */
    code span.bn { color: #40a070; } /* BaseN */
    code span.bu { color: #008000; } /* BuiltIn */
    code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #4070a0; } /* Char */
    code span.cn { color: #880000; } /* Constant */
    code span.co { color: #60a0b0; font-style: italic; } /* Comment */
    code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
    code span.do { color: #ba2121; font-style: italic; } /* Documentation */
    code span.dt { color: #902000; } /* DataType */
    code span.dv { color: #40a070; } /* DecVal */
    code span.er { color: #ff0000; font-weight: bold; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #40a070; } /* Float */
    code span.fu { color: #06287e; } /* Function */
    code span.im { color: #008000; font-weight: bold; } /* Import */
    code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
    code span.kw { color: #007020; font-weight: bold; } /* Keyword */
    code span.op { color: #666666; } /* Operator */
    code span.ot { color: #007020; } /* Other */
    code span.pp { color: #bc7a00; } /* Preprocessor */
    code span.sc { color: #4070a0; } /* SpecialChar */
    code span.ss { color: #bb6688; } /* SpecialString */
    code span.st { color: #4070a0; } /* String */
    code span.va { color: #19177c; } /* Variable */
    code span.vs { color: #4070a0; } /* VerbatimString */
    code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="..\assets\theme.css" />
  <script defer=""
  src="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.js"></script>
  <script>document.addEventListener("DOMContentLoaded", function () {
 var mathElements = document.getElementsByClassName("math");
 var macros = [];
 for (var i = 0; i < mathElements.length; i++) {
  var texText = mathElements[i].firstChild;
  if (mathElements[i].tagName == "SPAN") {
   katex.render(texText.data, mathElements[i], {
    displayMode: mathElements[i].classList.contains('display'),
    throwOnError: false,
    macros: macros,
    fleqn: false
   });
}}});
  </script>
  <link rel="stylesheet"
  href="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.css" />
</head>
<body>
<header id="title-block-header">
<h1 class="title">Fall 2023 Final Exam</h1>
</header>
<p><link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
<!-- add after bootstrap.min.css -->
<link rel="stylesheet" href="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.css"/>
<!-- add after bootstrap.min.js or bootstrap.bundle.min.js -->
<script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script></p>
<!-- for difficulty gauges-->
<script src="https://cdn.plot.ly/plotly-2.16.1.min.js"></script>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-B947E6J6H4"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-B947E6J6H4');
</script>
<p><a href="../index.html">← return to practice.dsc10.com</a></p>
<hr />
<p><strong>Instructor(s):</strong> Rod Albuyeh, Suraj Rampure, Janine
Tiefenbruck</p>
<p>This exam was administered in-person. The exam was closed-notes,
except students were provided a copy of the <a
href="https://drive.google.com/file/d/1ky0Np67HS2O4LO913P-ing97SJG0j27n/view">DSC
10 Reference Sheet</a>. No calculators were allowed. Students had
<strong>3 hours</strong> to take this exam.</p>
<hr />
<h1 id="data-overview-fraudulent-transactions">Data Overview: Fraudulent
Transactions</h1>
<p>Today, we’re diving into the high-stakes world of fraud detection.
Each row in the DataFrame <code>txn</code> represents one online
transaction, or purchase. The <code>txn</code> DataFrame is indexed by
<code>"transaction_id" (int)</code>, which is a unique identifier for a
transaction. The columns of <code>txn</code> are as follows:</p>
<ul>
<li><code>"is_fraud" (bool)</code>: <code>True</code> if the transaction
was fraudulent and <code>False</code> if not.</li>
<li><code>"amount" (float)</code>: The dollar amount of the
transaction.</li>
<li><code>"method" (str)</code>: The payment method; either
<code>"debit"</code> or <code>"credit"</code>.</li>
<li><code>"card" (str)</code>: The payment network of the card used for
the transaction; either <code>"visa"</code>, <code>"mastercard"</code>,
<code>"american express"</code>, or <code>"discover"</code>.</li>
<li><code>"lifetime" (float)</code>: The total transaction amount of all
transactions made with this card over its lifetime.</li>
<li><code>"browser" (str)</code>: The web browser used for the online
transaction. There are 100 distinct browser types in this column; some
examples include <code>"samsung browser 6.2"</code>,
<code>"mobile safari 11.0"</code>, and <code>"chrome 62.0"</code>.</li>
</ul>
<p>The first few rows of <code>txn</code> are shown below, though
<code>txn</code> has 140,000 rows in total. Assume that the data in
<code>txn</code> is a simple random sample from the much larger
population of <strong>all</strong> online transactions.</p>
<center><img src='../assets/images/fa23-final/final-data-info.png' width=800></center>
<p>Throughout this exam, assume that we have already run
<code>import babypandas as bpd</code> and
<code>import numpy as np</code>.</p>
<hr />
<h2 id="problem-1">Problem 1</h2>
<p><br></p>
<h3 id="problem-1.1">Problem 1.1</h3>
<p>Nate’s favorite number is 5. He calls a number “lucky” if it’s
greater than 500 or if it contains a 5 anywhere in its representation.
For example, <code>1000.04</code> and <code>5.23</code> are both lucky
numbers.</p>
<p>Complete the implementation of the function <code>check_lucky</code>,
which takes in a number as a float and returns <code>True</code> if it
is lucky and <code>False</code> otherwise. Then, add a column named
<code>"is_lucky"</code> to <code>txn</code> that contains
<code>True</code> for lucky transaction amounts and <code>False</code>
for all other transaction amounts, and save the resulting DataFrame to
the variable <code>luck</code>.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>        <span class="kw">def</span> check_lucky(x):</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>            <span class="cf">return</span> __(a)__</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>        luck <span class="op">=</span> txn.assign(is_lucky <span class="op">=</span> __(b)__)</span></code></pre></div>
<ol type="1">
<li><p>What goes in blank (a)?</p></li>
<li><p>What goes in blank (b)?</p></li>
</ol>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading1_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse1_1" aria-expanded="true" aria-controls="collapse1_1">
Click to view the solution.
</button>
</h2>
<div id="collapse1_1" class="accordion-collapse collapse"
aria-labelledby="heading1_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> (a):
<code>x &gt; 500 or "5" in str(x)</code>, (b):
<code>txn.get("amount").apply(check_lucky)</code></p>
<p>(a): We want this function to return <code>True</code> if the number
is lucky (greater than 500 or if it has a 5 in it). Checking the first
condition is easy, we can simply use x &gt; 500. To check the second
condition, we’ll convert the number to a string so that we can check
whether it contains <code>"5"</code> using the <code>in</code> keyword.
Once we have these two conditions written out, we can combine them with
the <code>or</code> keyword, since either one is enough for the number
to be considered lucky. This gives us the full statement
<code>x &gt; 500 or "5" in str(x)</code>. Since this will evaluate to
<code>True</code> if and only if the number is lucky, this is all we
need in the return statement.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 51%.</p>
<p><br/><br/></p>
<p>(b): Now that we have the i<code>s_lucky</code> function, we want to
use it to find if each number in the <code>amount</code> column is lucky
or not. To do this, we can use <code>.apply()</code> to apply the
function elementwise (row-by-row) to the <code>"amount"</code> column,
which will create a new Series of Booleans indicating if each element in
the <code>"amount"</code> column is lucky.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 86%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-1.2">Problem 1.2</h3>
<p>Fill in the blanks below so that <code>lucky_prop</code> evaluates to
the proportion of fraudulent <code>"visa"</code> card transactions whose
transaction amounts are lucky.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>    visa_fraud <span class="op">=</span> __(a)__</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>    lucky_prop <span class="op">=</span> visa_fraud.__(b)__.mean()</span></code></pre></div>
<ol type="1">
<li><p>What goes in blank (a)?</p></li>
<li><p>What goes in blank (b)?</p></li>
</ol>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading1_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse1_2" aria-expanded="true" aria-controls="collapse1_2">
Click to view the solution.
</button>
</h2>
<div id="collapse1_2" class="accordion-collapse collapse"
aria-labelledby="heading1_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> (a):
<code>luck[(luck.get("card")=="visa") &amp; (luck.get("is_fraud"))]</code>,
(b): <code>get("is_lucky")</code></p>
<p>(a): The first step in this question is to query the DataFrame so
that we have only the rows which are fraudulent transactions from “visa”
cards. <code>luck.get("card")=="visa"</code> evaluates to
<code>True</code> if and only if the transaction was from a Visa card,
so this is the first part of our condition. To find transactions which
were fraudulent, we can simply find the rows with a value of
<code>True</code> in the <code>"is_fraud"</code> column. We can do this
with <code>luck.get("is_fraud")</code>, which is equivalent to
<code>luck.get("is_fraud") == True</code> in this case since the
<code>"is_fraud"</code> column only contains Trues and Falses. Since we
want only the rows where both of these conditions hold, we can combine
these two conditions with the logical <code>&amp;</code> operator, and
place this inside of square brackets to query the luck DataFrame for
only the rows where both conditions are true, giving us
<code>luck[(luck.get("card")=="visa") &amp; (luck.get("is fraud")]</code>.
Note that we use the <code>&amp;</code> instead of the keyword
<code>and</code> since <code>&amp;</code> is used for elementwise
comparisons between two Series, like we’re doing here, whereas the
<code>and</code> keyword is used for comparing two Booleans (not two
Series containing Booleans).</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 52%.</p>
<p>(b): We already have a Boolean column <code>is_lucky</code>
indicating if each transaction had a lucky amount. Recall that booleans
are equivalent to 1s and 0s, where 1 represents true and 0 represents
false, so to find the proportion of lucky amounts we can simply take the
mean of the is_lucky column. The reason that taking the mean is
equivalent to finding the proportion of lucky amounts comes from the
definition of the mean: the sum of all values divided by the number of
entries. If all entries are ones and zeros, then summing the values is
equivalent to counting the number of ones (Trues) in the Series.
Therefore, the mean will be given by the number of Trues divided by the
length of the Series, which is exactly the proportion of lucky numbers
in the column.</p>
<p></p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>The average score on this problem
was 61%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-1.3">Problem 1.3</h3>
<p>Fill in the blanks below so that <code>lucky_prop</code> is one value
in the Series <code>many_props</code>.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>    many_props <span class="op">=</span> luck.groupby(__(a)__).mean().get(__(b)__)</span></code></pre></div>
<ol type="1">
<li><p>What goes in blank (a)?</p></li>
<li><p>What goes in blank (b)?</p></li>
</ol>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading1_3">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse1_3" aria-expanded="true" aria-controls="collapse1_3">
Click to view the solution.
</button>
</h2>
<div id="collapse1_3" class="accordion-collapse collapse"
aria-labelledby="heading1_3" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> (a): <code>[""card"", "is_fraud"]</code>,
(b): <code>"is_lucky"</code></p>
<p>(a): <code>lucky_prop</code> is the proportion of fraudulent “visa”
card transactions that have a lucky amount. The idea is to create a
Series with the proportions of fraudulent or non-fraudulent transactions
from each card type that have a lucky amount. To do this, we’ll want to
group by the column that describes the card type (<code>"card"</code>),
and the column that describes whether a transaction is fraudulent
(<code>"is_fraud"</code>). Putting this in the proper syntax for a
<code>groupby</code> with multiple columns, we have
<code>["card", "is_fraud"]</code>. The order doesn’t matter, so
<code>["is_fraud", ""card""]</code> is also correct.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 55%.</p>
<p>(b): Once we have this grouped DataFrame, we know that the entry in
each column will be the mean of that column for some combination of
<code>"is_fraud"</code> and <code>"method"</code>. And, since
<code>"is_lucky"</code> contains Booleans, we know that this mean is
equivalent to the proportion of transactions which were lucky for each
<code>"is_fraud"</code> and <code>"method"</code> combination. One such
combination is fraudulent “visa” transactions, so
<code>lucky_prop</code> is one element of this Series.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 67%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="problem-2">Problem 2</h2>
<p>Consider the DataFrame <code>combo</code>, defined below.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>    combo <span class="op">=</span> txn.groupby([<span class="st">&quot;is_fraud&quot;</span>, <span class="st">&quot;method&quot;</span>, <span class="st">&quot;card&quot;</span>]).mean()</span></code></pre></div>
<p><br></p>
<h3 id="problem-2.1">Problem 2.1</h3>
<p>What is the maximum possible value of <code>combo.shape[0]</code>?
Give your answer as an integer.</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading2_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse2_1" aria-expanded="true" aria-controls="collapse2_1">
Click to view the solution.
</button>
</h2>
<div id="collapse2_1" class="accordion-collapse collapse"
aria-labelledby="heading2_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> 16</p>
<p><code>combo.shape[0]</code> will give us the number of rows of the
<code>combo</code> DataFrame. Since we’re grouping by
<code>"is_fraud"</code>, <code>"method"</code>, and <code>"card"</code>,
we will have one row for each unique combination of values in these
columns. There are 2 possible values for <code>"is_fraud"</code>, 2
possible values for <code>"method"</code>, and 2 possible values for
<code>"card"</code>, so the total number of possibilities is 2 * 2 * 4 =
16. This is the maximum number possible because 16 combinations of
<code>"is_fraud"</code>, <code>"method"</code>, and <code>"card"</code>
are possible, but they may not all exist in the data.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 75%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-2.2">Problem 2.2</h3>
<p>What is the value of <code>combo.shape[1]</code>?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> 1</p></li>
<li><p><input type="radio" disabled="" /> 2</p></li>
<li><p><input type="radio" disabled="" /> 3</p></li>
<li><p><input type="radio" disabled="" /> 4</p></li>
<li><p><input type="radio" disabled="" /> 5</p></li>
<li><p><input type="radio" disabled="" /> 6</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading2_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse2_2" aria-expanded="true" aria-controls="collapse2_2">
Click to view the solution.
</button>
</h2>
<div id="collapse2_2" class="accordion-collapse collapse"
aria-labelledby="heading2_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> 2</p>
<p><code>combo.shape[1]</code> will give us the number of columns of the
DataFrame. In this case, we’re using <code>.mean()</code> as our
aggregation function, so the resulting DataFrame will only have columns
with numeric types (since BabyPandas automatically ignores columns which
have a data type incompatible with the aggregation function). In this
case, <code>"amount"</code> and <code>"lifetime"</code> are the only
numeric columns, so <code>combo</code> will have 2 columns.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 47%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="problem-3">Problem 3</h2>
<p>Consider the variable <code>is_fraud_mean</code>, defined below.</p>
<pre><code>is_fraud_mean = txn.get(&quot;is_fraud&quot;).mean()</code></pre>
<p>Which of the following expressions are equivalent to
<code>is_fraud_mean</code>? <strong>Select all that apply.</strong></p>
<ul class="task-list">
<li><p><input type="checkbox" disabled="" /> <code>txn.groupby("is_fraud").mean()</code></p></li>
<li><p><input type="checkbox" disabled="" /> <code>txn.get("is_fraud").sum() / txn.shape[0]</code></p></li>
<li><p><input type="checkbox" disabled="" /> <code>np.count_nonzero(txn.get("is_fraud")) / txn.shape[0]</code></p></li>
<li><p><input type="checkbox" disabled="" /> <code>(txn.get("is_fraud") &gt; 0.8).mean()</code></p></li>
<li><p><input type="checkbox" disabled="" /> <code>1 - (txn.get("is_fraud") == 0).mean()</code></p></li>
<li><p><input type="checkbox" disabled="" /> None of the above.</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading3">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse3" aria-expanded="true" aria-controls="collapse3">
Click to view the solution.
</button>
</h2>
<div id="collapse3" class="accordion-collapse collapse"
aria-labelledby="heading3" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> B, C, D, and E.</p>
<p>The correct responses are B, C, D, and E. First, we must see that
<code>txn.get("is_fraud").mean()</code> will calculate the mean of the
<code>"is_fraud"</code> column, which is a float representing the
proportion of values in the <code>"is_fraud"</code> column that are
True. With this in mind, we can consider each option:</p>
<ul>
<li><p>Option A: This operation will result in a DataFrame. We first
group by <code>"is_fraud"</code>, creating one row for fraudulent
transactions and one row for non-fraudulent ones. We then take the mean
of each numerical column, which will determine the entries of the
DataFrame. Since this results in a DataFrame and not a float, this
answer choice cannot be correct.</p></li>
<li><p>Option B: Here we simply take the mean of the
<code>"is_fraud"</code> column using the definition of the mean as the
sum of the values divided by the nuber of values. This is equivalent to
the original.</p></li>
<li><p>Option C: <code>np.count_nonzero</code> will return the number of
nonzero values in a sequence. Since we only have True and False values
in the <code>"is_fraud"</code> column, and Python considers
<code>True</code> to be 1 and <code>False</code> to be 0, this means
counting the number of ones is equivalent to the sum of all the values.
So, we end up with an expression equivalent to the formula for the mean
which we saw in part B.</p></li>
<li><p>Option D: Recall that <code>"is_fraud"</code> contains Boolean
values, and that <code>True</code> evaluates to 1 and <code>False</code>
evaluates to 0. <code>txn.get("is_fraud") &gt; 0.8</code> conducts an
elementwise comparison, evaluating if each value in the column is
greater than 0.8, and returning the resulting Series of Booleans. Any
<code>True</code> (1) value in the column will be greater than 0.8, so
this expression will evaluate to <code>True</code>. Any
<code>False</code> (0) value will still evaluate to <code>False</code>,
so the values in the resulting Series will be identical to the original
column. Therefore, taking the mean of either will give the same
value.</p></li>
<li><p>Option E: <code>txn.get("is_fraud") == 0</code> performs an
elementwise comparison, returning a series which has the value
<code>True</code> where <code>"is_fraud"</code> is <code>False</code>
(0), and <code>False</code> where <code>"is_fraud"</code> is
<code>True</code>. Therefore the mean of this Series represents the
proportion of values in the <code>"is_fraud"</code> column that are
<code>False</code>. Since every value in that column is either
<code>False</code> or <code>True</code>, the proportion of
<code>True</code> values is equivalent to one minus the proportion of
<code>False</code> values.</p></li>
</ul>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 69%.</p>
</div>
</div>
</div>
</div>
<hr />
<h2 id="problem-4">Problem 4</h2>
<p>The following code block produces a bar chart, which is shown
directly beneath it.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>    (txn.groupby(<span class="st">&quot;browser&quot;</span>).mean()</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>        .sort_values(by<span class="op">=</span><span class="st">&quot;is_fraud&quot;</span>, ascending<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>        .take(np.arange(<span class="dv">10</span>))</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>        .plot(kind<span class="op">=</span><span class="st">&quot;barh&quot;</span>, y<span class="op">=</span><span class="st">&quot;is_fraud&quot;</span>))</span></code></pre></div>
<center><img src='../assets/images/fa23-final/top_ten.jpg' width=800></center>
<p><br></p>
<h3 id="problem-4.1">Problem 4.1</h3>
<p>Based on the above bar chart, what can we conclude about the browser
<code>"icedragon"</code>? <strong>Select all that apply.</strong></p>
<ul class="task-list">
<li><p><input type="checkbox" disabled="" /> In our dataset, <code>"icedragon"</code> is the most frequently used
browser among all transactions.</p></li>
<li><p><input type="checkbox" disabled="" /> In our dataset, <code>"icedragon"</code> is the most frequently used
browser among fraudulent transactions.</p></li>
<li><p><input type="checkbox" disabled="" /> In our dataset, every transaction made with <code>"icedragon"</code>
is fraudulent.</p></li>
<li><p><input type="checkbox" disabled="" /> In our dataset, there are more fraudulent transactions made with
<code>"icedragon"</code> than with any other browser.</p></li>
<li><p><input type="checkbox" disabled="" /> None of the above.</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading4_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse4_1" aria-expanded="true" aria-controls="collapse4_1">
Click to view the solution.
</button>
</h2>
<div id="collapse4_1" class="accordion-collapse collapse"
aria-labelledby="heading4_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> C</p>
<p>First, let’s take a look at what the code is doing. We start by
grouping by browser and taking the mean, so each column will have the
average value of that column for each browser (where each browser is a
row). We then sort in descending order by the <code>"is_fraud"</code>
column, so the browser which has the highest proportion of fraudulent
transactions will be first, and we take first the ten browsers, or those
with the most fraud. Finally, we plot the <code>"is_fraud"</code> column
in a horizontal bar chart. So, our plot shows the proportion of
fraudulent transactions for each browser, and we see that
<code>icedragon</code> has a proportion of 1.0, implying that every
transaction is fraudulent. This makes the third option correct. Since we
don’t have enough information to conclude any of the other options, the
third option is the only correct one.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 83%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-4.2">Problem 4.2</h3>
<p>How can we modify the provided code block so that the bar chart
displays the same information, but with the bars sorted in the opposite
order (i.e. with the longest bar at the top)?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> Change <code>ascending=False</code> to
<code>ascending=True</code>.</p></li>
<li><p><input type="radio" disabled="" /> Add <code>.sort_values(by="is_fraud", ascending=True)</code>
immediately before <code>.take(np.arange(10))</code>.</p></li>
<li><p><input type="radio" disabled="" /> Add <code>.sort_values(by="is_fraud", ascending=True)</code>
immediately after <code>.take(np.arange(10))</code>.</p></li>
<li><p><input type="radio" disabled="" /> None of the above.</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading4_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse4_2" aria-expanded="true" aria-controls="collapse4_2">
Click to view the solution.
</button>
</h2>
<div id="collapse4_2" class="accordion-collapse collapse"
aria-labelledby="heading4_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> C</p>
<p>Let’s analyze each option A: This isn’t correct, because we must
remember that <code>np.take(np.arange(10))</code> takes the rows indexed
0 through 10. And if we change <code>ascending = False</code> to
<code>ascending = True</code>, the rows indexed 0 through 10 won’t be
the same in the resulting DataFrame (since now they’ll be the 10
browsers with the <strong>lowest</strong> fraud rate). B: This will have
the same effect as option A, since it’s being applied before the
<code>np.take()</code> operation C: Once we have the 10 rows with the
highest fraud rate, we can sort them in ascending order in order to
reverse the order of the bars. Since we already have the 10 rows from
the original plot, this option is correct.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 59%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="problem-5">Problem 5</h2>
<p>The DataFrame <code>seven</code>, shown below to the
<strong>left</strong>, consists of a simple random sample of 7 rows from
<code>txn</code>, with just the <code>"is_fraud"</code> and
<code>"amount"</code> columns selected.</p>
<p>The DataFrame <code>locations</code>, shown below to the
<strong>right</strong>, is missing some values in its
<code>"is_fraud"</code> column.</p>
<center><img src='../assets/images/fa23-final/final-merge.png' width=1000></center>
<p><br></p>
<h3 id="problem-5.1">Problem 5.1</h3>
<p>Fill in the blanks to complete the <code>"is_fraud"</code> column of
<code>locations</code> so that the DataFrame
<code>seven.merge(locations, on="is_fraud")</code> has
<strong>19</strong> rows.</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading5_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse5_1" aria-expanded="true" aria-controls="collapse5_1">
Click to view the solution.
</button>
</h2>
<div id="collapse5_1" class="accordion-collapse collapse"
aria-labelledby="heading5_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer</strong> A correct answer has one <code>True</code>
and three <code>False</code> rows.</p>
<p>We’re merging on the <code>"is_fraud"</code> column, so we want to
look at which rows have which values for <code>"is_fraud"</code>. There
are only two possible values (<code>True</code> and <code>False</code>),
and we see that there are two <code>True</code>s and 5
<code>False</code>s in <code>seven</code>. Now, think about what happens
“under the hood” for this merge, and how many rows are created when it
occurs. Python will match each <code>True</code> in <code>seven</code>
with each <code>True</code> in the <code>"is_fraud"</code> column of
<code>location</code>, and make a new row for each such pair. For
example, since Toronto’s row in <code>location</code> has a
<code>True</code> value in <code>location</code>, the merged DataFrame
will have one row where Toronto is matched with the transaction of
$34.92 and one where Toronto is matched with the transaction of $25.07.
More broadly, each <code>True</code> in <code>locations</code> creates 2
rows in the merged DataFrame, and each <code>False</code> in
<code>locations</code> creates 5 rows in the merged DataFrame. The
question now boils down to creating 19 by summing 2s and 5s. Notice that
<span class="math inline">19 = 3\cdot5+2\cdot2</span>. This means we can
achieve the desired 19 rows by making sure the <code>locations</code>
DataFrame has three <code>False</code> rows and two <code>True</code>
rows. Since <code>location</code> already has one <code>True</code>, we
can fill in the remaining spots with three <code>False</code>s and one
<code>True</code>. It doesn’t matter which rows we make
<code>True</code> and which ones we make <code>False</code>, since
either way the merge will produce the same number of rows for each (5
each for every <code>False</code> and 2 each for every
<code>True</code>).</p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 88%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-5.2">Problem 5.2</h3>
<p>True or False: It is possible to fill in the four blanks in the
<code>"is_fraud"</code> column of <code>locations</code> so that the
DataFrame <code>seven.merge(locations, on="is_fraud")</code> has
<strong>14</strong> rows.</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> True</p></li>
<li><p><input type="radio" disabled="" /> False</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading5_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse5_2" aria-expanded="true" aria-controls="collapse5_2">
Click to view the solution.
</button>
</h2>
<div id="collapse5_2" class="accordion-collapse collapse"
aria-labelledby="heading5_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> False</p>
<p>As we discovered by solving problem 5.1, each <code>False</code>
value in <code>locations</code> gives rise to 5 rows of the merged
DataFrame, and each <code>True</code> value gives rise to 2 rows. This
means that the number of rows in the merged DataFrame will be <span class="math inline">m\cdot5 + n\cdot2</span>, where m is the number of
Falses in <code>location</code> and n is the number of
<code>Trues</code> in <code>location</code>. Namely, m and n are
integers that add up to 5. There’s only a few possibilities so we can
try them all, and see that none add up 14:</p>
<ul>
<li><p><span class="math inline">0\cdot5 + 5\cdot2 = 10</span></p></li>
<li><p><span class="math inline">1\cdot5 + 4\cdot2 = 13</span></p></li>
<li><p><span class="math inline">2\cdot5 + 3\cdot2 = 16</span></p></li>
<li><p><span class="math inline">3\cdot5 + 2\cdot2 = 19</span></p></li>
<li><p><span class="math inline">4\cdot5 + 1\cdot2 = 22</span></p></li>
</ul>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 79%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="problem-6">Problem 6</h2>
<p>Aaron wants to explore the discrepancy in fraud rates between
<code>"discover"</code> transactions and <code>"mastercard"</code>
transactions. To do so, he creates the DataFrame <code>ds_mc</code>,
which only contains the rows in <code>txn</code> corresponding to
<code>"mastercard"</code> or <code>"discover"</code> transactions.</p>
<p>After he creates <code>ds_mc</code>, Aaron groups <code>ds_mc</code>
on the <code>"card"</code> column using two different aggregation
methods. The relevant columns in the resulting DataFrames are shown
below.</p>
<center><img src='../assets/images/fa23-final/ds_mc.png' width=800></center>
<p><br></p>
<p>Aaron decides to perform a test of the following pair of
hypotheses:</p>
<ul>
<li><p><strong>Null Hypothesis</strong>: The proportion of fraudulent
<code>"mastercard"</code> transactions is <strong>the same as</strong>
the proportion of fraudulent <code>"discover"</code>
transactions.</p></li>
<li><p><strong>Alternative Hypothesis</strong>: The proportion of
fraudulent <code>"mastercard"</code> transactions is <strong>less
than</strong> the proportion of fraudulent <code>"discover"</code>
transactions.</p></li>
</ul>
<p>As his test statistic, Aaron chooses the <strong>difference in
proportion of transactions that are fraudulent</strong>, in the order
<code>"mastercard"</code> minus <code>"discover"</code>.</p>
<p><br></p>
<h3 id="problem-6.1">Problem 6.1</h3>
<p>What type of statistical test is Aaron performing?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> Standard hypothesis test</p></li>
<li><p><input type="radio" disabled="" /> Permutation test</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading6_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse6_1" aria-expanded="true" aria-controls="collapse6_1">
Click to view the solution.
</button>
</h2>
<div id="collapse6_1" class="accordion-collapse collapse"
aria-labelledby="heading6_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> Permutation test</p>
<p>Permutation tests are used to ascertain whether two samples were
drawn from the same population. Hypothesis testing is used when we have
a single sample and a known population, and want to determine whether
the sample appears to have been drawn from that population. Here, we
have two samples (<code>“mastercard”</code> and <code>“discover”</code>)
and no known population distribution, so a permutation test is the
appropriate test.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 49%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-6.2">Problem 6.2</h3>
<p>What is the value of the observed statistic? Give your answer either
as an exact decimal or simplified fraction.</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading6_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse6_2" aria-expanded="true" aria-controls="collapse6_2">
Click to view the solution.
</button>
</h2>
<div id="collapse6_2" class="accordion-collapse collapse"
aria-labelledby="heading6_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> <span class="math inline">0.02</span></p>
<p>We simply take the difference in fraudulent proportion of
<code>"mastercard"</code> transactions and fraudulent proportion of
discover transactions. There are 4,000 fraudulent
<code>"mastercard"</code> transactions and 40,000 total
<code>"mastercard"</code> transactions, making this proportion for
<code>"mastercard"</code>. Similarly, the proportion of fraudulent
<code>"discover"</code> transactions is <span class="math inline">\frac{160}{2000}</span>. Simplifying these
fractions, the difference between them is <span class="math inline">\frac{1}{10} - \frac{8}{100} = 0.1 - 0.08 =
0.02</span>.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 86%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<p>The empirical distribution of Aaron’s chosen test statistic is shown
below.</p>
<center><img src='../assets/images/fa23-final/null-hyp-dist.png' width=800></center>
<p><br></p>
<h3 id="problem-6.3">Problem 6.3</h3>
<p>Which of the following is closest to the p-value of Aaron’s test?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> 0.001</p></li>
<li><p><input type="radio" disabled="" /> 0.37</p></li>
<li><p><input type="radio" disabled="" /> 0.63</p></li>
<li><p><input type="radio" disabled="" /> 0.94</p></li>
<li><p><input type="radio" disabled="" /> 0.999</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading6_3">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse6_3" aria-expanded="true" aria-controls="collapse6_3">
Click to view the solution.
</button>
</h2>
<div id="collapse6_3" class="accordion-collapse collapse"
aria-labelledby="heading6_3" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> 0.999</p>
<p>Informally, the p-value is the area of the histogram at or past the
observed statistic, further in the direction of the alternative
hypothesis. In this case, the alternative hypothesis is that the
<code>"mastercard"</code> proportion is less than the discover
proportion, and our test statistic is computed in the order
<code>"mastercard"</code> minus <code>"discover"</code>, so low
(negative) values correspond to the alternative. This means when
calculating the p-value, we look at the area to the left of 0.02 (the
observed value). We see that essentially all of the test statistics fall
to the left of this value, so the p-value should be closest to
0.999.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 54%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-6.4">Problem 6.4</h3>
<p>What is the conclusion of Aaron’s test?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> The proportion of fraudulent <code>"mastercard"</code> transactions
is <strong>less than</strong> the proportion of fraudulent
<code>"discover"</code> transactions.</p></li>
<li><p><input type="radio" disabled="" /> The proportion of fraudulent <code>"mastercard"</code> transactions
is <strong>greater than</strong> the proportion of fraudulent
<code>"discover"</code> transactions.</p></li>
<li><p><input type="radio" disabled="" /> The test results are inconclusive.</p></li>
<li><p><input type="radio" disabled="" /> None of the above.</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading6_4">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse6_4" aria-expanded="true" aria-controls="collapse6_4">
Click to view the solution.
</button>
</h2>
<div id="collapse6_4" class="accordion-collapse collapse"
aria-labelledby="heading6_4" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> None of the above</p>
<ul>
<li>Option A: Since the p-value was so high, it’s unlikely that the
proportion of fraudulent <code>"mastercard"</code> transactions is less
than the proportion of fraudulent <code>"discover"</code> transactions,
so we cannot conclude A.</li>
<li>Option B: The test does not allow us to conclude this, because it
was not one of the hypotheses. All we can say is that we don’t think the
alternative hypothesis is true - we can’t say whether any other
statement is true.</li>
<li>Option C: The test did give us valuable information about the
difference in fraud rates: we failed to reject the null hypothesis. So,
the test is conclusive, making option C incorrect. Therefore, option D
(none of the above) is correct.</li>
</ul>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 44%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<p>Aaron now decides to test a slightly different pair of
hypotheses.</p>
<ul>
<li><p><strong>Null Hypothesis</strong>: The proportion of fraudulent
<code>"mastercard"</code> transactions is <strong>the same as</strong>
the proportion of fraudulent <code>"discover"</code>
transactions.</p></li>
<li><p><strong>Alternative Hypothesis</strong>: The proportion of
fraudulent <code>"mastercard"</code> transactions is <strong>greater
than</strong> the proportion of fraudulent <code>"discover"</code>
transactions.</p></li>
</ul>
<p>He uses the same test statistic as before.</p>
<p><br></p>
<h3 id="problem-6.5">Problem 6.5</h3>
<p>Which of the following is closest to the p-value of Aaron’s new
test?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> 0.001</p></li>
<li><p><input type="radio" disabled="" /> 0.06</p></li>
<li><p><input type="radio" disabled="" /> 0.37</p></li>
<li><p><input type="radio" disabled="" /> 0.63</p></li>
<li><p><input type="radio" disabled="" /> 0.94</p></li>
<li><p><input type="radio" disabled="" /> 0.999</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading6_5">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse6_5" aria-expanded="true" aria-controls="collapse6_5">
Click to view the solution.
</button>
</h2>
<div id="collapse6_5" class="accordion-collapse collapse"
aria-labelledby="heading6_5" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> 0.001</p>
<p>Now, we have switched the alternative hypothesis to “
<code>"mastercard"</code> fraud rate is greater than
<code>"discover"</code> fraud rate”, whereas before our alternative
hypothesis was that the <code>"mastercard"</code> fraud rate was less
than <code>"discover"</code>’s fraud rate. We have not changed the way
we calculate the test statistic (<code>"mastercard"</code> minus
<code>"discover"</code>), so now large values of the test statistic
correspond to the alternative hypothesis. So, the area of interest is
the area to the right of 0.02, which is very small, close to 0.001. Note
that this is one minus the p-value we computed before.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 65%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="problem-7">Problem 7</h2>
<p>Jason is interested in exploring the relationship between the browser
and payment method used for a transaction. To do so, he uses
<code>txn</code> to create create three tables, each of which contain
the distribution of browsers used for credit card transactions and the
distribution of browsers used for debit card transactions, but with
different combinations of browsers combined in a single category in each
table.</p>
<center><img src='../assets/images/fa23-final/q7_tables.png' width=400></center>
<p><br></p>
<!-- | **Browser** | **Credit** | **Debit** |
|:--------|:------:|:-----:|
| Chrome  |   ?    |   ?   |
| Safari  |   ?    |   ?   |
| Firefox |   ?    |   ?   |
| Edge    |   ?    |   ?   |
| Other   |   ?    |   ?   |

**Table 2:**

| **Browser** | **Credit** | **Debit** |
|:------------|:----------:|:---------:|
| Chrome      |     ?      |     ?     |
| Safari      |     ?      |     ?     |
| Firefox     |     ?      |     ?     |
| Edge        |     ?      |     ?     |
| Other       |     ?      |     ?     |


**Table 3:**

| **Browser**               | **Credit** | **Debit** |
|:--------------------------|:----------:|:---------:|
| Chrome                    |     ?      |     ?     |
| Safari, Firefox, or Edge |     ?      |     ?     |
| Other                     |     ?      |     ?     | -->
<p>Jason calculates the total variation distance (TVD) between the two
distributions in each of his three tables, but he does not record which
TVD goes with which table. He computed TVDs of 0.14, 0.36, and 0.38.</p>
<p><br></p>
<h3 id="problem-7.1">Problem 7.1</h3>
<p>In which table do the two distributions have a TVD of 0.14?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> Table 1</p></li>
<li><p><input type="radio" disabled="" /> Table 2</p></li>
<li><p><input type="radio" disabled="" /> Table 3</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading7_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse7_1" aria-expanded="true" aria-controls="collapse7_1">
Click to view the solution.
</button>
</h2>
<div id="collapse7_1" class="accordion-collapse collapse"
aria-labelledby="heading7_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> Table 3</p>
<p>Without values in any of the tables, there’s no way to do this
problem computationally. We are told that the three TVDs come out to
0.14, 0.36, and 0.38. The exact numbers are not important but their
relative order is. The key to this problem is noticing that when we
combine two categories into one, the TVD can only decrease, it cannot
increase. One way to see this is to think about combining categories
repeatedly until there’s just one category. Then both distributions must
have a value of 1 in that category so they are identical distributions
with the smallest possible TVD of 0. As we collapse categories, we can
only decrease the TVD. This tells us that Table 1 has the largest TVD,
then Table 2 has the middle TVD, and Table 3 has the smallest, since
each time we are combining categories and shrinking the TVD.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 77%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-7.2">Problem 7.2</h3>
<p>In which table do the two distributions have a TVD of 0.36?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> Table 1</p></li>
<li><p><input type="radio" disabled="" /> Table 2</p></li>
<li><p><input type="radio" disabled="" /> Table 3</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading7_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse7_2" aria-expanded="true" aria-controls="collapse7_2">
Click to view the solution.
</button>
</h2>
<div id="collapse7_2" class="accordion-collapse collapse"
aria-labelledby="heading7_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> Table 2</p>
<p>See the solution to 7.1.</p>
<hr/>
<h5>Difficulty: ⭐️</h5>
<p>
</p>
<p>The average score on this problem was 97%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-7.3">Problem 7.3</h3>
<p>In which table do the two distributions have a TVD of 0.38?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> Table 1</p></li>
<li><p><input type="radio" disabled="" /> Table 2</p></li>
<li><p><input type="radio" disabled="" /> Table 3</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading7_3">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse7_3" aria-expanded="true" aria-controls="collapse7_3">
Click to view the solution.
</button>
</h2>
<div id="collapse7_3" class="accordion-collapse collapse"
aria-labelledby="heading7_3" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> Table 1</p>
<p>See the solution to 7.1. </p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>The average
score on this problem was 77%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="problem-8">Problem 8</h2>
<p>Since <code>txn</code> has 140,000 rows, Jack wants to get a quick
glimpse at the data by looking at a simple random sample of 10 rows from
<code>txn</code>. He defines the DataFrame <code>ten_txns</code> as
follows:</p>
<pre><code>    ten_txns = txn.sample(10, replace=False)</code></pre>
<p>Which of the following code blocks also assign <code>ten_txns</code>
to a simple random sample of 10 rows from <code>txn</code>?</p>
<p>Option 1:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>    all_rows <span class="op">=</span> np.arange(txn.shape[<span class="dv">0</span>])</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>    perm <span class="op">=</span> np.random.permutation(all_rows)</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>    positions <span class="op">=</span> np.random.choice(perm, size<span class="op">=</span><span class="dv">10</span>, replace<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>    ten_txn <span class="op">=</span> txn.take(positions)</span></code></pre></div>
<p>Option 2:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>    all_rows <span class="op">=</span> np.arange(txn.shape[<span class="dv">0</span>])</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>    choice <span class="op">=</span> np.random.choice(all_rows, size<span class="op">=</span><span class="dv">10</span>, replace<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>    positions <span class="op">=</span> np.random.permutation(choice)</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>    ten_txn <span class="op">=</span> txn.take(positions)</span></code></pre></div>
<p>Option 3:</p>
<div class="sourceCode" id="cb10"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>    all_rows <span class="op">=</span> np.arange(txn.shape[<span class="dv">0</span>])</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>    positions <span class="op">=</span> np.random.permutation(all_rows).take(np.arange(<span class="dv">10</span>))</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>    ten_txn <span class="op">=</span> txn.take(positions)</span></code></pre></div>
<p>Option 4:</p>
<div class="sourceCode" id="cb11"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>    all_rows <span class="op">=</span> np.arange(txn.shape[<span class="dv">0</span>])</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>    positions <span class="op">=</span> np.random.permutation(all_rows.take(np.arange(<span class="dv">10</span>)))</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>    ten_txn <span class="op">=</span> txn.take(positions)</span></code></pre></div>
<p><strong>Select all that apply.</strong></p>
<ul class="task-list">
<li><p><input type="checkbox" disabled="" /> Option 1</p></li>
<li><p><input type="checkbox" disabled="" /> Option 2</p></li>
<li><p><input type="checkbox" disabled="" /> Option 3</p></li>
<li><p><input type="checkbox" disabled="" /> Option 4</p></li>
<li><p><input type="checkbox" disabled="" /> None of the above.</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading8">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse8" aria-expanded="true" aria-controls="collapse8">
Click to view the solution.
</button>
</h2>
<div id="collapse8" class="accordion-collapse collapse"
aria-labelledby="heading8" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> Option 1, Option 2, and Option 3.</p>
<p>Let’s consider each option.</p>
<ul>
<li><p>Option 1: First, <code>all_rows</code> is defined as an array
containing the integer positions of all the rows in the DataFrame. Then,
we randomly shuffle the elements in this array and store it in the array
<code>permutations</code>. Finally, we select 10 integers randomly
(without replacement), and use <code>.take()</code> to select the rows
from the DataFrame with the corresponding integer locations. In other
words, we are randomly selecting ten row numbers and taking those
randomly selected. This gives a simple random sample of 10 rows from the
DataFrame txn, so option 1 is correct.</p></li>
<li><p>Option 2: Option 2 is similar to option 1, except that the order
of the <code>np.random.choice</code> and the
<code>np.random.permutation</code> operations are switched. This doesn’t
affect the output, since the choice we made was, by definition, random.
Therefore, it doesn’t matter if we shuffle the rows before or after (or
not at all), since the most this will do is change the order of a sample
which was already randomly selected. So, option 2 is correct.</p></li>
<li><p>Option 3: Here, we randomly shuffle the elements of
<code>all_rows</code>, and then we select the first 10 elements with
<code>np.take</code>. Since the shuffling of elements from
<code>all_rows</code> was random, we don’t know which elements are in
the first 10 positions of this new shuffled array (in other words, the
first 10 elements are random). So, when we select the rows from
<code>txn</code> which have the corresponding integer locations in the
next step, we’ve simply selected 10 rows with random integer locations.
Therefore, this is a valid random sample from <code>txn</code>, and
option 3 is correct.</p></li>
<li><p>Option 4: The difference between this option and option 3 is the
order in which <code>np.random.permutation</code> and
<code>np.take</code> are executed. Here, we select the first 10 elements
before the permutation (inside the parentheses). As a result, the array
which we’re shuffling with <code>np.random.permutation</code> does not
include all the integer locations like <code>all_rows</code> does, it’s
simply the first ten elements. Therefore, this code produces a random
shuffling of the first 10 rows of <code>txn</code>, which is not a
random sample.</p></li>
</ul>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 82%.</p>
</div>
</div>
</div>
</div>
<hr />
<h2 id="problem-9">Problem 9</h2>
<p>The DataFrame <code>ten_txns</code>, <strong>displayed in its
entirety below</strong>, contains a simple random sample of 10 rows from
<code>txn</code>.</p>
<center><img src='../assets/images/fa23-final/ten_txns.png' width=800></center>
<p><br></p>
<h3 id="problem-9.1">Problem 9.1</h3>
<p>Suppose we randomly select one transaction from
<code>ten_txns</code>. What is the probability that the selected
transaction is made with a <code>"card"</code> of
<code>"mastercard"</code> or a <code>"method"</code> of
<code>"debit"</code>? Give your answer either as an exact decimal or a
simplified fraction.</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading9_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse9_1" aria-expanded="true" aria-controls="collapse9_1">
Click to view the solution.
</button>
</h2>
<div id="collapse9_1" class="accordion-collapse collapse"
aria-labelledby="heading9_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> 0.7</p>
<p>We can simply count the number of transactions meeting at least one
of the two criteria. More easily, there are only 3 rows that do not meet
either of the criteria (the rows that are <code>"visa"</code> and
<code>"credit"</code> transactions). Therefore, the probability is 7 out
of 10, or 0.7. Note that we cannot simply add up the probability of
<code>"mastercard"</code> (0.3) and the probability of
<code>"debit"</code> (0.6) since there is overlap between these. That
is, some transactions are both <code>"mastercard"</code> and
<code>"debit"</code>.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 64%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-9.2">Problem 9.2</h3>
<p>Suppose we randomly select two transactions from
<code>"ten_txns"</code>, without replacement, and learn that neither of
the selected transactions is for an amount of 100 dollars. Given this
information, what is the probability that:</p>
<ul>
<li><p>the first transaction is made with a <code>"card"</code> of
<code>"visa"</code> and a <code>"method"</code> of <code>"debit"</code>,
and</p></li>
<li><p>the second transaction is made with a <code>"card"</code> of
<code>"visa"</code> and a <code>"method"</code> of
<code>"credit"</code>?</p></li>
</ul>
<p>Give your answer either as an exact decimal or a simplified
fraction.</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading9_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse9_2" aria-expanded="true" aria-controls="collapse9_2">
Click to view the solution.
</button>
</h2>
<div id="collapse9_2" class="accordion-collapse collapse"
aria-labelledby="heading9_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> <span class="math inline">\frac{2}{15}</span></p>
<p>We know that the sample space here doesn’t have any of the $100
transactions, so we can ignore the first 4 rows when calculating the
probability. In the remaining 6 rows, there are exactly 2 debit
transactions with <code>"visa"</code> cards, so the probability of our
first transaction being of the specified type is <span class="math inline">\frac{2}{6}</span>. There are also two credit
transactions with <code>"visa"</code> cards, but the denominator of the
probability of the second transaction is 5 (not 6), since the sample
space was reduced by one after the first transaction. We’re choosing
without replacement, so you can’t have the same transaction in your
sample twice. Thus, the probability of the second transaction being a
visa credit card is <span class="math inline">\frac{2}{5}</span>. Now,
we can apply the multiplication rule, and we have that the probability
of both transactions being as described is <span class="math inline">\frac{2}{6} \cdot \frac{2}{5} = \frac{4}{30} =
\frac{2}{15}</span>.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 45%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<p>For your convenience, we show <code>ten_txns</code> again below.</p>
<center><img src='../assets/images/fa23-final/ten_txns.png' width=800></center>
<p><br></p>
<h3 id="problem-9.3">Problem 9.3</h3>
<p>Suppose we randomly select 15 rows, with replacement, from
<code>ten_txns</code>. What’s the probability that in our selection of
15 rows, the maximum transaction amount is less than 25 dollars?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> <span class="math inline">\frac{3}{10}</span></p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">\frac{3}{15}</span></p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">\left(\frac{3}{10}\right)^{3}</span></p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">\left(\frac{3}{15}\right)^{3}</span></p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">\left(\frac{3}{10}\right)^{10}</span></p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">\left(\frac{3}{15}\right)^{10}</span></p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">\left(\frac{3}{10}\right)^{15}</span></p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">\left(\frac{3}{15}\right)^{15}</span></p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading9_3">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse9_3" aria-expanded="true" aria-controls="collapse9_3">
Click to view the solution.
</button>
</h2>
<div id="collapse9_3" class="accordion-collapse collapse"
aria-labelledby="heading9_3" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> <span class="math inline">\left(\frac{3}{10}\right)^{15}</span></p>
<p>There are only 3 rows in the sample with a transaction amount under
$25, so the chance of choosing one transaction with such a low value is
<span class="math inline">\frac{3}{10}</span>. For the maximum
transaction amount to be less than 25 dollars, this means all
transaction amounts in our sample have to be less than 25 dollars. To
find the chance that all transactions are for less than $25, we can
apply the multiplication rule and multiply the probability of each of
the 15 transactions being less than $25. Since we’re choosing 15 times
with replacement, the events are independent (choosing a certain
transaction on the first try won’t affect the probability of choosing it
again later), so all the terms in our product are <span class="math inline">\frac{3}{10}</span>. Thus, the probability is <span class="math inline">\frac{3}{10} * \frac{3}{10} * \ldots * \frac{3}{10}
= \left(\frac{3}{10}\right)^{15}</span>.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 89%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="problem-10">Problem 10</h2>
<p>As a senior suffering from senioritis, Weiyue has plenty of time on
his hands. 1,000 times, he repeats the following process, creating 1,000
confidence intervals:</p>
<ol type="1">
<li><p>Collect a simple random sample of 100 rows from
<code>txn</code>.</p></li>
<li><p>Resample from his sample 10,000 times, computing the mean
transaction amount in each resample.</p></li>
<li><p>Create a 95% confidence interval by taking the middle 95% of
resample means.</p></li>
</ol>
<p>He then computes the width of each confidence interval by subtracting
its left endpoint from its right endpoint; e.g. if <span
class="math inline">[2, 5]</span> is a confidence interval, its width is
3. This gives him 1,000 widths. Let <span class="math inline">M</span>
be the mean of these 1,000 widths.</p>
<p><br></p>
<h3 id="problem-10.1">Problem 10.1</h3>
<p>Select the true statement below.</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> About 950 of Weiyue’s intervals will contain the mean transaction
amount of all transactions ever.</p></li>
<li><p><input type="radio" disabled="" /> About 950 of Weiyue’s intervals will contain the mean transaction
amount of all transactions in <code>txn</code>.</p></li>
<li><p><input type="radio" disabled="" /> About 950 of Weiyue’s intervals will contain the mean transaction
amount of all transactions in the first random sample of 100 rows of
<code>txn</code> Weiyue took.</p></li>
<li><p><input type="radio" disabled="" /> About 950 of Weiyue’s intervals will contain <span class="math inline">M</span>.</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading10_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse10_1" aria-expanded="true" aria-controls="collapse10_1">
Click to view the solution.
</button>
</h2>
<div id="collapse10_1" class="accordion-collapse collapse"
aria-labelledby="heading10_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> About 950 of Weiyue’s intervals will contain
the mean transaction amount of all transactions in <code>txn</code>.</p>
<p>By the definition of a 95% confidence interval, 95% of our 1000
confidence intervals will contain the true mean transaction amount in
the population from which our samples were drawn. In this case, the
population is the <code>txn</code> DataFrame. So, 950 of the confidence
intervals will contain the mean transaction amount of all transactions
in <code>txn</code>, which is what the the second answer choice
says.</p>
<p>We can’t conclude that the first answer choice is correct because our
original sample was taken from <code>txn</code>, not from all
transactions ever. We don’t know whether our resamples will be
representative of all transactions ever. The third option is incorrect
because we have no way of knowing what the first random sample looks
like from a statistical standpoint. The last statement is not true
because <span class="math inline">M</span> concerns the width of the
confidence interval, and therefore is unrelated to the statistics
computed in each resample. For example, if the mean of each resample is
around 100, but the width of each confidence interval is around 5, we
shouldn’t expect $$M to be in any of the confidence intervals.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 55%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-10.2">Problem 10.2</h3>
<p>Weiyue repeats his entire process, except this time, he changes his
sample size in step 1 from 100 to 400. Let <span
class="math inline">B</span> be the mean of the widths of the 1,000 new
confidence intervals he creates.</p>
<p>What is the relationship between <span class="math inline">M</span>
and <span class="math inline">B</span>?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> <span class="math inline">M &lt; B</span></p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">M \approx B</span></p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">M &gt; B</span></p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading10_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse10_2" aria-expanded="true" aria-controls="collapse10_2">
Click to view the solution.
</button>
</h2>
<div id="collapse10_2" class="accordion-collapse collapse"
aria-labelledby="heading10_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> <span class="math inline">M &gt;
B</span></p>
<p>As the sample size increases, the width of the confidence intervals
will decrease, so <span class="math inline">M &gt; B</span>.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 70%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-10.3">Problem 10.3</h3>
<p>Weiyue repeats his entire process once again. This time, he still
uses a sample size of 100 in step 1, but instead of creating 95%
confidence intervals in step 3, he creates 99% confidence intervals. Let
<span class="math inline">C</span> be the mean of the widths of the
1,000 new confidence intervals he generates.</p>
<p>What is the relationship between <span class="math inline">M</span>
and <span class="math inline">C</span>?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> <span class="math inline">M &lt; C</span></p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">M \approx C</span></p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">M &gt; C</span></p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading10_3">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse10_3" aria-expanded="true" aria-controls="collapse10_3">
Click to view the solution.
</button>
</h2>
<div id="collapse10_3" class="accordion-collapse collapse"
aria-labelledby="heading10_3" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> <span class="math inline">M &lt;
C</span></p>
<p>All else equal (note that the sample size is the same as it was in
question 10.1), 99% confidence intervals will always be wider than 95%
confidence intervals on the same data, so <span class="math inline">M
&lt; C</span>.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 85%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-10.4">Problem 10.4</h3>
<p>Weiyue repeats his entire process one last time. This time, he still
uses a sample size of 100 in step 1, and creates 95% confidence
intervals in step 3, but instead of bootstrapping, he uses the Central
Limit Theorem to generate his confidence intervals. Let <span
class="math inline">D</span> be the mean of the widths of the 1,000 new
confidence intervals he creates.</p>
<p>What is the relationship between <span class="math inline">M</span>
and <span class="math inline">D</span>?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> <span class="math inline">M &lt; D</span></p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">M \approx D</span></p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">M &gt; D</span></p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading10_4">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse10_4" aria-expanded="true" aria-controls="collapse10_4">
Click to view the solution.
</button>
</h2>
<div id="collapse10_4" class="accordion-collapse collapse"
aria-labelledby="heading10_4" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> <span class="math inline">M \approx
D</span></p>
<p>Confidence intervals generated from the Central Limit Theorem will be
approximately the same as those generated from bootstrapping, so <span class="math inline">M</span> is approximately equal to <span class="math inline">D</span>.</p>
<hr/>
<h5>Difficulty: ⭐️</h5>
<p>
</p>
<p>The average score on this problem was 90%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="problem-11">Problem 11</h2>
<p>On Reddit, Yutian read that 22% of all online transactions are
fraudulent. She decides to test the following hypotheses:</p>
<ul>
<li><p><strong>Null Hypothesis</strong>: The proportion of online
transactions that are fraudulent is <strong>0.22</strong>.</p></li>
<li><p><strong>Alternative Hypothesis</strong>: The proportion of online
transactions that are fraudulent is not <strong>0.22</strong>.</p></li>
</ul>
<p>To test her hypotheses, she decides to create a <strong>95%</strong>
confidence interval for the proportion of online transactions that are
fraudulent using the Central Limit Theorem.</p>
<p>Unfortunately, she doesn’t have access to the entire <code>txn</code>
DataFrame; rather, she has access to a simple random sample of
<code>txn</code> of size <span class="math inline">n</span>. In her
sample, the proportion of transactions that are fraudulent is
<strong>0.2</strong> (or equivalently, <span
class="math inline">\frac{1}{5}</span>).</p>
<p><br></p>
<h3 id="problem-11.1">Problem 11.1</h3>
<p>The width of Yutian’s confidence interval is of the form <span
class="math display">\frac{c}{5 \sqrt{n}}</span></p>
<p>where <span class="math inline">n</span> is the size of her sample
and <span class="math inline">c</span> is some positive integer. What is
the value of <span class="math inline">c</span>? Give your answer as an
integer.</p>
<p><em>Hint: Use the fact that in a collection of 0s and 1s, if the
proportion of values that are 1 is <span class="math inline">p</span>,
the standard deviation of the collection is <span
class="math inline">\sqrt{p(1-p)}</span>.</em></p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading11_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse11_1" aria-expanded="true" aria-controls="collapse11_1">
Click to view the solution.
</button>
</h2>
<div id="collapse11_1" class="accordion-collapse collapse"
aria-labelledby="heading11_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> 8</p>
<p>First, we can calculate the standard deviation of the sample using
the given formula: <span class="math inline">\sqrt{0.2\cdot(1-0.2)} =
\sqrt{0.16}= 0.4</span>. Additionally, we know that the width of a 95%
confidence interval for a population mean (including a proportion) is
approximately <span class="math inline">\frac{4 * \text{sample
SD}}{\sqrt{n}}</span>, since 95% of the data of a normal distribution
falls within two standard deviations of the mean on either side. Now,
plugging the sample standard deviation into this formula, we can set
this expression equal to the given formula for the width of the
confidence interval: <span class="math inline">\frac{c}{5 \sqrt{n}} =
\frac{4 * 0.4}{\sqrt{n}}</span>. We can multiply both sides by <span class="math inline">\sqrt{n}</span>, and we’re left with <span class="math inline">\frac{c}{5} = 4 * 0.4</span>. Now, all we have to do
is solve for <span class="math inline">c</span> by multiplying both
sides by 5, which gives <span class="math inline">c = 8</span>.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 59%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-11.2">Problem 11.2</h3>
<p>There is a positive integer <span class="math inline">J</span> such
that:</p>
<ul>
<li><p>If <span class="math inline">n &lt; J</span>, Yutian will fail to
reject her null hypothesis at the <strong>0.05</strong> significance
level.</p></li>
<li><p>If <span class="math inline">n &gt; J</span>, Yutian will reject
her null hypothesis at the <strong>0.05</strong> significance
level.</p></li>
</ul>
<p>What is the value of <span class="math inline">J</span>? Give your
answer as an integer.</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading11_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse11_2" aria-expanded="true" aria-controls="collapse11_2">
Click to view the solution.
</button>
</h2>
<div id="collapse11_2" class="accordion-collapse collapse"
aria-labelledby="heading11_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> 1600</p>
<p>Here, we have to use the formula for the endpoints of the 95%
confidence interval to see what the largest value of <span class="math inline">n</span> is such that 0.22 will be contained in the
interval. The endpoints are given by <span class="math inline">\text{sample mean} \pm 2 * \frac{\text{sample
SD}}{\sqrt{n}}</span>. Since the null hypothesis is that the proportion
is 0.22 (which is greater than our sample mean), we only need to work
with the right endpoint for this question. Plugging in the values that
we have, the right endpoint is given by <span class="math inline">0.2 +
2 * \frac{0.4}{\sqrt{n}}</span>. Now we must find a value of <span class="math inline">n</span> which satisfies the inequality <span class="math inline">0.2 + 2 * \frac{0.4}{\sqrt{n}} \geq 0.22</span>, and
since we’re looking for the smallest such value of <span class="math inline">n</span> (i.e, the last <span class="math inline">n</span> for which this inequality holds), we can
simply set the two sides equal to each other, and solve for <span class="math inline">n</span>. From <span class="math inline">0.2 + 2 *
\frac{0.4}{\sqrt{n}} = 0.22</span>, we can subtract 0.2 from both sides,
then multiply both sides by <span class="math inline">\sqrt{n}</span>,
and divide both sides by 0.02 (from 0.22 - 0.2). This yields <span class="math inline">\sqrt{n} = \frac{2 * 0.4}{0.02} = \sqrt{n} =
40</span>, which implies that <span class="math inline">n</span> is
1600.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 21%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="problem-12">Problem 12</h2>
<p>On Reddit, Keenan also read that 22% of all online transactions are
fraudulent. He decides to test the following hypotheses at the
<strong>0.16 significance level</strong>:</p>
<ul>
<li><p><strong>Null Hypothesis</strong>: The proportion of online
transactions that are fraudulent is <strong>0.22</strong>.</p></li>
<li><p><strong>Alternative Hypothesis</strong>: The proportion of online
transactions that are fraudulent is not <strong>0.22</strong>.</p></li>
</ul>
<p>Keenan has access to a simple random sample of <code>txn</code> of
size <strong>500</strong>. In his sample, the proportion of transactions
that are fraudulent is <strong>0.23</strong>.</p>
<p>Below is an incomplete implementation of the function
<code>reject_null</code>, which creates a bootstrap-based confidence
interval and returns <strong>True</strong> if the conclusion of Keenan’s
test is to <strong>reject</strong> the null hypothesis, and
<strong>False</strong> if the conclusion is to <strong>fail to
reject</strong> the null hypothesis, all at the <strong>0.16</strong>
significance level.</p>
<div class="sourceCode" id="cb12"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> reject_null():</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>        fraud_counts <span class="op">=</span> np.array([])</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> i <span class="kw">in</span> np.arange(<span class="dv">10000</span>):</span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>            fraud_count <span class="op">=</span> np.random.multinomial(<span class="dv">500</span>, __(a)__)[<span class="dv">0</span>] </span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>            fraud_counts <span class="op">=</span> np.append(fraud_counts, fraud_count)</span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>            </span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a>        L <span class="op">=</span> np.percentile(fraud_counts, __(b)__)</span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a>        R <span class="op">=</span> np.percentile(fraud_counts, __(c)__)</span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> __(d)__ <span class="op">&lt;</span> L <span class="kw">or</span> __(d)__ <span class="op">&gt;</span> R:</span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true" tabindex="-1"></a>            <span class="co"># Return True if we REJECT the null.</span></span>
<span id="cb12-12"><a href="#cb12-12" aria-hidden="true" tabindex="-1"></a>            <span class="cf">return</span> <span class="va">True</span></span>
<span id="cb12-13"><a href="#cb12-13" aria-hidden="true" tabindex="-1"></a>        <span class="cf">else</span>:</span>
<span id="cb12-14"><a href="#cb12-14" aria-hidden="true" tabindex="-1"></a>            <span class="co"># Return False if we FAIL to reject the null.</span></span>
<span id="cb12-15"><a href="#cb12-15" aria-hidden="true" tabindex="-1"></a>            <span class="cf">return</span> <span class="va">False</span></span></code></pre></div>
<p>Fill in the blanks so that <code>reject_null</code> works as
intended.</p>
<p><em>Hint: Your answer to (d) should be an integer greater than
50.</em></p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading12">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse12" aria-expanded="true" aria-controls="collapse12">
Click to view the solution.
</button>
</h2>
<div id="collapse12" class="accordion-collapse collapse"
aria-labelledby="heading12" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> (a): <code>[0.23, 0.77]</code>, (b):
<code>8</code>, (c): <code>92</code>, (d): <code>110</code></p>
<p>(a): We know that the proportion of fraudulent transactions in the
sample is 0.23 (and therefore the non-fraudulent proportion is 0.77), so
we use these as the probabilities for <code>np.random.multinomial</code>
in our bootstrapping simulation. The syntax for this function requires
us to pass in the probabilities as a list, so the answer is
<code>[0.23, 0.77]</code>.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 23%.</p>
<p>(b): Since we’re testing at the 0.16 significance level, we know that
the proportion of data lying outside either of our endpoints is 0.16, or
0.8 on each side. So, the left endpoint is given by the 8th percentile,
which means that the argument to <code>np.percentile</code> must be
8.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 67%.</p>
<p>(c): Similar to part B, we know that 0.08 of the data must lie to the
right of the right endpoint, so the argument to
<code>np.percentile</code> here is <span class="math inline">(1 - 0.08)
\cdot 100 = 92</span>.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 67%.</p>
<p>(d): To test our hypothesis, we must compare the left and right
endpoints to the observed value. If the observed value is less than the
left endpoint or greater than the right endpoint, we will reject the
null hypothesis. Otherwise we fail to reject it. Since the left and
right endpoints give the count of fraudulent transactions (not the
proportion), we must convert our null hypothesis to similar terms. We
can simply multiply the sample size by the proportion of fraudulent
transactions to obtain the count that the null hypothesis would suggest
given the sample size of 500, which gives us <span class="math inline">500 * 0.22 = 110</span>.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 26%.</p>
</div>
</div>
</div>
</div>
<hr />
<h2 id="problem-13">Problem 13</h2>
<p>Ashley doesn’t have access to the entire <code>txn</code> DataFrame;
instead, she has access to a simple random sample of
<strong>400</strong> rows of <code>txn</code>.</p>
<p>She draws two histograms, each of which depicts the distribution of
the <code>"amount"</code> column in her sample, using different
bins.</p>
<center><img src='../assets/images/fa23-final/hist-final.png' width=800></center>
<p><br></p>
<p>Unfortunately, DataHub is being finicky and so two of the bars in
Histogram A are deleted after it is created.</p>
<p><br></p>
<h3 id="problem-13.1">Problem 13.1</h3>
<p>In Histogram A, which of the following bins contains approximately 60
transactions?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> <span class="math inline">[30, 60)</span></p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">[90, 120)</span></p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">[120, 150)</span></p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">[180, 210)</span></p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading13_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse13_1" aria-expanded="true" aria-controls="collapse13_1">
Click to view the solution.
</button>
</h2>
<div id="collapse13_1" class="accordion-collapse collapse"
aria-labelledby="heading13_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> <span class="math inline">[90,
120)</span></p>
<p>The number of transactions contained in the bin is given by the area
of the bin times the total number of transactions, since the area of a
bin represents the proportion of transactions that are contained in that
bin. We are asked which bin contains about 60 transactions, or <span class="math inline">\frac{60}{400} = \frac{3}{20} = 0.15</span>
proportion of the total area. All the bins in Histogram A have a width
of 30, so for the area to be 0.15, we need the height <span class="math inline">h</span> to satisfy <span class="math inline">h\cdot
30 = 0.15</span>. This means <span class="math inline">h =
\frac{0.15}{30} = 0.005</span>. The bin <span class="math inline">[90,
120)</span> is closest to this height.</p>
<hr/>
<h5>Difficulty: ⭐️</h5>
<p>
</p>
<p>The average score on this problem was 90%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<p><br></p>
<h3 id="problem-13.2">Problem 13.2</h3>
<p>Let <span class="math inline">w</span>, <span
class="math inline">x</span>, <span class="math inline">y</span>, and
<span class="math inline">z</span> be the heights of bars <span
class="math inline">W</span>, <span class="math inline">X</span>, <span
class="math inline">Y</span>, and <span class="math inline">Z</span>,
respectively. For instance, <span class="math inline">y</span> is about
0.01.</p>
<p>Which of the following expressions gives the height of the bar
corresponding to the <span class="math inline">[60, 90)</span> bin in
Histogram A?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> <span class="math inline">( y + z ) - ( w + x )</span></p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">( w + x ) - ( y + z )</span></p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">\frac{3}{2}( y + z ) - ( w + x )</span></p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">( y + z ) - \frac{3}{2}( w + x )</span></p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">3( y + z ) - 2( w + x )</span></p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">2( y + z ) - 3( w + x )</span></p></li>
<li><p><input type="radio" disabled="" /> None of the above.</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading13_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse13_2" aria-expanded="true" aria-controls="collapse13_2">
Click to view the solution.
</button>
</h2>
<div id="collapse13_2" class="accordion-collapse collapse"
aria-labelledby="heading13_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> <span class="math inline">\frac{3}{2}( y + z
) - ( w + x )</span></p>
<p>The idea is that the first three bars in Histogram A represent the
same set of transactions as the first three bars of Histogram B. Setting
these areas equals gives <span class="math inline">30w+30x+30u=
45y+45z</span>, where <span class="math inline">u</span> is the unknown
height of the bar corresponding to the <span class="math inline">[60,
90)</span> bin. Solving this equation for <span class="math inline">u</span> gives the result.</p>
<p><span class="math display">\begin{align*}
30w+30x+30u &amp;= 45y+45z \\
30u &amp;= 45y+45z-30w-30x \\
u &amp;= \frac{45y + 45z - 30w - 30x}{30} \\
u &amp;= \frac{3}{2}(y+z) - (w+x)

\end{align*}</span></p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 50%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="problem-14">Problem 14</h2>
<p>As mentioned in the previous problem, Ashley has sample of 400 rows
of <code>txn</code>. Coincidentally, in Ashley’s sample of 400
transactions, the mean and standard deviation of the
<code>"amount"</code> column both come out to 70 dollars.</p>
<p><br></p>
<h3 id="problem-14.1">Problem 14.1</h3>
<p>Fill in the blank:</p>
<div class="center">
<p>“According to Chebyshev’s inequality, at most 25 transactions in
Ashley’s sample<br />
are above ____ dollars; the rest must be below ____ dollars."</p>
</div>
<p>What goes in the blank? Give your answer as an
<strong>integer</strong>. Both blanks are filled in with the same
number.</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading14_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse14_1" aria-expanded="true" aria-controls="collapse14_1">
Click to view the solution.
</button>
</h2>
<div id="collapse14_1" class="accordion-collapse collapse"
aria-labelledby="heading14_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> 350</p>
<p>Chebyshev’s inequality says something about how much data falls
within a given number of standard deviations. The data that doesn’t fall
in that range could be entirely below that range, entirely above that
range, or split some below and some above. So the idea is that we should
figure out the endpoints of the range for which Chebyshev guarantees
that at least 375 transactions must fall. Then at most 25 might fall
above that range. So we’ll fill in the blank with the upper limit of
that range. Now, since there are 400 transactions, 375 as a proportion
becomes <span class="math inline">\frac{375}{400} =
\frac{15}{16}</span>. That’s <span class="math inline">1 -
\frac{1}{16}</span> or <span class="math inline">1 -
\left(\frac{1}{4}\right)^2</span>, so we should use <span class="math inline">z=4</span> in the statement of Chebyshev’s
inequality. That is, <span class="math inline">\frac{15}{16}</span>
proportion of the data falls within 4 standard deviations of the mean.
The upper endpoint of that range is <span class="math inline">70</span>
(the mean) plus <span class="math inline">4 \cdot 70</span> (four
standard deviations), or <span class="math inline">5 \cdot 70 =
350</span>.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 30%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<p><br></p>
<h3 id="problem-14.2">Problem 14.2</h3>
<p>Now, we’re given that the mean and standard deviation of the
<code>"lifetime"</code> column in Ashley’s sample are both equal to
<span class="math inline">c</span> dollars. We’re also given that the
correlation between transaction amounts and lifetime spending in
Ashley’s sample is <span class="math inline">-\frac{1}{4}</span>.</p>
<p>Which of the four options could be a scatter plot of lifetime
spending vs. transaction amount?</p>
<center><img src='../assets/images/fa23-final/scatter-options.png' width=800></center>
<p><br></p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> Option A</p></li>
<li><p><input type="radio" disabled="" /> Option B</p></li>
<li><p><input type="radio" disabled="" /> Option C</p></li>
<li><p><input type="radio" disabled="" /> Option D</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading14_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse14_2" aria-expanded="true" aria-controls="collapse14_2">
Click to view the solution.
</button>
</h2>
<div id="collapse14_2" class="accordion-collapse collapse"
aria-labelledby="heading14_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> Option B</p>
<p>Here, the main factor which we can use to identify the correct plot
is the correlation coefficient. A correlation coefficient of <span class="math inline">-\frac{1}{4}</span> indicates that the data will
have a slight downward trend (values on the y axis will be lower as we
go further right). This narrows it down to option A or option B, but
option A appears to have too strong of a linear trend. We want the data
to look more like a cloud than a line since the correlation is
relatively close to zero, which suggests that option B is the more
viable choice.</p>
<p></p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>The average score on this problem was
89%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<p>Ashley decides to use linear regression to predict the lifetime
spending of a card given a transaction amount.</p>
<p><br></p>
<h3 id="problem-14.3">Problem 14.3</h3>
<p>The predicted lifetime spending, in <strong>dollars</strong>, of a
card with a transaction amount of 280 dollars is of the form <span
class="math inline">f \cdot c</span>, where <span
class="math inline">f</span> is a fraction. What is the value of <span
class="math inline">f</span>? Give your answer as a simplified
fraction.</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading14_3">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse14_3" aria-expanded="true" aria-controls="collapse14_3">
Click to view the solution.
</button>
</h2>
<div id="collapse14_3" class="accordion-collapse collapse"
aria-labelledby="heading14_3" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> <span class="math inline">f =
\frac{1}{4}</span></p>
<p>This problem requires us to make a prediction using the regression
line for a given <span class="math inline">x = 280</span>. We can solve
this problem using original units or standard units. Since 280 is a
multiple of 70, and the mean and standard deviation are both 70, it’s
pretty straightforward to convert 280 to 3 standard units, as <span class="math inline">\frac{(280-70)}{70} = \frac{210}{70} = 3</span>. To
make a prediction in standard units, all we need to do is multiply by
<span class="math inline">r=-\frac{1}{4}</span>, resulting in a
predicted lifetime spending of <span class="math inline">=-\frac{3}{4}</span> in standard units. Since we are
told in the previous subpart that both the mean and standard deviation
of lifetime spending are <span class="math inline">c</span> dollars,
then converting to original units gives <span class="math inline">c +
-\frac{3}{4} \cdot c = \frac{1}{4} \cdot c</span>, so <span class="math inline">f = \frac{1}{4}</span>.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 42%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-14.4">Problem 14.4</h3>
<p>Suppose the intercept of the regression line, when both transaction
amounts and lifetime spending are measured in <strong>dollars</strong>,
is 40. What is the value of <span class="math inline">c</span>? Give
your answer as an integer.</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading14_4">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse14_4" aria-expanded="true" aria-controls="collapse14_4">
Click to view the solution.
</button>
</h2>
<div id="collapse14_4" class="accordion-collapse collapse"
aria-labelledby="heading14_4" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> <span class="math inline">c = 32</span></p>
<p>We start with the formulas for the mean and intercept of the
regression line, then set the mean and SD of x both to 70, and the mean
and SD of y both to c, as well as the intercept b to 40. Then we can
solve for c.</p>
<p><span class="math display">\begin{align*}

m &amp;= r \cdot \frac{\text{SD of } y}{\text{SD of }x} \\
b &amp;= \text{mean of } y - m \cdot \text{mean of } x \\
m &amp;= -\frac{1}{4} \cdot \frac{c}{70} \\
40 &amp;= c - (-\frac{1}{4} \cdot \frac{c}{70}) \cdot 70 \\
40 &amp;= c + \frac{1}{4} c \\
40 &amp;= \frac{5}{4} c \\
c &amp;= 40 \cdot \frac{4}{5} \\
c &amp;= 32

\end{align*}</span></p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 45%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="section"><span class="math display"> </span></h2>
<h4
id="feedback-find-an-error-still-confused-have-a-suggestion-let-us-know-here.">👋
Feedback: Find an error? Still confused? Have a suggestion?
<a href="https://forms.gle/WZ71FchnXU1K154d7">Let us know
here</u></a>.</h4>
<hr />
</body>
</html>
