<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>Fall 2022 Midterm Exam</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      {   }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span.al { color: #ff0000; font-weight: bold; } /* Alert */
    code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
    code span.at { color: #7d9029; } /* Attribute */
    code span.bn { color: #40a070; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #4070a0; } /* Char */
    code span.cn { color: #880000; } /* Constant */
    code span.co { color: #60a0b0; font-style: italic; } /* Comment */
    code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
    code span.do { color: #ba2121; font-style: italic; } /* Documentation */
    code span.dt { color: #902000; } /* DataType */
    code span.dv { color: #40a070; } /* DecVal */
    code span.er { color: #ff0000; font-weight: bold; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #40a070; } /* Float */
    code span.fu { color: #06287e; } /* Function */
    code span.im { } /* Import */
    code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
    code span.kw { color: #007020; font-weight: bold; } /* Keyword */
    code span.op { color: #666666; } /* Operator */
    code span.ot { color: #007020; } /* Other */
    code span.pp { color: #bc7a00; } /* Preprocessor */
    code span.sc { color: #4070a0; } /* SpecialChar */
    code span.ss { color: #bb6688; } /* SpecialString */
    code span.st { color: #4070a0; } /* String */
    code span.va { color: #19177c; } /* Variable */
    code span.vs { color: #4070a0; } /* VerbatimString */
    code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="../assets/theme.css" />
  <script defer=""
  src="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.js"></script>
  <script>document.addEventListener("DOMContentLoaded", function () {
 var mathElements = document.getElementsByClassName("math");
 var macros = [];
 for (var i = 0; i < mathElements.length; i++) {
  var texText = mathElements[i].firstChild;
  if (mathElements[i].tagName == "SPAN") {
   katex.render(texText.data, mathElements[i], {
    displayMode: mathElements[i].classList.contains('display'),
    throwOnError: false,
    macros: macros,
    fleqn: false
   });
}}});
  </script>
  <link rel="stylesheet"
  href="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.css" />
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<header id="title-block-header">
<h1 class="title">Fall 2022 Midterm Exam</h1>
</header>
<p><link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
<!-- add after bootstrap.min.css -->
<link rel="stylesheet" href="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.css"/>
<!-- add after bootstrap.min.js or bootstrap.bundle.min.js -->
<script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script></p>
<!-- for difficulty gauges-->
<script src="https://cdn.plot.ly/plotly-2.16.1.min.js"></script>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-B947E6J6H4"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-B947E6J6H4');
</script>
<p><a href="../index.html">‚Üê return to practice.dsc10.com</a></p>
<hr />
<p><strong>Instructor(s):</strong> Suraj Rampure, Puoya Tabaghi, Janine
Tiefenbruck</p>
<p>This exam was administered in-person. The exam was closed-notes,
except students were provided a copy of the <a
href="https://drive.google.com/file/d/1ky0Np67HS2O4LO913P-ing97SJG0j27n/view">DSC
10 Reference Sheet</a>. No calculators were allowed. Students had
<strong>50 minutes</strong> to take this exam.</p>
<hr />
<h4 id="video">Video üé•</h4>
<p><b><a href="https://podcast.ucsd.edu/watch/sp23/dsc10_a00/14">Here‚Äôs
a walkthrough video</a> of some of the problems on the exam.</b></p>
<hr />
<p>In September 2020, Governor Gavin Newsom announced that by 2035, all
new vehicles sold in California must be zero-emissions vehicles.
Electric vehicles (EVs) are among the most popular zero-emissions
vehicles (though other examples include plug-in hybrids and hydrogen
fuel cell vehicles).</p>
<center><img src='../assets/images/fa22-midterm/data22.png' width=20%></center>
<p><br></p>
<p>The DataFrame <code>evs</code> consists of <strong>32</strong> rows,
each of which contains information about a different EV model.</p>
<ul>
<li><code>"Brand"</code> (str): The vehicle‚Äôs manufacturer.</li>
<li><code>"Model"</code> (str): The vehicle‚Äôs model name.</li>
<li><code>"BodyStyle"</code> (str): The vehicle‚Äôs body style.</li>
<li><code>"Seats"</code> (int): The vehicle‚Äôs number of seats.</li>
<li><code>"TopSpeed"</code> (int): The vehicle‚Äôs top speed, in
kilometers per hour.</li>
<li><code>"Range"</code> (int): The vehicle‚Äôs range, or distance it can
travel on a single charge, in kilometers.</li>
</ul>
<p>The first few rows of <code>evs</code> are shown below (though
remember, <code>evs</code> has 32 rows total).</p>
<center><img src='../assets/images/fa22-midterm/form22.png' width=60%></center>
<p><br></p>
<p><strong>Throughout this exam, we will refer to <code>evs</code>
repeatedly.</strong></p>
<p>Assume that:</p>
<ul>
<li>The only four values in the <code>"Brand"</code> column are
<code>"Tesla"</code>, <code>"BMW"</code>, <code>"Audi"</code>, and
<code>"Nissan"</code>.</li>
<li>We have already run <code>import babypandas as bpd</code> and
<code>import numpy as np</code>.</li>
</ul>
<p><strong>Tip:</strong> Open this page in another tab, so that it is
easy to refer to this data description as you work through the exam.</p>
<hr />
<h2 id="problem-1">Problem 1</h2>
<p><span style="color:red"><b>Note: This problem is out of scope; it
covers material no longer included in the course.</b></span></p>
<p>TritonTire, a UCSD alumni-run car repair shop, has an electronic
database of all services it has ever provided, dating back to 1987. The
owner, Dasha, says:</p>
<blockquote>
<p>Our collective records from all 50 states show that, over the years,
our repair shops have performed more and more repairs on EVs. After
discussing this with our employees, we believe this is because newer EVs
are not made to the same standards as the gasoline cars before them.</p>
</blockquote>
<p>In <strong>at most two sentences</strong>, identify the largest
confounding factor that Dasha has not considered in her argument. Your
answer must fit in the box below.</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse1" aria-expanded="true" aria-controls="collapse1">
Click to view the solution.
</button>
</h2>
<div id="collapse1" class="accordion-collapse collapse collapse"
aria-labelledby="heading1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> The confounding factor that Dasha hasn‚Äôt
considered is the prevalence of EVs. There are a lot more EVs now than
ever before, so even if EVs are made to the same standards as gasoline
cars or better, we‚Äôd expect to see more repairs of EVs now.</p>
<hr/>
<h5>Difficulty: ‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è</h5>
<p>
</p>
<p>The average score on this problem was 68%.</p>
</div>
</div>
</div>
</div>
<hr />
<h2 id="problem-2">Problem 2</h2>
<p><br></p>
<h3 id="problem-2.1">Problem 2.1</h3>
<p>Which type of visualization should we use to visualize the
distribution of <code>"Range"</code>?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> Bar chart</p></li>
<li><p><input type="radio" disabled="" /> Histogram</p></li>
<li><p><input type="radio" disabled="" /> Scatter plot</p></li>
<li><p><input type="radio" disabled="" /> Line plot</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading2_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse2_1" aria-expanded="true" aria-controls="collapse2_1">
Click to view the solution.
</button>
</h2>
<div id="collapse2_1" class="accordion-collapse collapse collapse"
aria-labelledby="heading2_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> Histogram</p>
<p><code>"Range"</code> is a numerical (i.e.¬†quantitative) variable, and
we use histograms to visualize the distribution of numerical
variables.</p>
<ul>
<li>A bar chart couldn‚Äôt work here. Bar charts can show the distribution
of a categorical variable, but <code>"Range"</code> is not
categorical.</li>
<li>A scatter plot visualizes the relationship between two numerical
variables, but we are only dealing with one numerical variable here
(<code>"Range"</code>).</li>
<li>Similarly, a line plot visualizes the relationship between two
numerical variables, but we only have one here.</li>
</ul>
<hr/>
<h5>Difficulty: ‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è</h5>
<p>
</p>
<p>The average score on this problem was 63%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-2.2">Problem 2.2</h3>
<p>Teslas, on average, tend to have higher <code>"Range"</code>s than
BMWs. In which of the following visualizations would we be able to see
this pattern? Select all that apply.</p>
<ul class="task-list">
<li><p><input type="checkbox" disabled="" /> A bar chart that shows the distribution of <code>"Brand"</code></p></li>
<li><p><input type="checkbox" disabled="" /> A bar chart that shows the average <code>"Range"</code> for each
<code>"Brand"</code></p></li>
<li><p><input type="checkbox" disabled="" /> An overlaid histogram showing the distribution of
<code>"Range"</code> for each <code>"Brand"</code></p></li>
<li><p><input type="checkbox" disabled="" /> A scatter plot with <code>"TopSpeed"</code> on the <span class="math inline">x</span>-axis and <code>"Range"</code> on the <span class="math inline">y</span>-axis</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading2_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse2_2" aria-expanded="true" aria-controls="collapse2_2">
Click to view the solution.
</button>
</h2>
<div id="collapse2_2" class="accordion-collapse collapse collapse"
aria-labelledby="heading2_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong></p>
<ul>
<li>A bar chart that shows the average <code>"Range"</code> for each
<code>"Brand"</code></li>
<li>An overlaid histogram showing the distribution of
<code>"Range"</code> for each <code>"Brand"</code></li>
</ul>
<p>Let‚Äôs look at each option more closely.</p>
<ul>
<li><p><strong>Option 1:</strong> A bar chart showing the distribution
of <code>"Brand"</code> would only show us how many cars of each
<code>"Brand"</code> there are. It would not tell us anything about the
average <code>"Range"</code> of each <code>"Brand"</code>.</p></li>
<li><p><strong>Option 2:</strong> A bar chart showing the average range
for each <code>"Brand"</code> would help us directly visualize how the
average range of each <code>"Brand"</code> compares to one
another.</p></li>
<li><p><strong>Option 3:</strong> An overlaid histogram, although
perhaps a bit messy, would also give us a general idea of the average
range of each <code>"Brand"</code> by giving us the distribution of the
<code>"Range"</code> of each brand. In the scenario mentioned in the
question, we‚Äôd expect to see that the Tesla distribution is further
right than the BMW distribution.</p></li>
<li><p><strong>Option 4:</strong> A scatter plot of
<code>"TopSpeed"</code> against <code>"Range"</code> would only
illustrate the relationship between <code>"TopSpeed"</code> and
<code>"Range"</code>, but would contain no information about the
<code>"Brand"</code> of each EV.</p></li>
</ul>
<hr/>
<h5>Difficulty: ‚≠êÔ∏è</h5>
<p>
</p>
<p>The average score on this problem was 91%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-2.3">Problem 2.3</h3>
<p>Gabriel thinks <code>"Seats"</code> is a categorical variable because
it can be used to categorize EVs by size. For instance, EVs with 4 seats
are small, EVs with 5 seats are medium, and EVs with 6 or more seats are
large.</p>
<p>Is Gabriel correct?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> Yes</p></li>
<li><p><input type="radio" disabled="" /> No</p></li>
</ul>
<p>Justify your answer in <strong>one sentence</strong>. Your answer
must fit in the box below.</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading2_3">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse2_3" aria-expanded="true" aria-controls="collapse2_3">
Click to view the solution.
</button>
</h2>
<div id="collapse2_3" class="accordion-collapse collapse collapse"
aria-labelledby="heading2_3" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> No</p>
<p><code>"Seats"</code> is a numerical variable, since it makes sense to
do arithmetic with the values. For instance, we can find the average
number of <code>"Seats"</code> that a group of cars has. Gabriel‚Äôs
argument could apply to any numerical variable; just because we can
place numerical variables into ‚Äúbins‚Äù doesn‚Äôt make them categorical.</p>
<hr/>
<h5>Difficulty: ‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è</h5>
<p>
</p>
<p>The average score on this problem was 51%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="problem-3">Problem 3</h2>
<p>Suppose we‚Äôve run the following two lines of code. ‚Äã</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>first <span class="op">=</span> evs.get(<span class="st">&quot;Brand&quot;</span>).<span class="bu">apply</span>(<span class="bu">max</span>) </span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>second <span class="op">=</span> evs.get(<span class="st">&quot;Brand&quot;</span>).<span class="bu">max</span>()</span></code></pre></div>
<p>Note:</p>
<ul>
<li>The length of a value <code>v</code> is defined as
<code>len(v)</code>, unless <code>v</code> is a DataFrame, in which case
its length is <code>v.shape[0]</code>.</li>
<li>If <code>s</code> is a string, then <code>max(s)</code> also
evaluates to a string.</li>
</ul>
<p><br></p>
<h3 id="problem-3.1">Problem 3.1</h3>
<p>Fill in the blanks: <code>first</code> is a __(i)__ of length
__(ii)__.</p>
<p>(i):</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> list</p></li>
<li><p><input type="radio" disabled="" /> array</p></li>
<li><p><input type="radio" disabled="" /> string</p></li>
<li><p><input type="radio" disabled="" /> DataFrame</p></li>
<li><p><input type="radio" disabled="" /> Series</p></li>
</ul>
<p>(ii): _____</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading3_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse3_1" aria-expanded="true" aria-controls="collapse3_1">
Click to view the solution.
</button>
</h2>
<div id="collapse3_1" class="accordion-collapse collapse collapse"
aria-labelledby="heading3_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong></p>
<ul>
<li>(i): Series</li>
<li>(ii): 32</li>
</ul>
<p>The <code>.apply</code> method applies a function on every element of
a Series. Here, <code>evs.get("Brand").apply(max)</code> applies the
<code>max</code> function on every element of the <code>"Brand"</code>
column of <code>evs</code>, producing a new Series with the same length
as <code>evs</code>.</p>
<p>While not necessary to answer the question, if <code>s</code> is a
string, then <code>max(s)</code> evaluates to the single character in
<code>s</code> that is last in the alphabet. For instance,
<code>max("zebra")</code> evaluates to <code>"z"</code>. As such,
<code>evs.get("Brand").apply(max)</code> is a Series of 32 elements,
each of which is a single character, corresponding to the latest
character in the alphabet for each entry in
<code>evs.get("Brand")</code>.</p>
<hr/>
<h5>Difficulty: ‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è</h5>
<p>
</p>
<p>The average score on this problem was 65%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-3.2">Problem 3.2</h3>
<p>Fill in the blanks: <code>second</code> is a __(i)__ of length
__(ii)__.</p>
<p>(i):</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> list</p></li>
<li><p><input type="radio" disabled="" /> array</p></li>
<li><p><input type="radio" disabled="" /> string</p></li>
<li><p><input type="radio" disabled="" /> DataFrame</p></li>
<li><p><input type="radio" disabled="" /> Series</p></li>
</ul>
<p>(ii): _____</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading3_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse3_2" aria-expanded="true" aria-controls="collapse3_2">
Click to view the solution.
</button>
</h2>
<div id="collapse3_2" class="accordion-collapse collapse collapse"
aria-labelledby="heading3_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong></p>
<ul>
<li>(i): string</li>
<li>(ii): 5</li>
</ul>
<p>The <code>.max()</code> method will find the ‚Äúlargest‚Äù element in the
Series it is called in, which in this case is
<code>evs.get("Brand")</code>. The way that strings are ordered is
alphabetically, so <code>evs.get("Brand").max()</code> will be the last
value of <code>"Brand"</code> alphabetically. Since we were told that
the only values in the <code>"Brand"</code> column are
<code>"Tesla"</code>, <code>"BMW"</code>, <code>"Audi"</code>, and
<code>"Nissan"</code>, the ‚Äúmaximum‚Äù is <code>"Tesla"</code>, which has
a length of 5.</p>
<hr/>
<h5>Difficulty: ‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è</h5>
<p>
</p>
<p>The average score on this problem was 54%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="problem-4">Problem 4</h2>
<p>Suppose we‚Äôve run the following line of code. ‚Äã</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>counts <span class="op">=</span> evs.groupby(<span class="st">&quot;Brand&quot;</span>).count()</span></code></pre></div>
<p><br></p>
<h3 id="problem-4.1">Problem 4.1</h3>
<p>What value does <code>counts.get("Range").sum()</code> evaluate
to?</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading4_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse4_1" aria-expanded="true" aria-controls="collapse4_1">
Click to view the solution.
</button>
</h2>
<div id="collapse4_1" class="accordion-collapse collapse collapse"
aria-labelledby="heading4_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> 32</p>
<p><code>counts</code> is a DataFrame with one row per
<code>"Brand"</code>, since we grouped by <code>"Brand"</code>. Since we
used the <code>.count()</code> aggregation method, the columns in
<code>counts</code> will all be the same ‚Äì they will all contain the
number of rows in <code>evs</code> for each <code>"Brand"</code>
(i.e.¬†they will all contain the distribution of <code>"Brand"</code>).
If we sum up the values in any one of the columns in
<code>counts</code>, then, the result will be the total number of rows
in <code>evs</code>, which we know to be 32. Thus,
<code>counts.get("Range").sum()</code> is 32.</p>
<hr/>
<h5>Difficulty: ‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è</h5>
<p>
</p>
<p>The average score on this problem was 56%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-4.2">Problem 4.2</h3>
<p>What value does <code>counts.index[3]</code> evaluate to?</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading4_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse4_2" aria-expanded="true" aria-controls="collapse4_2">
Click to view the solution.
</button>
</h2>
<div id="collapse4_2" class="accordion-collapse collapse collapse"
aria-labelledby="heading4_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> <code>"Tesla"</code></p>
<p>Since we grouped by <code>"Brand"</code> to create
<code>counts</code>, the index of <code>counts</code> will be
<code>"Brand"</code>, sorted alphabetically (this sorting happens
automatically when grouping). This means that <code>counts.index</code>
will be the array-like sequence
<code>["Audi", "BMW", "Nissan", "Tesla"]</code>, and
<code>counts.index[3]</code> is <code>"Tesla"</code>.</p>
<hr/>
<h5>Difficulty: ‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è</h5>
<p>
</p>
<p>The average score on this problem was 33%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="problem-5">Problem 5</h2>
<p>Consider the following incomplete assignment statement.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>result <span class="op">=</span> evs______.mean()</span></code></pre></div>
<p>In each part, fill in the blank above so that result evaluates to the
specified quantity.</p>
<p><br></p>
<h3 id="problem-5.1">Problem 5.1</h3>
<p>A DataFrame, indexed by <code>"Brand"</code>, whose
<code>"Seats"</code> column contains the average number of
<code>"Seats"</code> per <code>"Brand"</code>. (The DataFrame may have
other columns in it as well.)</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading5_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse5_1" aria-expanded="true" aria-controls="collapse5_1">
Click to view the solution.
</button>
</h2>
<div id="collapse5_1" class="accordion-collapse collapse collapse"
aria-labelledby="heading5_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> <code>.groupby("Brand")</code></p>
<p>When we group by a column, the resulting DataFrame contains one row
for every unique value in that column. The question specified that we
wanted some information <em>per</em> <code>"Brand"</code>, which implies
that grouping by <code>"Brand"</code> is necessary.</p>
<p>After grouping, we need to use an aggregation method. Here, we wanted
the resulting DataFrame to be such that the <code>"Seats"</code> column
contained the average number of <code>"Seats"</code> per
<code>"Brand"</code>; this is accomplished by using
<code>.mean()</code>, which is already done for us.</p>
<p>Note: With the provided solution, the resulting DataFrame also has
other columns. For instance, it has a <code>"Range"</code> column that
contains the average <code>"Range"</code> for each <code>"Brand"</code>.
That‚Äôs fine, since we were told that the resulting DataFrame may have
other columns in it as well. If we wanted to ensure that the only column
in the resulting DataFrame was <code>"Seats"</code>, we could have used
<code>.get(["Brand", "Seats"])</code> before grouping, though this was
not necessary.</p>
<hr/>
<h5>Difficulty: ‚≠êÔ∏è‚≠êÔ∏è</h5>
<p>
</p>
<p>The average score on this problem was 76%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-5.2">Problem 5.2</h3>
<p>A number, corresponding to the average <code>"TopSpeed"</code> of all
EVs manufactured by Audi in evs</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading5_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse5_2" aria-expanded="true" aria-controls="collapse5_2">
Click to view the solution.
</button>
</h2>
<div id="collapse5_2" class="accordion-collapse collapse collapse"
aria-labelledby="heading5_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong>
<code>[evs.get("Brand") == "Audi"].get("TopSpeed")</code></p>
<p>There are two parts to this problem:</p>
<ol type="1">
<li><p>Querying, to make sure that we only keep the rows corresponding
to Audis. This is accomplished by:</p>
<ul>
<li>Using <code>evs.get("Brand") == "Audi"</code> to create a Boolean
Series, with <code>True</code>s for the rows we want to keep and
<code>False</code>s for the other rows.</li>
<li>Using Boolean indexing to keep only the rows in which the
aforementioned Series is <code>True</code>. This is accomplished by
<code>evs[evs.get("Brand") == "Audi"]</code> (though the
<code>evs</code> part at the front was already provided).</li>
</ul></li>
<li><p>Accessing the <code>"TopSpeed"</code> column. This is
accomplished by using <code>.get("TopSpeed")</code>.</p></li>
</ol>
<p>Then, <code>evs[evs.get("Brand") == "Audi"].get("TopSpeed")</code> is
a Series contaning the <code>"TopSpeed"</code>s of all Audis, and mean
of this Series is the result we‚Äôre looking for. The call to
<code>.mean()</code> was already provided for us.</p>
<hr/>
<h5>Difficulty: ‚≠êÔ∏è‚≠êÔ∏è</h5>
<p>
</p>
<p>The average score on this problem was 77%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-5.3">Problem 5.3</h3>
<p>A number, corresponding to the average of the natural logarithm of
the <code>"TopSpeed"</code> of all EVs in evs. (Hint: The function
<code>np.log</code> computes the natural logarithm of a single
number.)</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading5_3">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse5_3" aria-expanded="true" aria-controls="collapse5_3">
Click to view the solution.
</button>
</h2>
<div id="collapse5_3" class="accordion-collapse collapse collapse"
aria-labelledby="heading5_3" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong>
<code>.get("TopSpeed").apply(np.log)</code></p>
<p>The <code>.apply</code> method is used to apply a function on every
element of a Series. The relevant Series here is the column containing
the <code>"TopSpeed"</code> of each EV,
i.e.¬†<code>evs.get("TopSpeed")</code> (the <code>evs</code> part was
already provided to us).</p>
<p>After we get that Series, we need to use the function
<code>np.log</code> on every element of it. This is accomplished by
using <code>.apply(np.log)</code>. Putting our steps so far together, we
have <code>evs.get("TopSpeed").apply(np.log)</code>, which is a Series
containing the natural logarithm of the <code>"TopSpeed"</code> of all
EVs in <code>evs</code>.</p>
<p>The number we were asked for was the average of the natural logarithm
of the <code>"TopSpeed"</code> of all EVs in <code>evs</code>; all we
need to do now is use the <code>.mean()</code> method at the end, which
was already done for us.</p>
<hr/>
<h5>Difficulty: ‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è</h5>
<p>
</p>
<p>The average score on this problem was 61%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="problem-6">Problem 6</h2>
<p>The DataFrame below shows the distribution of
<code>"BodyStyle"</code> for all <code>"Brands"</code> in
<code>evs</code>, other than Nissan. We will call EVs made by a
<code>"Brand"</code> other than Nissan ‚Äúnon-Nissan EVs‚Äù; there are 24
non-Nissan EVs in evs.</p>
<center><img src='../assets/images/fa22-midterm/midq6.png' width=50%></center>
<p>Use the information above to answer the following questions.</p>
<p><br></p>
<h3 id="problem-6.1">Problem 6.1</h3>
<p>Suppose we randomly select one of the non-Nissan EVs and it is either
an SUV or a sedan. What is the most likely <code>"Brand"</code> of the
randomly selected non-Nissan EV?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> Tesla</p></li>
<li><p><input type="radio" disabled="" /> BMW</p></li>
<li><p><input type="radio" disabled="" /> Audi</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading6_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse6_1" aria-expanded="true" aria-controls="collapse6_1">
Click to view the solution.
</button>
</h2>
<div id="collapse6_1" class="accordion-collapse collapse collapse"
aria-labelledby="heading6_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> Audi</p>
<p>Let‚Äôs compute the number of EVs that are either SUVs or sedans for
each non-Nissan Brand. (To do this, we‚Äôll look at the right-most two
columns in the DataFrame provided.)</p>
<ul>
<li>Number of Teslas that are SUVs or sedans: <span class="math inline">4 + 3 = 7</span></li>
<li>Number of BMWs that are SUVs or sedans: <span class="math inline">1
+ 1 = 2</span></li>
<li>Number of Audis that are SUVs or sedans: <span class="math inline">8
+ 1 = 9</span></li>
</ul>
<p>Since Audi is the <code>"Brand"</code> with the most total SUVs and
sedans, it is the most likely <code>"Brand"</code> to be selected.</p>
<p>Note: You <em>could</em> compute conditional probabilities for each
brand, if you‚Äôd like, by dividing the counts above by 18 (the total
number of SUVs and sedans). For instance, <span class="math inline">P(\text{EV is a BMW given that EV is an SUV or
sedan}) = \frac{2}{18}</span>. The <code>"Brand"</code> with the highest
count (Audi, with 9 SUVs or sedans) is also the <code>"Brand"</code>
with the highest conditional probability of being selected given that
the selected car is an SUV or sedan (Audi, with <span class="math inline">\frac{9}{18}</span>).</p>
<hr/>
<h5>Difficulty: ‚≠êÔ∏è‚≠êÔ∏è</h5>
<p>
</p>
<p>The average score on this problem was 88%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-6.2">Problem 6.2</h3>
<p>Suppose we randomly select two of the non-Nissan EVs without
replacement. The probability that both are BMWs is equal to <span
class="math inline">\frac{1}{k}</span> , where k is a positive integer.
What is k?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> 8</p></li>
<li><p><input type="radio" disabled="" /> 56</p></li>
<li><p><input type="radio" disabled="" /> 64</p></li>
<li><p><input type="radio" disabled="" /> 84</p></li>
<li><p><input type="radio" disabled="" /> 92</p></li>
<li><p><input type="radio" disabled="" /> 108</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading6_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse6_2" aria-expanded="true" aria-controls="collapse6_2">
Click to view the solution.
</button>
</h2>
<div id="collapse6_2" class="accordion-collapse collapse collapse"
aria-labelledby="heading6_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> 92</p>
<p>In the first selection, the probability of selecting a BMW is <span class="math inline">\frac{1+1+1}{24} = \frac{3}{24}</span> (3 is the
total number of EVs that are BMW, and 24 is the total number of
non-Nissan EVs as given by the question).</p>
<p>In the second selection, since we select <strong>without
replacement</strong>, there are only 23 EVs we can select from. Given
that in the first selection we already selected 1 BMW, there are only 2
BMWs left among the 23 EVs left. Thus, the probability of getting a BMW
in the second selection is <span class="math inline">\frac{2}{23}</span>.</p>
<p>Putting this all together, the probability that both selections are
BMWs is</p>
<p><span class="math display">\frac{3}{24}\cdot\frac{2}{23} =
\frac{6}{24} \cdot \frac{1}{23} =\frac{1}{4} \cdot \frac{1}{23} =
\frac{1}{92}</span></p>
<p>So, <span class="math inline">k = 92</span>.</p>
<hr/>
<h5>Difficulty: ‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è</h5>
<p>
</p>
<p>The average score on this problem was 67%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-6.3">Problem 6.3</h3>
<p>Suppose we randomly select one of the non-Nissan EVs and it is an
SUV. What is the probability that it is made by Tesla? Give your answer
as a simplified fraction.</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading6_3">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse6_3" aria-expanded="true" aria-controls="collapse6_3">
Click to view the solution.
</button>
</h2>
<div id="collapse6_3" class="accordion-collapse collapse collapse"
aria-labelledby="heading6_3" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> <span class="math inline">\frac{4}{13}</span></p>
<p>The question is asking for the proportion of SUVs that are made by
Tesla.</p>
<p>We first need to find the number of SUVs in the DataFrame provided,
which is <span class="math inline">4 + 1 + 8 = 13</span>. Of those 13
SUVs, 4 are made by Tesla. Thus, the proportion of SUVs made by Tesla is
<span class="math inline">\frac{4}{13}</span>, so the probability that a
randomly selected SUV is made by Tesla is <span class="math inline">\frac{4}{13}</span>.</p>
<hr/>
<h5>Difficulty: ‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è</h5>
<p>
</p>
<p>The average score on this problem was 66%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="problem-7">Problem 7</h2>
<p>Below, we provide the same DataFrame as shown at the start of the
previous problem, which contains the distribution of ‚ÄúBodyStyle‚Äù for all
‚ÄúBrands‚Äù in evs, other than Nissan.</p>
<center><img src='../assets/images/fa22-midterm/midq6.png' width=50%></center>
<p>Suppose we‚Äôve run the following few lines of code.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>tesla <span class="op">=</span> evs[evs.get(<span class="st">&quot;Brand&quot;</span>) <span class="op">==</span> <span class="st">&quot;Tesla&quot;</span>]</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>bmw <span class="op">=</span> evs[evs.get(<span class="st">&quot;Brand&quot;</span>) <span class="op">==</span> <span class="st">&quot;BMW&quot;</span>]</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>audi <span class="op">=</span> evs[evs.get(<span class="st">&quot;Brand&quot;</span>) <span class="op">==</span> <span class="st">&quot;Audi&quot;</span>]</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>combo <span class="op">=</span> tesla.merge(bmw, on<span class="op">=</span><span class="st">&quot;BodyStyle&quot;</span>).merge(audi, on<span class="op">=</span><span class="st">&quot;BodyStyle&quot;</span>)</span></code></pre></div>
<p>How many rows does the DataFrame <code>combo</code> have?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> 21</p></li>
<li><p><input type="radio" disabled="" /> 24</p></li>
<li><p><input type="radio" disabled="" /> 35</p></li>
<li><p><input type="radio" disabled="" /> 65</p></li>
<li><p><input type="radio" disabled="" /> 72</p></li>
<li><p><input type="radio" disabled="" /> 96</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading7">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse7" aria-expanded="true" aria-controls="collapse7">
Click to view the solution.
</button>
</h2>
<div id="collapse7" class="accordion-collapse collapse collapse"
aria-labelledby="heading7" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> 35</p>
<p>Let‚Äôs attempt this problem step-by-step. We‚Äôll first determine the
number of rows in <code>tesla.merge(bmw, on="BodyStyle")</code>, and
then determine the number of rows in <code>combo</code>. <strong>For the
purposes of the solution, let‚Äôs use <code>temp</code> to refer to the
first merged DataFrame,
<code>tesla.merge(bmw, on="BodyStyle")</code>.</strong></p>
<p>Recall, when we <code>merge</code> two DataFrames, the resulting
DataFrame contains a single row for every match between the two columns,
and rows in either DataFrame without a match disappear. In this problem,
the column that we‚Äôre looking for matches in is
<code>"BodyStyle"</code>.</p>
<p>To determine the number of rows of <code>temp</code>, we need to
determine which rows of <code>tesla</code> have a
<code>"BodyStyle"</code> that matches a row in <code>bmw</code>. From
the DataFrame provided, we can see that the only
<code>"BodyStyle"</code>s in both <code>tesla</code> and
<code>bmw</code> are SUV and sedan. When we merge <code>tesla</code> and
<code>bmw</code> on <code>"BodyStyle"</code>:</p>
<ul>
<li>The 4 SUV rows in <code>tesla</code> each match the 1 SUV row in
<code>bmw</code>. This will create 4 SUV rows in <code>temp</code>.</li>
<li>The 3 sedan rows in <code>tesla</code> each match the 1 sedan row in
<code>bmw</code>. This will create 3 sedan rows in
<code>temp</code>.</li>
</ul>
<p>So, <code>temp</code> is a DataFrame with a total of 7 rows, with 4
rows for SUVs and 3 rows for sedans (in the <code>"BodyStyle"</code>)
column. Now, when we merge <code>temp</code> and <code>audi</code> on
<code>"BodyStyle"</code>:</p>
<ul>
<li>The 4 SUV rows in <code>temp</code> each match the 8 SUV rows in
<code>audi</code>. This will create <span class="math inline">4 \cdot 8
= 32</span> SUV rows in <code>combo</code>.</li>
<li>The 3 sedan rows in <code>temp</code> each match the 1 sedan row in
<code>audi</code>. This will create <span class="math inline">3 \cdot 1
= 3</span> sedan rows in <code>combo</code>.</li>
</ul>
<p>Thus, the total number of rows in <code>combo</code> is <span class="math inline">32 + 3 = 35</span>.</p>
<p>Note: You may notice that 35 is the result of multiplying the
<code>"SUV"</code> and <code>"Sedan"</code> columns in the DataFrame
provided, and adding up the results. This problem is similar to <a href="../fa21-midterm/index.html#problem-5">Problem 5 from the Fall 2021
Midterm</a>.</p>
<hr/>
<h5>Difficulty: ‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è</h5>
<p>
</p>
<p>The average score on this problem was 45%.</p>
</div>
</div>
</div>
</div>
<hr />
<h2 id="problem-8">Problem 8</h2>
<p>TritonTrucks is an EV startup run by UCSD alumni. Their signature EV,
the TritonTruck, has a subpar battery (the engineers didn‚Äôt pay
attention in their Chemistry courses).</p>
<p>A new TritonTruck‚Äôs battery needs to be replaced after 500 days,
unless it fails first, in which case it needs to be replaced
immediately. On any given day, the probability that a given
TritonTruck‚Äôs battery fails is 0.02, independent of all other days.</p>
<p>Fill in the blanks so that
<code>average_days_until_replacement</code> is an estimate of the
<strong>average number of days a new TritonTruck‚Äôs battery lasts without
needing to be replaced</strong>.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> days_until_replacement(daily_conditions):</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>    days <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> i <span class="kw">in</span> __(a)__:</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> daily_conditions[i] <span class="op">==</span> <span class="va">True</span>:</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>            __(b)__</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>        <span class="cf">else</span>:</span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>            <span class="cf">return</span> days</span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> days</span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a>total <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a>repetitions <span class="op">=</span> <span class="dv">10000</span></span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i <span class="kw">in</span> np.arange(repetitions):</span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a>    <span class="co"># The first element of the first argument to np.random.choice is</span></span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a>    <span class="co"># chosen with probability 0.98</span></span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a>    daily_conditions <span class="op">=</span> np.random.choice(__(c)__, <span class="dv">500</span>, p<span class="op">=</span>[<span class="fl">0.98</span>, <span class="fl">0.02</span>])</span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a>    total <span class="op">=</span> total <span class="op">+</span> days_until_replacement(daily_conditions)</span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a>average_days_until_replacement <span class="op">=</span> total <span class="op">/</span> repetitions</span></code></pre></div>
<p>What goes in blanks (a), (b), and (c)?</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading8">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse8" aria-expanded="true" aria-controls="collapse8">
Click to view the solution.
</button>
</h2>
<div id="collapse8" class="accordion-collapse collapse collapse"
aria-labelledby="heading8" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong></p>
<ul>
<li>Blank (a): <code>np.arange(len(daily_conditions))</code></li>
<li>Blank (b): <code>days = days + 1</code></li>
<li>Blank (c): <code>[True, False]</code></li>
</ul>
<p>At a high-level, here‚Äôs how this code block works:</p>
<ul>
<li><code>daily_conditions</code> is an array of length 500, in each
each element is <code>True</code> with probability 0.98 and
<code>False</code> with probability 0.02. Each element of
<code>daily_conditions</code> is meant to represent whether or not the
given TritonTruck‚Äôs battery failed on that day. For instance, if the
first four elements of <code>daily_conditions</code> are
<code>[True, True, False, True, ...]</code>, it means the battery was
fine the first two days, but failed on the third day.</li>
<li>The function <code>days_until_replacement</code> takes in
<code>daily_conditions</code> and returns the number of days until the
battery failed for the first time. In other words, it returns the number
of elements before the first <code>False</code> in
<code>daily_conditions</code>. In the example above, where the first
four elements of <code>daily_conditions</code> are
<code>[True, True, False, True, ...]</code>,
<code>days_until_replacement</code> would return 2, since the battery
lasted 2 days until it needed to be replaced. It doesn‚Äôt matter what is
in <code>daily_conditions</code> after the first
<code>False</code>.</li>
</ul>
<p>With that in mind, let‚Äôs fill in the pieces.</p>
<ul>
<li><p>Blank (a): We need to loop over all elements in
<code>daily_conditions</code>. There are two ways to do this, in theory
‚Äì by looping over the elements themselves
(e.g.¬†<code>for cond in daily_conditions</code>) or their positions
(e.g.¬†<code>for i in np.arange(len(daily_conditions))</code>). However,
here we <em>must</em> loop over their positions, because the body of
<code>days_until_replacement</code> uses
<code>daily_conditions[i]</code>, which only makes sense if
<code>i</code> is the position of an element in
<code>daily_conditions</code>. Since <code>daily_conditions</code> has
500 elements, the possible positions are 0, 1, 2, ‚Ä¶, 499. Since
<code>len(daily_conditions)</code> is 500, both
<code>np.arange(len(daily_conditions))</code> and
<code>np.arange(500)</code> yield the same correct result here.</p></li>
<li><p>Blank (b): <code>days</code> is the ‚Äúcounter‚Äù variable that is
being used to keep track of the number of days the battery lasted before
failing. If <code>daily_conditions[i]</code> is <code>True</code>, it
means that the battery lasted another day without failing, and so 1
needs to be added to <code>days</code>. As such, the correct answer here
is <code>days = days + 1</code> (or <code>days += 1</code>). (If
<code>daily_conditions[i]</code> is <code>False</code>, then the battery
has failed, and so we return the number of days until the first
failure.)</p></li>
<li><p>Blank (c): This must be <code>[True, False]</code>, as mentioned
above. There are other valid answers too, including
<code>np.array([True, False])</code> and <code>[1, 0]</code>.</p></li>
</ul>
<hr/>
<h5>Difficulty: ‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è</h5>
<p>
</p>
<p>The average score on this problem was 56%.</p>
</div>
</div>
</div>
</div>
<hr />
<h2 id="problem-9">Problem 9</h2>
<p>Histograms A and B below both display the distribution of the
<code>"Seats"</code> column, using different bins. Each histogram
includes all 32 rows of <code>evs</code>.</p>
<center><img src='../assets/images/fa22-midterm/midq9.png' width=60%></center>
<p><br></p>
<h3 id="problem-9.1">Problem 9.1</h3>
<p>How many EVs in evs have exactly 6 seats?</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading9_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse9_1" aria-expanded="true" aria-controls="collapse9_1">
Click to view the solution.
</button>
</h2>
<div id="collapse9_1" class="accordion-collapse collapse collapse"
aria-labelledby="heading9_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> 3</p>
<p>Here are two ways to solve this problem. In both solutions, we only
look at Histogram A, since only Histogram A contains a bin that
corresponds to EVs with exactly 6 <code>"Seats"</code>. Recall, in
histograms, bins are inclusive of the left endpoint and exclusive of the
right endpoint, which means the [6, 7) bin represents EVs with &gt;= 6
<code>"Seats"</code> and &lt; 7 <code>"Seats"</code>; since the number
of <code>"Seats"</code> is a whole number, this corresponds to exactly 6
<code>"Seats"</code>.</p>
<p><strong>Solution 1</strong></p>
<p>Since the bin [6, 7) has a width of 1, its height is equal to its
area, which is equal to the proportion of values in that bin. There are
32 values total, so all proportions (and, thus, the height of the [6, 7)
bar) must be a multiple of <span class="math inline">\frac{1}{32}</span>. The height is close to but just
under 0.01; this implies the height is <span class="math inline">\frac{3}{32}</span>, since that is also close to but
just under 0.01 (<span class="math inline">\frac{4}{32}</span> is way
above and <span class="math inline">\frac{2}{32}</span> is way below).
So, we conclude that the number of EVs with 6 seats is 3.</p>
<p><strong>Solution 2</strong></p>
<p>The height of the [6, 7) bar is ever-so-slightly less than 0.1. If
it‚Äôs height was 0.1, it would imply that the proportion of values in the
[6, 7) bin was <span class="math inline">0.1 \cdot (7 - 6) = 0.1</span>,
which would imply that the number of values in the [6, 7) bin is <span class="math inline">0.1 \cdot 32 = 3.2</span>. However, since the number
of values in a bin must be an integer, the number of values in this bin
is 3 (which is slightly less than 3.2).</p>
<hr/>
<h5>Difficulty: ‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è</h5>
<p>
</p>
<p>The average score on this problem was 61%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-9.2">Problem 9.2</h3>
<p>How many EVs in evs have exactly 5 seats?</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading9_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse9_2" aria-expanded="true" aria-controls="collapse9_2">
Click to view the solution.
</button>
</h2>
<div id="collapse9_2" class="accordion-collapse collapse collapse"
aria-labelledby="heading9_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> 22</p>
<p>Now, we must look at Histogram B. In the previous part, we computed
that there are 3 EVs with exactly 6 <code>"Seats"</code> in
<code>evs</code>. Histogram B shows us the proportion, and thus number,
of EVs with 5 or 6 <code>"Seats"</code>, through its [5, 7) bin
(remember, this bin corresponds to EVs with &gt;= 5 <code>"Seats"</code>
and &lt; 7 <code>"Seats"</code>). If we can find the number of EVs with
5 or 6 <code>"Seats"</code>, we can subtract 3 from it to determine the
number of EVs with exactly 5 <code>"Seats"</code>.</p>
<p>Since it‚Äôs not quite clear what the height of the [5, 7) bar is, we
can create a <em>range</em> for the height of the bar, and use that to
come up with a range for the area of the bar, and hence a range for the
number of values in the bin. We can then use the fact that the number of
values in a bin must be an integer to narrow down our answer.</p>
<ul>
<li>The height of the [5, 7) bar is less than 0.4. This means that the
area of the [5, 7) bar is less than <span class="math inline">(7 - 5)
\cdot 0.4 = 0.8</span>, which means that the proportion of EVs with 5 or
6 <code>"Seats"</code> is less than 0.8, and the number of EVs with 5 or
6 <code>"Seats"</code> is less than <span class="math inline">0.8 \cdot
32 = 25.6</span>.</li>
<li>The height of the [5, 7) bar is a bit above 0.375, which is the
midpoint between 0.35 and 0.4 on the <span class="math inline">y</span>-axis. This means that the area of the [5,
7) bar is more than <span class="math inline">(7 - 5) \cdot 0.375 =
0.75</span>, which means that the number of EVs with 5 or 6
<code>"Seats"</code> is more than <span class="math inline">0.75 \cdot
32 = 24</span>.</li>
</ul>
<p>We‚Äôve found that the number of EVs with 5 or 6 <code>"Seats"</code>
is more than 24 and less than 25.6. There is only one integer in this
range ‚Äì 25 ‚Äì so the number of EVs with 5 or 6 <code>"Seats"</code> is
25. Finally, the number of EVs with exactly 5 seats is <span class="math inline">25 - 3 = 22</span>.</p>
<hr/>
<h5>Difficulty: ‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è</h5>
<p>
</p>
<p>The average score on this problem was 35%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-9.3">Problem 9.3</h3>
<p>Histogram C also displays the distribution of the
<code>"Seats"</code> column, but uses just a single bin, [4, 9]. What is
the height of the sole bar in Histogram C?</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading9_3">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse9_3" aria-expanded="true" aria-controls="collapse9_3">
Click to view the solution.
</button>
</h2>
<div id="collapse9_3" class="accordion-collapse collapse collapse"
aria-labelledby="heading9_3" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> <span class="math inline">\frac{1}{5}</span>
(or 0.2)</p>
<p>Recall, the total area of a (density) histogram is 1. Since Histogram
C only has one bar, the area of that one bar must be 1. we can use this
fact to find what its height must be.</p>
<p><span class="math display">\begin{align*}
\text{Area} &amp;= \text{Width} \cdot \text{Height} \\
1 &amp;= (9 - 4) \cdot \text{Height} \\
\frac{1}{5} &amp;= \text{Height}
\end{align*}</span></p>
<hr/>
<h5>Difficulty: ‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è</h5>
<p>
</p>
<p>The average score on this problem was 68%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="section"><span class="math display"> </span></h2>
<h4
id="feedback-find-an-error-still-confused-have-a-suggestion-let-us-know-here.">üëã
Feedback: Find an error? Still confused? Have a suggestion?
<a href="https://forms.gle/WZ71FchnXU1K154d7">Let us know
here</u></a>.</h4>
<hr />
</body>
</html>
