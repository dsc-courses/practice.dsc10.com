<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>Fall 2022 Midterm Exam</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      {   }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span.al { color: #ff0000; font-weight: bold; } /* Alert */
    code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
    code span.at { color: #7d9029; } /* Attribute */
    code span.bn { color: #40a070; } /* BaseN */
    code span.bu { color: #008000; } /* BuiltIn */
    code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #4070a0; } /* Char */
    code span.cn { color: #880000; } /* Constant */
    code span.co { color: #60a0b0; font-style: italic; } /* Comment */
    code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
    code span.do { color: #ba2121; font-style: italic; } /* Documentation */
    code span.dt { color: #902000; } /* DataType */
    code span.dv { color: #40a070; } /* DecVal */
    code span.er { color: #ff0000; font-weight: bold; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #40a070; } /* Float */
    code span.fu { color: #06287e; } /* Function */
    code span.im { color: #008000; font-weight: bold; } /* Import */
    code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
    code span.kw { color: #007020; font-weight: bold; } /* Keyword */
    code span.op { color: #666666; } /* Operator */
    code span.ot { color: #007020; } /* Other */
    code span.pp { color: #bc7a00; } /* Preprocessor */
    code span.sc { color: #4070a0; } /* SpecialChar */
    code span.ss { color: #bb6688; } /* SpecialString */
    code span.st { color: #4070a0; } /* String */
    code span.va { color: #19177c; } /* Variable */
    code span.vs { color: #4070a0; } /* VerbatimString */
    code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="../assets/theme.css" />
  <script defer=""
  src="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.js"></script>
  <script>document.addEventListener("DOMContentLoaded", function () {
 var mathElements = document.getElementsByClassName("math");
 var macros = [];
 for (var i = 0; i < mathElements.length; i++) {
  var texText = mathElements[i].firstChild;
  if (mathElements[i].tagName == "SPAN") {
   katex.render(texText.data, mathElements[i], {
    displayMode: mathElements[i].classList.contains('display'),
    throwOnError: false,
    macros: macros,
    fleqn: false
   });
}}});
  </script>
  <link rel="stylesheet"
  href="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.css" />
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<header id="title-block-header">
<h1 class="title">Fall 2022 Midterm Exam</h1>
</header>
<p><link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
<!-- add after bootstrap.min.css -->
<link rel="stylesheet" href="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.css"/>
<!-- add after bootstrap.min.js or bootstrap.bundle.min.js -->
<script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script></p>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-B947E6J6H4"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-B947E6J6H4');
</script>
<p><a href="../index.html">← return to practice.dsc10.com</a></p>
<hr />
<p><strong>Instructor(s):</strong> Janine Tiefenbruck, Suraj Rampure,
Puoya Tabaghi</p>
<p>The exam was fifty-minute, on-paper, and closed-notes.</p>
<hr />
<p>Welcome to the Midterm Exam!</p>
<p><strong>The Data</strong></p>
<p>In September 2020, Governor Gavin Newsom announced that by 2035, all
new vehicles soldin California must be zero-emissions vehicles. Electric
vehicles (EVs) are among the most popular zero-emissions vehicles
(though other examples include plug-in hybrids and hydrogen fuel cell
vehicles).</p>
<center><img src='../assets/images/fa22-midterm/data22.png' width=20%></center>
<p>The DataFrame evs consists of <strong>32</strong> rows, each of which
contains information about a different EV model.</p>
<ul>
<li><code>"Brand"</code> (str): The vehicle’s manufacturer.</li>
<li><code>"Model"</code> (str): The vehicle’s model name.</li>
<li><code>"BodyStyle"</code> (str): The vehicle’s body style.</li>
<li><code>"Seats"</code> (int): The vehicle’s number of seats.</li>
<li><code>"TopSpeed"</code> (int): The vehicle’s top speed, in
kilometers per hour.</li>
<li><code>"Range"</code> (int): The vehicle’s range, or distance it can
travel on a single charge, in kilometers.</li>
</ul>
<p>The first few rows of evs are shown below (though remember, evs has
32 rows total).</p>
<center><img src='../assets/images/fa22-midterm/form22.png' width=40%></center>
<p><strong>Throughout this exam, we will refer to evs
repeatedly.</strong></p>
<p>Assume that: * The only four values in the <code>"Brand"</code>
column are <code>"Tesla"</code>, <code>"BMW"</code>,
<code>"Audi"</code>, and <code>"Nissan"</code>. * We have already run
<code>import babypandas as bpd</code> and
<code>import numpy as np</code>.</p>
<p><strong>Tip:</strong> Open this page in another tab, so that it is
easy to refer to this data description as you work through the exam.</p>
<hr />
<h2 id="problem-1">Problem 1</h2>
<p>TritonTire, a UCSD alumni-run car repair shop, has an electronic
database of all services it has ever provided, dating back to 1987. The
owner, Dasha, says:</p>
<p>“Our collective records from all 50 states show that, over the years,
our repair shops have performed more and more repairs on EVs. After
discussing this with our employees, we believe this is because newer EVs
are not made to the same standards as the gasoline cars before
them.”</p>
<p>In ** at most two sentences **, identify the largest confounding
factor that Dasha has not considered in her argument. Your answer must
fit in the box below.</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse1" aria-expanded="true" aria-controls="collapse1">
Click to view the solution.
</button>
</h2>
<div id="collapse1" class="accordion-collapse collapse collapse"
aria-labelledby="heading1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p>Answer: ** There are more total Evs in general **</p>
<p>There are a lot more EVs now than there were in 1987, so even if they
are made to the same standards or better, we’d expect to see more
repairs of EVs in recent years. The confounding factor that Dasha hasn’t
considered is the prevalence of EVs.</p>
</div>
</div>
</div>
</div>
<hr />
<h2 id="problem-2">Problem 2</h2>
<p>question intro here</p>
<p><br></p>
<h3 id="problem-2.1">Problem 2.1</h3>
<p>Which type of visualization should we use to visualize the
distribution of <code>"Range"</code>?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> Bar Chart</p></li>
<li><p><input type="radio" disabled="" /> Histogram</p></li>
<li><p><input type="radio" disabled="" /> Scatter Plot</p></li>
<li><p><input type="radio" disabled="" /> Line Plot</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading2_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse2_1" aria-expanded="true" aria-controls="collapse2_1">
Click to view the solution.
</button>
</h2>
<div id="collapse2_1" class="accordion-collapse collapse collapse"
aria-labelledby="heading2_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer: Histogram </strong></p>
<p>To look at the distribution of <code>"Range"</code>, a Histogram is
the best kind of visualization because we’re looking at two quantitative
values (frequency and range). A Bar chart wouldn’t make sense here since
we’re not looking at categorical data vs quantitative data. And a
scatter plot wouldn’t make sense here since we’re not looking at two
variables (we’re only looking the distribution of <code>"Range"</code>,
which is just one variable). A line plot wouldn’t work here either since
we’re not looking for a relationship between variables, just a
distribution of values.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-2.2">Problem 2.2</h3>
<p>Teslas, on average, tend to have higher <code>"Range"</code>s than
BMWs. In which of the following visualizations would we be able to see
this pattern? Select all that apply.</p>
<ul class="task-list">
<li><p><input type="checkbox" disabled="" /> A bar chart that shows the distribution of <code>"Brand"</code></p></li>
<li><p><input type="checkbox" disabled="" /> A bar chart that shows the average <code>"Range"</code> for each
<code>"Brand"</code></p></li>
<li><p><input type="checkbox" disabled="" /> An overlaid histogram showing the distribution of
<code>"Range"</code> for each <code>"Brand"</code></p></li>
<li><p><input type="checkbox" disabled="" /> A scatter plot with <code>"TopSpeed"</code> on the <span class="math inline">x</span>-axis and <code>"Range"</code> on the <span class="math inline">y</span>-axis</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading2_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse2_2" aria-expanded="true" aria-controls="collapse2_2">
Click to view the solution.
</button>
</h2>
<div id="collapse2_2" class="accordion-collapse collapse collapse"
aria-labelledby="heading2_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer: Options 2 and Options 3 </strong></p>
<p>Option 1: A bar chart showing the distribution of
<code>"Brand"</code> would only show us how much of each
<code>"Brand"</code> there is. It would not show us anything about the
<code>"Range"</code> of each brand.</p>
<p>Option 2: A bar chart showing the average range for each
<code>"Brand"</code> would help us directly visualize how the average
range of each brand would compare to each other.</p>
<p>Option 3: An overlaid histogram, although perhaps a bit messy, would
also give us a general idea of the average range of each brand by giving
us the distribution of the range of each brand. (although we may have to
do some estimation and eye-balling)</p>
<p>Option 4: A scatter plot of <code>"Top Speed"</code> against
<code>"Range"</code> would only illustrate the relationship between
<code>"Top Speed"</code> and <code>"Range"</code>, not anything about
the average <code>"Range"</code> for each brand.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-2.3">Problem 2.3</h3>
<p>Gabriel thinks <code>"Seats"</code> is a categorical variable because
it can be used to categorize EVs by size. For instance, EVs with 4 seats
are small, EVs with 5 seats are medium, and EVs with 6 or more seats are
large.</p>
<p>Is Gabriel correct?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> Yes</p></li>
<li><p><input type="radio" disabled="" /> No</p></li>
</ul>
<p>Justify your answer in ** one sentence **. Your answer must fit in
the box below.</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading2_3">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse2_3" aria-expanded="true" aria-controls="collapse2_3">
Click to view the solution.
</button>
</h2>
<div id="collapse2_3" class="accordion-collapse collapse collapse"
aria-labelledby="heading2_3" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer: No </strong></p>
<p><code>"Seats"</code> is a numerical variable, since ** it makes sense
to do arithmetic with it **. We can find the average number of seats
that a group of cars has, for instance. Gabriel’s argument could apply
to any numerical variable; just because we can place numerical variables
into “bins” doesn’t make them categorical.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="problem-3">Problem 3</h2>
<p>Suppose we’ve run the following two lines of code. ​</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>first <span class="op">=</span> evs.get(<span class="st">&quot;Brand&quot;</span>).<span class="bu">apply</span>(<span class="bu">max</span>) </span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>second <span class="op">=</span> evs.get(<span class="st">&quot;Brand&quot;</span>).<span class="bu">max</span>()</span></code></pre></div>
<p>Note:</p>
<ul>
<li>The length of a value <code>v</code> is defined as
<code>len(v)</code>, unless <code>v</code> is a DataFrame, in which case
its length is <code>v.shape[0]</code>.</li>
<li>If <code>s</code> is a string, then <code>max(s)</code> also
evaluates to a string.</li>
</ul>
<p><br></p>
<h3 id="problem-3.1">Problem 3.1</h3>
<p>Fill in the blanks: <code>first</code> is a <strong>(i)</strong> of
length <strong>(ii)</strong>.</p>
<ol type="i">
<li>( ) list ( ) array ( ) string ( ) DataFrame ( ) Series</li>
</ol>
<p>(ii): _____</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading3_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse3_1" aria-expanded="true" aria-controls="collapse3_1">
Click to view the solution.
</button>
</h2>
<div id="collapse3_1" class="accordion-collapse collapse collapse"
aria-labelledby="heading3_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer: (i) Series (ii) 32 </strong></p>
<p>Note that <code>apply(max)</code> would go through every entry in the
<code>"Brand"</code> column and find the max value of each brand (ie,
it’ll find the highest alphabetically ordered character of each brand).
And so <code>apply(max)</code> would return a Series of length 32, where
each entry in the Series is a single character.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-3.2">Problem 3.2</h3>
<p>Fill in the blanks: <code>second</code> is a <strong>(i)</strong> of
length <strong>(ii)</strong>.</p>
<ol type="i">
<li>( ) list ( ) array ( ) string ( ) DataFrame ( ) Series</li>
</ol>
<p>(ii): _____</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading3_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse3_2" aria-expanded="true" aria-controls="collapse3_2">
Click to view the solution.
</button>
</h2>
<div id="collapse3_2" class="accordion-collapse collapse collapse"
aria-labelledby="heading3_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer: (i) String (ii) 5 </strong></p>
<p><code>max()</code> will return the brand name of the highest
alphabetical order. In this case, it’ll return <code>"Tesla"</code>
since <code>"Tesla"</code> is last if we sort the brand names in
chronological order.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="problem-4">Problem 4</h2>
<p>Suppose we’ve run the following line of code. ​</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>counts <span class="op">=</span> evs.groupby(<span class="st">&quot;Brand&quot;</span>).count()</span></code></pre></div>
<p><br></p>
<h3 id="problem-4.1">Problem 4.1</h3>
<p>What value does <code>counts.get("Range").sum()</code> evaluate
to?</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading4_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse4_1" aria-expanded="true" aria-controls="collapse4_1">
Click to view the solution.
</button>
</h2>
<div id="collapse4_1" class="accordion-collapse collapse collapse"
aria-labelledby="heading4_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer: 32 </strong></p>
<p>Note that <code>evs.groupby("Brand").count()</code> will group the
dataframe by each brand and return the count of each brand in each
column. Thus getting the <code>"Range"</code> column and summing it will
simply just sum the number of cars for each brand, which is just the
total number of cars there are in the dataframe, or 32.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-4.2">Problem 4.2</h3>
<p>What value does <code>counts.index[3]</code> evaluate to?</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading4_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse4_2" aria-expanded="true" aria-controls="collapse4_2">
Click to view the solution.
</button>
</h2>
<div id="collapse4_2" class="accordion-collapse collapse collapse"
aria-labelledby="heading4_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer: Tesla </strong></p>
<p>Note that groupby will automatically sort the resulting indices in
ascending order, and since <code>'Tesla'</code> is last (or has value
index 3) in terms of alphabetical order, our answer is just
<code>'Tesla'</code>.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="problem-5">Problem 5</h2>
<p>question here</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading5">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse5" aria-expanded="true" aria-controls="collapse5">
Click to view the solution.
</button>
</h2>
<div id="collapse5" class="accordion-collapse collapse collapse"
aria-labelledby="heading5" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer: </strong></p>
<p>solution here</p>
</div>
</div>
</div>
</div>
<hr />
<h2 id="problem-6">Problem 6</h2>
<p>The DataFrame below shows the distribution of
<code>"BodyStyle"</code> for all <code>"Brands"</code> in
<code>evs</code>, other than Nissan. We will call EVs made by a
<code>"Brand"</code> other than Nissan “non-Nissan EVs”; there are 24
non-Nissan EVs in evs.</p>
<center><img src='../assets/images/fa22-midterm/midq6.png' width=40%></center>
<p>Use the information above to answer the following questions.</p>
<p><br></p>
<h3 id="problem-6.1">Problem 6.1</h3>
<p>(3 pts) Suppose we randomly select one of the non-Nissan EVs and it
is either an SUV or a sedan. What is the most likely
<code>"Brand"</code> of the randomly selected non-Nissan EV?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> Tesla</p></li>
<li><p><input type="radio" disabled="" /> BMW</p></li>
<li><p><input type="radio" disabled="" /> Audi</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading6_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse6_1" aria-expanded="true" aria-controls="collapse6_1">
Click to view the solution.
</button>
</h2>
<div id="collapse6_1" class="accordion-collapse collapse collapse"
aria-labelledby="heading6_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer: </strong> Audi</p>
<p>We compute the number of EVs that are either SUVs or sedans for each
non-Nissan Brand.</p>
<p>number of SUV and Sedan in Tesla = <span class="math inline">4+3=7</span></p>
<p>number of SUV and Sedan in BMW = <span class="math inline">1+1=2</span></p>
<p>number of SUV and Sedan in Audi = <span class="math inline">8+1=9</span></p>
<p>Since Audi is the brand with the most number of SUV and Sedan among
the three brands, it is the most likely <code>"Brand"</code> to be
selected.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-6.2">Problem 6.2</h3>
<p>(3 pts) Suppose we randomly select two of the non-Nissan EVs without
replacement. The probability that both are BMWs is equal to <span
class="math inline">\frac{1}{k}</span> , where k is a positive integer.
What is k?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> 8</p></li>
<li><p><input type="radio" disabled="" /> 56</p></li>
<li><p><input type="radio" disabled="" /> 64</p></li>
<li><p><input type="radio" disabled="" /> 84</p></li>
<li><p><input type="radio" disabled="" /> 92</p></li>
<li><p><input type="radio" disabled="" /> 108</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading6_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse6_2" aria-expanded="true" aria-controls="collapse6_2">
Click to view the solution.
</button>
</h2>
<div id="collapse6_2" class="accordion-collapse collapse collapse"
aria-labelledby="heading6_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer: </strong> 92</p>
<p>In the first selection, the probability of selecting a BMW EV is
<span class="math inline">\frac{(1+1+1)}{24} = \frac{1}{8}</span> (1+1+1
is the total number of EVs that are BMW, 24 is the total number of
non-Nissan EVs as given by the question).</p>
<p>In the second selection, since we select <strong>without
replacement</strong>, there are only 23 Evs we can select from. Given
that in the first selection we already select 1 BMW, there are only 2
BMWs left in the 24 Evs. Thus, the probability of getting a BMW in the
second selection is <span class="math inline">\frac{2}{23}</span>. Thus,
the probability of both selections are BMWs is <span class="math inline">\frac{1}{8}\cdot\frac{2}{23} = \frac{2}{8 \cdot
23}=\frac{1}{4 \cdot 23}=\frac{1}{92}</span>. So, <span class="math inline">k = 92</span>.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-6.3">Problem 6.3</h3>
<p>(3 pts) Suppose we randomly select one of the non-Nissan EVs and it
is an SUV. What is the probability that it is made by Tesla? Give your
answer as a simplified fraction.</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading6_3">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse6_3" aria-expanded="true" aria-controls="collapse6_3">
Click to view the solution.
</button>
</h2>
<div id="collapse6_3" class="accordion-collapse collapse collapse"
aria-labelledby="heading6_3" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer: </strong> <span class="math inline">\frac{4}{13}</span></p>
<p>The question is asking the proportion of SUV EVs that is made by
Tesla. We first compute the number of EVs that are SUVs.</p>
<p>number of SUV = <span class="math inline">4+1+8=13</span></p>
<p>We then find the number of SUV that are from Tesla, which is 4.</p>
<p>Thus, the proportion of SUV Evs that are made by Tesla = <span class="math inline">\frac{4}{13}</span></p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="problem-7">Problem 7</h2>
<p>Below, we provide the same DataFrame as shown at the start of
Question 6, which contains the distribution of “BodyStyle” for all
“Brands” in evs, other than Nissan.</p>
<center><img src='../assets/images/fa22-midterm/midq6.png' width=40%></center>
<p>Suppose we’ve run the following few lines of code.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>tesla <span class="op">=</span> evs[evs.get(<span class="st">&quot;Brand&quot;</span>) <span class="op">==</span> <span class="st">&quot;Tesla&quot;</span>]</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>bmw <span class="op">=</span> evs[evs.get(<span class="st">&quot;Brand&quot;</span>) <span class="op">==</span> <span class="st">&quot;BMW&quot;</span>]</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>audi <span class="op">=</span> evs[evs.get(<span class="st">&quot;Brand&quot;</span>) <span class="op">==</span> <span class="st">&quot;Audi&quot;</span>]</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>combo <span class="op">=</span> tesla.merge(bmw, on<span class="op">=</span><span class="st">&quot;BodyStyle&quot;</span>).merge(audi, on<span class="op">=</span><span class="st">&quot;BodyStyle&quot;</span>)</span></code></pre></div>
<p>How many rows does the DataFrame combo have?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> 21</p></li>
<li><p><input type="radio" disabled="" /> 24</p></li>
<li><p><input type="radio" disabled="" /> 35</p></li>
<li><p><input type="radio" disabled="" /> 65</p></li>
<li><p><input type="radio" disabled="" /> 72</p></li>
<li><p><input type="radio" disabled="" /> 96</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading7">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse7" aria-expanded="true" aria-controls="collapse7">
Click to view the solution.
</button>
</h2>
<div id="collapse7" class="accordion-collapse collapse collapse"
aria-labelledby="heading7" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer: </strong> 35</p>
<p>Recall, when we use <code>.merge()</code>, the resulting DataFrame
contains a single row for every match between the two columns, and rows
in either DataFrame without a match disappear.</p>
<p>Thus, to know the number of rows of
<code>tesla.merge(bmw, on="BodyStyle")</code>, we first find the number
of Evs in SUV and Sedan with common <code>"BodyStyle"</code>, which are
SUV and Sedan, then compute the number of rows by <span class="math inline">4\cdot 1+3 \cdot 1 = 7</span>. So,
<code>tesla.merge(bmw, on="BodyStyle")</code> results in a DataFrame
with a total of 7 rows, with 4 rows of SUV EVs and 3 rows of Sedan
EVs.</p>
<p>To know the number of rows of
<code>tesla.merge(bmw, on="BodyStyle").merge(audi, on="BodyStyle")</code>,
we first find the common <code>"BodyStyle"</code> of
<code>tesla.merge(bmw, on="BodyStyle")</code> DataFrame and BMW Evs,
which are SUV and Sedan, then compute the number of rows by <span class="math inline">4\cdot 8+3 \cdot 1 = 35</span>. So,
<code>tesla.merge(bmw, on="BodyStyle").merge(audi, on="BodyStyle")</code>
results in a DataFrame with a total of 35 rows.</p>
</div>
</div>
</div>
</div>
<hr />
<h2 id="problem-8">Problem 8</h2>
<p>TritonTrucks is an EV startup run by UCSD alumni. Their signature EV,
the TritonTruck, has a subpar battery (the engineers didn’t pay
attention in their Chemistry courses).</p>
<p>A new TritonTruck’s battery needs to be replaced after 500 days,
unless it fails first, in which case it needs to be replaced
immediately. On any given day, the probability that a given
TritonTruck’s battery fails is 0.02, independent of all other days.</p>
<p>Fill in the blanks so that
<code>average_days_until_replacement</code> is an estimate of the
<strong>average number of days a new TritonTruck’s battery lasts without
needing to be replaced</strong>.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> days_until_replacement(daily_conditions):</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>          days <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>          <span class="cf">for</span> i <span class="kw">in</span> __(a)__:</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>              <span class="cf">if</span> daily_conditions[i] <span class="op">==</span> <span class="va">True</span>:</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>                  __(b)__</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>              <span class="cf">else</span>:</span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>                  <span class="cf">return</span> days</span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>          <span class="cf">return</span> days</span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>      total <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>      repetitions <span class="op">=</span> <span class="dv">10000</span></span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a>      <span class="cf">for</span> i <span class="kw">in</span> np.arange(repetitions):</span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a>          <span class="co"># The first element of the first argument to np.random.choice is</span></span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a>          <span class="co"># chosen with probability 0.98</span></span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a>          daily_conditions <span class="op">=</span> np.random.choice(__(c)__, <span class="dv">500</span>, p<span class="op">=</span>[<span class="fl">0.98</span>, <span class="fl">0.02</span>])</span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a>          total <span class="op">=</span> total <span class="op">+</span> days_until_replacement(daily_conditions)</span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a>      average_days_until_replacement <span class="op">=</span> total <span class="op">/</span> repetitions</span></code></pre></div>
<p><br></p>
<h3 id="problem-8.1">Problem 8.1</h3>
<p>(3 pts) What goes in blank (a)?</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading8_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse8_1" aria-expanded="true" aria-controls="collapse8_1">
Click to view the solution.
</button>
</h2>
<div id="collapse8_1" class="accordion-collapse collapse collapse"
aria-labelledby="heading8_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer: </strong> <code>range(len(daily_conditions))</code>
or <code>np.arange(len(daily_conditions))</code></p>
<p>Since we want to loop through each element in the
<code>daily_conditions</code>, we use a for loop. We can access each
element by its index <code>i</code>
(e.g. <code>daily_conditions[i]</code>), which starts from 0 and ends at
<code>len(daily_conditions)</code>-1.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-8.2">Problem 8.2</h3>
<p>(3 pts) What goes in blank (b)?</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading8_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse8_2" aria-expanded="true" aria-controls="collapse8_2">
Click to view the solution.
</button>
</h2>
<div id="collapse8_2" class="accordion-collapse collapse collapse"
aria-labelledby="heading8_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer: </strong> <code>days = days + 1</code> or
<code>days += 1</code></p>
<p>If <code>daily_conditions[i]</code> is <code>True</code>, it means
that the TritonTruck’s battery is still working on that day, so we
increase the <code>days</code> which record the number of days by 1.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-8.3">Problem 8.3</h3>
<p>(3 pts) What goes in blank (c)?</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading8_3">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse8_3" aria-expanded="true" aria-controls="collapse8_3">
Click to view the solution.
</button>
</h2>
<div id="collapse8_3" class="accordion-collapse collapse collapse"
aria-labelledby="heading8_3" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer: </strong> <code>[True, False]</code> or
<code>np.array([True, False])</code></p>
<p>Recall, the first parameter in <code>np.random.choice()</code> is an
array that contains all possible options we are choosing from. Thus, in
this case, it is <code>[True, False]</code> (Whether or not the
TritonTruck’s battery is still working). We put <code>True</code> at
first since it has a probability of <code>0.98</code>, which is the
first element in <code>p</code> (the third parameter that indicates the
probability of each event happening).</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="problem-9">Problem 9</h2>
<p>Histograms A and B below both display the distribution of the
<code>"Seats"</code> column, using different bins. Each histogram
includes all 32 rows of <code>evs</code>.</p>
<center><img src='../assets/images/fa22-midterm/midq9.png' width=60%></center>
<p><br></p>
<h3 id="problem-9.1">Problem 9.1</h3>
<p>(3 pts) How many EVs in evs have exactly 6 seats?</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading9_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse9_1" aria-expanded="true" aria-controls="collapse9_1">
Click to view the solution.
</button>
</h2>
<div id="collapse9_1" class="accordion-collapse collapse collapse"
aria-labelledby="heading9_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer: </strong> 3</p>
<p>There are two ways to solve this problem, the first way is
easier.</p>
<p>Solution 1</p>
<p>Since the bin [6, 7) has a width of 1, its height is equal to its
area, which is equal to the proportion of values in that bin. There are
32 values total, so the height must be a multiple of 1/32. The height is
close to but just under 0.01; this implies the height is 3/32, since
that is also close to but just under 0.01 (4/32 is way above, 2/32 is
way below). So, we conclude that the number of EVs with 6 seats is
3.</p>
<p>Solution 2</p>
<p>We first calculate the proportion of EVs with 6 seats by computing
the area between 6 seats and 7 seats in Histogram A (Recall, 6 is
inclusive and 7 is exclusive). Since we are not sure about the height of
this area, we can construct a range that the area will fall in.</p>
<p>The height is less than 0.1. Thus, Proportion of EVs with 6 seats
&lt; <span class="math inline">0.1 \cdot 1 = 0.1</span></p>
<p>The height is more than 0.75. Thus, Proportion of EVs with 6 seats
&gt; <span class="math inline">0.075 \cdot 1 = 0.075</span></p>
<p>We then calculate the number of EVs with 6 seats by multiplying its
proportion with the total number of EVs in <code>evs</code>.</p>
<p>Number of EVs with 6 seats &lt; <span class="math inline">0.1 \cdot
32 = 3.2</span></p>
<p>Number of EVs with 6 seats &gt; <span class="math inline">0.075 \cdot
32 = 2.4</span></p>
<p>Thus, the number of EVs with 6 seats is an integer between 2.4 and
3.2, which is 3.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-9.2">Problem 9.2</h3>
<p>(4 pts) How many EVs in evs have exactly 5 seats?</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading9_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse9_2" aria-expanded="true" aria-controls="collapse9_2">
Click to view the solution.
</button>
</h2>
<div id="collapse9_2" class="accordion-collapse collapse collapse"
aria-labelledby="heading9_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer: </strong> 22</p>
<p>We can compute this by calculating the total number of EVs with
either 5 seats or 6 seats and subtract the number of EVs with 6 seats
that we computed in part a, which gives us the number of EVs with 6
seats.</p>
<p>First, we compute the total number of EVs with either 5 seats or 6
seats.</p>
<p>Proportion of EVs with either 5 seats or 6 seats = the area between 5
seats and 7 seats in Histogram B (Recall, 5 is inclusive and 7 is
exclusive). Since we are not sure about the height of this area, we can
construct a range that the area will fall in.</p>
<p>The height is less than 0.4. Thus, Proportion of EVs with 5 or 6
seats &lt; <span class="math inline">0.4 \cdot (7-5) = 0.8</span></p>
<p>The height is more than 0.375 (There is a line between 0.35 and 0.4
on the y-axis, since it is at middle, we can compute that its value is
<span class="math inline">\frac{(0.35+0.4)}{2}</span> which gives us
0.375. Since our bar exceeds this line, its height should be larger than
0.375). Thus, Proportion of EVs with 5 or 6 seats &gt; <span class="math inline">0.375 \cdot (7-5) = 0.75</span></p>
<p>We then calculate the number of EVs with 5 or 6 seats by multiplying
its proportion with the total number of EVs in <code>evs</code>.</p>
<p>Number of EVs with 5 or 6 seats &lt; <span class="math inline">0.8
\cdot 32 = 25.6</span></p>
<p>Number of EVs with 5 or 6 seats &gt; <span class="math inline">0.75
\cdot 32 = 24</span></p>
<p>Thus, the number of EVs with 6 seats is an integer between 24 and
25.6 (exclusive), which is 25. Number of EVs with 6 seats = Number of
EVs with 5 or 6 seats - Number of EVs with 5 seats = <span class="math inline">25 - 3 = 22</span></p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-9.3">Problem 9.3</h3>
<p>(3pts) <strong>Histogram C</strong> (not pictured) also displays the
distribution of the <code>"Seats"</code> column, but uses just a single
bin, [4, 9]. What is the height of the sole bar in <strong>Histogram
C</strong>?</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading9_3">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse9_3" aria-expanded="true" aria-controls="collapse9_3">
Click to view the solution.
</button>
</h2>
<div id="collapse9_3" class="accordion-collapse collapse collapse"
aria-labelledby="heading9_3" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer: </strong> 0.2</p>
<p>Recall, a density histogram has the total area of 1. Since we only
have one bin in this case, the area of the bin is 1.</p>
<p><span class="math display">Area = height \cdot width</span></p>
<p><span class="math display">1 = height \cdot (9-4)</span></p>
<p><span class="math display">1 = height \cdot 5</span></p>
<p><span class="math display">height = 0.2</span></p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="section"><span class="math display"> </span></h2>
<h4
id="feedback-find-an-error-still-confused-have-a-suggestion-let-us-know-here.">👋
Feedback: Find an error? Still confused? Have a suggestion?
<a href="https://forms.gle/WZ71FchnXU1K154d7">Let us know
here</u></a>.</h4>
<hr />
</body>
</html>
