<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>Discussion 6: Midterm Solutions and Hypothesis Testing</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      {   }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span.al { color: #ff0000; font-weight: bold; } /* Alert */
    code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
    code span.at { color: #7d9029; } /* Attribute */
    code span.bn { color: #40a070; } /* BaseN */
    code span.bu { color: #008000; } /* BuiltIn */
    code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #4070a0; } /* Char */
    code span.cn { color: #880000; } /* Constant */
    code span.co { color: #60a0b0; font-style: italic; } /* Comment */
    code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
    code span.do { color: #ba2121; font-style: italic; } /* Documentation */
    code span.dt { color: #902000; } /* DataType */
    code span.dv { color: #40a070; } /* DecVal */
    code span.er { color: #ff0000; font-weight: bold; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #40a070; } /* Float */
    code span.fu { color: #06287e; } /* Function */
    code span.im { color: #008000; font-weight: bold; } /* Import */
    code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
    code span.kw { color: #007020; font-weight: bold; } /* Keyword */
    code span.op { color: #666666; } /* Operator */
    code span.ot { color: #007020; } /* Other */
    code span.pp { color: #bc7a00; } /* Preprocessor */
    code span.sc { color: #4070a0; } /* SpecialChar */
    code span.ss { color: #bb6688; } /* SpecialString */
    code span.st { color: #4070a0; } /* String */
    code span.va { color: #19177c; } /* Variable */
    code span.vs { color: #4070a0; } /* VerbatimString */
    code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="../assets/theme.css" />
  <script defer=""
  src="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.js"></script>
  <script>document.addEventListener("DOMContentLoaded", function () {
 var mathElements = document.getElementsByClassName("math");
 var macros = [];
 for (var i = 0; i < mathElements.length; i++) {
  var texText = mathElements[i].firstChild;
  if (mathElements[i].tagName == "SPAN") {
   katex.render(texText.data, mathElements[i], {
    displayMode: mathElements[i].classList.contains('display'),
    throwOnError: false,
    macros: macros,
    fleqn: false
   });
}}});
  </script>
  <link rel="stylesheet"
  href="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.css" />
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<header id="title-block-header">
<h1 class="title">Discussion 6: Midterm Solutions and Hypothesis
Testing</h1>
</header>
<p><link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
<!-- add after bootstrap.min.css -->
<link rel="stylesheet" href="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.css"/>
<!-- add after bootstrap.min.js or bootstrap.bundle.min.js -->
<script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script></p>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-B947E6J6H4"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-B947E6J6H4');
</script>
<p><a href="../index.html">← return to practice.dsc10.com</a></p>
<hr />
<p>The problems in this worksheet are taken from past exams. Work on
them <strong>on paper</strong>, since the exams you take in this course
will also be on paper. <br><br>We encourage you to complete this
worksheet in a discussion section, which is held live on Monday, October
31st. Solutions will be made available after all discussion sections
have concluded. You don’t need to submit your answers
anywhere.<br><br><b>Note: We do not plan to cover all problems here in
the live discussion section</b>; the problems we don’t cover can be used
for extra practice.</p>
<hr />
<h2 id="problem-1">Problem 1</h2>
<p>You order 25 large pizzas from your local pizzeria. The pizzeria
claims that these pizzas are 16 inches in diameter, but you’re not so
sure. You measure each pizza’s diameter and collect a dataset of 25
actual pizza diameters. You want to run a hypothesis test to determine
whether the pizzeria’s claim is accurate.</p>
<p><br></p>
<h3 id="problem-1.1">Problem 1.1</h3>
<p>What would your Null Hypothesis be?</p>
<p>What would your Alternative Hypothesis be?</p>
<p><br></p>
<h3 id="problem-1.2">Problem 1.2</h3>
<p>What test statistic would you use?</p>
<p><br></p>
<hr />
<h2 id="problem-2">Problem 2</h2>
<p>Every year, the American Kennel Club holds a Photo Contest for dogs.
Eric wants to know whether <strong>toy dogs win disproportionately more
often than other kinds of dogs.</strong> He has collected a sample of
500 dogs that have won the Photo Contest. In his sample, 200 dogs were
toy dogs.</p>
<p>Eric also knows the distribution of dog kinds in the population:</p>
<center><img src='../assets/images/su22-final/q6_df.png' width=40%></center>
<p><br></p>
<h3 id="problem-2.1">Problem 2.1</h3>
<p>Select all correct statements of the null hypothesis.</p>
<ul class="task-list">
<li><p><input type="checkbox" disabled="" /> The distribution of dogs in the sample is the same as the
distribution in the population. Any difference is due to chance.</p></li>
<li><p><input type="checkbox" disabled="" /> Every dog in the sample was drawn uniformly at random without
replacement from the population.</p></li>
<li><p><input type="checkbox" disabled="" /> The number of toy dogs that win is the same as the number of toy dogs
in the population.</p></li>
<li><p><input type="checkbox" disabled="" /> The proportion of toy dogs that win is the same as the proportion of
toy dogs in the population.</p></li>
<li><p><input type="checkbox" disabled="" /> The proportion of toy dogs that win is 0.3.</p></li>
<li><p><input type="checkbox" disabled="" /> The proportion of toy dogs that win is 0.5.</p></li>
</ul>
<p><br></p>
<h3 id="problem-2.2">Problem 2.2</h3>
<p>Select the correct statement of the alternative hypothesis.</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> The model in the null hypothesis underestimates how often toy dogs
win.</p></li>
<li><p><input type="radio" disabled="" /> The model in the null hypothesis overestimates how often toy dogs
win.</p></li>
<li><p><input type="radio" disabled="" /> The distribution of dog kinds in the sample is not the same as the
population.</p></li>
<li><p><input type="radio" disabled="" /> The data were not drawn at random from the population.</p></li>
</ul>
<p><br></p>
<h3 id="problem-2.3">Problem 2.3</h3>
<p>Select all the test statistics that Eric can use to conduct his
hypothesis.</p>
<ul class="task-list">
<li><p><input type="checkbox" disabled="" /> The proportion of toy dogs in his sample.</p></li>
<li><p><input type="checkbox" disabled="" /> The number of toy dogs in his sample.</p></li>
<li><p><input type="checkbox" disabled="" /> The absolute difference of the sample proportion of toy dogs and
0.3.</p></li>
<li><p><input type="checkbox" disabled="" /> The absolute difference of the sample proportion of toy dogs and
0.5.</p></li>
<li><p><input type="checkbox" disabled="" /> The TVD between his sample and the population</p></li>
</ul>
<p><br></p>
<h3 id="problem-2.4">Problem 2.4</h3>
<p>Eric decides on this test statistic: the proportion of toy dogs minus
the proportion of non-toy dogs. What is the observed value of the test
statistic?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> -0.4</p></li>
<li><p><input type="radio" disabled="" /> -0.2</p></li>
<li><p><input type="radio" disabled="" /> 0</p></li>
<li><p><input type="radio" disabled="" /> 0.2</p></li>
<li><p><input type="radio" disabled="" /> 0.4</p></li>
</ul>
<p><br></p>
<h3 id="problem-2.5">Problem 2.5</h3>
<p>Which snippets of code correctly compute Eric’s test statistic on one
simulated sample under the null hypothesis? Select all that apply. The
result must be stored in the variable <code>stat</code>. Below are the 5
snippets</p>
<p>Snippet 1:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>a <span class="op">=</span> np.random.choice([<span class="fl">0.3</span>, <span class="fl">0.7</span>])</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>b <span class="op">=</span> np.random.choice([<span class="fl">0.3</span>, <span class="fl">0.7</span>])</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>stat <span class="op">=</span> a <span class="op">-</span> b</span></code></pre></div>
<p>Snippet 2:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>a <span class="op">=</span> np.random.choice([<span class="fl">0.1</span>, <span class="fl">0.2</span>, <span class="fl">0.3</span>, <span class="fl">0.2</span>, <span class="fl">0.15</span>, <span class="fl">0.05</span>])</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>stat <span class="op">=</span> a <span class="op">-</span> (<span class="dv">1</span> <span class="op">-</span> a)</span></code></pre></div>
<p>Snippet 3:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>a <span class="op">=</span> np.random.multinomial(<span class="dv">500</span>, [<span class="fl">0.1</span>, <span class="fl">0.2</span>, <span class="fl">0.3</span>, <span class="fl">0.2</span>, <span class="fl">0.15</span>, <span class="fl">0.05</span>]) <span class="op">/</span> <span class="dv">500</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>stat <span class="op">=</span> a[<span class="dv">2</span>] <span class="op">-</span> (<span class="dv">1</span> <span class="op">-</span> a[<span class="dv">2</span>])</span></code></pre></div>
<p>Snippet 4:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>a <span class="op">=</span> np.random.multinomial(<span class="dv">500</span>, [<span class="fl">0.3</span>, <span class="fl">0.7</span>]) <span class="op">/</span> <span class="dv">500</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>stat <span class="op">=</span> a[<span class="dv">0</span>] <span class="op">-</span> (<span class="dv">1</span> <span class="op">-</span> a[<span class="dv">0</span>])</span></code></pre></div>
<p>Snippet 5:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>a <span class="op">=</span> df.sample(<span class="dv">500</span>, replace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>b <span class="op">=</span> a[a.get(<span class="st">&quot;kind&quot;</span>) <span class="op">==</span> <span class="st">&quot;toy&quot;</span>].shape[<span class="dv">0</span>] <span class="op">/</span> <span class="dv">500</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>stat <span class="op">=</span> b <span class="op">-</span> (<span class="dv">1</span> <span class="op">-</span> b)</span></code></pre></div>
<ul class="task-list">
<li><p><input type="checkbox" disabled="" /> Snippet 1</p></li>
<li><p><input type="checkbox" disabled="" /> Snippet 2</p></li>
<li><p><input type="checkbox" disabled="" /> Snippet 3</p></li>
<li><p><input type="checkbox" disabled="" /> Snippet 4</p></li>
<li><p><input type="checkbox" disabled="" /> Snippet 5</p></li>
</ul>
<p><br></p>
<h3 id="problem-2.6">Problem 2.6</h3>
<p>After simulating, Eric has an array called <code>sim</code> that
stores his simulated test statistics, and a variable called
<code>obs</code> that stores his observed test statistic.</p>
<p>What should go in the blank to compute the p-value?</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>np.mean(sim _______ obs)</span></code></pre></div>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> <code>&lt;</code></p></li>
<li><p><input type="radio" disabled="" /> <code>&lt;=</code></p></li>
<li><p><input type="radio" disabled="" /> <code>==</code></p></li>
<li><p><input type="radio" disabled="" /> <code>&gt;=</code></p></li>
<li><p><input type="radio" disabled="" /> <code>&gt;</code></p></li>
</ul>
<p><br></p>
<h3 id="problem-2.7">Problem 2.7</h3>
<p>Eric’s p-value is 0.03. If his p-value cutoff is 0.01, what does he
conclude?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> He rejects the null in favor of the alternative.</p></li>
<li><p><input type="radio" disabled="" /> He accepts the null.</p></li>
<li><p><input type="radio" disabled="" /> He accepts the aleternative.</p></li>
<li><p><input type="radio" disabled="" /> He fails to reject the null.</p></li>
</ul>
<p><br></p>
<hr />
<h2 id="problem-3">Problem 3</h2>
<p>For this question, let’s think of the data in <code>app_data</code>
as a random sample of all IKEA purchases and use it to test the
following hypotheses.</p>
<p><strong>Null Hypothesis</strong>: IKEA sells an equal amount of beds
(category <code>'bed'</code>) and outdoor furniture (category
<code>'outdoor'</code>).</p>
<p><strong>Alternative Hypothesis</strong>: IKEA sells more beds than
outdoor furniture.</p>
<p>The DataFrame <code>app_data</code> contains 5000 rows, which form
our sample. Of these 5000 products,</p>
<ul>
<li>1000 are beds,</li>
<li>1500 are outdoor furniture, and</li>
<li>2500 are in another category.</li>
</ul>
<p><br></p>
<h3 id="problem-3.1">Problem 3.1</h3>
<p>Which of the following <strong>could</strong> be used as the test
statistic for this hypothesis test? Select all that apply.</p>
<ul class="task-list">
<li><p><input type="checkbox" disabled="" /> Among 2500 beds and outdoor furniture items, the absolute difference
between the proportion of beds and the proportion of outdoor
furniture.</p></li>
<li><p><input type="checkbox" disabled="" /> Among 2500 beds and outdoor furniture items, the proportion of
beds.</p></li>
<li><p><input type="checkbox" disabled="" /> Among 2500 beds and outdoor furniture items, the number of beds.</p></li>
<li><p><input type="checkbox" disabled="" /> Among 2500 beds and outdoor furniture items, the number of beds plus
the number of outdoor furniture items.</p></li>
</ul>
<p><br></p>
<h3 id="problem-3.2">Problem 3.2</h3>
<p>Let’s do a hypothesis test with the following test statistic: among
2500 beds and outdoor furniture items, the proportion of outdoor
furniture minus the proportion of beds.</p>
<p>Complete the code below to calculate the observed value of the test
statistic and save the result as <code>obs_diff</code>.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>    outdoor <span class="op">=</span> (app_data.get(<span class="st">&#39;category&#39;</span>)<span class="op">==</span><span class="st">&#39;outdoor&#39;</span>) </span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>    bed <span class="op">=</span> (app_data.get(<span class="st">&#39;category&#39;</span>)<span class="op">==</span><span class="st">&#39;bed&#39;</span>)</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>    obs_diff <span class="op">=</span> ( ___(a)___ <span class="op">-</span> ___(b)___ ) <span class="op">/</span> ___(c)___</span></code></pre></div>
<p>The table below contains several Python expressions. Choose the
correct expression to fill in each of the three blanks. Three
expressions will be used, and two will be unused.</p>
<center><img src='../assets/images/sp22-final/q8-table.jpg' width=50%></center>
<p><br></p>
<h3 id="problem-3.3">Problem 3.3</h3>
<p>Which of the following is a valid way to generate one value of the
test statistic according to the null model? Select all that apply.</p>
<p>Way 1:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>multi <span class="op">=</span> np.random.multinomial(<span class="dv">2500</span>, [<span class="fl">0.5</span>,<span class="fl">0.5</span>]) </span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>(multi[<span class="dv">0</span>] <span class="op">-</span> multi[<span class="dv">1</span>])<span class="op">/</span><span class="dv">2500</span></span></code></pre></div>
<p>Way 2:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>outdoor <span class="op">=</span> np.random.multinomial(<span class="dv">2500</span>, [<span class="fl">0.5</span>,<span class="fl">0.5</span>])[<span class="dv">0</span>]<span class="op">/</span><span class="dv">2500</span> </span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>bed <span class="op">=</span> np.random.multinomial(<span class="dv">2500</span>, [<span class="fl">0.5</span>,<span class="fl">0.5</span>])[<span class="dv">1</span>]<span class="op">/</span><span class="dv">2500</span> </span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>outdoor <span class="op">-</span> bed </span></code></pre></div>
<p>Way 3:</p>
<div class="sourceCode" id="cb10"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>choice <span class="op">=</span> np.random.choice([<span class="dv">0</span>, <span class="dv">1</span>], <span class="dv">2500</span>, replace<span class="op">=</span><span class="va">True</span>) </span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>choice_sum <span class="op">=</span> choice.<span class="bu">sum</span>( ) </span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>(choice_sum <span class="op">-</span> (<span class="dv">2500</span> <span class="op">-</span> choice_sum))<span class="op">/</span><span class="dv">2500</span></span></code></pre></div>
<p>Way 4:</p>
<div class="sourceCode" id="cb11"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>choice <span class="op">=</span> np.random.choice([<span class="st">&#39;bed&#39;</span>, <span class="st">&#39;outdoor&#39;</span>], <span class="dv">2500</span>, replace<span class="op">=</span><span class="va">True</span>) </span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>bed <span class="op">=</span> np.count_nonzero(choice<span class="op">==</span><span class="st">&#39;bed&#39;</span>)</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>outdoor <span class="op">=</span> np.count_nonzero(choice<span class="op">==</span><span class="st">&#39;outdoor&#39;</span>)</span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>outdoor<span class="op">/</span><span class="dv">2500</span> <span class="op">-</span> bed<span class="op">/</span><span class="dv">2500</span></span></code></pre></div>
<p>Way 5:</p>
<div class="sourceCode" id="cb12"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>outdoor <span class="op">=</span> (app_data.get(<span class="st">&#39;category&#39;</span>)<span class="op">==</span><span class="st">&#39;outdoor&#39;</span>) </span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>bed <span class="op">=</span> (app_data.get(<span class="st">&#39;category&#39;</span>)<span class="op">==</span><span class="st">&#39;bed&#39;</span>)</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>samp <span class="op">=</span> app_data[outdoor<span class="op">|</span>bed].sample(<span class="dv">2500</span>, replace<span class="op">=</span><span class="va">True</span>) </span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>samp[samp.get(<span class="st">&#39;category&#39;</span>)<span class="op">==</span><span class="st">&#39;outdoor&#39;</span>].shape[<span class="dv">0</span>]<span class="op">/</span><span class="dv">2500</span> <span class="op">-</span>  samp[samp.get(<span class="st">&#39;category&#39;</span>)<span class="op">==</span><span class="st">&#39;bed&#39;</span>].shape[<span class="dv">0</span>]<span class="op">/</span><span class="dv">2500</span>)</span></code></pre></div>
<p>Way 6:</p>
<div class="sourceCode" id="cb13"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>outdoor <span class="op">=</span> (app_data.get(<span class="st">&#39;category&#39;</span>)<span class="op">==</span><span class="st">&#39;outdoor&#39;</span>) </span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>bed <span class="op">=</span> (app_data.get(<span class="st">&#39;category&#39;</span>)<span class="op">==</span><span class="st">&#39;bed&#39;</span>)</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>samp <span class="op">=</span> (app_data[outdoor<span class="op">|</span>bed].groupby(<span class="st">&#39;category&#39;</span>).count( ).reset_index( ).sample(<span class="dv">2500</span>, replace<span class="op">=</span><span class="va">True</span>))    </span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>samp[samp.get(<span class="st">&#39;category&#39;</span>)<span class="op">==</span><span class="st">&#39;outdoor&#39;</span>].shape[<span class="dv">0</span>]<span class="op">/</span><span class="dv">2500</span> <span class="op">-</span> samp[samp.get(<span class="st">&#39;category&#39;</span>)<span class="op">==</span><span class="st">&#39;bed&#39;</span>].shape[<span class="dv">0</span>]<span class="op">/</span><span class="dv">2500</span></span></code></pre></div>
<ul class="task-list">
<li><p><input type="checkbox" disabled="" /> Way 1</p></li>
<li><p><input type="checkbox" disabled="" /> Way 2</p></li>
<li><p><input type="checkbox" disabled="" /> Way 3</p></li>
<li><p><input type="checkbox" disabled="" /> Way 4</p></li>
<li><p><input type="checkbox" disabled="" /> Way 5</p></li>
<li><p><input type="checkbox" disabled="" /> Way 6</p></li>
</ul>
<p><br></p>
<h3 id="problem-3.4">Problem 3.4</h3>
<p>Suppose we generate 10,000 simulated values of the test statistic
according to the null model and store them in an array called
<code>simulated_diffs</code>. Complete the code below to calculate the
p-value for the hypothesis test.</p>
<div class="sourceCode" id="cb14"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>    np.count_nonzero(simulated_diffs _________ obs_diff)<span class="op">/</span><span class="dv">10000</span></span></code></pre></div>
<p>What goes in the blank?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> <code>&lt;</code></p></li>
<li><p><input type="radio" disabled="" /> <code>&lt;=</code></p></li>
<li><p><input type="radio" disabled="" /> <code>&gt;</code></p></li>
<li><p><input type="radio" disabled="" /> <code>&gt;=</code></p></li>
</ul>
<p><br></p>
<hr />
<h2 id="problem-4">Problem 4</h2>
<p>For this question we will use data from the 2021 Women’s National
Basketball Association (WNBA) season for the next several problems. In
basketball, players score points by shooting the ball into a hoop. The
team that scores the most points wins the game.</p>
<p>Kelsey Plum, a WNBA player, attended La Jolla Country Day School,
which is adjacent to UCSD’s campus. Her current team is the Las Vegas
Aces (three-letter code <code>'LVA'</code>). <strong>In 2021, the Las
Vegas Aces played 31 games, and Kelsey Plum played in all
31.</strong></p>
<p>The DataFrame <code>plum</code> contains her stats for all games the
Las Vegas Aces played in 2021. The first few rows of <code>plum</code>
are shown below (though the full DataFrame has 31 rows, not 5):</p>
<center><img src='../assets/images/wi22-final/plum.png' width=40%></center>
<p>Each row in <code>plum</code> corresponds to a single game. For each
game, we have:</p>
<ul>
<li><code>'Date'</code> (<code>str</code>), the date on which the game
was played</li>
<li><code>'Opp'</code> (<code>str</code>), the three-letter code of the
opponent team</li>
<li><code>'Home'</code> (<code>bool</code>), <code>True</code> if the
game was played in Las Vegas (“home”) and <code>False</code> if it was
played at the opponent’s arena (“away”)</li>
<li><code>'Won'</code> (<code>bool</code>), <code>True</code> if the Las
Vegas Aces won the game and <code>False</code> if they lost</li>
<li><code>'PTS'</code> (<code>int</code>), the number of points Kelsey
Plum scored in the game</li>
<li><code>'AST'</code> (<code>int</code>), the number of assists
(passes) Kelsey Plum made in the game</li>
<li><code>'TOV'</code> (<code>int</code>), the number of turnovers
Kelsey Plum made in the game (a turnover is when you lose the ball –
turnovers are bad!) <br><br></li>
</ul>
<p>ESPN (a large sports news network) states that the Las Vegas Aces
have a 60% chance of winning their upcoming game. You’re curious as to
how they came up with this estimate, and you decide to conduct a
hypothesis test for the following hypotheses:</p>
<ul>
<li><p><strong>Null Hypothesis:</strong> The Las Vegas Aces win each
game with a probability of 60%.</p></li>
<li><p><strong>Alternative Hypothesis:</strong> The Las Vegas Aces win
each game with a probability <strong>above</strong> 60%.</p></li>
</ul>
<p>In both hypotheses, we are assuming that each game is independent of
all other games.</p>
<p>In the 2021 season, the Las Vegas Aces <strong>won 22</strong> of
their games and <strong>lost 9</strong> of their games.</p>
<p><br></p>
<h3 id="problem-4.1">Problem 4.1</h3>
<p>Below, we have provided the code necessary to conduct the hypothesis
test described above.</p>
<div class="sourceCode" id="cb15"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>stats <span class="op">=</span> np.array([])</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i <span class="kw">in</span> np.arange(<span class="dv">10000</span>):</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>    sim <span class="op">=</span> np.random.multinomial(<span class="dv">31</span>, [<span class="fl">0.6</span>, <span class="fl">0.4</span>])</span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>    stat <span class="op">=</span> fn(sim)</span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>    stats <span class="op">=</span> np.append(stats, stat)</span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>win_p_value <span class="op">=</span> np.count_nonzero(stats <span class="op">&gt;=</span> fn([<span class="dv">22</span>, <span class="dv">9</span>])) <span class="op">/</span> <span class="dv">10000</span></span></code></pre></div>
<p><code>fn</code> is a <strong>function</strong> that computes a test
statistic, given a list or array <code>arr</code> of two elements (the
first of which is the number of wins, and the second of which is the
number of losses). You can assume that neither element of
<code>arr</code> is equal to 0.</p>
<p>Below, we define 5 possible test statistics <code>fn</code>.</p>
<p><strong>Option 1:</strong></p>
<div class="sourceCode" id="cb16"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> fn(arr):</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> arr[<span class="dv">0</span>] <span class="op">/</span> arr[<span class="dv">1</span>]</span></code></pre></div>
<p><strong>Option 2:</strong></p>
<div class="sourceCode" id="cb17"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> fn(arr):</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> arr[<span class="dv">0</span>]</span></code></pre></div>
<p><strong>Option 3:</strong></p>
<div class="sourceCode" id="cb18"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> fn(arr):</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> np.<span class="bu">abs</span>(arr[<span class="dv">0</span>] <span class="op">-</span> arr[<span class="dv">1</span>])</span></code></pre></div>
<p><strong>Option 4:</strong></p>
<div class="sourceCode" id="cb19"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> fn(arr):</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> arr[<span class="dv">0</span>] <span class="op">-</span> arr[<span class="dv">1</span>]</span></code></pre></div>
<p><strong>Option 5:</strong></p>
<div class="sourceCode" id="cb20"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> fn(arr):</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> arr[<span class="dv">1</span>] <span class="op">-</span> arr[<span class="dv">0</span>]</span></code></pre></div>
<p>Which of the above functions <code>fn</code> would be valid test
statistics for this hypothesis test and p-value calculation?
<strong>Select all that apply.</strong></p>
<ul class="task-list">
<li><p><input type="checkbox" disabled="" /> Option 1</p></li>
<li><p><input type="checkbox" disabled="" /> Option 2</p></li>
<li><p><input type="checkbox" disabled="" /> Option 3</p></li>
<li><p><input type="checkbox" disabled="" /> Option 4</p></li>
<li><p><input type="checkbox" disabled="" /> Option 5</p></li>
</ul>
<p><br></p>
<h3 id="problem-4.2">Problem 4.2</h3>
<p>The empirical distribution of one of the 5 test statistics presented
in the previous subpart is shown below. To draw the histogram, we used
the argument <code>bins=np.arange(-10, 25)</code>.</p>
<center><img src='../assets/images/wi22-final/test-stat-dist.png' width=50%></center>
<p>Which test statistic does the above empirical distribution belong
to?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> Option 1</p></li>
<li><p><input type="radio" disabled="" /> Option 2</p></li>
<li><p><input type="radio" disabled="" /> Option 3</p></li>
<li><p><input type="radio" disabled="" /> Option 4</p></li>
<li><p><input type="radio" disabled="" /> Option 5</p></li>
</ul>
<p><br></p>
<h3 id="problem-4.3">Problem 4.3</h3>
<p>Consider the function <code>fn_plus</code> defined below.</p>
<div class="sourceCode" id="cb21"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> fn_plus(arr):</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> fn(arr) <span class="op">+</span> <span class="dv">31</span></span></code></pre></div>
<p><strong>True or False:</strong> If <code>fn</code> is a valid test
statistic for the hypothesis test and p-value calculation presented at
the start of the problem, then <code>fn_plus</code> is also a valid test
statistic for the hypothesis test and p-value calculation presented at
the start of the problem.</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> True</p></li>
<li><p><input type="radio" disabled="" /> False</p></li>
</ul>
<p><br></p>
<h3 id="problem-4.4">Problem 4.4</h3>
<p>Below, we present the same code that is given at the start of the
problem.</p>
<div class="sourceCode" id="cb22"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>stats <span class="op">=</span> np.array([])</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i <span class="kw">in</span> np.arange(<span class="dv">10000</span>):</span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>    sim <span class="op">=</span> np.random.multinomial(<span class="dv">31</span>, [<span class="fl">0.6</span>, <span class="fl">0.4</span>])</span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>    stat <span class="op">=</span> fn(sim)</span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>    stats <span class="op">=</span> np.append(stats, stat)</span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a>win_p_value <span class="op">=</span> np.count_nonzero(stats <span class="op">&gt;=</span> fn([<span class="dv">22</span>, <span class="dv">9</span>])) <span class="op">/</span> <span class="dv">10000</span></span></code></pre></div>
<p>Below are four possible replacements for the line
<code>sim = np.random.multinomial(31, [0.6, 0.4])</code>.</p>
<p><strong>Option 1:</strong></p>
<div class="sourceCode" id="cb23"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> with_rep():</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>    won <span class="op">=</span> plum.get(<span class="st">&#39;Won&#39;</span>)</span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> np.count_nonzero(np.random.choice(won, <span class="dv">31</span>, replace<span class="op">=</span><span class="va">True</span>))</span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a>sim <span class="op">=</span> [with_rep(), <span class="dv">31</span> <span class="op">-</span> with_rep()]</span></code></pre></div>
<p><strong>Option 2:</strong></p>
<div class="sourceCode" id="cb24"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> with_rep():</span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>    won <span class="op">=</span> plum.get(<span class="st">&#39;Won&#39;</span>)</span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> np.count_nonzero(np.random.choice(won, <span class="dv">31</span>, replace<span class="op">=</span><span class="va">True</span>))</span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>w <span class="op">=</span> with_rep()</span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a>sim <span class="op">=</span> [w, <span class="dv">31</span> <span class="op">-</span> w]</span></code></pre></div>
<p><strong>Option 3:</strong></p>
<div class="sourceCode" id="cb25"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> without_rep():</span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>    won <span class="op">=</span> plum.get(<span class="st">&#39;Won&#39;</span>)</span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> np.count_nonzero(np.random.choice(won, <span class="dv">31</span>, replace<span class="op">=</span><span class="va">False</span>))</span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a>sim <span class="op">=</span> [without_rep(), <span class="dv">31</span> <span class="op">-</span> without_rep()]</span></code></pre></div>
<p><strong>Option 4:</strong></p>
<div class="sourceCode" id="cb26"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> perm():</span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>    won <span class="op">=</span> plum.get(<span class="st">&#39;Won&#39;</span>)</span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> np.count_nonzero(np.random.permutation(won))</span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a>w <span class="op">=</span> perm()</span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a>sim <span class="op">=</span> [w, <span class="dv">31</span> <span class="op">-</span> w]</span></code></pre></div>
<p>Which of the above four options could we replace the line
<code>sim = np.random.multinomial(plum.shape[0], [0.6, 0.4])</code> with
and still perform a valid hypothesis test for the hypotheses stated at
the start of the problem?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> Option 1</p></li>
<li><p><input type="radio" disabled="" /> Option 2</p></li>
<li><p><input type="radio" disabled="" /> Option 3</p></li>
<li><p><input type="radio" disabled="" /> Option 4</p></li>
</ul>
<p><br></p>
<h3 id="problem-4.5">Problem 4.5</h3>
<p>Consider again the four options presented in the previous
subpart.</p>
<p>In which of the four options is it <strong>guaranteed</strong> that
<code>sum(sim)</code> evaluates to 31? <strong>Select all that
apply.</strong></p>
<ul class="task-list">
<li><p><input type="checkbox" disabled="" /> Option 1</p></li>
<li><p><input type="checkbox" disabled="" /> Option 2</p></li>
<li><p><input type="checkbox" disabled="" /> Option 3</p></li>
<li><p><input type="checkbox" disabled="" /> Option 4</p></li>
</ul>
<p><br></p>
<hr />
<h2 id="problem-5">Problem 5</h2>
<p>Consider the definition of the function
<code>diff_in_group_means</code>:</p>
<div class="sourceCode" id="cb27"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> diff_in_group_means(df, group_col, num_col):</span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>    s <span class="op">=</span> df.groupby(group_col).mean().get(num_col)</span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> s.loc[<span class="va">False</span>] <span class="op">-</span> s.loc[<span class="va">True</span>]</span></code></pre></div>
<p><br></p>
<h3 id="problem-5.1">Problem 5.1</h3>
<p>After observing that Kelsey Plum averages more assists in winning
games than in losing games, we become interested in conducting a
permutation test for the following hypotheses:</p>
<ul>
<li><strong>Null Hypothesis:</strong> The number of assists Kelsey Plum
makes in winning games and in losing games come from the same
distribution.</li>
<li><strong>Alternative Hypothesis:</strong> The number of assists
Kelsey Plum makes in winning games is higher on average than the number
of assists that she makes in losing games.</li>
</ul>
<p>To conduct our permutation test, we place the following code in a
<code>for</code>-loop.</p>
<div class="sourceCode" id="cb28"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>won <span class="op">=</span> plum.get(<span class="st">&#39;Won&#39;</span>)</span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>ast <span class="op">=</span> plum.get(<span class="st">&#39;AST&#39;</span>)</span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a>shuffled <span class="op">=</span> plum.assign(Won_shuffled<span class="op">=</span>np.random.permutation(won)) <span class="op">\</span></span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a>               .assign(AST_shuffled<span class="op">=</span>np.random.permutation(ast))</span></code></pre></div>
<p>Which of the following options <strong>does not</strong> compute a
valid simulated test statistic for this permutation test?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> <code>diff_in_group_means(shuffled, 'Won', 'AST')</code></p></li>
<li><p><input type="radio" disabled="" /> <code>diff_in_group_means(shuffled, 'Won', 'AST_shuffled')</code></p></li>
<li><p><input type="radio" disabled="" /> <code>diff_in_group_means(shuffled, 'Won_shuffled, 'AST')</code></p></li>
<li><p><input type="radio" disabled="" /> <code>diff_in_group_means(shuffled, 'Won_shuffled, 'AST_shuffled')</code></p></li>
<li><p><input type="radio" disabled="" /> More than one of these options do not compute a valid simulated test
statistic for this permutation test</p></li>
</ul>
<p><br></p>
<h3 id="problem-5.2">Problem 5.2</h3>
<p>Suppose we generate 10,000 simulated test statistics, using one of
the valid options from Question 4.2. The empirical distribution of test
statistics, with a red line at <code>observed_diff</code>, is shown
below.</p>
<center><img src='../assets/images/wi22-final/quarter-hist.png' width=50%></center>
<p>Roughly one-quarter of the area of the histogram above is to the left
of the red line. What is the correct interpretation of this result?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> There is roughly a one quarter probability that Kelsey Plum’s number
of assists in winning games and in losing games come from the same
distribution.</p></li>
<li><p><input type="radio" disabled="" /> The significance level of this hypothesis test is roughly a
quarter.</p></li>
<li><p><input type="radio" disabled="" /> Under the assumption that Kelsey Plum’s number of assists in winning
games and in losing games come from the same distribution, and that she
wins 22 of the 31 games she plays, the chance of her averaging
<strong>at least</strong> 0.61 more assists in wins than losses is
roughly a quarter.</p></li>
<li><p><input type="radio" disabled="" /> Under the assumption that Kelsey Plum’s number of assists in winning
games and in losing games come from the same distribution, and that she
wins 22 of the 31 games she plays, the chance of her averaging 0.61 more
assists in wins than losses is roughly a quarter.</p></li>
</ul>
<p><br></p>
<hr />
<h2 id="problem-6">Problem 6</h2>
<p>Suppose Tiffany has a random sample of dogs. Select the most
appropriate technique to answer each of the following questions using
Tiffany’s dog sample.</p>
<p><br></p>
<h3 id="problem-6.1">Problem 6.1</h3>
<p>Do small dogs typically live longer than medium and large dogs?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> Standard hypothesis test.</p></li>
<li><p><input type="radio" disabled="" /> Permutation test.</p></li>
<li><p><input type="radio" disabled="" /> Bootstrapping</p></li>
</ul>
<p><br></p>
<h3 id="problem-6.2">Problem 6.2</h3>
<p>Does Tiffany’s sample have an even distribution of dog kinds?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> Standard hypothesis test.</p></li>
<li><p><input type="radio" disabled="" /> Permutation test.</p></li>
<li><p><input type="radio" disabled="" /> Bootstrapping</p></li>
</ul>
<p><br></p>
<h3 id="problem-6.3">Problem 6.3</h3>
<p>What’s the median weight for herding dogs?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> Standard hypothesis test.</p></li>
<li><p><input type="radio" disabled="" /> Permutation test.</p></li>
<li><p><input type="radio" disabled="" /> Bootstrapping</p></li>
</ul>
<p><br></p>
<h3 id="problem-6.4">Problem 6.4</h3>
<p>Do dogs live longer than 12 years on average?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> Standard hypothesis test.</p></li>
<li><p><input type="radio" disabled="" /> Permutation test.</p></li>
<li><p><input type="radio" disabled="" /> Bootstrapping</p></li>
</ul>
<p><br></p>
<hr />
<h2 id="problem-7">Problem 7</h2>
<p><em>Are nonfiction books longer than fiction books?</em></p>
<p>Choose the best data science tool to help you answer this
question.</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> hypothesis testing</p></li>
<li><p><input type="radio" disabled="" /> permutation (A/B) testing</p></li>
<li><p><input type="radio" disabled="" /> Central Limit Theorem</p></li>
<li><p><input type="radio" disabled="" /> regression</p></li>
</ul>
<hr />
<h2 id="problem-8">Problem 8</h2>
<p><em>Do people have more friends as they get older?</em></p>
<p>Choose the best data science tool to help you answer this
question.</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> hypothesis testing</p></li>
<li><p><input type="radio" disabled="" /> permutation (A/B) testing</p></li>
<li><p><input type="radio" disabled="" /> Central Limit Theorem</p></li>
<li><p><input type="radio" disabled="" /> regression</p></li>
</ul>
<hr />
<h2 id="problem-9">Problem 9</h2>
<p><em>Does an ice cream shop sell more chocolate or vanilla ice cream
cones?</em></p>
<p>Choose the best data science tool to help you answer this
question.</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> hypothesis testing</p></li>
<li><p><input type="radio" disabled="" /> permutation (A/B) testing</p></li>
<li><p><input type="radio" disabled="" /> Central Limit Theorem</p></li>
<li><p><input type="radio" disabled="" /> regression</p></li>
</ul>
<hr />
<h2 id="problem-10">Problem 10</h2>
<p>Laura built the LAPPLAND TV storage unit in 2 hours and 30 minutes,
and she thinks she worked at an average speed. If you want to see
whether the average time to build the TV storage unit is indeed 2 hours
and 30 minutes using the sample of assembly times in
<code>app_data</code>, which of the following tools
<strong>could</strong> you use to help you? Select all that apply.</p>
<ul class="task-list">
<li><p><input type="checkbox" disabled="" /> hypothesis testing</p></li>
<li><p><input type="checkbox" disabled="" /> permutation testing</p></li>
<li><p><input type="checkbox" disabled="" /> bootstrapping</p></li>
<li><p><input type="checkbox" disabled="" /> Central Limit Theorem</p></li>
<li><p><input type="checkbox" disabled="" /> confidence interval</p></li>
<li><p><input type="checkbox" disabled="" /> regression</p></li>
</ul>
<hr />
<h2 id="problem-11">Problem 11</h2>
<p>You are browsing the IKEA showroom, deciding whether to purchase the
BILLY bookcase or the LOMMARP bookcase. You are concerned about the
amount of time it will take to assemble your new bookcase, so you look
up the assembly times reported in <code>app_data</code>. Thinking of the
data in <code>app_data</code> as a random sample of all IKEA purchases,
you want to perform a permutation test to test the following
hypotheses.</p>
<p><strong>Null Hypothesis</strong>: The assembly time for the BILLY
bookcase and the assembly time for the LOMMARP bookcase come from the
same distribution.</p>
<p><strong>Alternative Hypothesis</strong>: The assembly time for the
BILLY bookcase and the assembly time for the LOMMARP bookcase come from
different distributions.</p>
<p><br></p>
<h3 id="problem-11.1">Problem 11.1</h3>
<p>Suppose we query <code>app_data</code> to keep only the BILLY
bookcases, then average the <code>'minutes'</code> column. In addition,
we separately query <code>app_data</code> to keep only the LOMMARP
bookcases, then average the <code>'minutes'</code> column. If the null
hypothesis is true, which of the following statements about these two
averages is correct?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> These two averages are the same.</p></li>
<li><p><input type="radio" disabled="" /> Any difference between these two averages is due to random
chance.</p></li>
<li><p><input type="radio" disabled="" /> Any difference between these two averages cannot be ascribed to
random chance alone.</p></li>
<li><p><input type="radio" disabled="" /> The difference between these averages is statistically
significant.</p></li>
</ul>
<p><br></p>
<h3 id="problem-11.2">Problem 11.2</h3>
<p>For the permutation test, we’ll use as our test statistic the average
assembly time for BILLY bookcases minus the average assembly time for
LOMMARP bookcases, in minutes.</p>
<p>Complete the code below to generate one simulated value of the test
statistic in a new way, without using
<code>np.random.permutation</code>.</p>
<div class="sourceCode" id="cb29"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>billy <span class="op">=</span> (app_data.get(<span class="st">&#39;product&#39;</span>) <span class="op">==</span> </span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>        <span class="st">&#39;BILLY Bookcase, white, 31 1/2x11x79 1/2&#39;</span>)</span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>lommarp <span class="op">=</span> (app_data.get(<span class="st">&#39;product&#39;</span>) <span class="op">==</span> </span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a>          <span class="st">&#39;LOMMARP Bookcase, dark blue-green, 25 5/8x78 3/8&#39;</span>)</span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a>billy_lommarp <span class="op">=</span> app_data[billy<span class="op">|</span>lommarp]</span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a>billy_mean <span class="op">=</span> np.random.choice(billy_lommarp.get(<span class="st">&#39;minutes&#39;</span>), billy.<span class="bu">sum</span>()).mean()</span>
<span id="cb29-7"><a href="#cb29-7" aria-hidden="true" tabindex="-1"></a>lommarp_mean <span class="op">=</span> _________</span>
<span id="cb29-8"><a href="#cb29-8" aria-hidden="true" tabindex="-1"></a>billy_mean <span class="op">-</span> lommarp_mean</span></code></pre></div>
<p>What goes in the blank?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> <code>billy_lommarp[lommarp].get('minutes').mean()</code></p></li>
<li><p><input type="radio" disabled="" /> <code>np.random.choice(billy_lommarp.get('minutes'), lommarp.sum()).mean()</code></p></li>
<li><p><input type="radio" disabled="" /> <code>billy_lommarp.get('minutes').mean() - billy_mean</code></p></li>
<li><p><input type="radio" disabled="" /> <code>(billy_lommarp.get('minutes').sum() - billy_mean * billy.sum())/lommarp.sum()</code></p></li>
</ul>
<p><br></p>
<hr />
<h2 id="problem-12">Problem 12</h2>
<p>We’re now interested in investigating the differences between the
masses of Adelie penguins and Chinstrap penguins. Specifically, our null
hypothesis is that their masses are drawn from the same population
distribution, and any observed differences are due to chance only.</p>
<p>Below, we have a snippet of working code for this hypothesis test,
for a specific test statistic. Assume that <code>adelie_chinstrap</code>
is a DataFrame of only Adelie and Chinstrap penguins, with just two
columns – <code>'species'</code> and <code>'mass'</code>.</p>
<div class="sourceCode" id="cb30"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>stats <span class="op">=</span> np.array([])</span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>num_reps <span class="op">=</span> <span class="dv">500</span></span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i <span class="kw">in</span> np.arange(num_reps):</span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a>    <span class="co"># --- line (a) starts ---</span></span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true" tabindex="-1"></a>    shuffled <span class="op">=</span> np.random.permutation(adelie_chinstrap.get(<span class="st">&#39;species&#39;</span>))</span>
<span id="cb30-6"><a href="#cb30-6" aria-hidden="true" tabindex="-1"></a>    <span class="co"># --- line (a) ends ---</span></span>
<span id="cb30-7"><a href="#cb30-7" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb30-8"><a href="#cb30-8" aria-hidden="true" tabindex="-1"></a>    <span class="co"># --- line (b) starts ---</span></span>
<span id="cb30-9"><a href="#cb30-9" aria-hidden="true" tabindex="-1"></a>    with_shuffled <span class="op">=</span> adelie_chinstrap.assign(species<span class="op">=</span>shuffled)</span>
<span id="cb30-10"><a href="#cb30-10" aria-hidden="true" tabindex="-1"></a>    <span class="co"># --- line (b) ends ---</span></span>
<span id="cb30-11"><a href="#cb30-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-12"><a href="#cb30-12" aria-hidden="true" tabindex="-1"></a>    grouped <span class="op">=</span> with_shuffled.groupby(<span class="st">&#39;species&#39;</span>).mean()</span>
<span id="cb30-13"><a href="#cb30-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-14"><a href="#cb30-14" aria-hidden="true" tabindex="-1"></a>    <span class="co"># --- line (c) starts ---</span></span>
<span id="cb30-15"><a href="#cb30-15" aria-hidden="true" tabindex="-1"></a>    stat <span class="op">=</span> grouped.get(<span class="st">&#39;mass&#39;</span>).iloc[<span class="dv">0</span>] <span class="op">-</span> grouped.get(<span class="st">&#39;mass&#39;</span>).iloc[<span class="dv">1</span>]</span>
<span id="cb30-16"><a href="#cb30-16" aria-hidden="true" tabindex="-1"></a>    <span class="co"># --- line (c) ends ---</span></span>
<span id="cb30-17"><a href="#cb30-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-18"><a href="#cb30-18" aria-hidden="true" tabindex="-1"></a>    stats <span class="op">=</span> np.append(stats, stat)</span></code></pre></div>
<p><br></p>
<h3 id="problem-12.1">Problem 12.1</h3>
<p>Which of the following statements best describe the procedure
above?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> This is a standard hypothesis test, and our test statistic is the
total variation distance between the distribution of Adelie masses and
Chinstrap masses</p></li>
<li><p><input type="radio" disabled="" /> This is a standard hypothesis test, and our test statistic is the
difference between the expected proportion of Adelie penguins and the
proportion of Adelie penguins in our resample</p></li>
<li><p><input type="radio" disabled="" /> This is a permutation test, and our test statistic is the total
variation distance between the distribution of Adelie masses and
Chinstrap masses</p></li>
<li><p><input type="radio" disabled="" /> This is a permutation test, and our test statistic is the difference
in the mean Adelie mass and mean Chinstrap mass</p></li>
</ul>
<p><br></p>
<h3 id="problem-12.2">Problem 12.2</h3>
<p>Currently, line (c) (marked with a comment) uses .iloc. Which of the
following options compute the exact same statistic as line (c) currently
does?</p>
<p>Option 1:</p>
<div class="sourceCode" id="cb31"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>stat <span class="op">=</span> grouped.get(<span class="st">&#39;mass&#39;</span>).loc[<span class="st">&#39;Adelie&#39;</span>] <span class="op">-</span> grouped.get(<span class="st">&#39;mass&#39;</span>).loc[<span class="st">&#39;Chinstrap&#39;</span>]</span></code></pre></div>
<p>Option 2:</p>
<div class="sourceCode" id="cb32"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>stat <span class="op">=</span> grouped.get(<span class="st">&#39;mass&#39;</span>).loc[<span class="st">&#39;Chinstrap&#39;</span>] <span class="op">-</span> grouped.get(<span class="st">&#39;mass&#39;</span>).loc[<span class="st">&#39;Adelie&#39;</span>]</span></code></pre></div>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> Option 1 only</p></li>
<li><p><input type="radio" disabled="" /> Option 2 only</p></li>
<li><p><input type="radio" disabled="" /> Both options</p></li>
<li><p><input type="radio" disabled="" /> Neither option</p></li>
</ul>
<p><br></p>
<h3 id="problem-12.3">Problem 12.3</h3>
<p>Is it possible to re-write <code>line (c)</code> in a way that uses
<code>.iloc[0]</code> twice, without any other uses of <code>.loc</code>
or <code>.iloc</code>?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> Yes, it’s possible</p></li>
<li><p><input type="radio" disabled="" /> No, it’s not possible</p></li>
</ul>
<p><br></p>
<h3 id="problem-12.4">Problem 12.4</h3>
<p>For your convenience, we copy the code for the hypothesis test
below.</p>
<div class="sourceCode" id="cb33"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>stats <span class="op">=</span> np.array([])</span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>num_reps <span class="op">=</span> <span class="dv">500</span></span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i <span class="kw">in</span> np.arange(num_reps):</span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a>    <span class="co"># --- line (a) starts ---</span></span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a>    shuffled <span class="op">=</span> np.random.permutation(adelie_chinstrap.get(<span class="st">&#39;species&#39;</span>))</span>
<span id="cb33-6"><a href="#cb33-6" aria-hidden="true" tabindex="-1"></a>    <span class="co"># --- line (a) ends ---</span></span>
<span id="cb33-7"><a href="#cb33-7" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb33-8"><a href="#cb33-8" aria-hidden="true" tabindex="-1"></a>    <span class="co"># --- line (b) starts ---</span></span>
<span id="cb33-9"><a href="#cb33-9" aria-hidden="true" tabindex="-1"></a>    with_shuffled <span class="op">=</span> adelie_chinstrap.assign(species<span class="op">=</span>shuffled)</span>
<span id="cb33-10"><a href="#cb33-10" aria-hidden="true" tabindex="-1"></a>    <span class="co"># --- line (b) ends ---</span></span>
<span id="cb33-11"><a href="#cb33-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-12"><a href="#cb33-12" aria-hidden="true" tabindex="-1"></a>    grouped <span class="op">=</span> with_shuffled.groupby(<span class="st">&#39;species&#39;</span>).mean()</span>
<span id="cb33-13"><a href="#cb33-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-14"><a href="#cb33-14" aria-hidden="true" tabindex="-1"></a>    <span class="co"># --- line (c) starts ---</span></span>
<span id="cb33-15"><a href="#cb33-15" aria-hidden="true" tabindex="-1"></a>    stat <span class="op">=</span> grouped.get(<span class="st">&#39;mass&#39;</span>).iloc[<span class="dv">0</span>] <span class="op">-</span> grouped.get(<span class="st">&#39;mass&#39;</span>).iloc[<span class="dv">1</span>]</span>
<span id="cb33-16"><a href="#cb33-16" aria-hidden="true" tabindex="-1"></a>    <span class="co"># --- line (c) ends ---</span></span>
<span id="cb33-17"><a href="#cb33-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-18"><a href="#cb33-18" aria-hidden="true" tabindex="-1"></a>    stats <span class="op">=</span> np.append(stats, stat)</span></code></pre></div>
<p>What would happen if we removed <code>line (a)</code>, and replaced
<code>line (b)</code> with</p>
<div class="sourceCode" id="cb34"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>with_shuffled <span class="op">=</span> adelie_chinstrap.sample(adelie_chinstrap.shape[<span class="dv">0</span>], replace<span class="op">=</span><span class="va">False</span>)</span></code></pre></div>
<p>Select the best answer.</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> This would still run a valid hypothesis test</p></li>
<li><p><input type="radio" disabled="" /> This would not run a valid hypothesis test, as all values in the
<code>stats</code> array would be exactly the same</p></li>
<li><p><input type="radio" disabled="" /> This would not run a valid hypothesis test, even though there would
be several different values in the <code>stats</code> array</p></li>
<li><p><input type="radio" disabled="" /> This would not run a valid hypothesis test, as it would incorporate
information about Gentoo penguins</p></li>
</ul>
<p><br></p>
<h3 id="problem-12.5">Problem 12.5</h3>
<p>For your convenience, we copy the code for the hypothesis test
below.</p>
<div class="sourceCode" id="cb35"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a>stats <span class="op">=</span> np.array([])</span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>num_reps <span class="op">=</span> <span class="dv">500</span></span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i <span class="kw">in</span> np.arange(num_reps):</span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a>    <span class="co"># --- line (a) starts ---</span></span>
<span id="cb35-5"><a href="#cb35-5" aria-hidden="true" tabindex="-1"></a>    shuffled <span class="op">=</span> np.random.permutation(adelie_chinstrap.get(<span class="st">&#39;species&#39;</span>))</span>
<span id="cb35-6"><a href="#cb35-6" aria-hidden="true" tabindex="-1"></a>    <span class="co"># --- line (a) ends ---</span></span>
<span id="cb35-7"><a href="#cb35-7" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb35-8"><a href="#cb35-8" aria-hidden="true" tabindex="-1"></a>    <span class="co"># --- line (b) starts ---</span></span>
<span id="cb35-9"><a href="#cb35-9" aria-hidden="true" tabindex="-1"></a>    with_shuffled <span class="op">=</span> adelie_chinstrap.assign(species<span class="op">=</span>shuffled)</span>
<span id="cb35-10"><a href="#cb35-10" aria-hidden="true" tabindex="-1"></a>    <span class="co"># --- line (b) ends ---</span></span>
<span id="cb35-11"><a href="#cb35-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-12"><a href="#cb35-12" aria-hidden="true" tabindex="-1"></a>    grouped <span class="op">=</span> with_shuffled.groupby(<span class="st">&#39;species&#39;</span>).mean()</span>
<span id="cb35-13"><a href="#cb35-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-14"><a href="#cb35-14" aria-hidden="true" tabindex="-1"></a>    <span class="co"># --- line (c) starts ---</span></span>
<span id="cb35-15"><a href="#cb35-15" aria-hidden="true" tabindex="-1"></a>    stat <span class="op">=</span> grouped.get(<span class="st">&#39;mass&#39;</span>).iloc[<span class="dv">0</span>] <span class="op">-</span> grouped.get(<span class="st">&#39;mass&#39;</span>).iloc[<span class="dv">1</span>]</span>
<span id="cb35-16"><a href="#cb35-16" aria-hidden="true" tabindex="-1"></a>    <span class="co"># --- line (c) ends ---</span></span>
<span id="cb35-17"><a href="#cb35-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-18"><a href="#cb35-18" aria-hidden="true" tabindex="-1"></a>    stats <span class="op">=</span> np.append(stats, stat)</span></code></pre></div>
<p>What would happen if we removed <code>line (a)</code>, and replaced
<code>line (b)</code> with</p>
<div class="sourceCode" id="cb36"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>with_shuffled <span class="op">=</span> adelie_chinstrap.sample(adelie_chinstrap.shape[<span class="dv">0</span>], replace<span class="op">=</span><span class="va">True</span>)</span></code></pre></div>
<p>Select the best answer.</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> This would still run a valid hypothesis test</p></li>
<li><p><input type="radio" disabled="" /> This would not run a valid hypothesis test, as all values in the
<code>stats</code> array would be exactly the same</p></li>
<li><p><input type="radio" disabled="" /> This would not run a valid hypothesis test, even though there would
be several different values in the <code>stats</code> array</p></li>
<li><p><input type="radio" disabled="" /> This would not run a valid hypothesis test, as it would incorporate
information about Gentoo penguins</p></li>
</ul>
<p><br></p>
<h3 id="problem-12.6">Problem 12.6</h3>
<p>For your convenience, we copy the code for the hypothesis test
below.</p>
<div class="sourceCode" id="cb37"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a>stats <span class="op">=</span> np.array([])</span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>num_reps <span class="op">=</span> <span class="dv">500</span></span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i <span class="kw">in</span> np.arange(num_reps):</span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a>    <span class="co"># --- line (a) starts ---</span></span>
<span id="cb37-5"><a href="#cb37-5" aria-hidden="true" tabindex="-1"></a>    shuffled <span class="op">=</span> np.random.permutation(adelie_chinstrap.get(<span class="st">&#39;species&#39;</span>))</span>
<span id="cb37-6"><a href="#cb37-6" aria-hidden="true" tabindex="-1"></a>    <span class="co"># --- line (a) ends ---</span></span>
<span id="cb37-7"><a href="#cb37-7" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb37-8"><a href="#cb37-8" aria-hidden="true" tabindex="-1"></a>    <span class="co"># --- line (b) starts ---</span></span>
<span id="cb37-9"><a href="#cb37-9" aria-hidden="true" tabindex="-1"></a>    with_shuffled <span class="op">=</span> adelie_chinstrap.assign(species<span class="op">=</span>shuffled)</span>
<span id="cb37-10"><a href="#cb37-10" aria-hidden="true" tabindex="-1"></a>    <span class="co"># --- line (b) ends ---</span></span>
<span id="cb37-11"><a href="#cb37-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-12"><a href="#cb37-12" aria-hidden="true" tabindex="-1"></a>    grouped <span class="op">=</span> with_shuffled.groupby(<span class="st">&#39;species&#39;</span>).mean()</span>
<span id="cb37-13"><a href="#cb37-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-14"><a href="#cb37-14" aria-hidden="true" tabindex="-1"></a>    <span class="co"># --- line (c) starts ---</span></span>
<span id="cb37-15"><a href="#cb37-15" aria-hidden="true" tabindex="-1"></a>    stat <span class="op">=</span> grouped.get(<span class="st">&#39;mass&#39;</span>).iloc[<span class="dv">0</span>] <span class="op">-</span> grouped.get(<span class="st">&#39;mass&#39;</span>).iloc[<span class="dv">1</span>]</span>
<span id="cb37-16"><a href="#cb37-16" aria-hidden="true" tabindex="-1"></a>    <span class="co"># --- line (c) ends ---</span></span>
<span id="cb37-17"><a href="#cb37-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-18"><a href="#cb37-18" aria-hidden="true" tabindex="-1"></a>    stats <span class="op">=</span> np.append(stats, stat)</span></code></pre></div>
<p>What would happen if we replaced <code>line (a)</code> with</p>
<div class="sourceCode" id="cb38"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>with_shuffled <span class="op">=</span> adelie_chinstrap.assign(</span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>    species<span class="op">=</span>np.random.permutation(adelie_chinstrap.get(<span class="st">&#39;species&#39;</span>)</span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<p>and replaced line (b) with</p>
<div class="sourceCode" id="cb39"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a>with_shuffled <span class="op">=</span> with_shuffled.assign(</span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>    mass<span class="op">=</span>np.random.permutation(adelie_chinstrap.get(<span class="st">&#39;mass&#39;</span>)</span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<p>Select the best answer.</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> This would still run a valid hypothesis test</p></li>
<li><p><input type="radio" disabled="" /> This would not run a valid hypothesis test, as all values in the
<code>stats</code> array would be exactly the same</p></li>
<li><p><input type="radio" disabled="" /> This would not run a valid hypothesis test, even though there would
be several different values in the <code>stats</code> array</p></li>
<li><p><input type="radio" disabled="" /> This would not run a valid hypothesis test, as it would incorporate
information about Gentoo penguins</p></li>
</ul>
<p><br></p>
<h3 id="problem-12.7">Problem 12.7</h3>
<p>Suppose we run the code for the hypothesis test and see the following
empirical distribution for the test statistic. In red is the observed
statistic.</p>
<center><img src='../assets/images/fa21-final/measuring_up_his.png' width=40%></center>
<p>Suppose our alternative hypothesis is that Chinstrap penguins weigh
more on average than Adelie penguins. Which of the following is closest
to the p-value for our hypothesis test?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> <span class="math inline">0</span></p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">\frac{1}{4}</span></p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">\frac{1}{3}</span></p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">\frac{2}{3}</span></p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">\frac{3}{4}</span></p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">1</span></p></li>
</ul>
<p><br></p>
<hr />
<h2 id="section"><span class="math display"> </span></h2>
<h4
id="feedback-find-an-error-still-confused-have-a-suggestion-let-us-know-here.">👋
Feedback: Find an error? Still confused? Have a suggestion?
<a href="https://forms.gle/WZ71FchnXU1K154d7">Let us know
here</u></a>.</h4>
<hr />
</body>
</html>
