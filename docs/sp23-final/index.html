<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>Spring 2023 Final Exam</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      {   }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span.al { color: #ff0000; font-weight: bold; } /* Alert */
    code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
    code span.at { color: #7d9029; } /* Attribute */
    code span.bn { color: #40a070; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #4070a0; } /* Char */
    code span.cn { color: #880000; } /* Constant */
    code span.co { color: #60a0b0; font-style: italic; } /* Comment */
    code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
    code span.do { color: #ba2121; font-style: italic; } /* Documentation */
    code span.dt { color: #902000; } /* DataType */
    code span.dv { color: #40a070; } /* DecVal */
    code span.er { color: #ff0000; font-weight: bold; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #40a070; } /* Float */
    code span.fu { color: #06287e; } /* Function */
    code span.im { } /* Import */
    code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
    code span.kw { color: #007020; font-weight: bold; } /* Keyword */
    code span.op { color: #666666; } /* Operator */
    code span.ot { color: #007020; } /* Other */
    code span.pp { color: #bc7a00; } /* Preprocessor */
    code span.sc { color: #4070a0; } /* SpecialChar */
    code span.ss { color: #bb6688; } /* SpecialString */
    code span.st { color: #4070a0; } /* String */
    code span.va { color: #19177c; } /* Variable */
    code span.vs { color: #4070a0; } /* VerbatimString */
    code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="../assets/theme.css" />
  <script defer=""
  src="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.js"></script>
  <script>document.addEventListener("DOMContentLoaded", function () {
 var mathElements = document.getElementsByClassName("math");
 var macros = [];
 for (var i = 0; i < mathElements.length; i++) {
  var texText = mathElements[i].firstChild;
  if (mathElements[i].tagName == "SPAN") {
   katex.render(texText.data, mathElements[i], {
    displayMode: mathElements[i].classList.contains('display'),
    throwOnError: false,
    macros: macros,
    fleqn: false
   });
}}});
  </script>
  <link rel="stylesheet"
  href="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.css" />
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<header id="title-block-header">
<h1 class="title">Spring 2023 Final Exam</h1>
</header>
<p><link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
<!-- add after bootstrap.min.css -->
<link rel="stylesheet" href="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.css"/>
<!-- add after bootstrap.min.js or bootstrap.bundle.min.js -->
<script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script></p>
<!-- for difficulty gauges-->
<script src="https://cdn.plot.ly/plotly-2.16.1.min.js"></script>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-B947E6J6H4"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-B947E6J6H4');
</script>
<p><a href="../index.html">‚Üê return to practice.dsc10.com</a></p>
<hr />
<p><strong>Instructor(s):</strong> Suraj Rampure</p>
<p>This exam was administered in-person. The exam was closed-notes,
except students were provided a copy of the
<a href='https://drive.google.com/file/d/1ky0Np67HS2O4LO913P-ing97SJG0j27n/view'>DSC
10 Reference Sheet<a>. No calculators were allowed. Students had
<strong>3 hours</strong> to take this exam.</p>
<hr />
<h4 id="video">Video üé•</h4>
<p><b><a href="https://podcast.ucsd.edu/watch/fa23/dsc10_c00/28">Here‚Äôs
a walkthrough video</a> of Problems 3, 5, and 6, and
<a href="https://podcast.ucsd.edu/watch/fa23/dsc10_a00/28">here‚Äôs a
walkthrough video</a> of Problems 7, 8.4, 10, and 11.</b></p>
<hr />
<p>You may have noticed that San Diego was quite cloudy in May (2023).
In fact, according to the National Weather Service, San Diego was the
single cloudiest city in the contiguous United States in May, with
clouds covering the sky 82% of the time. (Only a remote town in Alaska
was cloudier!)</p>
<p>In this exam, we will work with the DataFrame <code>sun</code>, which
describes the number of sunshine hours per month in various cities
around the world. Each number in <code>sun</code> is an average across
multiple years and multiple sensors.</p>
<p>The first 2 columns in <code>sun</code> are <code>"Country"</code>
and <code>"City"</code>, which are strings describing a particular city.
The next 12 columns are <code>"Jan"</code>, <code>"Feb"</code>,
<code>"Mar"</code>, ‚Ä¶, <code>"Dec"</code>, which describe the number of
sunshine hours seen each month. The last column, <code>"Year"</code>, is
the sum of the month-specific columns.</p>
<p>The first few rows of <code>sun</code> are shown below, though
<code>sun</code> has many more rows than are shown below.</p>
<center><img src='../assets/images/sp23-final/sun.png' width=1000></center>
<p><br></p>
<p>For instance, we see that Tashkent, Uzbekistan sees 164.3 sunshine
hours in March.</p>
<p><strong>Throughout the exam</strong>, assume that we have already run
<code>import babypandas as bpd</code> and
<code>import numpy as np</code>.</p>
<hr />
<h2 id="problem-1">Problem 1</h2>
<p><br></p>
<h3 id="problem-1.1">Problem 1.1</h3>
<p>Complete the implementation of the function
<code>most_sunshine</code>, which takes in <code>country</code>, the
name of a country, and <code>month</code>, the name of a month
(e.g.¬†<code>"Apr"</code>), and returns the name of the city (as a
string) in <code>country</code> with the most sunshine hours in
<code>month</code>, among the cities in <code>sun</code>. Assume there
are no ties.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> most_sunshine(country, month):</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>        country_only <span class="op">=</span> __(a)__</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> country_only.__(b)__</span></code></pre></div>
<p>What goes in blanks (a) and (b)?</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading1_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse1_1" aria-expanded="true" aria-controls="collapse1_1">
Click to view the solution.
</button>
</h2>
<div id="collapse1_1" class="accordion-collapse collapse collapse"
aria-labelledby="heading1_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer</strong>: (a):
<code>sun[sun.get("Country") == country]</code>, (b):
<code>sort_values(month).get("City").iloc[-1]</code> or
<code>sort_values(month, ascending=False).get("City").iloc[0]</code></p>
<p><strong>What goes in blank (a)?</strong>
<code>sun[sun.get("Country") == country]</code> To identify cities only
within the specified country, we need to query for the rows in the
<code>sun</code> DataFrame where the <code>"Country"</code> column
matches the given <code>country</code>. The expression
<code>sun.get("Country") == country</code> creates a Boolean Series,
where each entry is <code>True</code> if the corresponding row‚Äôs
<code>"Country"</code> column matches the provided <code>country</code>
and <code>False</code> otherwise. When this Boolean series is used to
index into <code>sun</code> DataFrame, it keeps only the rows for which
<code>sun.get("Country") == country</code> is <code>True</code>,
effectively giving us only the cities from the specified country.</p>
<hr/>
<h5>Difficulty: ‚≠êÔ∏è‚≠êÔ∏è</h5>
<p>
</p>
<p>The average score on this problem was 78%.</p>
<p><br/><br/></p>
<p><strong>What goes in blank (b)?</strong>
<code>sort_values(month).get("City").iloc[-1]</code> or
<code>sort_values(month, ascending=False).get("City").iloc[0]</code><br/>
To determine the city with the most sunshine hours in the specified
month, we sort the queried DataFrame (which only contains cities from
the specified country) based on the values in the <code>month</code>
column. There are two ways to achieve the desired result:</p>
<ul>
<li>Sort in ascending (increasing) order and then select the last item.
This is because after sorting in ascending order, the city with the most
sunshine hours will be at the bottom of the DataFrame. We use
<code>.iloc[-1]</code> to get the last item after selecting the
<code>"City"</code> column with <code>.get("City")</code>.</li>
<li>Sort in descending order and then select the first item. After
sorting in descending order, the city with the most sunshine hours will
be at the top of the DataFrame. We use <code>.iloc[0]</code> to get the
first item after selecting the <code>"City"</code> column with
<code>.get("City")</code>.</li>
</ul>
<p>Both methods will give us the name of the city with the most sunshine
hours in the specified month.</p>
<hr/>
<h5>Difficulty: ‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è</h5>
<p>
</p>
<p>The average score on this problem was 52%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<p><br></p>
<h3 id="problem-1.2">Problem 1.2</h3>
<p>In this part only, assume that all <code>"City"</code> names in
<code>sun</code> are unique.</p>
<p>Consider the DataFrame <code>cities</code> defined below.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>cities <span class="op">=</span> sun.groupby(<span class="st">&quot;City&quot;</span>).mean().reset_index()</span></code></pre></div>
<p>Fill in the blanks so that the DataFrame that results from the
sequence of steps described below is identical to
<code>cities</code>.</p>
<p>‚ÄúSort <code>sun</code> by <strong>(c)</strong> in
<strong>(d)</strong> order <strong>(e)</strong>.‚Äù</p>
<p>What goes in blank (c)?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> <code>"Country"</code></p></li>
<li><p><input type="radio" disabled="" /> <code>"City"</code></p></li>
<li><p><input type="radio" disabled="" /> <code>"Jan"</code></p></li>
<li><p><input type="radio" disabled="" /> <code>"Year"</code></p></li>
</ul>
<p><br></p>
<p>What goes in blank (d)?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> ascending</p></li>
<li><p><input type="radio" disabled="" /> descending</p></li>
</ul>
<p><br></p>
<p>What goes in blank (e)?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> and drop the <code>"Country"</code> column</p></li>
<li><p><input type="radio" disabled="" /> and drop the <code>"Country"</code> and <code>"City"</code>
columns</p></li>
<li><p><input type="radio" disabled="" /> and reset the index</p></li>
<li><p><input type="radio" disabled="" /> , drop the <code>"Country"</code> column, and reset the index</p></li>
<li><p><input type="radio" disabled="" /> , drop the <code>"Country"</code> and <code>"City"</code> columns,
and reset the index</p></li>
<li><p><input type="radio" disabled="" /> Nothing, leave blank (e) empty</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading1_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse1_2" aria-expanded="true" aria-controls="collapse1_2">
Click to view the solution.
</button>
</h2>
<div id="collapse1_2" class="accordion-collapse collapse collapse"
aria-labelledby="heading1_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer</strong>: (c): <code>"City"</code>, (d): ascending,
(e): drop the <code>"Country"</code> column, and reset the index</p>
<p>Let‚Äôs start by understanding the code provided in the question:<br/>
The <code>.groupby("City")</code> method groups the data in the
<code>sun</code> DataFrame by unique city names. Since every city name
in the DataFrame is unique, this means that each group will consist of
just one row corresponding to that city.</p>
<p>After grouping by city, the <code>.mean()</code> method computes the
average of each column for each group. Again, as each city name is
unique, this operation doesn‚Äôt aggregate multiple rows but merely
reproduces the original values for each city. (For example, the value in
the <code>"Jan"</code> column for the row with the index
<code>"Hamilton"</code> will just be 229.8, which we see in the first
row of the preview of <code>sun</code>.)</p>
<p>Finally, <code>.reset_index()</code> is used to reset the DataFrame‚Äôs
index. When using <code>.groupby</code>, the column we group by (in this
case, <code>"City"</code>) becomes the index. By resetting the index,
we‚Äôre making <code>"City"</code> a regular column again and setting the
index to 0, 1, 2, 3, ‚Ä¶</p>
<p><br/></p>
<p><strong>What goes in blank (c)?</strong> <code>"City"</code><br/>
When we group on <code>"City"</code>, the index of the DataFrame is set
to <code>"City"</code> names, sorted in ascending alphabetical order
(this is always the behavior of <code>groupby</code>). Since all city
names are unique, the number of rows in
<code>sun.groupby("City").mean()</code> is the same as the number of
rows in <code>sun</code>, and so grouping on <code>"City"</code>
effectively sorts the DataFrame by <code>"City"</code> and sets the
index to <code>"City"</code>. To replicate the order in
<code>cities</code>, then, we must sort <code>sun</code> by the
<code>"City"</code> column in ascending order.</p>
<hr/>
<h5>Difficulty: ‚≠êÔ∏è</h5>
<p>
</p>
<p>The average score on this problem was 97%.</p>
<p><br/><br/></p>
<p><strong>What goes in blank (d)?</strong> ascending<br/>
Addressed above.</p>
<hr/>
<h5>Difficulty: ‚≠êÔ∏è‚≠êÔ∏è</h5>
<p>
</p>
<p>The average score on this problem was 77%.</p>
<p><br/><br/></p>
<p><strong>What goes in blank (e)?</strong> , drop the
<code>"Country"</code> column, and reset the index<br/>
In the provided code, after grouping by <code>"City"</code> and
computing the mean, we reset the index. This means the
<code>"City"</code> column is no longer the index but a regular column,
and the DataFrame gets a fresh integer index. To replicate this
structure, we need to reset the index in our sorted DataFrame.
Additionally, when we applied the <code>.mean()</code> method after
grouping, any non-numeric columns (like <code>"Country"</code>) that we
can‚Äôt take the mean of are automatically excluded from the resulting
DataFrame. To match the structure of <code>cities</code>, then, we must
drop the <code>"Country"</code> column from our sorted DataFrame.</p>
<hr/>
<h5>Difficulty: ‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è</h5>
<p>
</p>
<p>The average score on this problem was 46%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<p><br></p>
<h3 id="problem-1.3">Problem 1.3</h3>
<p>True or False: In the code below, <code>Z</code> is guaranteed to
evaluate to <code>True</code>.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>x <span class="op">=</span> sun.groupby([<span class="st">&quot;Country&quot;</span>, <span class="st">&quot;Year&quot;</span>]).mean().shape[<span class="dv">0</span>]</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>y <span class="op">=</span> sun.groupby(<span class="st">&quot;Country&quot;</span>).mean().shape[<span class="dv">0</span>]</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>z <span class="op">=</span> (x <span class="op">&gt;=</span> y)</span></code></pre></div>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> True</p></li>
<li><p><input type="radio" disabled="" /> False</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading1_3">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse1_3" aria-expanded="true" aria-controls="collapse1_3">
Click to view the solution.
</button>
</h2>
<div id="collapse1_3" class="accordion-collapse collapse collapse"
aria-labelledby="heading1_3" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer</strong>: True<br/>
Let‚Äôs us look at each line of code separately:</p>
<ul>
<li><p><code>x = sun.groupby(["Country", "Year"]).mean().shape[0]</code>:
This line groups the <code>sun</code> DataFrame by both
<code>"Country"</code> and <code>"Year"</code>, then computes the mean.
As a result, each unique combination of <code>"Country"</code> and
<code>"Year"</code> will have its own row. For instance, if there are
three different values in the <code>"Year"</code> column for a
particular country, that country will appear three times in the
DataFrame <code>sun.groupby(["Country", "Year"]).mean()</code>.</p></li>
<li><p><code>y = sun.groupby("Country").mean().shape[0]</code>: When
grouping by <code>"Country"</code> alone, each unique country in the
<code>sun</code> DataFrame is represented by one row, independent of the
information in other columns.</p></li>
<li><p><code>z = (x &gt;= y)</code>: This comparison checks whether the
number of rows produced by grouping by both <code>"Country"</code> and
<code>"Year"</code> (which is <code>x</code>) is greater than or equal
to the number of rows produced by grouping only by
<code>"Country"</code> (which is <code>y</code>).</p></li>
</ul>
<p>Given our grouping logic:</p>
<ul>
<li><p>If every country in the <code>sun</code> DataFrame has only a
single unique value in the <code>"Year"</code> column (e.g.¬†if the
<code>"Year"</code> value for all ciites in the United States was always
3035.9, and if the <code>"Year"</code> value for all cities in Nigeria
was always 1845.4, etc.), then the number of rows when grouping by both
<code>"Country"</code> and <code>"Year"</code> will be equal to the
number of rows when grouping by <code>"Country"</code> alone. In this
scenario, <code>x</code> will be equal to <code>y</code>.</p></li>
<li><p>If at least one country in the <code>sun</code> DataFrame has at
least two different values in the <code>"Year"</code> column (e.g.¬†if
there are at least two cities in the United States with different values
in the <code>"Year"</code> column), then there will be more rows when
grouping by both <code>"Country"</code> and <code>"Year"</code> compared
to grouping by <code>"Country"</code> alone. This means <code>x</code>
will be greater than <code>y</code>.</p></li>
</ul>
<p>Considering the above scenarios, there‚Äôs no situation where the value
of <code>x</code> can be less than the value of <code>y</code>.
Therefore, <code>z</code> will always evaluate to <code>True</code>.</p>
<hr/>
<h5>Difficulty: ‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è</h5>
<p>
</p>
<p>The average score on this problem was 70%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<p>In the next few parts, consider the following answer choices.</p>
<ol type="A">
<li><p>The name of the country with the most cities.</p></li>
<li><p>The name of the country with the fewest cities.</p></li>
<li><p>The number of cities in the country with the most
cities.</p></li>
<li><p>The number of cities in the country with the fewest
cities.</p></li>
<li><p>The last city, alphabetically, in the first country,
alphabetically.</p></li>
<li><p>The first city, alphabetically, in the first country,
alphabetically.</p></li>
<li><p>Nothing, because it errors.</p></li>
</ol>
<p><br></p>
<h3 id="problem-1.4">Problem 1.4</h3>
<p>What does the following expression evaluate to?</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>sun.groupby(<span class="st">&quot;Country&quot;</span>).<span class="bu">max</span>().get(<span class="st">&quot;City&quot;</span>).iloc[<span class="dv">0</span>]</span></code></pre></div>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> A</p></li>
<li><p><input type="radio" disabled="" /> B</p></li>
<li><p><input type="radio" disabled="" /> C</p></li>
<li><p><input type="radio" disabled="" /> D</p></li>
<li><p><input type="radio" disabled="" /> E</p></li>
<li><p><input type="radio" disabled="" /> F</p></li>
<li><p><input type="radio" disabled="" /> G</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading1_4">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse1_4" aria-expanded="true" aria-controls="collapse1_4">
Click to view the solution.
</button>
</h2>
<div id="collapse1_4" class="accordion-collapse collapse collapse"
aria-labelledby="heading1_4" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer</strong>: E. The last city, alphabetically, in the
first country, alphabetically.<br/>
</p>
<p>Let‚Äôs break down the code:</p>
<ul>
<li><p><code>sun.groupby("Country").max()</code>: This line of code
groups the <code>sun</code> DataFrame by the <code>"Country"</code>
column and then determines the <strong>maximum</strong> for every other
column within each country group. Since the values in the
<code>"City"</code> column are stored as strings, and the maximum of a
Series of strings is the last string alphabetically, the values in the
<code>"City"</code> column of this DataFrame will contain the last city,
alphabetically, of each country.</p></li>
<li><p><code>.get("City")</code>: <code>.get("City")</code> accesses the
<code>"City"</code> column.</p></li>
<li><p><code>.iloc[0]</code>: Finally, <code>.iloc[0]</code> selects the
<code>"City"</code> value from the first row. The first row corresponds
to the first country alphabetically because <code>groupby</code> sorted
the DataFrame by <code>"Country"</code> in ascending order. The value in
the <code>"City"</code> column that <code>.iloc[0]</code> selects, then,
is the name of the last city, alphabetically, in the first country,
alphabetically.</p></li>
</ul>
<hr/>
<h5>Difficulty: ‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è</h5>
<p>
</p>
<p>The average score on this problem was 36%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<p><br></p>
<h3 id="problem-1.5">Problem 1.5</h3>
<p>What does the following expression evaluate to?</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>sun.groupby(<span class="st">&quot;Country&quot;</span>).<span class="bu">sum</span>().get(<span class="st">&quot;City&quot;</span>).iloc[<span class="dv">0</span>]</span></code></pre></div>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> A</p></li>
<li><p><input type="radio" disabled="" /> B</p></li>
<li><p><input type="radio" disabled="" /> C</p></li>
<li><p><input type="radio" disabled="" /> D</p></li>
<li><p><input type="radio" disabled="" /> E</p></li>
<li><p><input type="radio" disabled="" /> F</p></li>
<li><p><input type="radio" disabled="" /> G</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading1_5">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse1_5" aria-expanded="true" aria-controls="collapse1_5">
Click to view the solution.
</button>
</h2>
<div id="collapse1_5" class="accordion-collapse collapse collapse"
aria-labelledby="heading1_5" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer</strong>: G. Nothing, because it errors.<br/>
</p>
<p>Let‚Äôs break down the code:</p>
<ul>
<li><p><code>sun.groupby("Country").sum()</code>: This groups the
<code>sun</code> DataFrame by the <code>"Country"</code> column and
computes the sum for each numeric column within each country group.
Since <code>"City"</code> is non-numeric, it will be dropped.</p></li>
<li><p><code>.get("City")</code>: This operation attempts to retrieve
the <code>"City"</code> column from the resulting DataFrame. However,
since the <code>"City"</code> column was dropped in the previous step,
this will raise a KeyError, indicating that the column is not present in
the DataFrame.</p></li>
</ul>
<hr/>
<h5>Difficulty: ‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è</h5>
<p>
</p>
<p>The average score on this problem was 73%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<p><br></p>
<h3 id="problem-1.6">Problem 1.6</h3>
<p>What does the following expression evaluate to?</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>sun.groupby(<span class="st">&quot;Country&quot;</span>).count().sort_values(<span class="st">&quot;Jan&quot;</span>).index[<span class="op">-</span><span class="dv">1</span>]</span></code></pre></div>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> A</p></li>
<li><p><input type="radio" disabled="" /> B</p></li>
<li><p><input type="radio" disabled="" /> C</p></li>
<li><p><input type="radio" disabled="" /> D</p></li>
<li><p><input type="radio" disabled="" /> E</p></li>
<li><p><input type="radio" disabled="" /> F</p></li>
<li><p><input type="radio" disabled="" /> G</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading1_6">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse1_6" aria-expanded="true" aria-controls="collapse1_6">
Click to view the solution.
</button>
</h2>
<div id="collapse1_6" class="accordion-collapse collapse collapse"
aria-labelledby="heading1_6" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer</strong>: A. The name of the country with the most
cities.<br/>
</p>
<p>Let‚Äôs break down the code:</p>
<ul>
<li><p><code>sun.groupby("Country").count()</code>: This groups the sun
DataFrame by the <code>"Country"</code> column. The
<code>.count()</code> method then returns the number of rows in each
group for each column. Since we‚Äôre grouping by <code>"Country"</code>,
and since the rows in <code>sun</code> correspond to cities, this is
counting the number of cities in each country.</p></li>
<li><p><code>.sort_values("Jan")</code>: The result of the previous
operation is a DataFrame with <code>"Country"</code> as the index and
the number of cities per country stored in every other column. The
<code>"City</code>, <code>"Jan"</code>, <code>"Feb"</code>,
<code>"Mar"</code>, etc. columns in the resulting DataFrame all contain
the same information. Sorting by <code>"Jan"</code> sorts the DataFrame
by the number of cities each country has in ascending order.</p></li>
<li><p><code>.index[-1]</code>: This retrieves the last index value from
the sorted DataFrame, which corresponds to the name of the country with
the most cities.</p></li>
</ul>
<hr/>
<h5>Difficulty: ‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è</h5>
<p>
</p>
<p>The average score on this problem was 61%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<p><br></p>
<h3 id="problem-1.7">Problem 1.7</h3>
<p>What does the following expression evaluate to?</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>sun.groupby(<span class="st">&quot;Country&quot;</span>).count().sort_values(<span class="st">&quot;City&quot;</span>).get(<span class="st">&quot;City&quot;</span>).iloc[<span class="op">-</span><span class="dv">1</span>]</span></code></pre></div>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> A</p></li>
<li><p><input type="radio" disabled="" /> B</p></li>
<li><p><input type="radio" disabled="" /> C</p></li>
<li><p><input type="radio" disabled="" /> D</p></li>
<li><p><input type="radio" disabled="" /> E</p></li>
<li><p><input type="radio" disabled="" /> F</p></li>
<li><p><input type="radio" disabled="" /> G</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading1_7">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse1_7" aria-expanded="true" aria-controls="collapse1_7">
Click to view the solution.
</button>
</h2>
<div id="collapse1_7" class="accordion-collapse collapse collapse"
aria-labelledby="heading1_7" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer</strong>: C. The number of cities in the country with
the most cities.<br/>
</p>
<p>Let‚Äôs break down the code:</p>
<ul>
<li><p><code>sun.groupby("Country").count()</code>: This groups the sun
DataFrame by the <code>"Country"</code> column. The
<code>.count()</code> method then returns the number of rows in each
group for each column. Since we‚Äôre grouping by <code>"Country"</code>,
and since the rows in <code>sun</code> correspond to cities, this is
counting the number of cities in each country.</p></li>
<li><p><code>.sort_values("City")</code>: The result of the previous
operation is a DataFrame with <code>"Country"</code> as the index and
the number of <code>"City"</code>s per <code>"Country"</code> stored in
every other column. The <code>"City</code>, <code>"Jan"</code>,
<code>"Feb"</code>, <code>"Mar"</code>, etc. columns in the resulting
DataFrame all contain the same information. Sorting by
<code>"City"</code> sorts the DataFrame by the number of cities each
country has in ascending order.</p></li>
<li><p><code>.get("City")</code>: This retrieves the <code>"City"</code>
column from the sorted DataFrame, which contains the number of cities in
each country.</p></li>
<li><p><code>.iloc[-1]</code>: This gets the last value from the
<code>"City"</code> column, which corresponds to the number of cities in
the country with the most cities.</p></li>
</ul>
<hr/>
<h5>Difficulty: ‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è</h5>
<p>
</p>
<p>The average score on this problem was 57%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="problem-2">Problem 2</h2>
<p>Vanessa is a big Formula 1 racing fan, and wants to plan a trip to
Monaco, where the Monaco Grand Prix is held. Monaco is an example of a
‚Äúcity-state‚Äù ‚Äî that is, a city that is its own country. Singapore is
another example of a city-state.</p>
<p>We‚Äôll say that a row of <code>sun</code> corresponds to a city-state
if its <code>"Country"</code> and <code>"City"</code> values are
equal.</p>
<p><br></p>
<h3 id="problem-2.1">Problem 2.1</h3>
<p>Fill in the blanks so that the expression below is equal to the total
number of sunshine hours in October of all city-states in
<code>sun</code>.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>    sun[__(a)__].__(b)__</span></code></pre></div>
<p>What goes in blanks (a) and (b)?</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading2_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse2_1" aria-expanded="true" aria-controls="collapse2_1">
Click to view the solution.
</button>
</h2>
<div id="collapse2_1" class="accordion-collapse collapse collapse"
aria-labelledby="heading2_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer</strong>: (a):
<code>sun.get("Country") == sun.get("City")</code>, (b):
<code>.get("Oct").sum()</code></p>
<p><strong>What goes in blank (a)?</strong>
<code>sun.get("Country") == sun.get("City")</code><br/>
This expression compares the <code>"Country"</code> column to the
<code>"City"</code> column for each row in the <code>sun</code>
DataFrame. It returns a Boolean Series where each value is
<code>True</code> if the corresponding <code>"Country"</code> and
<code>"City"</code> are the same (indicating a city-state) and
<code>False</code> otherwise.</p>
<hr/>
<h5>Difficulty: ‚≠êÔ∏è‚≠êÔ∏è</h5>
<p>
</p>
<p>The average score on this problem was 79%.</p>
<p><br/><br/></p>
<p><strong>What goes in blank (b)?</strong>
<code>.get("Oct").sum()</code><br/>
Here, we select the <code>"Oct"</code> column, which represents the
sunshine hours in October, and compute the sum of its values. By using
this after querying for city-states, we calculate the total sunshine
hours in October across all city-states in the <code>sun</code>
DataFrame.</p>
<hr/>
<h5>Difficulty: ‚≠êÔ∏è‚≠êÔ∏è</h5>
<p>
</p>
<p>The average score on this problem was 85%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-2.2">Problem 2.2</h3>
<p>Fill in the blanks below so that the expression below is also equal
to the total number of sunshine hours in October of all city-states in
<code>sun</code>.</p>
<p><em>Note: What goes in blank (b) is the same as what goes in blank
(b) above.</em></p>
<div class="sourceCode" id="cb9"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>sun.get([<span class="st">&quot;Country&quot;</span>]).merge(__(c)__).__(b)__</span></code></pre></div>
<p>What goes in blank (c)?</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading2_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse2_2" aria-expanded="true" aria-controls="collapse2_2">
Click to view the solution.
</button>
</h2>
<div id="collapse2_2" class="accordion-collapse collapse collapse"
aria-labelledby="heading2_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer</strong>:
<code>sun, left_on="Country", right_on="City"</code><br/>
</p>
<p>Let‚Äôs break down the code:</p>
<ul>
<li><p><code>sun.get(["Country"])</code>: This extracts just the
<code>"Country"</code> column from the <code>sun</code> DataFrame, as a
DataFrame. (It‚Äôs extracted as a DataFrame since we passed a list to
<code>.get</code> instead of a single string.)</p></li>
<li><p><code>.merge(sun, left_on="Country", right_on="City")</code>:
Here, we‚Äôre using the <code>.merge</code> method to merge a version of
<code>sun</code> with just the <code>"Country"</code> column (which is
our <em>left</em> DataFrame) with the entire <code>sun</code> DataFrame
(which is our <em>right</em> DataFrame). The merge is done by matching
<code>"Country"</code>s from the left DataFrame with
<code>"City"</code>s from the right DataFrame. This way, rows in the
resulting DataFrame correspond to city-states, as it only contains
entries where a country‚Äôs name is the same as a city‚Äôs name.</p></li>
<li><p><code>.get("Oct").sum()</code>: After merging, we use
<code>.get("Oct")</code> to retrieve the <code>"Oct"</code> column,
which represents the sunshine hours in October. Finally,
<code>.sum()</code> computes the total number of sunshine hours in
October for all the identified city-states.</p></li>
</ul>
<hr/>
<h5>Difficulty: ‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è</h5>
<p>
</p>
<p>The average score on this problem was 50%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="problem-3">Problem 3</h2>
<p>This summer, Zoe wants to explore parts of the United States that she
hasn‚Äôt been to yet. In her process of figuring out where to go, she
creates a histogram depicting the distribution of the number of sunshine
hours in July across all cities in the United States in
<code>sun</code>.</p>
<center><img src='../assets/images/sp23-final/america-hist.png' width=600></center>
<p><br></p>
<p>Suppose <code>usa</code> is a DataFrame with all of the columns in
<code>sun</code> but with only the rows where <code>"Country"</code> is
<code>"United States"</code>.</p>
<p><br></p>
<h3 id="problem-3.1">Problem 3.1</h3>
<p>What is the value of <code>mystery</code> below?</p>
<div class="sourceCode" id="cb10"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>    cond <span class="op">=</span> (usa.get(<span class="st">&quot;Jul&quot;</span>) <span class="op">&gt;=</span> <span class="dv">370</span>) <span class="op">&amp;</span> (usa.get(<span class="st">&quot;Jul&quot;</span>) <span class="op">&lt;</span> <span class="dv">430</span>)</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>    mystery <span class="op">=</span> <span class="dv">100</span> <span class="op">*</span> np.count_nonzero(cond) <span class="op">/</span> usa.shape[<span class="dv">0</span>]</span></code></pre></div>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> <code>2</code></p></li>
<li><p><input type="radio" disabled="" /> <code>8</code></p></li>
<li><p><input type="radio" disabled="" /> <code>12</code></p></li>
<li><p><input type="radio" disabled="" /> <code>16</code></p></li>
<li><p><input type="radio" disabled="" /> <code>18</code></p></li>
<li><p><input type="radio" disabled="" /> <code>20</code></p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading3_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse3_1" aria-expanded="true" aria-controls="collapse3_1">
Click to view the solution.
</button>
</h2>
<div id="collapse3_1" class="accordion-collapse collapse collapse"
aria-labelledby="heading3_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer</strong>: <code>12</code></p>
<p><code>cond</code> is a Series that contains <code>True</code> for
each row in <code>usa</code> where <code>"Jul"</code> is greater than or
equal to 370 and less than 430. <code>mystery</code>, then, is the
<strong>percentage</strong> of values in <code>usa</code> in which
<code>cond</code> is True. This is because
<code>np.count_nonzero(cond)</code> is the number of <code>True</code>s
in <code>cond</code>, <code>np.count_nonzero(cond) / usa.shape[0]</code>
is the proportion of values in <code>cond</code> that are
<code>True</code>, and
<code>100 * np.count_nonzero(cond) / usa.shape[0]</code> is the
percentage of values in <code>cond</code> that are <code>True</code>.
<strong>Our goal here, then, is to use the histogram to find the
percentage of values in the histogram between 370 (inclusive) and 430
(exclusive).</strong></p>
<p>We know that in histograms, the area of each bar is equal to the
proportion of data points that fall within its bin‚Äôs range.
Conveniently, there‚Äôs only one bar we need to look at ‚Äì the one
corresponding to the bin [370, 430). That bar has a width of <span class="math inline">430 - 370 = 60</span> and a height of 0.002. Then,
the area of that bar ‚Äì i.e.¬†the proportion of values that are between
370 (inclusive) and 430 (exclusive) is:</p>
<p><span class="math display">\text{proportion} = \text{area} =
\text{height} \cdot \text{width} = 0.002 \cdot 60 = 0.12</span></p>
<p>This means that the proportion of values in [370, 430) is 0.12, which
means that the percentage of values in [370, 430) is 12%, and that
<code>mystery</code> evaluates to <code>12</code>.</p>
<hr/>
<h5>Difficulty: ‚≠êÔ∏è‚≠êÔ∏è</h5>
<p>
</p>
<p>The average score on this problem was 83%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-3.2">Problem 3.2</h3>
<p>There are 5 more cities with between 370 and 430 sunshine hours in
July than there are cities with between 270 and 290 sunshine hours in
July.</p>
<p>How many cities in the United States are in <code>sun</code>? Give
your answer as a positive integer, rounded to the nearest multiple of 10
(that is, your answer should end in a 0).</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading3_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse3_2" aria-expanded="true" aria-controls="collapse3_2">
Click to view the solution.
</button>
</h2>
<div id="collapse3_2" class="accordion-collapse collapse collapse"
aria-labelledby="heading3_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer</strong>: 250</p>
<p>In the previous part, we learned that the proportion of cities in the
<code>usa</code> DataFrame in the interval [370, 430) (i.e.¬†that have
between 370 and 430 sunshine hours in July) is 0.12. To use the fact
that there are 5 more cities in the interval [370, 430) than there are
in the interval [270, 290), we need to first find the proportion of
cities in the interval [270, 290). To do so, we look at the [270, 290)
bin, which has a width of <span class="math inline">290 - 270 =
20</span> and a height of 0.005:</p>
<p><span class="math inline">\text{proportion} = 0.005 \cdot 20 =
0.10</span></p>
<p>We are told that there are 5 more cities in the [370, 430) interval
than there are in the [270, 290) interval. Given the proportions we‚Äôve
computed, we have that:</p>
<p><span class="math inline">\text{difference in proportions} = 0.12 -
0.1 = 0.02</span></p>
<p>If <span class="math inline">0.02 \cdot \text{number of
cities}</span> is 5, then <span class="math inline">\text{number of
cities} = 5 \cdot \frac{1}{0.02} = 5 \cdot 50 = 250</span>.</p>
<hr/>
<h5>Difficulty: ‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è</h5>
<p>
</p>
<p>The average score on this problem was 49%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<p>Now, suppose we convert the number of sunshine hours in July for all
cities in the United States (i.e., ‚ÄúUS cities‚Äù) in <code>sun</code> from
their original units (hours) to standard units.</p>
<p><br></p>
<h3 id="problem-3.3">Problem 3.3</h3>
<p>Let <span class="math inline">m</span> be the mean number of sunshine
hours in July for all US cities in <code>sun</code>, in standard units.
Select the true statement below.</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> <span class="math inline">m = -1</span></p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">-1 &lt; m &lt; 0</span></p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">m = 0</span></p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">0 &lt; m &lt; 1</span></p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">m = 1</span></p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">m &gt; 1</span></p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading3_3">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse3_3" aria-expanded="true" aria-controls="collapse3_3">
Click to view the solution.
</button>
</h2>
<div id="collapse3_3" class="accordion-collapse collapse collapse"
aria-labelledby="heading3_3" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer</strong>: <span class="math inline">m = 0</span><br/>
</p>
<p>When we standardize a dataset, the mean of the resulting values is
always 0 and the standard deviation of the resulting values is always 1.
This tells us right away that the answer is <span class="math inline">m
= 0</span>. Intuitively, we know that a value in standard units
represents the number of standard deviations that value is above or
below the mean of the column it came from. <span class="math inline">m</span> is equal to the mean of the column it came
from, so <span class="math inline">m</span> in standard units is 0.</p>
<p>If we‚Äôd like to approach this more algebracically, we can remember
the formula for converting a value <span class="math inline">x_i</span>
from a column <span class="math inline">x</span> to standard units:</p>
<p><span class="math display"> x_{i \: \text{(su)}} = \frac{x_i -
\text{mean of } x}{\text{SD of } x} </span></p>
<p>Let <span class="math inline">x</span> be the column (i.e.¬†Series)
containing the mean number of sunshine hours in July for all US cities
in <code>sun</code>. <span class="math inline">m</span>, by definition,
is the mean of <span class="math inline">x</span>. Then,</p>
<p><span class="math display"> m_{\text{(su)}} = \frac{m - \text{mean of
} x}{\text{SD of } x} = \frac{m - m}{\text{SD of }x} = 0</span></p>
<p>Given that <span class="math inline">m</span> is the mean of column
<span class="math inline">x</span>, the numerator of <span class="math inline">m_\text{(su)}</span> is 0, and hence <span class="math inline">m_\text{(su)}</span> is 0.</p>
<hr/>
<h5>Difficulty: ‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è</h5>
<p>
</p>
<p>The average score on this problem was 62%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-3.4">Problem 3.4</h3>
<p>Let <span class="math inline">s</span> be the standard deviation of
the number of sunshine hours in July for all US cities <code>sun</code>,
in standard units. Select the true statement below.</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> <span class="math inline">s = -1</span></p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">-1 &lt; s &lt;0</span></p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">s = 0</span></p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">0 &lt; s &lt; 1</span></p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">s = 1</span></p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">s &gt; 1</span></p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading3_4">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse3_4" aria-expanded="true" aria-controls="collapse3_4">
Click to view the solution.
</button>
</h2>
<div id="collapse3_4" class="accordion-collapse collapse collapse"
aria-labelledby="heading3_4" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer</strong>: <span class="math inline">s = 1</span><br/>
</p>
<p>As mentioned in the previous solution, when we standardize a dataset,
the mean of the resulting values is always 0 and the standard deviation
of the resulting values is always 1.</p>
<hr/>
<h5>Difficulty: ‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è</h5>
<p>
</p>
<p>The average score on this problem was 46%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<p><br></p>
<h3 id="problem-3.5">Problem 3.5</h3>
<p>Let <span class="math inline">d</span> be the median of the number of
sunshine hours in July for all US cities in <code>sun</code>, in
standard units. Select the true statement below.</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> <span class="math inline">d = -1</span></p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">-1 &lt; d &lt; 0</span></p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">d = 0</span></p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">0 &lt; d &lt; 1</span></p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">d = 1</span></p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">d &gt; 1</span></p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading3_5">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse3_5" aria-expanded="true" aria-controls="collapse3_5">
Click to view the solution.
</button>
</h2>
<div id="collapse3_5" class="accordion-collapse collapse collapse"
aria-labelledby="heading3_5" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer</strong>: <span class="math inline">-1 &lt; d &lt;
0</span><br/>
</p>
<p>In the histogram, we see that the distribution of the number of
sunshine hours in July for all US cities in <code>sun</code>is skewed
right, or has a right tail. This means that this distribution‚Äôs mean is
dragged in the direction of its tail and is larger than its median.
Since the mean in standard units is 0, and the median is less than the
mean, the median in standard units must be negative. There‚Äôs no property
that states that the median is exactly -1, and the median is only
slightly less than the mean, which means that it must be the case that
<span class="math inline">-1 &lt; d &lt; 0</span>.</p>
<hr/>
<h5>Difficulty: ‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è</h5>
<p>
</p>
<p>The average score on this problem was 42%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-3.6">Problem 3.6</h3>
<p>True or False: The distribution of the number of sunshine hours in
July for all US cities in <code>sun</code>, in standard units, is
roughly normal.</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> True</p></li>
<li><p><input type="radio" disabled="" /> False</p></li>
<li><p><input type="radio" disabled="" /> Impossible to tell</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading3_6">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse3_6" aria-expanded="true" aria-controls="collapse3_6">
Click to view the solution.
</button>
</h2>
<div id="collapse3_6" class="accordion-collapse collapse collapse"
aria-labelledby="heading3_6" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer</strong>: False<br/>
</p>
<p>The original histogram depicting the distribution of the number of
sunshine hours in July for all US cities is right-skewed. When data is
converted to standard units, the shape of the distribution does not
change. Therefore, if the original data is right-skewed, the
standardized data will also be right-skewed.</p>
<hr/>
<h5>Difficulty: ‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è</h5>
<p>
</p>
<p>The average score on this problem was 45%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="problem-4">Problem 4</h2>
<p>For each city in <code>sun</code>, we have 12 numbers, corresponding
to the number of sunshine hours it sees in January, February, March, and
so on, through December. (There is also technically a 13th number, the
value in the <code>"Year"</code> column, but we will ignore it for the
purposes of this question.)</p>
<p>We say that a city‚Äôs number of sunshine hours <strong>peaks
gradually</strong> if both of the following conditions are true:</p>
<ul>
<li><p>Each month from February to June has a number of sunshine hours
greater than or equal to the month before it.</p></li>
<li><p>Each month from August to December has a number of sunshine hours
less than or equal to the month before it.</p></li>
</ul>
<p>For example, the number of sunshine hours per month in Doris‚Äô
hometown of Guangzhou, China peaks gradually:</p>
<p><span class="math display">62, 65, 71, 104, 118, 202, 181, 173, 172,
170, 166, 140</span></p>
<p>However, the number of sunshine hours per month in Charlie‚Äôs hometown
of Redwood City, California does not peak gradually, since <span
class="math inline">325 &gt; 311</span> and <span
class="math inline">247 &lt; 271</span>:</p>
<p><span class="math display">185, 207, 269, 309, 325, 311, 313, 287,
247, 271, 173, 160</span></p>
<p>Complete the implementation of the function
<code>peaks_gradually</code>, which takes in an array <code>hours</code>
of length 12 corresponding to the number of sunshine hours per month in
a city, and returns <code>True</code> if the city‚Äôs number of sunshine
hours peaks gradually and <code>False</code> otherwise.</p>
<div class="sourceCode" id="cb11"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> peaks_gradually(hours):</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> i <span class="kw">in</span> np.arange(<span class="dv">5</span>):</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>            cur_left <span class="op">=</span> hours[<span class="dv">5</span> <span class="op">-</span> i]</span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>            next_left <span class="op">=</span> hours[__(a)__]</span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>            cur_right <span class="op">=</span> hours[__(b)__]</span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>            next_right <span class="op">=</span> hours[<span class="dv">6</span> <span class="op">+</span> i <span class="op">+</span> <span class="dv">1</span>]</span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>            <span class="cf">if</span> __(c)__:</span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a>                __(d)__</span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a>            </span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a>        __(e)__</span></code></pre></div>
<p><br></p>
<h3 id="problem-4.1">Problem 4.1</h3>
<p>What goes in blank (a)?</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading4_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse4_1" aria-expanded="true" aria-controls="collapse4_1">
Click to view the solution.
</button>
</h2>
<div id="collapse4_1" class="accordion-collapse collapse collapse"
aria-labelledby="heading4_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer</strong>: <code>5 - i - 1</code> or
<code>4 - i</code><br/>
</p>
<p>Before filling in the blanks, let‚Äôs discuss the overall strategy of
the problem. The idea is as follows</p>
<ul>
<li>When <span class="math inline">i = 0</span>,
<ul>
<li>Compare <code>cur_left</code>, which is the sunshine hours for June
(month 5, since <span class="math inline">5 - i = 5 - 0 = 5</span>), to
<code>next_left</code>, which is the sunshine hours for May (month <span class="math inline">5 - i - 1 = 4</span>). If
<code>next_left &gt; cur_left</code>, it means that May has more
sunshine hours than June, which means the sunshine hours for this city
don‚Äôt peak gradually. (Remember, for the number of sunshine hours to
peak gradually, we need it to be the case that each month from February
to June has a number of sunshine hours greater than or equal to the
month before it.)</li>
<li>Also, compare <code>cur_right</code>, which is the sunshine hours
for July (month 6, since <span class="math inline">6 + i = 6 + 0 =
6</span>), to <code>next_right</code>, which is the sunshine hours for
August (month <span class="math inline">6 + i + 1 = 7</span>). If
<code>next_right &gt; cur_right</code>, it means that August has more
sunshine hours than July, which means the sunshine hours for this city
don‚Äôt peak gradually. (Remember, for the number of sunshine hours to
peak gradually, we need it to be the case that each month from August to
December has a number of sunshine hours less than or equal to the month
before it.)</li>
<li>If
<code>next_left &gt; cur_left or next_right &gt; cur_right</code>, then
we don‚Äôt need to look at any other pairs of months, and can just
<code>return False</code>. Otherwise, we keep looking.</li>
</ul></li>
<li>When <span class="math inline">i = 1</span>, <code>cur_left</code>
and <code>next_left</code> will ‚Äústep backwards‚Äù and refer to May (month
4, since <span class="math inline">5 - i = 5 - 1 = 4</span>) and April
(month 3, since <span class="math inline">5 - i - 1 = 3</span>),
respectively. Simililarly, <code>cur_right</code> and
<code>next_right</code> will ‚Äústep forwards‚Äù and refer to August and
September, respectively. The above process is repeated.</li>
<li>This is repeated until we check January (month 0) / February (month
1) and November (month 10) / December (month 11); if by that point, the
condition
<code>next_left &gt; cur_left or next_right &gt; cur_right</code> was
never <code>True</code>, then it must be the case that the sunshine
hours for this city peak gradually, and we can <code>return True</code>
outside of the <code>for</code>-loop!</li>
</ul>
<p>Focusing on blank (a) specifically, it needs to contain the position
of <code>next_left</code>, which is the index of the month before the
current left month. Since the current month is at <code>5 - i</code>,
the next month needs to be at <code>5 - i - 1</code>.</p>
<hr/>
<h5>Difficulty: ‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è</h5>
<p>
</p>
<p>The average score on this problem was 62%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<p><br></p>
<h3 id="problem-4.2">Problem 4.2</h3>
<p>What goes in blank (b)?</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading4_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse4_2" aria-expanded="true" aria-controls="collapse4_2">
Click to view the solution.
</button>
</h2>
<div id="collapse4_2" class="accordion-collapse collapse collapse"
aria-labelledby="heading4_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer</strong>: <code>6 + i</code><br/>
</p>
<p>Using the same logic as for blank (a), blank (b) needs to contain the
position of <code>cur_right</code>, which is the index of the month
before the next right month. Since the next right month is at
<code>6 + i + 1</code>, the current right month is at
<code>6 + i</code>.</p>
<hr/>
<h5>Difficulty: ‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è</h5>
<p>
</p>
<p>The average score on this problem was 67%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<p><br></p>
<h3 id="problem-4.3">Problem 4.3</h3>
<p>What goes in blank (c)?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> <code>next_left &lt; cur_left or next_right &lt; cur_right</code></p></li>
<li><p><input type="radio" disabled="" /> <code>next_left &lt; cur_left and next_right &lt; cur_right</code></p></li>
<li><p><input type="radio" disabled="" /> <code>next_left &gt; cur_left or next_right &gt; cur_right</code></p></li>
<li><p><input type="radio" disabled="" /> <code>next_left &gt; cur_left and next_right &gt; cur_right</code></p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading4_3">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse4_3" aria-expanded="true" aria-controls="collapse4_3">
Click to view the solution.
</button>
</h2>
<div id="collapse4_3" class="accordion-collapse collapse collapse"
aria-labelledby="heading4_3" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer</strong>:
<code>next_left &gt; cur_left or next_right &gt; cur_right</code><br/>
</p>
<p>Explained in the answer to blank (a).</p>
<hr/>
<h5>Difficulty: ‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è</h5>
<p>
</p>
<p>The average score on this problem was 35%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<p><br></p>
<h3 id="problem-4.4">Problem 4.4</h3>
<p>What goes in blank (d)?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> <code>return True</code></p></li>
<li><p><input type="radio" disabled="" /> <code>return False</code></p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading4_4">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse4_4" aria-expanded="true" aria-controls="collapse4_4">
Click to view the solution.
</button>
</h2>
<div id="collapse4_4" class="accordion-collapse collapse collapse"
aria-labelledby="heading4_4" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer</strong>: <code>return False</code><br/>
</p>
<p>Explained in the answer to blank (a).</p>
<hr/>
<h5>Difficulty: ‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è</h5>
<p>
</p>
<p>The average score on this problem was 50%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<p><br></p>
<h3 id="problem-4.5">Problem 4.5</h3>
<p>What goes in blank (e)?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> <code>return True</code></p></li>
<li><p><input type="radio" disabled="" /> <code>return False</code></p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading4_5">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse4_5" aria-expanded="true" aria-controls="collapse4_5">
Click to view the solution.
</button>
</h2>
<div id="collapse4_5" class="accordion-collapse collapse collapse"
aria-labelledby="heading4_5" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer</strong>: <code>return True</code><br/>
</p>
<p>Explained in the answer to blank (a).</p>
<hr/>
<h5>Difficulty: ‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è</h5>
<p>
</p>
<p>The average score on this problem was 54%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="problem-5">Problem 5</h2>
<p>In some cities, the number of sunshine hours per month is relatively
consistent throughout the year. S√£o Paulo, Brazil is one such city; in
all months of the year, the number of sunshine hours per month is
somewhere between 139 and 173. New York City‚Äôs, on the other hand,
ranges from 139 to 268.</p>
<p>Gina and Abel, both San Diego natives, are interested in assessing
how ‚Äúconsistent" the number of sunshine hours per month in San Diego
appear to be. Specifically, they‚Äôd like to test the following
hypotheses:</p>
<ul>
<li><p><strong>Null Hypothesis</strong>: The number of sunshine hours
per month in San Diego is drawn from the uniform distribution, <span
class="math inline">\left[\frac{1}{12}, \frac{1}{12}, ...,
\frac{1}{12}\right]</span>. (In other words, the number of sunshine
hours per month in San Diego is equal in all 12 months of the
year.)</p></li>
<li><p><strong>Alternative Hypothesis</strong>: The number of sunshine
hours per month in San Diego is not drawn from the uniform
distribution.</p></li>
</ul>
<p>As their test statistic, Gina and Abel choose the total variation
distance. To simulate samples under the null, they will sample from a
categorical distribution with 12 categories ‚Äî January, February, and so
on, through December ‚Äî each of which have an equal probability of being
chosen.</p>
<p><br></p>
<h3 id="problem-5.1">Problem 5.1</h3>
<p>In order to run their hypothesis test, Gina and Abel need a way to
calculate their test statistic. Below is an incomplete implementation of
a function that computes the TVD between two arrays of length 12, each
of which represent a categorical distribution.</p>
<div class="sourceCode" id="cb12"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> calculate_tvd(dist1, dist2):</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> np.mean(np.<span class="bu">abs</span>(dist1 <span class="op">-</span> dist2)) <span class="op">*</span> ____</span></code></pre></div>
<p>Fill in the blank so that <code>calculate_tvd</code> works as
intended.</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> <code>1 / 6</code></p></li>
<li><p><input type="radio" disabled="" /> <code>1 / 3</code></p></li>
<li><p><input type="radio" disabled="" /> <code>1 / 2</code></p></li>
<li><p><input type="radio" disabled="" /> <code>2</code></p></li>
<li><p><input type="radio" disabled="" /> <code>3</code></p></li>
<li><p><input type="radio" disabled="" /> <code>6</code></p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading5_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse5_1" aria-expanded="true" aria-controls="collapse5_1">
Click to view the solution.
</button>
</h2>
<div id="collapse5_1" class="accordion-collapse collapse collapse"
aria-labelledby="heading5_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer</strong>: <code>6</code></p>
<p>The TVD is the sum of the absolute differences in proportions,
divided by 2. In the code to the left of the blank, we‚Äôve computed the
mean of the absolute differences in proportions, which is the same as
the sum of the absolute differences in proportions, divided by 12 (since
<code>len(dist1)</code> is <code>12</code>). To correct the fact that we
divided by 12, we multiply by 6, so that we‚Äôre only dividing by 2.</p>
<hr/>
<h5>Difficulty: ‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è</h5>
<p>
</p>
<p>The average score on this problem was 17%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<p><strong>Moving forward, assume that <code>calculate_tvd</code> works
correctly.</strong></p>
<p>Now, complete the implementation of the function
<code>uniform_test</code>, which takes in an array
<code>observed_counts</code> of length 12 containing the number of
sunshine hours each month in a city and returns the p-value for the
hypothesis test stated at the start of the question.</p>
<div class="sourceCode" id="cb13"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> uniform_test(observed_counts):</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>        <span class="co"># The values in observed_counts are counts, not proportions!</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>        total_count <span class="op">=</span> observed_counts.<span class="bu">sum</span>()</span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>        uniform_dist <span class="op">=</span> __(b)__</span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>        tvds <span class="op">=</span> np.array([])</span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> i <span class="kw">in</span> np.arange(<span class="dv">10000</span>):</span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a>            simulated <span class="op">=</span> __(c)__</span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a>            tvd <span class="op">=</span> calculate_tvd(simulated, __(d)__)</span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a>            tvds <span class="op">=</span> np.append(tvds, tvd)</span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> np.mean(tvds __(e)__ calculate_tvd(uniform_dist, __(f)__))</span></code></pre></div>
<p><br></p>
<h3 id="problem-5.2">Problem 5.2</h3>
<p>What goes in blank (b)? <em>(Hint: The function
<code>np.ones(k)</code> returns an array of length <code>k</code> in
which all elements are <code>1</code>.)</em></p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading5_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse5_2" aria-expanded="true" aria-controls="collapse5_2">
Click to view the solution.
</button>
</h2>
<div id="collapse5_2" class="accordion-collapse collapse collapse"
aria-labelledby="heading5_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer</strong>: <code>np.ones(12) / 12</code></p>
<p><code>uniform_dist</code> needs to be the same as the uniform
distribution provided in the null hypothesis, <span class="math inline">\left[\frac{1}{12}, \frac{1}{12}, ...,
\frac{1}{12}\right]</span>.</p>
<p>In code, this is an array of length 12 in which each element is equal
to <span class="math inline">1 / 12</span>. <code>np.ones(12)</code>
creates an array of length 12 in which each value is <code>1</code>; for
each value to be <code>1 / 12</code>, we divide <code>np.ones(12)</code>
by <code>12</code>.</p>
<hr/>
<h5>Difficulty: ‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è</h5>
<p>
</p>
<p>The average score on this problem was 66%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<p><br></p>
<h3 id="problem-5.3">Problem 5.3</h3>
<p>What goes in blank (c)?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> <code>np.random.multinomial(12, uniform_dist)</code></p></li>
<li><p><input type="radio" disabled="" /> <code>np.random.multinomial(12, uniform_dist) / 12</code></p></li>
<li><p><input type="radio" disabled="" /> <code>np.random.multinomial(12, uniform_dist) / total_count</code></p></li>
<li><p><input type="radio" disabled="" /> <code>np.random.multinomial(total_count, uniform_dist)</code></p></li>
<li><p><input type="radio" disabled="" /> <code>np.random.multinomial(total_count, uniform_dist) / 12</code></p></li>
<li><p><input type="radio" disabled="" /> <code>np.random.multinomial(total_count, uniform_dist) / total_count</code></p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading5_3">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse5_3" aria-expanded="true" aria-controls="collapse5_3">
Click to view the solution.
</button>
</h2>
<div id="collapse5_3" class="accordion-collapse collapse collapse"
aria-labelledby="heading5_3" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer</strong>:
<code>np.random.multinomial(total_count, uniform_dist) / total_count</code></p>
<p>The idea here is to repeatedly generate an array of proportions that
results from distributing <code>total_count</code> hours across the 12
months in a way that each month is equally likely to be chosen. Each
time we generate such an array, we‚Äôll determine its TVD from the uniform
distribution; doing this repeatedly gives us an empirical distribution
of the TVD under the assumption the null hypothesis is true.</p>
<hr/>
<h5>Difficulty: ‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è</h5>
<p>
</p>
<p>The average score on this problem was 21%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<p><br></p>
<h3 id="problem-5.4">Problem 5.4</h3>
<p>What goes in blank (d)?</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading5_4">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse5_4" aria-expanded="true" aria-controls="collapse5_4">
Click to view the solution.
</button>
</h2>
<div id="collapse5_4" class="accordion-collapse collapse collapse"
aria-labelledby="heading5_4" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer</strong>: <code>uniform_dist</code></p>
<p>As mentioned above:</p>
<blockquote>
<p>Each time we generate such an array, we‚Äôll determine its TVD from the
<strong>uniform distribution</strong>; doing this repeatedly gives us an
empirical distribution of the TVD under the assumption the null
hypothesis is true.</p>
</blockquote>
<hr/>
<h5>Difficulty: ‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è</h5>
<p>
</p>
<p>The average score on this problem was 54%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<p><br></p>
<h3 id="problem-5.5">Problem 5.5</h3>
<p>What goes in blank (e)?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> <code>&gt;</code></p></li>
<li><p><input type="radio" disabled="" /> <code>&gt;=</code></p></li>
<li><p><input type="radio" disabled="" /> <code>&lt;</code></p></li>
<li><p><input type="radio" disabled="" /> <code>&lt;=</code></p></li>
<li><p><input type="radio" disabled="" /> <code>==</code></p></li>
<li><p><input type="radio" disabled="" /> <code>!=</code></p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading5_5">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse5_5" aria-expanded="true" aria-controls="collapse5_5">
Click to view the solution.
</button>
</h2>
<div id="collapse5_5" class="accordion-collapse collapse collapse"
aria-labelledby="heading5_5" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer</strong>: <code>&gt;=</code></p>
<p>The purpose of the last line of code is to compute the p-value for
the hypothesis test. Recall, the p-value of a hypothesis test is the
proportion of simulated test statistics that are as or more extreme than
the observed test statistic, under the assumption the null hypothesis is
true. In this context, ‚Äúas extreme or more extreme‚Äù means the simulated
TVD is <strong>greater than or equal to</strong> the observed TVD (since
larger TVDs mean ‚Äúmore different‚Äù).</p>
<hr/>
<h5>Difficulty: ‚≠êÔ∏è‚≠êÔ∏è</h5>
<p>
</p>
<p>The average score on this problem was 77%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-5.6">Problem 5.6</h3>
<p>What goes in blank (f)?</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading5_6">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse5_6" aria-expanded="true" aria-controls="collapse5_6">
Click to view the solution.
</button>
</h2>
<div id="collapse5_6" class="accordion-collapse collapse collapse"
aria-labelledby="heading5_6" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer</strong>: <code>observed_counts / total_count</code>
or <code>observed_counts / observed_counts.sum()</code></p>
<p>Blank (f) needs to contain the observed distribution of sunshine
hours (as an array of proportions) that we compare against the uniform
distribution to calculate the observed TVD. This observed TVD is then
compared with the distribution of simulated TVDs to calculate the
p-value. The observed counts are converted to proportions by dividing by
the total count so that the observed distribution is on the same scale
as the simulated and expected uniform distributions, which are also in
proportions.</p>
<hr/>
<h5>Difficulty: ‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è</h5>
<p>
</p>
<p>The average score on this problem was 27%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="problem-6">Problem 6</h2>
<p>Oren‚Äôs favorite bakery in San Diego is Wayfarer. After visiting
frequently, he decides to learn how to make croissants and baguettes
himself, and to do so, he books a trip to France.</p>
<p>Oren is interested in estimating the mean number of sunshine hours in
July across all 10,000+ cities in France. Using the 16 French cities in
<code>sun</code>, Oren constructs a 95% Central Limit Theorem
(CLT)-based confidence interval for the mean sunshine hours of all
cities in France. The interval is of the form <span
class="math inline">[L, R]</span>, where <span
class="math inline">L</span> and <span class="math inline">R</span> are
positive numbers.</p>
<p><br></p>
<h3 id="problem-6.1">Problem 6.1</h3>
<p>Which of the following expressions is equal to the standard deviation
of the number of sunshine hours of the 16 French cities in
<code>sun</code>?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> <span class="math inline">R - L</span></p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">\frac{R - L}{2}</span></p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">\frac{R - L}{4}</span></p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">R + L</span></p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">\frac{R + L}{2}</span></p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">\frac{R + L}{4}</span></p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading6_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse6_1" aria-expanded="true" aria-controls="collapse6_1">
Click to view the solution.
</button>
</h2>
<div id="collapse6_1" class="accordion-collapse collapse collapse"
aria-labelledby="heading6_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer</strong>: <span class="math inline">R - L</span></p>
<p>Note that the 95% CI is of the form of the following:</p>
<p><span class="math display">[\text{Sample Mean} - 2 \cdot \text{SD of
Distribution of Possible Sample Means}, \text{Sample Mean} + 2 \cdot
\text{SD of Distribution of Possible Sample Means}]</span></p>
<p>This making its width <span class="math inline">4 \cdot \text{SD of
Distribution of Possible Sample Means}</span>. We can use the square
root law, the fact that we can use our sample‚Äôs SD as an estimate of our
population‚Äôs SD when creating a confidence interval, and the fact that
the sample size is 16, to re-write the width as:</p>
<p><span class="math display">
\begin{align*}
\text{width} &amp;= 4 \cdot \text{SD of Distribution of Possible Sample
Means} \\
&amp;= 4 \cdot \left(\frac{\text{Population SD}}{\sqrt{\text{Sample
Size}}}\right) \\
&amp;\approx 4 \cdot \left(\frac{\text{Sample SD}}{\sqrt{\text{Sample
Size}}}\right) \\
&amp;= 4 \cdot \left(\frac{\text{Sample SD}}{4}\right) \\
&amp;= \text{Sample SD}
\end{align*}
</span></p>
<p>Since <span class="math inline">\text{width} = \text{Sample
SD}</span>, and since <span class="math inline">\text{width} = R -
L</span>, we have that <span class="math inline">\text{Sample SD} = R -
L</span>.</p>
<hr/>
<h5>Difficulty: ‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è</h5>
<p>
</p>
<p>The average score on this problem was 27%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<p><br></p>
<h3 id="problem-6.2">Problem 6.2</h3>
<p>True or False: There is a 95% chance that the interval <span
class="math inline">[L, R]</span> contains the mean number of sunshine
hours in July of all 16 French cities in <code>sun</code>.</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> True</p></li>
<li><p><input type="radio" disabled="" /> False</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading6_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse6_2" aria-expanded="true" aria-controls="collapse6_2">
Click to view the solution.
</button>
</h2>
<div id="collapse6_2" class="accordion-collapse collapse collapse"
aria-labelledby="heading6_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer</strong>: False</p>
<p><span class="math inline">[L, R]</span> contains the sample mean for
sure, since it is centered at the sample mean. There is no probability
associated with this fact since neither <span class="math inline">[L,
R]</span> nor the sample mean are random (given that our sample has
already been drawn).</p>
<hr/>
<h5>Difficulty: ‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è</h5>
<p>
</p>
<p>The average score on this problem was 62%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-6.3">Problem 6.3</h3>
<p>True or False: If we collected 1,000 new samples of 16 French cities
and computed the mean of each sample, then about 95% of the new sample
means would be contained in <span class="math inline">[L, R]</span>.</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> True</p></li>
<li><p><input type="radio" disabled="" /> False</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading6_3">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse6_3" aria-expanded="true" aria-controls="collapse6_3">
Click to view the solution.
</button>
</h2>
<div id="collapse6_3" class="accordion-collapse collapse collapse"
aria-labelledby="heading6_3" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer</strong>: False</p>
<p>It is true that if we collected many samples and used each one to
make a 95% confidence interval, about 95% of those confidence intervals
would contain the population mean. However, that‚Äôs not what this
statement is addressing. Instead, it‚Äôs asking whether the one interval
we created in particular, <span class="math inline">[L,R]</span>, would
contain 95% of other samples‚Äô means. In general, there‚Äôs no guarantee of
the proportion of means of other samples that would fall in <span class="math inline">[L, R]</span>; for instance, it‚Äôs possible that the
sample that we used to create <span class="math inline">[L, R]</span>
was not a representative sample.</p>
<hr/>
<h5>Difficulty: ‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è</h5>
<p>
</p>
<p>The average score on this problem was 42%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<p><br></p>
<h3 id="problem-6.4">Problem 6.4</h3>
<p>True or False: If we collected 1,000 new samples of 16 French cities
and created a 95% confidence interval using each one, then chose one of
the 1,000 new intervals at random, the chance that the randomly chosen
interval contains the mean sunshine hours in July across all cities in
France is approximately 95%.</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> True</p></li>
<li><p><input type="radio" disabled="" /> False</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading6_4">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse6_4" aria-expanded="true" aria-controls="collapse6_4">
Click to view the solution.
</button>
</h2>
<div id="collapse6_4" class="accordion-collapse collapse collapse"
aria-labelledby="heading6_4" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer</strong>: True</p>
<p>It is true that if we collected many samples and used each one to
make a 95% confidence interval, about 95% of those confidence intervals
would contain the population mean, as we mentioned above. So, if we
picked one of those confidence intervals at random, there‚Äôs an
approximately 95% chance it would contain the population mean.</p>
<hr/>
<h5>Difficulty: ‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è</h5>
<p>
</p>
<p>The average score on this problem was 57%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<p><br></p>
<h3 id="problem-6.5">Problem 6.5</h3>
<p>True or False: The interval <span class="math inline">[L, R]</span>
is centered at the mean number of sunshine hours in July across all
cities in France.</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> True</p></li>
<li><p><input type="radio" disabled="" /> False</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading6_5">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse6_5" aria-expanded="true" aria-controls="collapse6_5">
Click to view the solution.
</button>
</h2>
<div id="collapse6_5" class="accordion-collapse collapse collapse"
aria-labelledby="heading6_5" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer</strong>: False</p>
<p>It is centered at our sample mean, which is the mean sunshine hours
in July across all cities in France in <code>sun</code>, but not
necessarily at the population mean. We don‚Äôt know where the population
mean is!</p>
<hr/>
<h5>Difficulty: ‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è</h5>
<p>
</p>
<p>The average score on this problem was 58%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<p>In addition to creating a 95% CLT-based confidence interval for the
mean sunshine hours of all cities in France, Oren would like to create a
72% bootstrap-based confidence interval for the mean sunshine hours of
all cities in France.</p>
<p>Oren resamples from the 16 French sunshine hours in <code>sun</code>
10,000 times and creates an array named <code>french_sunshine</code>
containing 10,000 resampled means. He wants to find the left and right
endpoints of his 72% confidence interval:</p>
<div class="sourceCode" id="cb14"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>    boot_left <span class="op">=</span> np.percentile(french_sunshine, __(a)__)</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>    boot_right <span class="op">=</span> np.percentile(french_sunshine, __(b)__)</span></code></pre></div>
<p><br></p>
<h3 id="problem-6.6">Problem 6.6</h3>
<p>Fill in the blanks so that <code>boot_left</code> and
<code>boot_right</code> evaluate to the left and right endpoints of a
72% confidence interval for the mean sunshine hours in July across all
cities in France.</p>
<p>What goes in blanks (a) and (b)?</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading6_6">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse6_6" aria-expanded="true" aria-controls="collapse6_6">
Click to view the solution.
</button>
</h2>
<div id="collapse6_6" class="accordion-collapse collapse collapse"
aria-labelledby="heading6_6" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer</strong>: (a): 14, (b): 86</p>
<p>A 72% confidence interval is constructed by taking the middle 72% of
the distribution of resampled means. This means we need to exclude <span class="math inline">100\% - 72\% = 28\%</span> of values ‚Äì the smallest
14% and the largest 14%. Blank (a), then, is 14, and blank (b) is <span class="math inline">100 - 14 = 86</span>.</p>
<hr/>
<h5>Difficulty: ‚≠êÔ∏è‚≠êÔ∏è</h5>
<p>
</p>
<p>The average score on this problem was 81%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<p>Suppose we are interested in testing the following pair of
hypotheses.</p>
<ul>
<li><p><strong>Null Hypothesis</strong>: The mean number of sunshine
hours of all cities in France in July is equal to 225.</p></li>
<li><p><strong>Alternative Hypothesis</strong>: The mean number of
sunshine hours of all cities in France in July is not equal to
225.</p></li>
</ul>
<p><br></p>
<h3 id="problem-6.7">Problem 6.7</h3>
<p>Suppose that when Oren uses <code>[boot_left, boot_right]</code>, his
72% bootstrap-based confidence interval, he fails to reject the null
hypothesis above. If that‚Äôs the case, then when using <span
class="math inline">[L, R]</span>, his 95% CLT-based confidence
interval, what is the conclusion of his hypothesis test?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> Reject the null</p></li>
<li><p><input type="radio" disabled="" /> Fail to reject the null</p></li>
<li><p><input type="radio" disabled="" /> Impossible to tell</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading6_7">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse6_7" aria-expanded="true" aria-controls="collapse6_7">
Click to view the solution.
</button>
</h2>
<div id="collapse6_7" class="accordion-collapse collapse collapse"
aria-labelledby="heading6_7" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer</strong>: Impossible to tell</p>
<p>First, remember that we fail to reject the null whenever the
parameter stated in the null hypothesis (225 in this case) is in the
interval. So we‚Äôre told 225 is in the 72% bootstrapped interval. There‚Äôs
a possibility that the 72% bootstrapped confidence interval isn‚Äôt
completely contained within the 95% CLT interval, since the specific
interval we get back with bootstrapping depends on the random resamples
we get. What that means is that it‚Äôs possible for 225 to be in the 72%
bootstrapped interval but not the 95% CLT interval, and it‚Äôs also
possible for it to be in the 95% CLT interval. Therefore, given no other
information it‚Äôs impossible to tell.</p>
<hr/>
<h5>Difficulty: ‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è</h5>
<p>
</p>
<p>The average score on this problem was 47%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<p><br></p>
<h3 id="problem-6.8">Problem 6.8</h3>
<p>Suppose that Oren also creates a 72% CLT-based confidence interval
for the mean sunshine hours of all cities in France in July using the
same 16 French cities in <code>sun</code> he started with. When using
his 72% CLT-based confidence interval, he fails to reject the null
hypothesis above. If that‚Äôs the case, then when using <span
class="math inline">[L, R]</span>, what is the conclusion of his
hypothesis test?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> Reject the null</p></li>
<li><p><input type="radio" disabled="" /> Fail to reject the null</p></li>
<li><p><input type="radio" disabled="" /> Impossible to tell</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading6_8">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse6_8" aria-expanded="true" aria-controls="collapse6_8">
Click to view the solution.
</button>
</h2>
<div id="collapse6_8" class="accordion-collapse collapse collapse"
aria-labelledby="heading6_8" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer</strong>: Fail to reject the null</p>
<p>If 225 is in the 72% CLT interval, it must be in the 95% CLT
interval, since the two intervals are centered at the same location and
the 95% interval is just wider than the 72% interval. The main
difference between this part and the previous one is the fact that this
72% interval was made with the CLT, not via bootstrapping, even though
they‚Äôre likely to be similar.</p>
<hr/>
<h5>Difficulty: ‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è</h5>
<p>
</p>
<p>The average score on this problem was 72%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<p><br></p>
<h3 id="problem-6.9">Problem 6.9</h3>
<p>True or False: The significance levels of both hypothesis tests
described in part (h) are equal.</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> True</p></li>
<li><p><input type="radio" disabled="" /> False</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading6_9">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse6_9" aria-expanded="true" aria-controls="collapse6_9">
Click to view the solution.
</button>
</h2>
<div id="collapse6_9" class="accordion-collapse collapse collapse"
aria-labelledby="heading6_9" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer</strong>: False</p>
<p>When using a 72% confidence interval, the significance level,
i.e.¬†p-value cutoff, is 28%. When using a 95% confidence interval, the
significance level is 5%.</p>
<hr/>
<h5>Difficulty: ‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è</h5>
<p>
</p>
<p>The average score on this problem was 62%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="problem-7">Problem 7</h2>
<p>Gabriel is originally from Texas and is trying to convince his
friends that Texas has better weather than California. Sophia, who is
originally from San Diego, is determined to prove Gabriel wrong.</p>
<p>Coincidentally, both are born in February, so they decide to look at
the mean number of sunshine hours of all cities in California and Texas
in February. They find that the mean number of sunshine hours for
California cities in February is 275, while the mean number of sunshine
hours for Texas cities in February is 250. They decide to test the
following hypotheses:</p>
<ul>
<li><p><strong>Null Hypothesis</strong>: The distribution of sunshine
hours in February for cities in California and Texas are drawn from the
same population distribution.</p></li>
<li><p><strong>Alternative Hypothesis</strong>: The distribution of
sunshine hours in February for cities in California and Texas are not
drawn from the same population distribution; rather, California cities
see more sunshine hours in February on average than Texas
cities.</p></li>
</ul>
<p>The test statistic they decide to use is:</p>
<p><span class="math display">\text{mean sunshine hours in California
cities ‚Äì mean sunshine hours in Texas cities}</span></p>
<p>To simulate data under the null, Sophia proposes the following
plan:</p>
<ol type="1">
<li><p>Count the number of Texas cities, and call that number
<code>t</code>. Count the total number of cities in both California and
Texas, and call that number <code>n</code>.</p></li>
<li><p>Find the total number of sunshine hours across all California and
Texas cities in February, and call that number
<code>total</code>.</p></li>
<li><p>Take a random sample of <code>t</code> sunshine hours from the
entire sequence of California and Texas sunshine hours in February in
the dataset. Call this random sample <code>t_samp</code>.</p></li>
<li><p>Find the difference between the mean of the values that are not
in <code>t_samp</code> (the California sample) and the mean of the
values that are in <code>t_samp</code> (the Texas sample).</p></li>
</ol>
<p><br></p>
<h3 id="problem-7.1">Problem 7.1</h3>
<p>What type of test is this?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> Hypothesis test</p></li>
<li><p><input type="radio" disabled="" /> Permutation test</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading7_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse7_1" aria-expanded="true" aria-controls="collapse7_1">
Click to view the solution.
</button>
</h2>
<div id="collapse7_1" class="accordion-collapse collapse collapse"
aria-labelledby="heading7_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer</strong>: Permutation test</p>
<p>Any time we want to decide whether two samples look like they were
drawn from the same population distribution, we are conducting a
permutation test. In this case, the two samples are (1) the sample of
California sunshine hours in February and (2) the sample of Texas
sunshine hours in February.</p>
<p>Even though Gabriel and Sophia aren‚Äôt ‚Äúshuffling‚Äù the way we normally
do when conducting a permutation test, they‚Äôre still performing a
permutation test. They‚Äôre combining the sunshine hours from both states
into a single dataset and then randomly reallocating them into two new
groups, one representing California and the other Texas, without regard
to their original labels.</p>
<hr/>
<h5>Difficulty: ‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è</h5>
<p>
</p>
<p>The average score on this problem was 52%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<p>Complete the implementation of the function <code>one_stat</code>,
which takes in a DataFrame <code>df</code> that has two columns ‚Äî
<code>"State"</code>, which is either <code>"California"</code> or
<code>"Texas"</code>, and <code>"Feb"</code>, which contains the number
of sunshine hours in February for each city ‚Äî and returns a single
simulated test statistic using Sophia‚Äôs plan.</p>
<div class="sourceCode" id="cb15"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> one_stat(df):</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>        <span class="co"># You don&#39;t need to fill in the ...,</span></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>        <span class="co"># assume we&#39;ve correctly filled them in so that</span></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>        <span class="co"># texas_only has only the &quot;Texas&quot; rows from df.</span></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>        texas_only <span class="op">=</span> ...</span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>        t <span class="op">=</span> texas_only.shape[<span class="dv">0</span>]</span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a>        n <span class="op">=</span> df.shape[<span class="dv">0</span>]</span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a>        total <span class="op">=</span> df.get(<span class="st">&quot;Feb&quot;</span>).<span class="bu">sum</span>()</span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true" tabindex="-1"></a>        t_samp <span class="op">=</span> np.random.choice(df.get(<span class="st">&quot;Feb&quot;</span>), t, __(b)__)</span>
<span id="cb15-12"><a href="#cb15-12" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb15-13"><a href="#cb15-13" aria-hidden="true" tabindex="-1"></a>        c_mean <span class="op">=</span> __(c)__</span>
<span id="cb15-14"><a href="#cb15-14" aria-hidden="true" tabindex="-1"></a>        t_mean <span class="op">=</span> t_samp.<span class="bu">sum</span>() <span class="op">/</span> t</span>
<span id="cb15-15"><a href="#cb15-15" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> c_mean <span class="op">-</span> t_mean</span></code></pre></div>
<p><br></p>
<h3 id="problem-7.2">Problem 7.2</h3>
<p>What goes in blank (b)?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> <code>replace=True</code></p></li>
<li><p><input type="radio" disabled="" /> <code>replace=False</code></p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading7_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse7_2" aria-expanded="true" aria-controls="collapse7_2">
Click to view the solution.
</button>
</h2>
<div id="collapse7_2" class="accordion-collapse collapse collapse"
aria-labelledby="heading7_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer</strong>: <code>replace=False</code></p>
<p>In order for there to be no overlap between the elements in the Texas
sample and California sample, the Texas sample needs to be taken out of
the total collection of sunshine hours without replacement.</p>
<hr/>
<h5>Difficulty: ‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è</h5>
<p>
</p>
<p>The average score on this problem was 30%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<p><br></p>
<h3 id="problem-7.3">Problem 7.3</h3>
<p>What goes in blank (c)? <em>(Hint: Our solution uses 4 of the
variables that are defined before <code>c_mean</code>.)</em></p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading7_3">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse7_3" aria-expanded="true" aria-controls="collapse7_3">
Click to view the solution.
</button>
</h2>
<div id="collapse7_3" class="accordion-collapse collapse collapse"
aria-labelledby="heading7_3" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer</strong>:
<code>(total - t_samp.sum) / (n - t)</code></p>
<p>For the <code>c_mean</code> calculation, which represents the mean
sunshine hours for the California cities in the simulation, we need to
subtract the total sunshine hours of the Texas sample
(<code>t_samp.sum()</code>) from the total sunshine hours of both states
(<code>total</code>). This gives us the sum of the California sunshine
hours in the simulation. We then divide this sum by the number of
California cities, which is the total number of cities (<code>n</code>)
minus the number of Texas cities (<code>t</code>), to get the mean
sunshine hours for California cities.</p>
<hr/>
<h5>Difficulty: ‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è</h5>
<p>
</p>
<p>The average score on this problem was 21%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<p>Fill in the blanks below to accurately complete the provided
statement.</p>
<p>‚ÄúIf Sophia and Gabriel want to test the null hypothesis that the mean
number of sunshine hours in February in the two states is equal using a
different tool, they could use bootstrapping to create a confidence
interval for the true value of the test statistic they used in the above
test and check whether __(d)__ is in the interval."</p>
<p><br></p>
<h3 id="problem-7.4">Problem 7.4</h3>
<p>What goes in blank (d)? Your answer should be a specific number.</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading7_4">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse7_4" aria-expanded="true" aria-controls="collapse7_4">
Click to view the solution.
</button>
</h2>
<div id="collapse7_4" class="accordion-collapse collapse collapse"
aria-labelledby="heading7_4" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer</strong>: 0</p>
<p>To conduct a hypothesis test using a confidence interval, our null
hypothesis must be of the form ‚Äúthe population parameter is equal to
<span class="math inline">x</span>‚Äù; the test is conducted by checking
whether <span class="math inline">x</span> is in the specified
interval.</p>
<p>Here, Sophia and Gabriel want to test whether the mean number of
sunshine hours in February for the two states is equal; since the
confidence interval they created was for the difference in mean sunshine
hours, they really want to check whether the difference in mean sunshine
hours is 0. (They created a confidence interval for the true value of
<span class="math inline">a - b</span>, and want to test whether <span class="math inline">a = b</span>; this is the same as testing whether
<span class="math inline">a - b = 0</span>.)</p>
<hr/>
<h5>Difficulty: ‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è</h5>
<p>
</p>
<p>The average score on this problem was 43%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="problem-8">Problem 8</h2>
<p>Australia is in the southern hemisphere, meaning that its summer
season is from December through February, when we have our winter. As a
result, January is typically one of the sunniest months in
Australia!</p>
<p>Arjun is a big fan of the movie Kangaroo Jack and plans on visiting
Australia this January. In doing his research on where to go, he found
the number of sunshine hours in January for the 15 Australian cities in
<code>sun</code> and sorted them in <strong>descending</strong>
order.</p>
<p><span class="math display">356, 337, 325, 306, 294, 285, 285, 266,
263, 257, 255, 254, 220, 210, 176</span></p>
<p>Throughout this question, use the mathematical definition of
percentiles presented in class.</p>
<p><span style="color:red"><b>Note: Parts 1, 2, and 3 of this problem
are out of scope; they cover material no longer included in the course.
Part 4 is in scope!</b></span></p>
<p><br></p>
<h3 id="problem-8.1">Problem 8.1</h3>
<p>What is the 80th percentile of the collection of numbers above?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> 254</p></li>
<li><p><input type="radio" disabled="" /> 255</p></li>
<li><p><input type="radio" disabled="" /> 294</p></li>
<li><p><input type="radio" disabled="" /> 306</p></li>
<li><p><input type="radio" disabled="" /> 325</p></li>
<li><p><input type="radio" disabled="" /> 337</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading8_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse8_1" aria-expanded="true" aria-controls="collapse8_1">
Click to view the solution.
</button>
</h2>
<div id="collapse8_1" class="accordion-collapse collapse collapse"
aria-labelledby="heading8_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer</strong>: 306</p>
<p>First, we need to find the position of the 80th percentile using the
rule from class:</p>
<p><span class="math display">h = \left(\frac{80}{100}\right) \cdot 15 =
\frac{4}{5} \cdot 15 = 12</span></p>
<p>Since 12 is an integer, we don‚Äôt need to round up, so <span class="math inline">k = 12</span>. Starting from the right-most number,
which is the smallest number and hence position 1 here, the 12th number
is 306.</p>
<hr/>
<h5>Difficulty: ‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è</h5>
<p>
</p>
<p>The average score on this problem was 52%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-8.2">Problem 8.2</h3>
<p>What is the <strong>largest</strong> positive integer <span
class="math inline">p</span> such that 257 is the <span
class="math inline">p</span>th percentile of the collection of numbers
above?</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading8_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse8_2" aria-expanded="true" aria-controls="collapse8_2">
Click to view the solution.
</button>
</h2>
<div id="collapse8_2" class="accordion-collapse collapse collapse"
aria-labelledby="heading8_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer</strong>: 40</p>
<p>The first step is to find the position of 257 in the collection when
we start at position 1, which is 6. Since there are 15 values total,
this means that 257 is the smallest value that is greater than or equal
to 40% of the values.</p>
<p>If we set <span class="math inline">p</span> to be any number larger
than 40, say, 41, then 257 won‚Äôt be larger than <span class="math inline">p\%</span> of the values in the collection; thus,
the largest positive integer value of <span class="math inline">p</span>
that makes 257 the <span class="math inline">p</span>th percentile is
40.</p>
<hr/>
<h5>Difficulty: ‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è</h5>
<p>
</p>
<p>The average score on this problem was 30%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<p><br></p>
<h3 id="problem-8.3">Problem 8.3</h3>
<p>What is the <strong>smallest</strong> positive integer <span
class="math inline">p</span> such that 257 is the <span
class="math inline">p</span>th percentile of the collection of numbers
above? (Make sure your answer to (c) is smaller than your answer to
(b)!)</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading8_3">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse8_3" aria-expanded="true" aria-controls="collapse8_3">
Click to view the solution.
</button>
</h2>
<div id="collapse8_3" class="accordion-collapse collapse collapse"
aria-labelledby="heading8_3" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer</strong>: 34</p>
<p>Let‚Äôs look at the next number down from 257, which is 255. 255 is the
5th number out of 15, so it is the smallest number that is greater than
or equal to 33.333% of the values. This means the 33rd percentile is
also 255, since 33.333 &gt; 33. However, 255 is not greater than or
equal to 34% of the values, which makes the 34th percentile 257.
Therefore, 34 is the smallest integer value of <span class="math inline">p</span> such that the <span class="math inline">p</span>th percentile is 257.</p>
<hr/>
<h5>Difficulty: ‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è</h5>
<p>
</p>
<p>The average score on this problem was 21%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<p>Teresa also wants to go to Australia, but can‚Äôt take time off work in
January, and so she plans a trip to The Land Down Under (Australia) in
February instead. She finds that the mean number of sunshine hours in
February for all 15 Australian cities in <code>sun</code> is 250, with a
standard deviation of 15.</p>
<p><br></p>
<h3 id="problem-8.4">Problem 8.4</h3>
<p>According to Chebyshev‚Äôs inequality, at least what percentage of
Australian cities in <code>sun</code> see between 200 and 300 sunshine
hours in February?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> 9%</p></li>
<li><p><input type="radio" disabled="" /> 30%</p></li>
<li><p><input type="radio" disabled="" /> 33.3%</p></li>
<li><p><input type="radio" disabled="" /> 91%</p></li>
<li><p><input type="radio" disabled="" /> 95%</p></li>
<li><p><input type="radio" disabled="" /> 99.73%</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading8_4">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse8_4" aria-expanded="true" aria-controls="collapse8_4">
Click to view the solution.
</button>
</h2>
<div id="collapse8_4" class="accordion-collapse collapse collapse"
aria-labelledby="heading8_4" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer</strong>: 91%</p>
<p>First, we need to find the number of standard deviations above the
mean 300 is, and the number of standard deviations below the mean 200
is.</p>
<p><span class="math display">z = \frac{300 - 250}{15} = \frac{50}{15} =
\frac{10}{3}</span></p>
<p>The above equation tells us that 300 is <span class="math inline">\frac{10}{3}</span> standard deviations above the
mean; you can verify that 200 is the same number of standard deviations
below the mean. Chebyshev‚Äôs inequality tells us the proportion of values
within <span class="math inline">z</span> SDs of the mean is at least
<span class="math inline">1 - \frac{1}{z^2}</span>, which here is:</p>
<p><span class="math display">1 - \frac{1}{\left(\frac{10}{3}\right)^2}
= 1 - \frac{9}{100} = 0.91</span></p>
<hr/>
<h5>Difficulty: ‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è</h5>
<p>
</p>
<p>The average score on this problem was 43%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="problem-9">Problem 9</h2>
<p>Suhani‚Äôs passport is currently being renewed, and so she can‚Äôt join
those on international summer vacations. However, her last final exam is
today, and so she decides to road trip through California this week
while everyone else takes their finals.</p>
<p>The chances that it is sunny this Monday and Tuesday, in various
cities in California, are given below. The event that it is sunny on
Tuesday in Los Angeles depends on the event that it is sunny on Monday
in Los Angeles, but other than that, all other events in the table are
independent of one another.</p>
<center><img src='../assets/images/sp23-final/probs-table.png' width=500></center>
<p><br></p>
<h3 id="problem-9.1">Problem 9.1</h3>
<p>What is the probability that it is not sunny in San Diego on Monday
and not sunny in San Diego on Tuesday? Give your answer as a
<strong>positive integer percentage</strong> between 0% and 100%.</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading9_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse9_1" aria-expanded="true" aria-controls="collapse9_1">
Click to view the solution.
</button>
</h2>
<div id="collapse9_1" class="accordion-collapse collapse collapse"
aria-labelledby="heading9_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer</strong>: 18%</p>
<ul>
<li><p>The probability it is not sunny in San Diego on Monday is <span class="math inline">1 - \frac{7}{10} = \frac{3}{10}</span>.</p></li>
<li><p>The probability it is not sunny in San Diego on Tuesday is <span class="math inline">1 - \frac{2}{5} = \frac{3}{5}</span>.</p></li>
</ul>
<p>Since we‚Äôre told these events are independent, the probability of
both occurring is</p>
<p><span class="math display">\frac{3}{10} \cdot \frac{3}{5} =
\frac{9}{50} = \frac{18}{100} = 18\%</span></p>
<hr/>
<h5>Difficulty: ‚≠êÔ∏è‚≠êÔ∏è</h5>
<p>
</p>
<p>The average score on this problem was 80%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<p><br></p>
<h3 id="problem-9.2">Problem 9.2</h3>
<p>What is the probability that it is sunny in at least one of the three
cities on Monday?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> <span class="math inline">3\%</span></p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">31.5\%</span></p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">40\%</span></p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">68.5\%</span></p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">75\%</span></p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">97\%</span></p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading9_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse9_2" aria-expanded="true" aria-controls="collapse9_2">
Click to view the solution.
</button>
</h2>
<div id="collapse9_2" class="accordion-collapse collapse collapse"
aria-labelledby="heading9_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer</strong>: <span class="math inline">97\%</span></p>
<p>The event that it is sunny in at least one of the three cities on
Monday is the complement of the event that it is not sunny in all three
cities on Monday. The probability it is not sunny in all three cities on
Monday is</p>
<p><span class="math display">\big(1 - \frac{7}{10}\big) \cdot \big(1 -
\frac{3}{5}\big) \cdot \big(1 - \frac{3}{4}\big) = \frac{3}{10} \cdot
\frac{2}{5} \cdot \frac{1}{4} = \frac{6}{200} = \frac{3}{100} =
0.03</span><br/>
</p>
<p>So, the probability that it is sunny in at least one of the three
cities on Monday is <span class="math inline">1 - 0.03 = 0.97 =
97\%</span>.</p>
<hr/>
<h5>Difficulty: ‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è</h5>
<p>
</p>
<p>The average score on this problem was 65%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<p><br></p>
<h3 id="problem-9.3">Problem 9.3</h3>
<p>What is the probability that it is sunny in Los Angeles on
Tuesday?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> <span class="math inline">15\%</span></p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">22.5\%</span></p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">40\%</span></p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">45\%</span></p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">60\%</span></p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">88.8\%</span></p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading9_3">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse9_3" aria-expanded="true" aria-controls="collapse9_3">
Click to view the solution.
</button>
</h2>
<div id="collapse9_3" class="accordion-collapse collapse collapse"
aria-labelledby="heading9_3" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer</strong>: <span class="math inline">60\%</span></p>
<p>The event that it is sunny in Los Angeles on Tuesday can happen in
two ways:</p>
<ul>
<li><p>Case 1: It is sunny in Los Angeles on Tuesday and on
Monday.</p></li>
<li><p>Case 2: It is sunny in Los Angeles on Tuesday but not on
Monday.</p></li>
</ul>
<p>We need to consider these cases separately given the conditions in
the table. The probability of the first case is <span class="math display">\begin{align*} P(\text{sunny Monday and sunny
Tuesday}) &amp;= P(\text{sunny Monday}) \cdot P(\text{sunny Tuesday
given sunny Monday}) \\ &amp;= \frac{3}{5} \cdot \frac{3}{4} \\ &amp;=
\frac{9}{20} \end{align*}</span></p>
<p>The probability of the second case is <span class="math display">\begin{align*} P(\text{not sunny Monday and sunny
Tuesday}) &amp;= P(\text{not sunny Monday}) \cdot P(\text{sunny Tuesday
given not sunny Monday}) \\ &amp;= \frac{2}{5} \cdot \frac{3}{8} \\
&amp;= \frac{3}{20} \end{align*}</span></p>
<p>Since Case 1 and Case 2 are mutually exclusive ‚Äî that is, they can‚Äôt
both occur at the same time ‚Äî the probability of either one occurring is
<span class="math inline">\frac{9}{20} + \frac{3}{20} = \frac{12}{20} =
60\%</span>.</p>
<hr/>
<h5>Difficulty: ‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è</h5>
<p>
</p>
<p>The average score on this problem was 64%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<p><br></p>
<h3 id="problem-9.4">Problem 9.4</h3>
<p>Fill in the blanks so that <code>exactly_two</code> evaluates to the
probability that exactly two of San Diego, Los Angeles, and San
Francisco are sunny on Monday.</p>
<p><em>Hint: If <code>arr</code> is an array, then
<code>np.prod(arr)</code> is the product of the elements in
<code>arr</code>.</em></p>
<div class="sourceCode" id="cb16"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>    monday <span class="op">=</span> np.array([<span class="dv">7</span> <span class="op">/</span> <span class="dv">10</span>, <span class="dv">3</span> <span class="op">/</span> <span class="dv">5</span>, <span class="dv">3</span> <span class="op">/</span> <span class="dv">4</span>]) <span class="co"># Taken from the table.</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>    exactly_two <span class="op">=</span> __(a)__</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> i <span class="kw">in</span> np.arange(<span class="dv">3</span>):</span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>        exactly_two <span class="op">=</span> exactly_two <span class="op">+</span> np.prod(monday) <span class="op">*</span> __(b)__</span></code></pre></div>
<p>What goes in blank (a)?</p>
<p>What goes in blank (b)?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> <code>monday[i]</code></p></li>
<li><p><input type="radio" disabled="" /> <code>1 - monday[i]</code></p></li>
<li><p><input type="radio" disabled="" /> <code>1 / monday[i]</code></p></li>
<li><p><input type="radio" disabled="" /> <code>monday[i] / (1 - monday[i])</code></p></li>
<li><p><input type="radio" disabled="" /> <code>(1 - monday[i]) / monday[i]</code></p></li>
<li><p><input type="radio" disabled="" /> <code>1 / (1 - monday[i])</code></p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading9_4">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse9_4" aria-expanded="true" aria-controls="collapse9_4">
Click to view the solution.
</button>
</h2>
<div id="collapse9_4" class="accordion-collapse collapse collapse"
aria-labelledby="heading9_4" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer</strong>: (a): <code>0</code>, (b):
<code>(1 - monday[i]) / monday[i]</code></p>
<p><strong>What goes in blank (a)?</strong> <code>0</code></p>
<p>In the <code>for</code>-loop we add the probabilities of the three
different cases, so <code>exactly_two</code> needs to start from 0.</p>
<hr/>
<h5>Difficulty: ‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è</h5>
<p>
</p>
<p>The average score on this problem was 47%.</p>
<p><br/><br/></p>
<p><strong>What goes in blank (b)?</strong>
<code>(1 - monday[i]) / monday[i]</code></p>
<p>In the context of this problem, where we want to find the probability
that exactly two out of the three cities (San Diego, Los Angeles, and
San Francisco) are sunny on Monday, we need to consider each possible
combination where two cities are sunny and one is not. This is done by
multiplying the probabilities of two cities being sunny with the
probability of the third city not having sunshine and adding up all of
the results.</p>
<p>In the code above, <code>np.prod(monday)</code> calculates the
probability of all three cities (San Diego, Los Angeles, and San
Francisco) being sunny. However, since we‚Äôre interested in the case
where exactly two cities are sunny, we need to adjust this calculation
to account for one of the three cities not being sunny in turn. This
adjustment is achieved by the term
<code>(1-monday[i]) / monday[i]</code>. Let‚Äôs break down this small
piece of code together:</p>
<ul>
<li><p><code>1 - monday[i]</code>: This part calculates the probability
of the <code>i</code>th city not being sunny. For each iteration of the
loop, it represents the chance that one specific city (either San Diego,
Los Angeles, or San Francisco, depending on the iteration) is not sunny.
This is essential because, for exactly two cities to be sunny, one city
must not be sunny.</p></li>
<li><p><code>monday[i]</code>: This part represents the original
probability of the <code>i</code>th city being sunny, which is included
in the <code>np.prod(monday)</code> calculation.</p></li>
<li><p><code>(1-monday[i]) / monday[i]</code>: By dividing the
probability of the city not being sunny by the probability of it being
sunny, we‚Äôre effectively replacing the <code>i</code>th city‚Äôs sunny
probability in the original product <code>np.prod(monday)</code> with
its not sunny probability. This adjusts the total probability to reflect
the scenario where the other two cities are sunny, and the
<code>i</code>th city is not.</p></li>
</ul>
<p>By adding all possible combinations, it provide the probability that
exactly two out of San Diego, Los Angeles, and San Francisco are sunny
on a given Monday.</p>
<hr/>
<h5>Difficulty: ‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è</h5>
<p>
</p>
<p>The average score on this problem was 36%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="problem-10">Problem 10</h2>
<p>Costin, a San Francisco native, will be back in San Francisco over
the summer, and is curious as to whether it is true that about <span
class="math inline">\frac{3}{4}</span> of days in San Francisco are
sunny.</p>
<p>Fast forward to the end of September: Costin counted that of the 30
days in September, 27 were sunny in San Francisco. To test his theory,
Costin came up with two pairs of hypotheses.</p>
<p>Pair 1:</p>
<ul>
<li><p><strong>Null Hypothesis</strong>: The probability that it is
sunny on any given day in September in San Francisco is <span
class="math inline">\frac{3}{4}</span>, independent of all other
days.</p></li>
<li><p><strong>Alternative Hypothesis</strong>: The probability that it
is sunny on any given day in September in San Francisco is
<strong>not</strong> <span
class="math inline">\frac{3}{4}</span>.</p></li>
</ul>
<p>Pair 2:</p>
<ul>
<li><p><strong>Null Hypothesis</strong>: The probability that it is
sunny on any given day in September in San Francisco is <span
class="math inline">\frac{3}{4}</span>, independent of all other
days.</p></li>
<li><p><strong>Alternative Hypothesis</strong>: The probability that it
is sunny on any given day in September in San Francisco is
<strong>greater than</strong> <span
class="math inline">\frac{3}{4}</span>.</p></li>
</ul>
<p>For each test statistic below, choose whether the test statistic
could be used to test Pair 1, Pair 2, both, or neither. Assume that all
days are either sunny or cloudy, and that we cannot perform two-tailed
hypothesis tests. (If you don‚Äôt know what those are, you don‚Äôt need
to!)</p>
<p><br></p>
<h3 id="problem-10.1">Problem 10.1</h3>
<p>The difference between the number of sunny days and number of cloudy
days</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> Pair 1</p></li>
<li><p><input type="radio" disabled="" /> Pair 2</p></li>
<li><p><input type="radio" disabled="" /> Both</p></li>
<li><p><input type="radio" disabled="" /> Neither</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading10_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse10_1" aria-expanded="true" aria-controls="collapse10_1">
Click to view the solution.
</button>
</h2>
<div id="collapse10_1" class="accordion-collapse collapse collapse"
aria-labelledby="heading10_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer</strong>: Pair 2</p>
<p>The test statistic provided is the difference between the number of
sunny days and cloudy days in a sample of 30 days. Since each day is
either sunny or cloudy, the number of cloudy days is just 30 - the
number of sunny days. This means we can re-write our test statistic as
follows:</p>
<p><span class="math display">\begin{align*} &amp;\text{number of sunny
days} - \text{number of cloudy days} \\ &amp;= \text{number of sunny
days} - (30 - \text{number of sunny days}) \\ &amp;= 2 \cdot
\text{number of sunny days} - 30 \\ &amp;=
2 \cdot (\text{number of sunny days} - 15) \end{align*}</span></p>
<p>The more sunny days there are in our sample of 30 days, the larger
this test statistic will be. (Specifically, if there are more sunny days
than cloudy days, this will be positive; if there‚Äôs an equal number of
sunny and cloudy days, this will be 0, and if there are more cloudy
days, this will be negative.)</p>
<p>Now, let‚Äôs look at each pair of hypotheses.</p>
<p><strong>Pair 1</strong>:<br/>
</p>
<p>Pair 1‚Äôs alternative hypothesis is that the probability of a sunny
day is not <span class="math inline">\frac{3}{4}</span>, which includes
both greater than and less than <span class="math inline">\frac{3}{4}</span>.</p>
<p>To test this pair of hypotheses, we need a test statistic that is
<strong>large</strong> when the number of sunny days is far from <span class="math inline">\frac{3}{4}</span> (evidence for the alternative
hypothesis) and <strong>small</strong> when the number of sunny days is
close to <span class="math inline">\frac{3}{4}</span> (evidence for the
null hypothesis). (It would also be acceptable to design a test
statistic that is small when the number of sunny days is far from <span class="math inline">\frac{3}{4}</span> and large when it‚Äôs close to
<span class="math inline">\frac{3}{4}</span>, but the first option we‚Äôve
outlined is a bit more natural.)</p>
<p>Our chosen test statistic, <span class="math inline">2 \cdot
(\text{number of sunny days} - 15)</span>, doesn‚Äôt work this way; both
very large values and very small values indicate that the proportion of
sunny days is far from <span class="math inline">\frac{3}{4}</span>, and
since we can‚Äôt use two-tailed tests, we can‚Äôt use our test statistic for
this pair.</p>
<p><strong>Pair 2</strong>:<br/>
</p>
<p>Pair 2‚Äôs alternative hypothesis is that the probability of a sunny
day greater than <span class="math inline">\frac{3}{4}</span>.</p>
<p>Since our test statistic is large when the number of sunny days is
large (evidence for the alternative hypothesis) and is small when the
number of sunny days is small (evidence for the null hypothesis), we can
use our test statistic to test this pair of hypotheses. The key
difference between Pair 1 and Pair 2 is that Pair 2‚Äôs alternative
hypothesis has a direction ‚Äì it says that the probability that it is
sunny on any given day is <strong>greater than</strong> <span class="math inline">\frac{3}{4}</span>, rather than just ‚Äúnot‚Äù <span class="math inline">\frac{3}{4}</span>.</p>
<p>Thus, we can use this test statistic to test Pair 2, but not Pair
1.</p>
<hr/>
<h5>Difficulty: ‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è</h5>
<p>
</p>
<p>The average score on this problem was 28%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<p><br></p>
<h3 id="problem-10.2">Problem 10.2</h3>
<p>The absolute difference between the number of sunny days and number
of cloudy days</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> Pair 1</p></li>
<li><p><input type="radio" disabled="" /> Pair 2</p></li>
<li><p><input type="radio" disabled="" /> Both</p></li>
<li><p><input type="radio" disabled="" /> Neither</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading10_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse10_2" aria-expanded="true" aria-controls="collapse10_2">
Click to view the solution.
</button>
</h2>
<div id="collapse10_2" class="accordion-collapse collapse collapse"
aria-labelledby="heading10_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer</strong>: Neither</p>
<p>The test statistic here is the absolute value of the test statistic
in the first part. Since we were able to re-write the test statistic in
the first part as <span class="math inline">2 \cdot (\text{number of
sunny days} - 15)</span>, our test statistic here is <span class="math inline">|2 \cdot (\text{number of sunny days} - 15)|</span>,
or, since <span class="math inline">2</span> already non-negative,</p>
<p><span class="math display">2 \cdot | \text{number of sunny days} - 15
|</span></p>
<p>This test statistic is large when the number of sunny days is far
from 15, i.e.¬†when the number of sunny days and number of cloudy days
are far apart, or when the proportion of sunny days is far from <span class="math inline">\frac{1}{2}</span>. However, the null hypothesis
we‚Äôre testing here is not that the proportion of sunny days is <span class="math inline">\frac{1}{2}</span>, but that the proportion of sunny
days is <span class="math inline">\frac{3}{4}</span>.</p>
<p>A large value of this test statistic will tell us the proportion of
sunny days is far from <span class="math inline">\frac{1}{2}</span>, but
it may or may not be far from <span class="math inline">\frac{3}{4}</span>. For instance, when <span class="math inline">\text{number of sunny days} = 7</span>, then our
test statistic is <span class="math inline">2 \cdot | 7 - 15 | =
16</span>. When <span class="math inline">\text{number of sunny days} =
23</span>, our test statistic is also 16. However, in the first case,
the proportion of sunny days is just under <span class="math inline">\frac{1}{4}</span> (far from <span class="math inline">\frac{3}{4}</span>), while in the second case the
proportion of sunny days is just above <span class="math inline">\frac{3}{4}</span>.</p>
<p>In both pairs of hypotheses, this test statistic isn‚Äôt set up such
that large values point to one hypothesis and small values point to the
other, so it can‚Äôt be used to test either pair.</p>
<hr/>
<h5>Difficulty: ‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è</h5>
<p>
</p>
<p>The average score on this problem was 25%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<p><br></p>
<h3 id="problem-10.3">Problem 10.3</h3>
<p>The difference between the proportion of sunny days and <span
class="math inline">\frac{1}{4}</span></p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> Pair 1</p></li>
<li><p><input type="radio" disabled="" /> Pair 2</p></li>
<li><p><input type="radio" disabled="" /> Both</p></li>
<li><p><input type="radio" disabled="" /> Neither</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading10_3">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse10_3" aria-expanded="true" aria-controls="collapse10_3">
Click to view the solution.
</button>
</h2>
<div id="collapse10_3" class="accordion-collapse collapse collapse"
aria-labelledby="heading10_3" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer</strong>: Pair 2</p>
<p>The test statistic here is the difference between the proportion of
sunny days and <span class="math inline">\frac{1}{4}</span>. This means
if <span class="math inline">p</span> is the proportion of sunny days,
the test statistic is <span class="math inline">p - \frac{1}{4}</span>.
<strong>This test statistic is large when the proportion of sunny days
is large and small when the proportion of sunny days is small.</strong>
(The fact that we‚Äôre subtracting by <span class="math inline">\frac{1}{4}</span> doesn‚Äôt change this pattern ‚Äì all
it does is shift both the empirical distribution of the test statistic
and our observed statistic <span class="math inline">\frac{1}{4}</span>
of a unit to the left on the <span class="math inline">x</span>-axis.)</p>
<p>As such, this test statistic behaves the same as the test statistic
from the first part ‚Äì both test statistics are large when the number of
sunny days is large (evidence for the alternative hypothesis) and small
when the number of sunny days is small (evidence for the null
hypothesis). This means that, like in the first part, we can use this
test statistic to test Pair 2, but not Pair 1.</p>
<hr/>
<h5>Difficulty: ‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è</h5>
<p>
</p>
<p>The average score on this problem was 24%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<p><br></p>
<h3 id="problem-10.4">Problem 10.4</h3>
<p>The absolute difference between the proportion of cloudy days and
<span class="math inline">\frac{1}{4}</span></p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> Pair 1</p></li>
<li><p><input type="radio" disabled="" /> Pair 2</p></li>
<li><p><input type="radio" disabled="" /> Both</p></li>
<li><p><input type="radio" disabled="" /> Neither</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading10_4">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse10_4" aria-expanded="true" aria-controls="collapse10_4">
Click to view the solution.
</button>
</h2>
<div id="collapse10_4" class="accordion-collapse collapse collapse"
aria-labelledby="heading10_4" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer</strong>: Pair 1</p>
<p>The test statistic here is the absolute difference between the
proportion of cloudy days and <span class="math inline">\frac{1}{4}</span>. Let <span class="math inline">q</span> be the proportion of cloudy days. The test
statistic is <span class="math inline">|q - \frac{1}{4}|</span>. The
null hypothesis for both pairs states that the probability of a sunny
day is <span class="math inline">\frac{3}{4}</span>, which implies the
probability of a cloudy day is <span class="math inline">\frac{1}{4}</span> (since all days are either sunny
or cloudy).</p>
<p>This test statistic is large when the proportion of cloudy days is
far from <span class="math inline">\frac{1}{4}</span> and small when the
proportion of cloudy days is close to <span class="math inline">\frac{1}{4}</span>.</p>
<p>Since <strong>Pair 1</strong>‚Äôs alternative hypothesis is just that
the proportion of cloudy days is not <span class="math inline">\frac{1}{4}</span>, we can use this test statistic
to test it! Large values of this test statistic point to the alternative
hypothesis and small values point to the null.</p>
<p>On the other hand, <strong>Pair 2</strong>‚Äôs alternative hypothesis
is that the proportion of sunny days is greater than <span class="math inline">\frac{3}{4}</span>, which is the same as the
proportion of cloudy days being less than <span class="math inline">\frac{1}{4}</span>. The issue here is that our test
statistic doesn‚Äôt involve a direction ‚Äì a large value implies that the
proportion of cloudy days is far from <span class="math inline">\frac{1}{4}</span>, but we don‚Äôt know if that means
that there were fewer cloudy days than <span class="math inline">\frac{1}{4}</span> (evidence for Pair 2‚Äôs
alternative hypothesis) or more cloudy days than <span class="math inline">\frac{1}{4}</span> (evidence for Pair 2‚Äôs null
hypothesis). Since, for Pair 2, this test statistic isn‚Äôt set up such
that large values point to one hypothesis and small values point to the
other, we can‚Äôt use this test statistic to test Pair 2.</p>
<p>Therefore, we can use this test statistic to test Pair 1, but not
Pair 2.</p>
<p><strong><em>Aside:</em></strong> This test statistic is equivalent to
the absolute difference between the proportion of sunny days and <span class="math inline">\frac{3}{4}</span>. Try and prove this fact!</p>
<hr/>
<h5>Difficulty: ‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è</h5>
<p>
</p>
<p>The average score on this problem was 46%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="problem-11">Problem 11</h2>
<p>Raine is helping settle a debate between two friends on the
‚Äúsuperior" season ‚Äî winter or summer. In doing so, they try to
understand the relationship between the number of sunshine hours per
month in January and the number of sunshine hours per month in July
across all cities in California in <code>sun</code>.</p>
<p>Raine finds the regression line that predicts the number of sunshine
hours in July (<span class="math inline">y</span>) for a city given its
number of sunshine hours in January (<span
class="math inline">x</span>). In doing so, they find that the
correlation between the two variables is <span
class="math inline">\frac{2}{5}</span>.</p>
<p><br></p>
<h3 id="problem-11.1">Problem 11.1</h3>
<p>Which of these could be a scatter plot of number of sunshine hours in
July vs.¬†number of sunshine hours in January?</p>
<center><img src='../assets/images/sp23-final/r-values.png' width=550></center>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> Option 1</p></li>
<li><p><input type="radio" disabled="" /> Option 2</p></li>
<li><p><input type="radio" disabled="" /> Option 3</p></li>
<li><p><input type="radio" disabled="" /> Option 4</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading11_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse11_1" aria-expanded="true" aria-controls="collapse11_1">
Click to view the solution.
</button>
</h2>
<div id="collapse11_1" class="accordion-collapse collapse collapse"
aria-labelledby="heading11_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer</strong>: Option 1</p>
<p>Since <span class="math inline">r = \frac{2}{5}</span>, the correct
option must be a scatter plot with a mild positive (up and to the right)
linear association. Option 3 can be ruled out immediately, since the
linear association in it is negative (down and to the right). Option 2‚Äôs
linear association is too strong for <span class="math inline">r =
\frac{2}{5}</span>, and Option 4‚Äôs linear association is too weak for
<span class="math inline">r = \frac{2}{5}</span>, which leaves Option
1.</p>
<hr/>
<h5>Difficulty: ‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è</h5>
<p>
</p>
<p>The average score on this problem was 57%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<p><br></p>
<h3 id="problem-11.2">Problem 11.2</h3>
<p>Suppose the standard deviation of the number of sunshine hours in
January for cities in California is equal to the standard deviation of
the number of sunshine hours in July for cities in California.</p>
<p>Raine‚Äôs hometown of Santa Clarita saw 60 more sunshine hours in
January than the average California city did. How many <strong>more
sunshine hours than average</strong> does the regression line predict
that Santa Clarita will have in July? Give your answer as a positive
integer. <em>(Hint: You‚Äôll need to use the fact that the correlation
between the two variables is <span
class="math inline">\frac{2}{5}</span>.)</em></p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading11_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse11_2" aria-expanded="true" aria-controls="collapse11_2">
Click to view the solution.
</button>
</h2>
<div id="collapse11_2" class="accordion-collapse collapse collapse"
aria-labelledby="heading11_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer</strong>: 24</p>
<p>At a high level, we‚Äôll start with the formula for the regression line
in standard units, and re-write it in a form that will allow us to use
the information provided to us in the question.</p>
<p>Recall, the regression line in standard units is</p>
<p><span class="math display">\text{predicted }y_{\text{(su)}} = r \cdot
x_{\text{(su)}}</span></p>
<p>Using the definitions of <span class="math inline">\text{predicted
}y_{\text{(su)}}</span> and <span class="math inline">x_{\text{(su)}}</span> gives us</p>
<p><span class="math display">\frac{\text{predicted } y - \text{mean of
}y}{\text{SD of }y} = r \cdot \frac{x - \text{mean of }x}{\text{SD of
}x}</span></p>
<p>Here, the <span class="math inline">x</span> variable is sunshine
hours in January and the <span class="math inline">y</span> variable is
sunshine hours in July. Given that the standard deviation of January and
July sunshine hours are equal, we can simplifies our formula to</p>
<p><span class="math display">\text{predicted } y - \text{mean of }y = r
\cdot (x - \text{mean of }x)</span></p>
<p>Since we‚Äôre asked how much more sunshine Santa Clarita will have in
July compared to the average, we‚Äôre interested in the difference <span class="math inline">y - \text{mean of} y</span>. We were given that
Santa Clarita had 60 more sunshine hours in January than the average,
and that the correlation between the two variables(correlation
coefficient) is <span class="math inline">\frac{2}{5}</span>. In terms
of the variables above, then, we know:</p>
<ul>
<li><p><span class="math inline">x - \text{mean of }x =
60</span>.</p></li>
<li><p><span class="math inline">r = \frac{2}{5}</span>.</p></li>
</ul>
<p>Then,</p>
<p><span class="math display">\text{predicted } y - \text{mean of }y = r
\cdot (x - \text{mean of }x) = \frac{2}{5} \cdot 60 = 24</span></p>
<p>Therefore, the regression line predicts that Santa Clarita will have
24 more sunshine hours than the average California city in July.</p>
<hr/>
<h5>Difficulty: ‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è</h5>
<p>
</p>
<p>The average score on this problem was 68%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<p>As we know, San Diego was particularly cloudy this May. More
generally, Anthony, another California native, feels that California is
getting cloudier and cloudier overall.</p>
<p>To imagine what the dataset may look like in a few years, Anthony
subtracts 5 from the number of sunshine hours in both January and July
for all California cities in the dataset ‚Äì i.e., he subtracts 5 from
each <span class="math inline">x</span> value and 5 from each <span
class="math inline">y</span> value in the dataset. He then creates a
regression line to use the new <span class="math inline">xs</span> to
predict the new <span class="math inline">ys</span>.</p>
<p><br></p>
<h3 id="problem-11.3">Problem 11.3</h3>
<p>What is the slope of Anthony‚Äôs new regression line?</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading11_3">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse11_3" aria-expanded="true" aria-controls="collapse11_3">
Click to view the solution.
</button>
</h2>
<div id="collapse11_3" class="accordion-collapse collapse collapse"
aria-labelledby="heading11_3" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer</strong>: <span class="math inline">\frac{2}{5}</span></p>
<p>To determine the slope of Anthony‚Äôs new regression line, we need to
understand how the modifications he made to the dataset (subtracting 5
hours from each x and y value) affect the slope. In simple linear
regression, the slope of the regression line (<span class="math inline">m</span> in <span class="math inline">y = mx +
b</span>) is calculated using the formula:</p>
<p><span class="math display">m = r \cdot \frac{\text{SD of y}}{\text{SD
of x}}</span></p>
<p><span class="math inline">r</span>, the correlation coefficient
between the two variables, remains unchanged in Anthony‚Äôs modifications.
Remember, the correlation coefficient is the mean of the product of the
<span class="math inline">x</span> values and <span class="math inline">y</span> values when both are measured in standard
units; by subtracting the same constant amount from each <span class="math inline">x</span> value, we aren‚Äôt changing what the <span class="math inline">x</span> values convert to in standard units. If
you‚Äôre not convinced, convert the following two arrays in Python to
standard units; you‚Äôll see that the results are the same.</p>
<div id="cb1" class="sourceCode">
<pre class="sourceCode py"><code class="sourceCode python"><span id="cb1-1"><a aria-hidden="true" href="#cb1-1" tabindex="-1"></a>x1 <span class="op">=</span> np.array([<span class="dv">5</span>, <span class="dv">8</span>, <span class="dv">4</span>, <span class="dv">2</span>, <span class="dv">9</span>])</span>
<span id="cb1-2"><a aria-hidden="true" href="#cb1-2" tabindex="-1"></a>x2 <span class="op">=</span> x1 <span class="op">-</span> <span class="dv">5</span></span></code></pre>
</div>
<p>Furthermore, Anthony‚Äôs modifications also don‚Äôt change the standard
deviations of the <span class="math inline">x</span> values or <span class="math inline">y</span> values, since the <span class="math inline">x</span>s and <span class="math inline">y</span>s
aren‚Äôt any more or less spread out after being shifted ‚Äúdown‚Äù by 5. So,
since <span class="math inline">r</span>, <span class="math inline">\text{SD of }y</span>, and <span class="math inline">\text{SD of }x</span> are all unchanged, the slope
of the new regression line is the same as the slope of the old
regression line, pre-modification!</p>
<p>Given the fact that the correlation coefficient is <span class="math inline">\frac{2}{5}</span> and the standard deviation of
sunshine hours in January (<span class="math inline">\text{SD of
}x</span>) is equal to the standard deviation of sunshine hours in July
(<span class="math inline">\text{SD of }y</span>), we have</p>
<p><span class="math display">m = r \cdot \frac{\text{SD of }y}{\text{SD
of }x} = \frac{2}{5} \cdot 1 = \frac{2}{5}</span></p>
<hr/>
<h5>Difficulty: ‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è</h5>
<p>
</p>
<p>The average score on this problem was 73%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<p><br></p>
<h3 id="problem-11.4">Problem 11.4</h3>
<p>Suppose the intercept of Raine‚Äôs original regression line ‚Äì that is,
before Anthony subtracted 5 from each <span class="math inline">x</span>
and each <span class="math inline">y</span> ‚Äì was 10. What is the
intercept of Anthony‚Äôs new regression line?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> -7</p></li>
<li><p><input type="radio" disabled="" /> -5</p></li>
<li><p><input type="radio" disabled="" /> -3</p></li>
<li><p><input type="radio" disabled="" /> 0</p></li>
<li><p><input type="radio" disabled="" /> 3</p></li>
<li><p><input type="radio" disabled="" /> 5</p></li>
<li><p><input type="radio" disabled="" /> 7</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading11_4">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse11_4" aria-expanded="true" aria-controls="collapse11_4">
Click to view the solution.
</button>
</h2>
<div id="collapse11_4" class="accordion-collapse collapse collapse"
aria-labelledby="heading11_4" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer</strong>: 7</p>
<p>Let‚Äôs denote the original intercept as <span class="math inline">b</span> and the new intercept in the new dataset as
<span class="math inline">b'</span>. The equation for the original
regression line is <span class="math inline">y = mx + b</span>,
where:</p>
<ul>
<li><span class="math inline">y</span> is a predicted number of sunshine
hours in July, before 5 was subtracted from each number of hours.</li>
<li><span class="math inline">m</span> is the slope of the line, which
we know is <span class="math inline">\frac{2}{5}</span> from the
previous part.</li>
<li><span class="math inline">x</span> is a number of sunshine hours in
January, before 5 was subtracted from each number of hours.</li>
<li><span class="math inline">b</span> is the original intercept. This
is 10.</li>
</ul>
<p>When Anthony subtracts 5 from each <span class="math inline">x</span>
and <span class="math inline">y</span> value, the new regression line
becomes <span class="math display">y - 5 = m \cdot (x - 5) +
b'</span></p>
<p>Expanding and rearrange this equation, we have</p>
<p><span class="math display">y = mx - 5m + 5 + b'</span></p>
<p>Remember, <span class="math inline">x</span> and <span class="math inline">y</span> here represent the number of sunshine hours
in January and July, respectively, <em>before</em> Anthony subtracted 5
from each number of hours. This means that the equation for <span class="math inline">y</span> above is equivalent to <span class="math inline">y = mx + b</span>. Comparing, we see that</p>
<p><span class="math display">-5m + 5 + b' = b</span></p>
<p>Since <span class="math inline">m = \frac{2}{5}</span> (from the
previous part) and <span class="math inline">b = 10</span>, we have</p>
<p><span class="math display">-5 \cdot \frac{2}{5} + 5 + b' = 10
\implies b' = 10 - 5 + 2 = 7</span></p>
<p>Therefore, the intercept of Anthony‚Äôs new regression line is 7.</p>
<hr/>
<h5>Difficulty: ‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è</h5>
<p>
</p>
<p>The average score on this problem was 34%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<p>Jasmine is trying to get as far away from Anthony as possible and has
a trip to Chicago planned after finals. Chicago is known for being very
warm and sunny in the summer but cold, rainy, and snowy in the winter.
She decides to build a regression line that uses month of the year
(where 1 is January, 2 is February, 12 is December, etc.) to predict the
number of sunshine hours in Chicago.</p>
<p><br></p>
<h3 id="problem-11.5">Problem 11.5</h3>
<p>What would you expect to see in a residual plot of Jasmine‚Äôs
regression line?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> A patternless cloud of points</p></li>
<li><p><input type="radio" disabled="" /> A distinctive pattern in the residual plot</p></li>
<li><p><input type="radio" disabled="" /> Heteroscedasticity (residuals that are not evenly vertically
spread)</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading11_5">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse11_5" aria-expanded="true" aria-controls="collapse11_5">
Click to view the solution.
</button>
</h2>
<div id="collapse11_5" class="accordion-collapse collapse collapse"
aria-labelledby="heading11_5" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer</strong>: A distinctive pattern in the residual
plot</p>
<p>We‚Äôre told in the problem that the number of sunshine hours per month
in Chicago increases from the winter (January) to the summer
(July/August) and then decreases again to the winter (December). Here‚Äôs
a real plot of this data; we don‚Äôt need real data to answer this
question, but this is the kind of plot you could sketch out in the exam
given the description in the question. (The gold shaded area is
irrelevant for our purposes.)</p>
<center>
<a href="https://weather-and-climate.com/average-monthly-hours-Sunshine,Chicago,United-States-of-America"><img alt="Average monthly sunhours in Chicago, the United States of America" border="0" src="https://weather-and-climate.com/uploads/average-sunshine-united-states-of-america-chicago.png"/></a>
</center>
<p>The points in this plot aren‚Äôt tightly clustered around a straight
line, and that‚Äôs because there‚Äôs a non-linear relationship between month
and number of sunshine hours. As such, when we draw a straight line
through this scatter plot, it won‚Äôt be able to fully capture the
relationship being shown. It‚Äôll likely start off in the bottom left and
increase to the top right, which will lead to the sunshine hours for
summer months being underestimated and the sunshine hours for later
winter months (November, December) being overestimated. This will lead
to a distinctive pattern in our residual plot, which means that linear
regression as-is isn‚Äôt the right tool for modeling this data (because
ideally, the residual plot would be a patternless cloud of points).</p>
<hr/>
<h5>Difficulty: ‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è</h5>
<p>
</p>
<p>The average score on this problem was 47%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="section"><span class="math display"> </span></h2>
<h4
id="feedback-find-an-error-still-confused-have-a-suggestion-let-us-know-here.">üëã
Feedback: Find an error? Still confused? Have a suggestion?
<a href="https://forms.gle/WZ71FchnXU1K154d7">Let us know
here</u></a>.</h4>
<hr />
</body>
</html>
