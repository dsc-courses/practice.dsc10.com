<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>Discussion 8: The Central Limit Theorem &amp; Hypothesis Testing</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      {   }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span.al { color: #ff0000; font-weight: bold; } /* Alert */
    code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
    code span.at { color: #7d9029; } /* Attribute */
    code span.bn { color: #40a070; } /* BaseN */
    code span.bu { color: #008000; } /* BuiltIn */
    code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #4070a0; } /* Char */
    code span.cn { color: #880000; } /* Constant */
    code span.co { color: #60a0b0; font-style: italic; } /* Comment */
    code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
    code span.do { color: #ba2121; font-style: italic; } /* Documentation */
    code span.dt { color: #902000; } /* DataType */
    code span.dv { color: #40a070; } /* DecVal */
    code span.er { color: #ff0000; font-weight: bold; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #40a070; } /* Float */
    code span.fu { color: #06287e; } /* Function */
    code span.im { color: #008000; font-weight: bold; } /* Import */
    code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
    code span.kw { color: #007020; font-weight: bold; } /* Keyword */
    code span.op { color: #666666; } /* Operator */
    code span.ot { color: #007020; } /* Other */
    code span.pp { color: #bc7a00; } /* Preprocessor */
    code span.sc { color: #4070a0; } /* SpecialChar */
    code span.ss { color: #bb6688; } /* SpecialString */
    code span.st { color: #4070a0; } /* String */
    code span.va { color: #19177c; } /* Variable */
    code span.vs { color: #4070a0; } /* VerbatimString */
    code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="../assets/theme.css" />
  <script defer=""
  src="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.js"></script>
  <script>document.addEventListener("DOMContentLoaded", function () {
 var mathElements = document.getElementsByClassName("math");
 var macros = [];
 for (var i = 0; i < mathElements.length; i++) {
  var texText = mathElements[i].firstChild;
  if (mathElements[i].tagName == "SPAN") {
   katex.render(texText.data, mathElements[i], {
    displayMode: mathElements[i].classList.contains('display'),
    throwOnError: false,
    macros: macros,
    fleqn: false
   });
}}});
  </script>
  <link rel="stylesheet"
  href="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.css" />
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<header id="title-block-header">
<h1 class="title">Discussion 8: The Central Limit Theorem &amp;
Hypothesis Testing</h1>
</header>
<p><link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
<!-- add after bootstrap.min.css -->
<link rel="stylesheet" href="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.css"/>
<!-- add after bootstrap.min.js or bootstrap.bundle.min.js -->
<script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script></p>
<!-- for difficulty gauges-->
<script src="https://cdn.plot.ly/plotly-2.16.1.min.js"></script>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-B947E6J6H4"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-B947E6J6H4');
</script>
<p><a href="../index.html">← return to practice.dsc10.com</a></p>
<hr />
<p>The problems in this worksheet are taken from past exams. Work on
them <strong>on paper</strong>, since the exams you take in this course
will also be on paper. <br><br>We encourage you to complete this
worksheet in a live discussion section. Solutions will be made available
after all discussion sections have concluded. You don’t need to submit
your answers anywhere.<br><br><b>Note: We do not plan to cover all
problems here in the live discussion section</b>; the problems we don’t
cover can be used for extra practice.</p>
<hr />
<h2 id="problem-1">Problem 1</h2>
<p>An IKEA employee has access to a data set of the purchase amounts for
40,000 customer transactions. This data set is roughly normally
distributed with mean 150 dollars and standard deviation 25 dollars.</p>
<p><br></p>
<h3 id="problem-1.1">Problem 1.1</h3>
<p>Why is the distribution of purchase amounts roughly normal?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> because of the Central Limit Theorem</p></li>
<li><p><input type="radio" disabled="" /> for some other reason</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading1_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse1_1" aria-expanded="true" aria-controls="collapse1_1">
Click to view the solution.
</button>
</h2>
<div id="collapse1_1" class="accordion-collapse collapse"
aria-labelledby="heading1_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer: </strong> for some other reason</p>
<p>The data that we have is a sample of purchase amounts. It is not a
sample mean or sample sum, so the Central Limit Theorem does not apply.
The data just naturally happens to be roughly normally distributed, like
human heights, for example.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 42%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-1.2">Problem 1.2</h3>
<p>Shiv spends 300 dollars at IKEA. How would we describe Shiv’s
purchase in standard units?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> 0 standard units</p></li>
<li><p><input type="radio" disabled="" /> 2 standard units</p></li>
<li><p><input type="radio" disabled="" /> 4 standard units</p></li>
<li><p><input type="radio" disabled="" /> 6 standard units</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading1_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse1_2" aria-expanded="true" aria-controls="collapse1_2">
Click to view the solution.
</button>
</h2>
<div id="collapse1_2" class="accordion-collapse collapse"
aria-labelledby="heading1_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer: </strong> 6 standard units</p>
<p>To standardize a data value, we subtract the mean of the distribution
and divide by the standard deviation:</p>
<p><span class="math display">\begin{aligned}
        \text{standard units} &amp;= \frac{300 - 150}{25} \\
                    &amp;= \frac{150}{25} \\
                    &amp;= 6
\end{aligned}</span></p>
<p>A more intuitive way to think about standard units is the number of
standard deviations above the mean (where negative means below the
mean). Here, Shiv spent 150 dollars more than average. One standard
deviation is 25 dollars, so 150 dollars is six standard deviations.</p>
<hr/>
<h5>Difficulty: ⭐️</h5>
<p>
</p>
<p>The average score on this problem was 97%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-1.3">Problem 1.3</h3>
<p>Give the endpoints of the CLT-based 95% confidence interval for the
mean IKEA purchase amount, based on this data.</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading1_3">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse1_3" aria-expanded="true" aria-controls="collapse1_3">
Click to view the solution.
</button>
</h2>
<div id="collapse1_3" class="accordion-collapse collapse"
aria-labelledby="heading1_3" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer: </strong> 149.75 and 150.25 dollars</p>
<p>The Central Limit Theorem tells us about the distribution of the
sample mean purchase amount. That’s not the distribution the employee
has, but rather a distribution that shows how the mean of a
<em>different</em> sample of 40,000 purchases might have turned out.
Specifically, we know the following information about the distribution
of the sample mean.</p>
<ol type="1">
<li>It is roughly normally distributed.</li>
<li>Its mean is about 150 dollars, the same as the mean of the
employee’s sample.</li>
<li>Its standard deviation is about <span class="math inline">\frac{\text{sample standard
deviation}}{\sqrt{\text{sample size}}}=\frac{25}{\sqrt{40000}} =
\frac{25}{200} = \frac{1}{8}</span>.</li>
</ol>
<p>Since the distribution of the sample mean is roughly normal, we can
find a 95% confidence interval for the sample mean by stepping out two
standard deviations from the center, using the fact that 95% of the area
of a normal distribution falls within 2 standard deviations of the mean.
Therefore the endpoints of the CLT-based 95% confidence interval for the
mean IKEA purchase amount are</p>
<ul>
<li><span class="math inline">150 - 2*\frac{1}{8} = 149.75</span>
dollars, and</li>
<li><span class="math inline">150 + 2*\frac{1}{8} = 150.25</span>
dollars.</li>
</ul>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 36%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="problem-2">Problem 2</h2>
<p>You need to estimate the proportion of American adults who want to be
vaccinated against Covid-19. You plan to survey a random sample of
American adults, and use the proportion of adults in your sample who
want to be vaccinated as your estimate for the true proportion in the
population. Your estimate must be within 0.04 of the true proportion,
95% of the time. Using the fact that the standard deviation of any
dataset of 0’s and 1’s is no more than 0.5, calculate the minimum number
of people you would need to survey. Input your answer below, as an
<strong>integer</strong>.</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse2" aria-expanded="true" aria-controls="collapse2">
Click to view the solution.
</button>
</h2>
<div id="collapse2" class="accordion-collapse collapse"
aria-labelledby="heading2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer: </strong> 625</p>
<p><em>Note: Before reviewing these solutions, it’s highly recommended
to revisit the lecture on “Choosing Sample Sizes,” since this problem
follows the main example from that lecture almost exactly.</em></p>
<p>While this solution is long, keep in mind from the start that our
goal is to solve for the <strong>smallest sample size necessary</strong>
to create a confidence interval that achieves certain criteria.</p>
<p>The Central Limit Theorem tells us that the distribution of the
sample mean is roughly normal, regardless of the distribution of the
population from which the samples are drawn. At first, it may not be
clear how the Central Limit Theorem is relevant, but remember that
proportions are means too – for instance, the proportion of adults who
want to be vaccinated is equal to the mean of a collection of 1s and 0s,
where we have a 1 for each adult that wants to be vaccinated and a 0 for
each adult who doesn’t want to be vaccinated. What this means (😉) is
that <strong>the Central Limit Theorem applies to the distribution of
the sample proportion, so we can use it here too</strong>.</p>
<p>Not only do we know that the distribution of sample proportions is
roughly normal, but we know its mean and standard deviation, too:</p>
<p><span class="math display">\begin{align*}
\text{Mean of Distribution of Possible Sample Means} &amp;=
\text{Population Mean} = \text{Population Proportion} \\
\text{SD of Distribution of Possible Sample Means} &amp;=
\frac{\text{Population SD}}{\sqrt{\text{Sample Size}}}
\end{align*}
</span></p>
<p>Using this information, we can create a 95% confidence interval for
the population proportion, using the fact that in a normal distribution,
roughly 95% of values are within 2 standard deviations of the mean:</p>
<p><span class="math display">\left[ \text{Population Proportion} - 2
\cdot \frac{\text{Population SD}}{\sqrt{\text{Sample Size}}}, \:
\text{Population Proportion} + 2 \cdot \frac{\text{Population
SD}}{\sqrt{\text{Sample Size}}}  \right]</span></p>
<p>However, this interval depends on the population proportion (mean)
and SD, which we don’t know. (If we did know these parameters, there
would be no need to collect a sample!) Instead, we’ll use the sample
proportion and SD as rough estimates:</p>
<p><span class="math display">\left[ \text{Sample Proportion} - 2 \cdot
\frac{\text{Sample SD}}{\sqrt{\text{Sample Size}}}, \: \text{Sample
Proportion} + 2 \cdot \frac{\text{Sample SD}}{\sqrt{\text{Sample
Size}}}  \right]</span></p>
<p>Note that the width of this interval – that is, its right endpoint
minus its left endpoint – is: <span class="math display">\text{width} =
4 \cdot \frac{\text{Sample SD}}{\sqrt{\text{Sample Size}}}</span></p>
<p>In the problem, we’re told that we want our interval to be accurate
to within 0.04, which is equivalent to wanting the width of our interval
to be less than or equal to 0.08 (since the interval extends the same
amount above and below the sample proportion). As such, we need to pick
the <strong>smallest sample size necessary</strong> such that:</p>
<p><span class="math display">\text{width} = 4 \cdot \frac{\text{Sample
SD}}{\sqrt{\text{Sample Size}}} \leq 0.08</span></p>
<p>We can re-arrange the inequality above to solve for our sample’s
size:</p>
<p><span class="math display">
\begin{align*}
4 \cdot \frac{\text{Sample SD}}{\sqrt{\text{Sample Size}}} &amp;\leq
0.08 \\
\frac{\text{Sample SD}}{\sqrt{\text{Sample Size}}} &amp;\leq 0.02 \\
\frac{1}{\sqrt{\text{Sample Size}}} &amp;\leq \frac{0.02}{\text{Sample
SD}} \\
\frac{\text{Sample SD}}{0.02} &amp;\leq \sqrt{\text{Sample Size}} \\
\left( \frac{\text{Sample SD}}{0.02} \right)^2 &amp;\leq \text{Sample
Size}
\end{align*}
</span></p>
<p>All we now need to do is pick the smallest sample size that satisfies
the above inequality. But there’s an issue – <strong>we don’t know what
our sample SD is, because we haven’t collected our sample</strong>!
Notice that in the inequality above, as the sample SD increases, so does
the minimum necessary sample size. In order to ensure we don’t collect
too small of a sample (which would result in the width of our confidence
interval being <em>larger</em> than desired), we can use an upper bound
for the SD of our sample. In the problem, we’re told that the largest
possible SD of a sample of 0s and 1s is 0.5 – this means that if we
replace our sample SD with 0.5, we will find a sample size such that the
width of our confidence interval is guaranteed to be less than or equal
to 0.08. This sample size may be larger than necessary, but that’s
better than it being smaller than necessary.</p>
<p>By substituting 0.5 for the sample SD in the last inequality above,
we get</p>
<p><span class="math display">
\begin{align*}
\left( \frac{\text{Sample SD}}{0.02} \right)^2 &amp;\leq \text{Sample
Size} \\\
\left( \frac{0.5}{0.02} \right)^2 &amp;\leq \text{Sample Size} \\
25^2 &amp;\leq \text{Sample Size} \implies \text{Sample Size} \geq 625
\end{align*}
</span></p>
<p>We need to pick the smallest possible sample size that is greater
than or equal to 625; that’s just 625.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 40%.</p>
</div>
</div>
</div>
</div>
<hr />
<h2 id="problem-3">Problem 3</h2>
<p>For this question, let’s think of the data in <code>app_data</code>
as a random sample of all IKEA purchases and use it to test the
following hypotheses.</p>
<p><strong>Null Hypothesis</strong>: IKEA sells an equal amount of beds
(category <code>'bed'</code>) and outdoor furniture (category
<code>'outdoor'</code>).</p>
<p><strong>Alternative Hypothesis</strong>: IKEA sells more beds than
outdoor furniture.</p>
<p>The DataFrame <code>app_data</code> contains 5000 rows, which form
our sample. Of these 5000 products,</p>
<ul>
<li>1000 are beds,</li>
<li>1500 are outdoor furniture, and</li>
<li>2500 are in another category.</li>
</ul>
<p><br></p>
<h3 id="problem-3.1">Problem 3.1</h3>
<p>Which of the following <strong>could</strong> be used as the test
statistic for this hypothesis test? Select all that apply.</p>
<ul class="task-list">
<li><p><input type="checkbox" disabled="" /> Among 2500 beds and outdoor furniture items, the absolute difference
between the proportion of beds and the proportion of outdoor
furniture.</p></li>
<li><p><input type="checkbox" disabled="" /> Among 2500 beds and outdoor furniture items, the proportion of
beds.</p></li>
<li><p><input type="checkbox" disabled="" /> Among 2500 beds and outdoor furniture items, the number of beds.</p></li>
<li><p><input type="checkbox" disabled="" /> Among 2500 beds and outdoor furniture items, the number of beds plus
the number of outdoor furniture items.</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading3_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse3_1" aria-expanded="true" aria-controls="collapse3_1">
Click to view the solution.
</button>
</h2>
<div id="collapse3_1" class="accordion-collapse collapse"
aria-labelledby="heading3_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer: </strong> Among 2500 beds and outdoor furniture
items, the proportion of beds. <br/> Among 2500 beds and outdoor
furniture items, the number of beds.</p>
<p>Our test statistic needs to be able to distinguish between the two
hypotheses. The first option does not do this, because it includes an
absolute value. If the absolute difference between the proportion of
beds and the proportion of outdoor furniture were large, it could be
because IKEA sells more beds than outdoor furniture, but it could also
be because IKEA sells more outdoor furniture than beds.</p>
<p>The second option is a valid test statistic, because if the
proportion of beds is large, that suggests that the alternative
hypothesis may be true.</p>
<p>Similarly, the third option works because if the number of beds (out
of 2500) is large, that suggests that the alternative hypothesis may be
true.</p>
<p>The fourth option is invalid because out of 2500 beds and outdoor
furniture items, the number of beds plus the number of outdoor furniture
items is always 2500. So the value of this statistic is constant
regardless of whether the alternative hypothesis is true, which means it
does not help you distinguish between the two hypotheses.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 78%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-3.2">Problem 3.2</h3>
<p>Let’s do a hypothesis test with the following test statistic: among
2500 beds and outdoor furniture items, the proportion of outdoor
furniture minus the proportion of beds.</p>
<p>Complete the code below to calculate the observed value of the test
statistic and save the result as <code>obs_diff</code>.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>    outdoor <span class="op">=</span> (app_data.get(<span class="st">&#39;category&#39;</span>)<span class="op">==</span><span class="st">&#39;outdoor&#39;</span>) </span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>    bed <span class="op">=</span> (app_data.get(<span class="st">&#39;category&#39;</span>)<span class="op">==</span><span class="st">&#39;bed&#39;</span>)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>    obs_diff <span class="op">=</span> ( ___(a)___ <span class="op">-</span> ___(b)___ ) <span class="op">/</span> ___(c)___</span></code></pre></div>
<p>The table below contains several Python expressions. Choose the
correct expression to fill in each of the three blanks. Three
expressions will be used, and two will be unused.</p>
<center><img src='../assets/images/sp22-final/q8-table.jpg' width=50%></center>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading3_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse3_2" aria-expanded="true" aria-controls="collapse3_2">
Click to view the solution.
</button>
</h2>
<div id="collapse3_2" class="accordion-collapse collapse"
aria-labelledby="heading3_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer: </strong> Reading the table from top to bottom, the
five expressions should be used in the following blanks: None, (b), (a),
(c), None.</p>
<p>The correct way to define <code>obs_diff</code> is</p>
<div id="cb1" class="sourceCode">
<pre class="sourceCode py"><code class="sourceCode python"><span id="cb1-1"><a aria-hidden="true" href="#cb1-1" tabindex="-1"></a>    outdoor <span class="op">=</span> (app_data.get(<span class="st">'category'</span>)<span class="op">==</span><span class="st">'outdoor'</span>) </span>
<span id="cb1-2"><a aria-hidden="true" href="#cb1-2" tabindex="-1"></a>    bed <span class="op">=</span> (app_data.get(<span class="st">'category'</span>)<span class="op">==</span><span class="st">'bed'</span>)</span>
<span id="cb1-3"><a aria-hidden="true" href="#cb1-3" tabindex="-1"></a>    obs_diff <span class="op">=</span> (app_data[outdoor].shape[<span class="dv">0</span>] <span class="op">-</span> app_data[bed].shape[<span class="dv">0</span>]) <span class="op">/</span> app_data[outdoor <span class="op">|</span> bed].shape[<span class="dv">0</span>]</span></code></pre>
</div>
<p>The first provided line of code defines a boolean Series called
<code>outdoor</code> with a value of <code>True</code> corresponding to
each outdoor furniture item in <code>app_data</code>. Using this as the
condition in a query results in a DataFrame of outdoor furniture items,
and using <code>.shape[0]</code> on this DataFrame gives the number of
outdoor furniture items. So <code>app_data[outdoor].shape[0]</code>
represents the number of outdoor furniture items in
<code>app_data</code>. Similarly, <code>app_data[bed].shape[0]</code>
represents the number of beds in <code>app_data</code>. Likewise,
<code>app_data[outdoor | bed].shape[0]</code> represents the total
number of outdoor furniture items and beds in <code>app_data</code>.
Notice that we need to use an <em>or</em> condition (<code>|</code>) to
get a DataFrame that contains both outdoor furniture and beds.</p>
<p>We are told that the test statistic should be the proportion of
outdoor furniture minus the proportion of beds. Translating this
directly into code, this means the test statistic should be calculated
as</p>
<div id="cb2" class="sourceCode">
<pre class="sourceCode py"><code class="sourceCode python"><span id="cb2-1"><a aria-hidden="true" href="#cb2-1" tabindex="-1"></a>    obs_diff <span class="op">=</span> app_data[outdoor].shape[<span class="dv">0</span>]<span class="op">/</span>app_data[outdoor <span class="op">|</span> bed].shape[<span class="dv">0</span>] <span class="op">-</span> app_data[bed].shape[<span class="dv">0</span>]) <span class="op">/</span> app_data[outdoor <span class="op">|</span> bed].shape[<span class="dv">0</span>]</span></code></pre>
</div>
<p>Since this is a difference of two fractions with the same
denominator, we can equivalently subtract the numerators first, then
divide by the common denominator, using the mathematical fact <span class="math display">\frac{a}{c} - \frac{b}{c} =
\frac{a-b}{c}.</span></p>
<p>This yields the answer</p>
<div id="cb3" class="sourceCode">
<pre class="sourceCode py"><code class="sourceCode python"><span id="cb3-1"><a aria-hidden="true" href="#cb3-1" tabindex="-1"></a>    obs_diff <span class="op">=</span> (app_data[outdoor].shape[<span class="dv">0</span>] <span class="op">-</span> app_data[bed].shape[<span class="dv">0</span>]) <span class="op">/</span> app_data[outdoor <span class="op">|</span> bed].shape[<span class="dv">0</span>]</span></code></pre>
</div>
<p>Notice that this is the <em>observed</em> value of the test statistic
because it’s based on the real-life data in the <code>app_data</code>
DataFrame, not simulated data.</p>
<hr/>
<h5>Difficulty: ⭐️</h5>
<p>
</p>
<p>The average score on this problem was 90%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-3.3">Problem 3.3</h3>
<p>Which of the following is a valid way to generate one value of the
test statistic according to the null model? Select all that apply.</p>
<p>Way 1:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>multi <span class="op">=</span> np.random.multinomial(<span class="dv">2500</span>, [<span class="fl">0.5</span>,<span class="fl">0.5</span>]) </span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>(multi[<span class="dv">0</span>] <span class="op">-</span> multi[<span class="dv">1</span>])<span class="op">/</span><span class="dv">2500</span></span></code></pre></div>
<p>Way 2:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>outdoor <span class="op">=</span> np.random.multinomial(<span class="dv">2500</span>, [<span class="fl">0.5</span>,<span class="fl">0.5</span>])[<span class="dv">0</span>]<span class="op">/</span><span class="dv">2500</span> </span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>bed <span class="op">=</span> np.random.multinomial(<span class="dv">2500</span>, [<span class="fl">0.5</span>,<span class="fl">0.5</span>])[<span class="dv">1</span>]<span class="op">/</span><span class="dv">2500</span> </span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>outdoor <span class="op">-</span> bed </span></code></pre></div>
<p>Way 3:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>choice <span class="op">=</span> np.random.choice([<span class="dv">0</span>, <span class="dv">1</span>], <span class="dv">2500</span>, replace<span class="op">=</span><span class="va">True</span>) </span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>choice_sum <span class="op">=</span> choice.<span class="bu">sum</span>( ) </span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>(choice_sum <span class="op">-</span> (<span class="dv">2500</span> <span class="op">-</span> choice_sum))<span class="op">/</span><span class="dv">2500</span></span></code></pre></div>
<p>Way 4:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>choice <span class="op">=</span> np.random.choice([<span class="st">&#39;bed&#39;</span>, <span class="st">&#39;outdoor&#39;</span>], <span class="dv">2500</span>, replace<span class="op">=</span><span class="va">True</span>) </span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>bed <span class="op">=</span> np.count_nonzero(choice<span class="op">==</span><span class="st">&#39;bed&#39;</span>)</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>outdoor <span class="op">=</span> np.count_nonzero(choice<span class="op">==</span><span class="st">&#39;outdoor&#39;</span>)</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>outdoor<span class="op">/</span><span class="dv">2500</span> <span class="op">-</span> bed<span class="op">/</span><span class="dv">2500</span></span></code></pre></div>
<p>Way 5:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>outdoor <span class="op">=</span> (app_data.get(<span class="st">&#39;category&#39;</span>)<span class="op">==</span><span class="st">&#39;outdoor&#39;</span>) </span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>bed <span class="op">=</span> (app_data.get(<span class="st">&#39;category&#39;</span>)<span class="op">==</span><span class="st">&#39;bed&#39;</span>)</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>samp <span class="op">=</span> app_data[outdoor<span class="op">|</span>bed].sample(<span class="dv">2500</span>, replace<span class="op">=</span><span class="va">True</span>) </span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>samp[samp.get(<span class="st">&#39;category&#39;</span>)<span class="op">==</span><span class="st">&#39;outdoor&#39;</span>].shape[<span class="dv">0</span>]<span class="op">/</span><span class="dv">2500</span> <span class="op">-</span>  samp[samp.get(<span class="st">&#39;category&#39;</span>)<span class="op">==</span><span class="st">&#39;bed&#39;</span>].shape[<span class="dv">0</span>]<span class="op">/</span><span class="dv">2500</span>)</span></code></pre></div>
<p>Way 6:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>outdoor <span class="op">=</span> (app_data.get(<span class="st">&#39;category&#39;</span>)<span class="op">==</span><span class="st">&#39;outdoor&#39;</span>) </span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>bed <span class="op">=</span> (app_data.get(<span class="st">&#39;category&#39;</span>)<span class="op">==</span><span class="st">&#39;bed&#39;</span>)</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>samp <span class="op">=</span> (app_data[outdoor<span class="op">|</span>bed].groupby(<span class="st">&#39;category&#39;</span>).count( ).reset_index( ).sample(<span class="dv">2500</span>, replace<span class="op">=</span><span class="va">True</span>))    </span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>samp[samp.get(<span class="st">&#39;category&#39;</span>)<span class="op">==</span><span class="st">&#39;outdoor&#39;</span>].shape[<span class="dv">0</span>]<span class="op">/</span><span class="dv">2500</span> <span class="op">-</span> samp[samp.get(<span class="st">&#39;category&#39;</span>)<span class="op">==</span><span class="st">&#39;bed&#39;</span>].shape[<span class="dv">0</span>]<span class="op">/</span><span class="dv">2500</span></span></code></pre></div>
<ul class="task-list">
<li><p><input type="checkbox" disabled="" /> Way 1</p></li>
<li><p><input type="checkbox" disabled="" /> Way 2</p></li>
<li><p><input type="checkbox" disabled="" /> Way 3</p></li>
<li><p><input type="checkbox" disabled="" /> Way 4</p></li>
<li><p><input type="checkbox" disabled="" /> Way 5</p></li>
<li><p><input type="checkbox" disabled="" /> Way 6</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading3_3">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse3_3" aria-expanded="true" aria-controls="collapse3_3">
Click to view the solution.
</button>
</h2>
<div id="collapse3_3" class="accordion-collapse collapse"
aria-labelledby="heading3_3" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer: </strong> Way 1, Way 3, Way 4, Way 6</p>
<p>Let’s consider each way in order.</p>
<p>Way 1 is a correct solution. This code begins by defining a variable
<code>multi</code> which will evaluate to an array with two elements
representing the number of items in each of the two categories, after
2500 items are drawn randomly from the two categories, with each
category being equally likely. In this case, our categories are beds and
outdoor furniture, and the null hypothesis says that each category is
equally likely, so this describes our scenario accurately. We can
interpret <code>multi[0]</code> as the number of outdoor furniture items
and <code>multi[1]</code> as the number of beds when we draw 2500 of
these items with equal probability. Using the same mathematical fact
from the solution to Problem 8.2, we can calculate the difference in
proportions as the difference in number divided by the total, so it is
correct to calculate the test statistic as
<code>(multi[0] - multi[1])/2500</code>.</p>
<p>Way 2 is an incorrect solution. Way 2 is based on a similar idea as
Way 1, except it calls <code>np.random.multinomial</code> twice, which
corresponds to two separate random processes of selecting 2500 items,
each of which is equally likely to be a bed or an outdoor furniture
item. However, is not guaranteed that the number of outdoor furniture
items in the first random selection plus the number of beds in the
second random selection totals 2500. Way 2 calculates the proportion of
outdoor furniture items in one random selection minus the proportion of
beds in another. What we want to do instead is calculate the difference
between the proportion of outdoor furniture and beds in a single random
draw.</p>
<p>Way 3 is a correct solution. Way 3 does the random selection of items
in a different way, using <code>np.random.choice</code>. Way 3 creates a
variable called <code>choice</code> which is an array of 2500 values.
Each value is chosen from the list <code>[0,1]</code> with each of the
two list elements being equally likely to be chosen. Of course, since we
are choosing 2500 items from a list of size 2, we must allow
replacements. We can interpret the elements of <code>choice</code> by
thinking of each 1 as an outdoor furniture item and each 0 as a bed. By
doing so, this random selection process matches up with the assumptions
of the null hypothesis. Then the sum of the elements of
<code>choice</code> represents the total number of outdoor furniture
items, which the code saves as the variable <code>choice_sum</code>.
Since there are 2500 beds and outdoor furniture items in total,
<code>2500 - choice_sum</code> represents the total number of beds.
Therefore, the test statistic here is correctly calculated as the number
of outdoor furniture items minus the number of beds, all divided by the
total number of items, which is 2500.</p>
<p>Way 4 is a correct solution. Way 4 is similar to Way 3, except
instead of using 0s and 1s, it uses the strings <code>'bed'</code> and
<code>'outdoor'</code> in the <code>choice</code> array, so the
interpretation is even more direct. Another difference is the way the
number of beds and number of outdoor furniture items is calculated. It
uses <code>np.count_nonzero</code> instead of sum, which wouldn’t make
sense with strings. This solution calculates the proportion of outdoor
furniture minus the proportion of beds directly.</p>
<p>Way 5 is an incorrect solution. As described in the solution to
Problem 8.2, <code>app_data[outdoor|bed]</code> is a DataFrame
containing just the outdoor furniture items and the beds from
<code>app_data</code>. Based on the given information, we know
<code>app_data[outdoor|bed]</code> has 2500 rows, 1000 of which
correspond to beds and 1500 of which correspond to furniture items. This
code defines a variable <code>samp</code> that comes from sampling this
DataFrame 2500 times with replacement. This means that each row of
<code>samp</code> is equally likely to be any of the 2500 rows of
<code>app_data[outdoor|bed]</code>. The fraction of these rows that are
beds is <span class="math inline">1000/2500 = 2/5</span> and the
fraction of these rows that are outdoor furniture items is <span class="math inline">1500/2500 = 3/5</span>. This means the random
process of selecting rows randomly such that each row is equally likely
does not make each item equally likely to be a bed or outdoor furniture
item. Therefore, this approach does not align with the assumptions of
the null hypothesis.</p>
<p>Way 6 is a correct solution. Way 6 essentially modifies Way 5 to make
beds and outdoor furniture items equally likely to be selected in the
random sample. As in Way 5, the code involves the DataFrame
<code>app_data[outdoor|bed]</code> which contains 1000 beds and 1500
outdoor furniture items. Then this DataFrame is grouped by
<code>'category'</code> which results in a DataFrame indexed by
<code>'category'</code>, which will have only two rows, since there are
only two values of <code>'category'</code>, either
<code>'outdoor'</code> or <code>'bed'</code>. The aggregation function
<code>.count()</code> is irrelevant here. When the index is reset,
<code>'category'</code> becomes a column. Now, randomly sampling from
this two-row grouped DataFrame such that each row is equally likely to
be selected <em>does</em> correspond to choosing items such that each
item is equally likely to be a bed or outdoor furniture item. The last
line simply calculates the proportion of outdoor furniture items minus
the proportion of beds in our random sample drawn according to the null
model.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 59%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-3.4">Problem 3.4</h3>
<p>Suppose we generate 10,000 simulated values of the test statistic
according to the null model and store them in an array called
<code>simulated_diffs</code>. Complete the code below to calculate the
p-value for the hypothesis test.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>    np.count_nonzero(simulated_diffs _________ obs_diff)<span class="op">/</span><span class="dv">10000</span></span></code></pre></div>
<p>What goes in the blank?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> <code>&lt;</code></p></li>
<li><p><input type="radio" disabled="" /> <code>&lt;=</code></p></li>
<li><p><input type="radio" disabled="" /> <code>&gt;</code></p></li>
<li><p><input type="radio" disabled="" /> <code>&gt;=</code></p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading3_4">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse3_4" aria-expanded="true" aria-controls="collapse3_4">
Click to view the solution.
</button>
</h2>
<div id="collapse3_4" class="accordion-collapse collapse"
aria-labelledby="heading3_4" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer: </strong> <code>&lt;=</code></p>
<p>To answer this question, we need to know whether small values or
large values of the test statistic indicate the alternative hypothesis.
The alternative hypothesis is that IKEA sells more beds than outdoor
furniture. Since we’re calculating the proportion of outdoor furniture
minus the proportion of beds, this difference will be small (negative)
if the alternative hypothesis is true. Larger (positive) values of the
test statistic mean that IKEA sells more outdoor furniture than beds. A
value near 0 means they sell beds and outdoor furniture equally.</p>
<p>The p-value is defined as the proportion of simulated test statistics
that are equal to the observed value or more extreme, where extreme
means in the direction of the alternative. In this case, since small
values of the test statistic indicate the alternative hypothesis, the
correct answer is <code>&lt;=</code>.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 43%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="problem-4">Problem 4</h2>
<p>At the San Diego Model Railroad Museum, there are different admission
prices for children, adults, and seniors. Over a period of time, as
tickets are sold, employees keep track of how many of each type of
ticket are sold. These ticket counts (in the order child, adult, senior)
are stored as follows.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>admissions_data <span class="op">=</span> np.array([<span class="dv">550</span>, <span class="dv">1550</span>, <span class="dv">400</span>])</span></code></pre></div>
<p><br></p>
<h3 id="problem-4.1">Problem 4.1</h3>
<p>Complete the code below so that it creates an array
<code>admissions_proportions</code> with the proportions of tickets sold
to each group (in the order child, adult, senior).</p>
<div class="sourceCode" id="cb10"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> as_proportion(data):</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> __(a)__</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>admissions_proportions <span class="op">=</span> as_proportion(admissions_data)</span></code></pre></div>
<p>What goes in blank (a)?</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading4_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse4_1" aria-expanded="true" aria-controls="collapse4_1">
Click to view the solution.
</button>
</h2>
<div id="collapse4_1" class="accordion-collapse collapse"
aria-labelledby="heading4_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> <code>data/data.sum()</code></p>
<p>To calculate proportion for each group, we divide each value in the
array (tickets sold to each group) by the sum of all values (total
tickets sold). Remember values in an array can be processed as a
whole.</p>
<hr/>
<h5>Difficulty: ⭐️</h5>
<p>
</p>
<p>The average score on this problem was 95%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-4.2">Problem 4.2</h3>
<p>The museum employees have a model in mind for the proportions in
which they sell tickets to children, adults, and seniors. This model is
stored as follows.</p>
<div class="sourceCode" id="cb11"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>model <span class="op">=</span> np.array([<span class="fl">0.25</span>, <span class="fl">0.6</span>, <span class="fl">0.15</span>])</span></code></pre></div>
<p>We want to conduct a hypothesis test to determine whether the
admissions data we have is consistent with this model. Which of the
following is the null hypothesis for this test?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> Child, adult, and senior tickets might plausibly be purchased in
proportions 0.25, 0.6, and 0.15.</p></li>
<li><p><input type="radio" disabled="" /> Child, adult, and senior tickets are purchased in proportions 0.25,
0.6, and 0.15.</p></li>
<li><p><input type="radio" disabled="" /> Child, adult, and senior tickets might plausibly be purchased in
proportions other than 0.25, 0.6, and 0.15.</p></li>
<li><p><input type="radio" disabled="" /> Child, adult, and senior tickets, are purchased in proportions other
than 0.25, 0.6, and 0.15.</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading4_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse4_2" aria-expanded="true" aria-controls="collapse4_2">
Click to view the solution.
</button>
</h2>
<div id="collapse4_2" class="accordion-collapse collapse"
aria-labelledby="heading4_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> Child, adult, and senior tickets are
purchased in proportions 0.25, 0.6, and 0.15. (Option 2)</p>
<p>Recall, null hypothesis is the hypothesis that there is no
significant difference between specified populations, any observed
difference being due to sampling or experimental error. So, we assume
the distribution is the same as the model.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 88%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-4.3">Problem 4.3</h3>
<p>Which of the following test statistics could we use to test our
hypotheses? Select all that could work.</p>
<ul class="task-list">
<li><p><input type="checkbox" disabled="" /> sum of differences in proportions</p></li>
<li><p><input type="checkbox" disabled="" /> sum of squared differences in proportions</p></li>
<li><p><input type="checkbox" disabled="" /> mean of differences in proportions</p></li>
<li><p><input type="checkbox" disabled="" /> mean of squared differences in proportions</p></li>
<li><p><input type="checkbox" disabled="" /> none of the above</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading4_3">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse4_3" aria-expanded="true" aria-controls="collapse4_3">
Click to view the solution.
</button>
</h2>
<div id="collapse4_3" class="accordion-collapse collapse"
aria-labelledby="heading4_3" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> sum of squared differences in proportions,
mean of squared differences in proportions (Option 2, 4)</p>
<p>We need to use squared difference to avoid the case that large
positive and negative difference cancel out in the process of
calculating sum or mean, resulting in small sum of difference or mean of
difference that does not reflect the actual deviation. So, we eliminate
Option 1 and 3.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 77%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-4.4">Problem 4.4</h3>
<p>Below, we’ll perform the hypothesis test with a different test
statistic, the mean of the absolute differences in proportions.</p>
<p>Recall that the ticket counts we observed for children, adults, and
seniors are stored in the array
<code>admissions_data  = np.array([550, 1550, 400])</code>, and that our
model is <code>model = np.array([0.25, 0.6, 0.15])</code>.</p>
<p>For our hypothesis test to determine whether the admissions data is
consistent with our model, what is the observed value of the test
statistic? Input your answer as a decimal between 0 and 1. Round to
three decimal places. (Suppose that the value you calculated is assigned
to the variable <code>observed_stat</code>, which you will use in later
questions.)</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading4_4">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse4_4" aria-expanded="true" aria-controls="collapse4_4">
Click to view the solution.
</button>
</h2>
<div id="collapse4_4" class="accordion-collapse collapse"
aria-labelledby="heading4_4" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> 0.02</p>
<p>We first calculate the proportion for each value in
<code>admissions_data</code> <span class="math display">\frac{550}{550+1550+400} = 0.22</span> <span class="math display">\frac{1550}{550+1550+400} = 0.62</span> <span class="math display">\frac{400}{550+1550+400} = 0.16</span> So, we have
the distribution of the <code>admissions_data</code></p>
<p>Then, we calculate the observed value of the test statistic (the mean
of the absolute differences in proportions) <span class="math display">\frac{|0.22-0.25|+|0.62-0.6|+|0.16-0.15|}{number\
of\ goups}</span> <span class="math display">=\frac{0.03+0.02+0.01}{3} =
0.02</span></p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 82%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-4.5">Problem 4.5</h3>
<p>Now, we want to simulate the test statistic 10,000 times under the
assumptions of the null hypothesis. Fill in the blanks below to complete
this simulation and calculate the p-value for our hypothesis test.
Assume that the variables <code>admissions_data</code>,
<code>admissions_proportions</code>, <code>model</code>, and
<code>observed_stat</code> are already defined as specified earlier in
the question.</p>
<div class="sourceCode" id="cb12"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>simulated_stats <span class="op">=</span> np.array([]) </span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i <span class="kw">in</span> np.arange(<span class="dv">10000</span>):</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>    simulated_proportions <span class="op">=</span> as_proportions(np.random.multinomial(__(a)__, __(b)__))</span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>    simulated_stat <span class="op">=</span> __(c)__</span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>    simulated_stats <span class="op">=</span> np.append(simulated_stats, simulated_stat)</span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a>p_value <span class="op">=</span> __(d)__</span></code></pre></div>
<p>What goes in blank (a)? What goes in blank (b)? What goes in blank
(c)? What goes in blank (d)?</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading4_5">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse4_5" aria-expanded="true" aria-controls="collapse4_5">
Click to view the solution.
</button>
</h2>
<div id="collapse4_5" class="accordion-collapse collapse"
aria-labelledby="heading4_5" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> (a) <code>admissions_data.sum()</code> (b)
<code>model</code> (c)
<code>np.abs(simulated_proportions - model).mean()</code> (d)
<code>np.count_nonzero(simulated_stats &gt;= observed_stat) / 10000</code></p>
<p>Recall, in <code>np.random.multinomial(n, [p_1, ..., p_k])</code>,
<code>n</code> is the number of experiments, and
<code>[p_1, ..., p_k]</code> is a sequence of probability. The method
returns an array of length k in which each element contains the number
of occurrences of an event, where the probability of the ith event is
<code>p_i</code>.</p>
<p>We want our <code>simulated_proportion</code> to have the same data
size as <code>admissions_data</code>, so we use
<code>admissions_data.sum()</code> in (a).</p>
<p>Since our null hypothesis is based on <code>model</code>, we simulate
based on distribution in <code>model</code>, so we have
<code>model</code> in (b).</p>
<p>In (c), we compute the mean of the absolute differences in
proportions. <code>np.abs(simulated_proportions - model)</code> gives us
a series of absolute differences, and <code>.mean()</code> computes the
mean of the absolute differences.</p>
<p>In (d), we calculate the <code>p_value</code>. Recall, the
<code>p_value</code> is the chance, under the null hypothesis, that the
test statistic is equal to the value that was observed in the data or is
even further in the direction of the alternative.
<code>np.count_nonzero(simulated_stats &gt;= observed_stat)</code> gives
us the number of <code>simulated_stats</code> greater than or equal to
the <code>observed_stat</code> in the 10000 times simulations, so we
need to divide it by <code>10000</code> to compute the proportion of
<code>simulated_stats</code> greater than or equal to the
<code>observed_stat</code>, and this gives us the
<code>p_value</code>.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 79%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-4.6">Problem 4.6</h3>
<p>True or False: the p-value represents the probability that the null
hypothesis is true.</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> True</p></li>
<li><p><input type="radio" disabled="" /> False</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading4_6">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse4_6" aria-expanded="true" aria-controls="collapse4_6">
Click to view the solution.
</button>
</h2>
<div id="collapse4_6" class="accordion-collapse collapse"
aria-labelledby="heading4_6" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> False</p>
<p>Recall, the p-value is the chance, under the null hypothesis, that
the test statistic is equal to the value that was observed in the data
or is even further in the direction of the alternative. It only gives us
the strength of evidence in favor of the null hypothesis, which is
different from “the probability that the null hypothesis is true”.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 64%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-4.7">Problem 4.7</h3>
<p>The new statistic that we used for this hypothesis test, the mean of
the absolute differences in proportions, is in fact closely related to
the total variation distance. Given two arrays of length three,
<code>array_1</code> and <code>array_2</code>, suppose we compute the
mean of the absolute differences in proportions between
<code>array_1</code> and <code>array_2</code> and store the result as
<code>madp</code>. What value would we have to multiply
<code>madp</code> by to obtain the total variation distance
<code>array_1</code> and <code>array_2</code>? Input your answer below,
rounding to three decimal places.</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading4_7">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse4_7" aria-expanded="true" aria-controls="collapse4_7">
Click to view the solution.
</button>
</h2>
<div id="collapse4_7" class="accordion-collapse collapse"
aria-labelledby="heading4_7" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> 1.5</p>
<p>Recall, the total variation distance (TVD) is the sum of the absolute
differences in proportions, divided by 2. When we compute the mean of
the absolute differences in proportions, we are computing the sum of the
absolute differences in proportions, divided by the number of groups
(which is 3). Thus, to get TVD, we first multiply our current statistics
(the mean of the absolute differences in proportions) by 3, we get the
sum of the absolute differences in proportions. Then according to the
definition of TVD, we divide this value by 2. Thus, we have <span class="math inline">\text{current statistics}\cdot 3 / 2 = \text{current
statistics}\cdot 1.5</span>.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 65%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="section"><span class="math display"> </span></h2>
<h4
id="feedback-find-an-error-still-confused-have-a-suggestion-let-us-know-here.">👋
Feedback: Find an error? Still confused? Have a suggestion?
<a href="https://forms.gle/WZ71FchnXU1K154d7">Let us know
here</u></a>.</h4>
<hr />
</body>
</html>
