<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>Winter 2025 Midterm Exam</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    /* The extra [class] is a hack that increases specificity enough to
       override a similar rule in reveal.js */
    ul.task-list[class]{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      font-size: inherit;
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      {   }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span.al { color: #ff0000; font-weight: bold; } /* Alert */
    code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
    code span.at { color: #7d9029; } /* Attribute */
    code span.bn { color: #40a070; } /* BaseN */
    code span.bu { color: #008000; } /* BuiltIn */
    code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #4070a0; } /* Char */
    code span.cn { color: #880000; } /* Constant */
    code span.co { color: #60a0b0; font-style: italic; } /* Comment */
    code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
    code span.do { color: #ba2121; font-style: italic; } /* Documentation */
    code span.dt { color: #902000; } /* DataType */
    code span.dv { color: #40a070; } /* DecVal */
    code span.er { color: #ff0000; font-weight: bold; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #40a070; } /* Float */
    code span.fu { color: #06287e; } /* Function */
    code span.im { color: #008000; font-weight: bold; } /* Import */
    code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
    code span.kw { color: #007020; font-weight: bold; } /* Keyword */
    code span.op { color: #666666; } /* Operator */
    code span.ot { color: #007020; } /* Other */
    code span.pp { color: #bc7a00; } /* Preprocessor */
    code span.sc { color: #4070a0; } /* SpecialChar */
    code span.ss { color: #bb6688; } /* SpecialString */
    code span.st { color: #4070a0; } /* String */
    code span.va { color: #19177c; } /* Variable */
    code span.vs { color: #4070a0; } /* VerbatimString */
    code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="../assets/theme.css" />
  <script defer=""
  src="https://cdn.jsdelivr.net/npm/katex@latest/dist/katex.min.js"></script>
  <script>document.addEventListener("DOMContentLoaded", function () {
 var mathElements = document.getElementsByClassName("math");
 var macros = [];
 for (var i = 0; i < mathElements.length; i++) {
  var texText = mathElements[i].firstChild;
  if (mathElements[i].tagName == "SPAN") {
   katex.render(texText.data, mathElements[i], {
    displayMode: mathElements[i].classList.contains('display'),
    throwOnError: false,
    macros: macros,
    fleqn: false
   });
}}});
  </script>
  <link rel="stylesheet"
  href="https://cdn.jsdelivr.net/npm/katex@latest/dist/katex.min.css" />
</head>
<body>
<header id="title-block-header">
<h1 class="title">Winter 2025 Midterm Exam</h1>
</header>
<p><link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
<!-- add after bootstrap.min.css -->
<link rel="stylesheet" href="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.css"/>
<!-- add after bootstrap.min.js or bootstrap.bundle.min.js -->
<script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script></p>
<!-- for difficulty gauges-->
<script src="https://cdn.plot.ly/plotly-2.16.1.min.js"></script>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-B947E6J6H4"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-B947E6J6H4');
</script>
<p><a href="../index.html">← return to practice.dsc10.com</a></p>
<hr />
<p><strong>Instructor(s):</strong> Janine Tiefenbruck</p>
<p>This exam was administered in-person. Students were allowed one page
of double-sided handwritten notes. No calculators were allowed. Students
had <strong>50 minutes</strong> to take this exam.</p>
<hr />
<p>In this exam, you’ll work with a data set showcasing the different
dining halls at UCSD and the foods served there. Each row represents a
single menu item available at one of the UCSD dining halls. The columns
of <code>dining</code> are as follows:</p>
<p>• <code>"Dining Hall"</code> (<code>str</code>): The name of the
dining hall.</p>
<p>• <code>"Item"</code> (<code>str</code>): The name of the menu
item.</p>
<p>• <code>"Price"</code> (<code>str</code>): The cost of the menu
item.</p>
<p>• <code>"Calories"</code> (<code>int</code>): The number of calories
in the menu item.</p>
<p>The rows of <code>dining</code> are in no particular order. The first
few rows are shown below, though <code>dining</code> has many more rows
than pictured.</p>
<center><img src="../assets/images/wi25-midterm/dining.jpg" width=600></center>
<hr />
<h2 id="problem-1">Problem 1</h2>
<p>Which of the following columns would be an appropriate index for the
<code>dining</code> DataFrame?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> <code>"Dining Hall"</code></p></li>
<li><p><input type="radio" disabled="" /> <code>"Item"</code></p></li>
<li><p><input type="radio" disabled="" /> <code>"Price"</code></p></li>
<li><p><input type="radio" disabled="" /> <code>"Calories"</code></p></li>
<li><p><input type="radio" disabled="" /> None of these.</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse1" aria-expanded="true" aria-controls="collapse1">
Click to view the solution.
</button>
</h2>
<div id="collapse1" class="accordion-collapse collapse"
aria-labelledby="heading1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> None of these</p>
<p>None of the following columns would be an appropriate index since
they all possibly contain duplicates. We are told that each row
represents a single menu item available at one of the UCSD dining halls.
This means that each row represents a combination of both
<code>"Dining Hall"</code> and <code>"Item"</code> so no one column is
sufficient to uniquely identify a row. We can see this in the preview of
the first few rows of the DataFrame. There are multiple rows with the
same value in the <code>"Dining Hall"</code> column, and also multiple
rows with the same value in the <code>"Item"</code> column.</p>
<p>While <code>"Price"</code> and <code>"Calories"</code> <em>could</em>
be unique, it doesn’t make sense to refer to a row by its price or
number of calories. Further, we have no information that guarantees the
values in these columns are unique (they’re probably not).</p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 76%.</p>
</div>
</div>
</div>
</div>
<hr />
<h2 id="problem-2">Problem 2</h2>
<p>As a broke college student, you are on a mission to find the dining
hall with the greatest number of affordable menu items.</p>
<p><br></p>
<h3 id="problem-2.1">Problem 2.1</h3>
<p>To begin, you want a DataFrame with the same columns as
<code>dining</code>, but with an additional column
<code>"Affordability"</code> which classifies each menu item as
follows:</p>
<ol type="1">
<li><p><code>"Cheap"</code>, for items that cost $6 or less.</p></li>
<li><p><code>"Moderate"</code>, for items that cost more than $6 and at
most $14.</p></li>
<li><p><code>"Expensive"</code>, for items that cost more than
$14.</p></li>
</ol>
<p>Fill in the blanks below to assign this new DataFrame to the variable
<code>with_affordability</code>.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> categorize(price):</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>        price_as_float <span class="op">=</span> __(a)__  </span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> price_as_float __(b)__:</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>            <span class="cf">return</span> __(c)__</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>        <span class="cf">elif</span> price_as_float <span class="op">&gt;</span> <span class="dv">6</span>:</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>            <span class="cf">return</span> <span class="st">&quot;Moderate&quot;</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>        <span class="cf">else</span>:</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>            <span class="cf">return</span> __(d)__</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>    with_affordability <span class="op">=</span> dining.assign(Affordability <span class="op">=</span> __(e)__)</span></code></pre></div>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading2_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse2_1" aria-expanded="true" aria-controls="collapse2_1">
Click to view the solution.
</button>
</h2>
<div id="collapse2_1" class="accordion-collapse collapse"
aria-labelledby="heading2_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer (a):</strong> <code>float(price.strip("$"))</code> or
<code>float(price.replace("$", ""))</code> or
<code>float(price.split("$")[1])</code></p>
<p>To solve this problem, we must keep in mind that the prices in the
<code>"Price"</code> column are formatted as strings with dollar signs
in front of them. For example, we might see a value such as
<code>"$9.50"</code>. Our function’s goal is to transform any given
value in the <code>"Price"</code> column into a float matching the
corresponding dollar amount.</p>
<p>Therefore, one strategy is to first use the <code>.strip</code>
string method to strip the price of the initial dollar sign. Since we
need our output as a float, we can call the python <code>float</code>
function on this to get the price as a float.</p>
<p>The other strategies are similar. We can replace the dollar sign with
the empty string, effectively removing it, then convert to a float.
Similarly, we can split the price according to the instances of
<code>"$"</code>. This will return a list of two elements, the first of
which contains everything before the dollar sign, which is the empty
string, and the second of which contains everything after the dollar
sign, which is the part we want. We extract it with <code>[1]</code> and
then convert the answer to a float.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 61%.</p>
<p><strong>Answer (b):</strong> <code>&gt; 14</code></p>
<p>The key to getting this question correct comes from understanding how
the placement of <code>price_as_float &gt; 6</code> affects how you
order the rest of the conditionals within the function. The method
through which we test if a price is <code>"Moderate"</code> is by
checking if <code>price_as_float &gt; 6</code>. But
<code>"Moderate"</code> is defined as being not only more than 6 dollars
but also less that or equal to 14 dollars. So we must first check to see
if the price is <code>"Expensive"</code> before we check and see if the
price is <code>"Moderate"</code>. This way, prices that are in the
<code>"Expensive"</code> range get caught by the first <code>if</code>
statement, and then prices in the <code>"Moderate"</code> range get
caught by the <code>elif</code>.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 74%.</p>
<p><strong>Answer (c):</strong> <code>"Expensive"</code></p>
<p>In the previous part of this question we checked to see if the
<code>price_as_float &gt; 14</code>. We did this to see if the given
price falls into the <code>"Expensive"</code> category. Since the
<code>categorize</code> function is meant to take in a price and output
the corresponding category, we just need to output the correct category
for this conditional which is <code>"Expensive"</code>.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 75%.</p>
<p><strong>Answer (d):</strong> <code>"Cheap"</code></p>
<p>In the previous parts of this question, we have implemented checks to
see if a price is <code>"Expensive"</code> or <code>"Moderate"</code>.
This leaves only the <code>"Cheap"</code> price category, meaning that
it can be placed in the else statement. The logic is we check if a price
is <code>"Expensive"</code> or <code>"Moderate"</code> and if its
neither, it has to be <code>"Cheap"</code>.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 74%.</p>
<p><strong>Answer (e):</strong>
<code>dining.get("Price").apply(categorize)</code></p>
<p>Now that we have implemented the <code>categorize</code> function, we
need to apply it to the <code>"Price"</code> column so that it can be
added as a new column into <code>dining</code>. Keep in mind our
function takes in one price and outputs its price category. Thus, we
need a way to apply this function to every value in the Series that
corresponds to the <code>"Price"</code> column. To do this, we first
need to <code>get</code> the Series from the DataFrame and then use
<code>apply</code> on that Series with our <code>categorize</code>
function as the input.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 89%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-2.2">Problem 2.2</h3>
<p>Now, you want to determine, for each dining hall, the number of menu
items that fall into each affordability category. Fill in the blanks to
define a DataFrame called <code>counts</code> containing this
information. <code>counts</code> should have exactly three columns,
named <code>"Dining Hall"</code>, <code>"Affordability"</code>, and
<code>"Count"</code>.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>    counts <span class="op">=</span> with_affordability.groupby(__(f)__).count().reset_index()</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>    counts <span class="op">=</span> counts.assign(Count<span class="op">=</span>__(g)__).__(h)__</span></code></pre></div>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading2_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse2_2" aria-expanded="true" aria-controls="collapse2_2">
Click to view the solution.
</button>
</h2>
<div id="collapse2_2" class="accordion-collapse collapse"
aria-labelledby="heading2_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer (f):</strong>
<code>["Dining Hall", "Affordability"]</code> or
<code>["Affordability", "Dining Hall"]</code></p>
<p>The key to solving this problem comes from understanding exactly what
the question is asking. You are asked to create a DataFrame that
displays, in each dining hall, the number of menu items that fall into
each affordability category. This indicates that you will need to group
by both “Dining Hall” and “Affordability” because when you group by
multiple columns you get a row for every combination of values in those
columns. Rembemer that to group by multiple columns, you need to input
the columns names in a <strong>list</strong> as an argument in the
<code>groupby</code> function. The order of the columns does not
matter.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 81%.</p>
<p><strong>Answer (g):</strong> <code>counts.get("Price")</code> or
<code>counts.get("Calories")</code> or
<code>counts.get("Item")</code></p>
<p>For this part, you need to create a column called
<code>"Count"</code> with the number of menu items that fall into each
affordability category within each dining hall. The
<code>.count()</code> aggregation method works by counting the number of
values in each column within each group. In the resulting DataFrame, all
the columns have the same values, so we can use the values from any one
of the non-index columns in the grouped DataFrame. In this case, those
columns are <code>"Price"</code>, <code>"Calories"</code>, and
<code>"Item"</code>. Therefore to fill in the blank, you would get any
one of these columns.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 62%.</p>
<p><strong>Answer (h):</strong>
<code>get(["Dining Hall", "Affordability", "Count"])</code>or
<code>drop(columns=["Item", "Price", "Calories"])</code> (columns can be
in any order)</p>
<p>Recall the question asked to create a DataFrame with only three
columns. You have just added one of the columns, <code>"Count</code>.
This means you have to drop the remaining columns (<code>"Price"</code>,
<code>"Calories"</code>, and <code>"Item"</code>) or simply get the
desired columns (<code>"Dining Hall"</code>,
<code>"Affordability"</code>, and <code>"Count"</code>).</p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 77%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-2.3">Problem 2.3</h3>
<p>Suppose you determine that <code>"The Bistro"</code> is the dining
hall with the most menu items in the <code>"Cheap"</code> category, so
you will drag yourself there for every meal. Which of the following
expressions must evaluate to the number of <code>"Cheap"</code> menu
items available at <code>"The Bistro"</code>? <strong>Select all that
apply.</strong></p>
<ul class="task-list">
<li><p><input type="checkbox" disabled="" /> <code>counts.sort_values(by="Count", ascending=False).get("Count").iloc[0]</code></p></li>
<li><p><input type="checkbox" disabled="" /> <code>counts.get("Count").max()</code></p></li>
<li><p><input type="checkbox" disabled="" /> <code>(counts[counts.get("Affordability") == "Cheap"].sort_values(by="Count").get("Count").iloc[-1])</code></p></li>
<li><p><input type="checkbox" disabled="" /> <code>counts[counts.get("Dining Hall") == "The Bistro"].get("Count").max()</code></p></li>
<li><p><input type="checkbox" disabled="" /> <code>counts[(counts.get("Affordability") == "Cheap") &amp; (counts.get("Dining Hall") == "The Bistro")].get("Count").iloc[0]</code></p></li>
<li><p><input type="checkbox" disabled="" /> None of these.</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading2_3">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse2_3" aria-expanded="true" aria-controls="collapse2_3">
Click to view the solution.
</button>
</h2>
<div id="collapse2_3" class="accordion-collapse collapse"
aria-labelledby="heading2_3" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong>
<code>(counts[counts.get("Affordability") == "Cheap"].sort_values(by="Count").get("Count").iloc[-1])</code>
and
<code>counts[(counts.get("Affordability") == "Cheap") &amp; (counts.get("Dining Hall") == "The Bistro")].get("Count").iloc[0]</code></p>
<ul>
<li><p><strong>Option 1</strong>: This code sorts all rows by
<code>"Count"</code> in descending order (largest to smallest) and
selects the count from the first row. This is incorrect because there
can be another combination of <code>"Dining Hall"</code> and
<code>"Affordability"</code> that has a number of menu items larger than
the number of <code>"Cheap"</code> items at <code>"The Bistro"</code>.
For example, maybe there are 100 <code>"Cheap"</code> items at
<code>"The Bistro"</code> but 200 <code>"Moderate"</code> items at
<code>"Pines"</code>.</p></li>
<li><p><strong>Option 2</strong>: This code selects the largest value in
the <code>"Count"</code> column, which may not necessarily be the number
of <code>"Cheap"</code> items at <code>"The Bistro"</code>. Taking the
same example as above, maybe there are 100 <code>"Cheap"</code> items at
<code>"The Bistro"</code> but 200 <code>"Moderate"</code> items at
<code>"Pines"</code>.</p></li>
<li><p><strong>Option 3</strong>: This code first filters
<code>counts</code> to only include rows where
<code>"Affordability"</code> is <code>"Cheap"</code>. Then, it sorts by
<code>"Count"</code> in ascending order (smallest to largest). Since the
question states that <code>"The Bistro"</code> has the most
<code>"Cheap"</code> menu items, selecting the last row
<code>(iloc[-1])</code> from the <code>"Count"</code> column correctly
retrieves the number of <code>"Cheap"</code> menu items at
<code>"The Bistro"</code>.</p></li>
<li><p><strong>Option 4</strong>: This code filters <code>counts</code>
to only include rows where <code>"Dining Hall"</code> is
<code>"The Bistro"</code>, then returns the maximum value in the
<code>"Count"</code> column. However, <code>"The Bistro"</code> may have
more menu items in the <code>"Moderate"</code> or
<code>"Expensive"</code> categories than it does in the
<code>"Cheap"</code> category. This query does not isolate
<code>"Cheap"</code> items, so it incorrectly returns the highest count
across all affordability levels rather than just
<code>"Cheap"</code>.</p></li>
</ul>
<p>For example, if <code>"The Bistro"</code> has 100
<code>"Cheap"</code> menu items, 200 <code>"Moderate"</code> menu items,
and 50 <code>"Cheap"</code> menu items, this code would evaluate to 200,
even though that is not the number of <code>"Cheap"</code> items at
<code>"The Bistro"</code>. This is possible because we are told that
<code>"The Bistro"</code> is the dining hall with the most menu items in
the <code>"Cheap"</code> category, meaning in this example that every
other dining hall has fewer than 100 <code>"Cheap"</code> items.
However, this tells us nothing about the number of menu items at
<code>"The Bistro"</code> in the other affordability categories, which
can be greater than 100.</p>
<ul>
<li><strong>Option 5</strong>: This code queries to find the rows that
correspond to <code>"Cheap"</code> affordabaility, and a
<code>"Dining Hall"</code> value of <code>"The Bistro"</code>. This is
only one such row! The code then selects the first (and only) value in
the <code>"Count"</code> column, which correctly evaluates to the number
of <code>"Cheap"</code> items at <code>"The Bistro"</code>.</li>
</ul>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 84%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="problem-3">Problem 3</h2>
<p>Suppose we have access to another DataFrame called
<code>orders</code>, containing all student dining hall orders from the
past three years. <code>orders</code> includes the following columns,
among others:</p>
<ol type="1">
<li><p><code>"Dining Hall"</code> (<code>str</code>): The dining hall
where the order was placed.</p></li>
<li><p><code>"Start"</code> (<code>str</code>): The time the order was
placed.</p></li>
<li><p><code>"End"</code> (<code>str</code>): The time the order was
completed.</p></li>
</ol>
<p>All times are expressed in 24-hour military time format (HH:MM). For
example, <code>"13:15"</code> indicates 1:15 PM. All orders were
completed on the same day as they were placed, and <code>"End"</code> is
always after <code>"Start"</code>.</p>
<p><br></p>
<h3 id="problem-3.1">Problem 3.1</h3>
<p>Fill in the blanks in the function <code>to_minutes</code> below. The
function takes in a string representing a time in 24-hour military time
format (HH:MM) and returns an int representing the number of minutes
that have elapsed since midnight. Example behavior is given below.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>    <span class="op">&gt;&gt;&gt;</span> to_minutes(<span class="st">&quot;02:35&quot;</span>)</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>    <span class="dv">155</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>    <span class="op">&gt;&gt;&gt;</span> to_minutes(<span class="st">&quot;13:15&quot;</span>)</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>    <span class="dv">795</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> to_minutes(time):</span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>        separate <span class="op">=</span> time.__(a)__</span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>        hour <span class="op">=</span> __(b)__</span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>        minute <span class="op">=</span> __(c)__</span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> __(d)__</span></code></pre></div>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading3_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse3_1" aria-expanded="true" aria-controls="collapse3_1">
Click to view the solution.
</button>
</h2>
<div id="collapse3_1" class="accordion-collapse collapse"
aria-labelledby="heading3_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer (a):</strong> <code>split(":")</code></p>
<p>We first want to separate the time string into hours and minutes, so
we use <code>split(":")</code> to turn a string like
<code>"HH:MM"</code> into a list of the form
<code>["HH", "MM"]</code>.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 84%.</p>
<p><strong>Answer (b):</strong> <code>separate[0]</code> or
<code>int(separate[0])</code></p>
<p>The hour will be the first element of the split list, so we can
access it using <code>separate[0]</code>. This is a string, which we can
convert to an <code>int</code> now, or later in blank (d).</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 73%.</p>
<p><strong>Answer (c):</strong> <code>separate[1]</code> or
<code>int(separate[1])</code></p>
<p>The minute will be the second element of the split list, so we can
access it using <code>separate[1]</code> or <code>separate[-1]</code>.
Likewise, this is also a string, which we can convert to an
<code>int</code> now, or later in blank (d).</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 73%.</p>
<p><strong>Answer (d):</strong>
<code>int(hour) * 60 + int(minute)</code> or
<code>hour * 60 + minute</code> (depending on the answers to (b) and
(c))</p>
<p>In order to convert hours and minutes into minutes since midnight, we
have to multiply the hours by 60 and add the number of minutes. These
operations must be done with <code>int</code>s, not strings.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 73%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-3.2">Problem 3.2</h3>
<p>Fill in the blanks below to add a new column called
<code>"Wait"</code> to <code>orders</code>, which contains the number of
minutes elapsed between when an order is placed and when it is
completed. Note that the first two blanks both say <code>(e)</code>
because they should be filled in with the same value.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>    start_min <span class="op">=</span> orders.get(<span class="st">&quot;Start&quot;</span>).__(e)__</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>    end_min <span class="op">=</span> orders.get(<span class="st">&quot;End&quot;</span>).__(e)__</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>    orders <span class="op">=</span> orders.assign(Wait <span class="op">=</span> __(f)__)</span></code></pre></div>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading3_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse3_2" aria-expanded="true" aria-controls="collapse3_2">
Click to view the solution.
</button>
</h2>
<div id="collapse3_2" class="accordion-collapse collapse"
aria-labelledby="heading3_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer (e):</strong> <code>apply(to_minutes)</code></p>
<p>In order to find the time between when an order is placed and
completed, we first need to convert the <code>"Start"</code> and
<code>"End"</code> times to minutes since midnight, so that we can
subtract them. We apply the function we wrote in Problem 3.1 to get the
values of <code>"Start"</code> and <code>"End"</code> in minutes elapsed
since midnight.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 87%.</p>
<p><strong>Answer (f):</strong> <code>end_min - start_min</code></p>
<p>Now that we have the values of <code>"Start"</code> and
<code>"End"</code> columns in minutes, we simply need to subtract them
to find the wait time. Note that we are subtracting two Series here, so
the subtraction happens element-wise by matching up corresponding
elements.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 87%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-3.3">Problem 3.3</h3>
<p>You were told that <code>"End"</code> is always after
<code>"Start"</code> in <code>orders</code>, but you want to verify if
this is correct. Fill the blank below so that the result is
<code>True</code> if <code>"End"</code> is indeed always after
<code>"Start"</code>, and <code>False</code> otherwise.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>    (orders.get(<span class="st">&quot;Wait&quot;</span>) <span class="op">&gt;</span> <span class="dv">0</span>).<span class="bu">sum</span>() <span class="op">==</span> __(g)__</span></code></pre></div>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading3_3">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse3_3" aria-expanded="true" aria-controls="collapse3_3">
Click to view the solution.
</button>
</h2>
<div id="collapse3_3" class="accordion-collapse collapse"
aria-labelledby="heading3_3" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer (g):</strong> <code>orders.shape[0]</code></p>
<p>Since <code>"Wait"</code> was already calculated in the previous
question by subtracting <code>"End"</code> minus <code>"Start"</code>,
we know that positive values indicate where <code>"End"</code> is after
<code>"Start"</code>. When we evaluate
<code>orders.get("Wait") = 0</code>, we get a Boolean Series where
<code>True</code> indicates rows where <code>"End"</code> is after
<code>"Start"</code>. Taking the <code>.sum()</code> of this Boolean
Series counts how many rows satisfy this condition, using the fact that
<code>True</code> is <code>1</code> and <code>False</code> is
<code>0</code> in Python. If <code>"End"</code> is always after
<code>"Start"</code>, this sum should equal the total number of rows in
the DataFrame, which is <code>orders.shape[0]</code>. Therefore,
comparing the sum to <code>orders.shape[0]</code> will return
<code>True</code> exactly when <code>"End"</code> is after
<code>"Start"</code> for all rows.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 36%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-3.4">Problem 3.4</h3>
<p>Fill in the blanks below so that <code>ranked</code> evaluates to an
array containing the names of the dining halls in <code>orders</code>,
sorted in descending order by <strong>average wait time</strong>.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>    ranked <span class="op">=</span> np.array(orders.__(h)__</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>                             .sort_values(by<span class="op">=</span><span class="st">&quot;Wait&quot;</span>, ascending<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>                             .__(i)__)</span></code></pre></div>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading3_4">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse3_4" aria-expanded="true" aria-controls="collapse3_4">
Click to view the solution.
</button>
</h2>
<div id="collapse3_4" class="accordion-collapse collapse"
aria-labelledby="heading3_4" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer (h):</strong>
<code>groupby('Dining Hall').mean()</code></p>
<p>Since we want to compare the average wait time for each Dining Hall
we know we need to aggregate each Dining Hall and find the mean of the
<code>"Wait"</code> column. This can be done using
<code>groupby('Dining Hall').mean()</code>.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 62%.</p>
<p><strong>Answer (i):</strong> <code>index</code> or
<code>reset_index().get('Dining Hall')</code></p>
<p>The desired output is an array with the <strong>names</strong> of
each dining hall. After grouping and sorting, the dining hall names
become the index of our DataFrame. Since we want an array of these names
in descending order of wait times, we can either use <code>.index</code>
to get them directly, or <code>reset_index().get("Dining Hall")</code>
to convert the index back to a column and select it.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 43%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-3.5">Problem 3.5</h3>
<p>What would be the most appropriate type of data visualization to
compare dining halls by average wait time?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> scatter plot</p></li>
<li><p><input type="radio" disabled="" /> line plot</p></li>
<li><p><input type="radio" disabled="" /> bar chart</p></li>
<li><p><input type="radio" disabled="" /> histogram</p></li>
<li><p><input type="radio" disabled="" /> overlaid plot</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading3_5">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse3_5" aria-expanded="true" aria-controls="collapse3_5">
Click to view the solution.
</button>
</h2>
<div id="collapse3_5" class="accordion-collapse collapse"
aria-labelledby="heading3_5" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> bar chart</p>
<p><code>"Dining Hall"</code> is a categorical variable and the average
wait time is a numerical variable, so a bar chart should be used. Our
visualization would have a bar for each dining hall, and the length of
that bar would be proportional to the average wait time.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 89%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="problem-4">Problem 4</h2>
<p>Below is a density histogram displaying the distribution of wait
times for orders from UCSD dining halls.</p>
<center><img src="../assets/images/wi25-midterm/bistro.png" width=600></center>
<p><br></p>
<h3 id="problem-4.1">Problem 4.1</h3>
<p>Fill in the blanks to define a variable <code>bins</code> that could
have been used as the <code>bins</code> argument in the call to
<code>.plot</code> that generated the histogram above.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>    bins <span class="op">=</span> <span class="fl">0.5</span> <span class="op">*</span> (<span class="dv">2</span> <span class="op">+</span> np.arange(__(a)__, __(b)__, __(c)__))</span></code></pre></div>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading4_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse4_1" aria-expanded="true" aria-controls="collapse4_1">
Click to view the solution.
</button>
</h2>
<div id="collapse4_1" class="accordion-collapse collapse"
aria-labelledby="heading4_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer (a):</strong> <code>8</code></p>
<p>The first piece of information to note is what the bins are in the
original histogram; if we know where we need to arrive at the end of the
problem, it is much easier to piece together the arguments we need to
pass to <code>np.arange</code> in the code provided.</p>
<p>With this in mind, the bins in the original histogram are defined by
the array with values <code>[5, 7, 9, 11, 13, 15, 17]</code>. So, we can
work backwards from here to answer this question.</p>
<p>The final step in the code is multiplying the result of
<code>2 + np.arange(a, b, c)</code> by <code>0.5</code>. Since we know
this must result in <code>[5, 7, 9, 11, 13, 15, 17]</code>, the array
generated by <code>2 + np.arange(a, b, c)</code> must have the values
<code>[10, 14, 18, 22, 26, 30, 34]</code>.</p>
<p>Using similar logic, we know that <code>2 + np.arange(a, b, c)</code>
must give us the array with values
<code>[10, 14, 18, 22, 26, 30, 34]</code>. By subtracting two, we get
that <code>np.arange(a, b, c)</code> must have values
<code>[8, 12, 16, 20, 24, 28, 32]</code>.</p>
<p>There are multiple calls to <code>np.arange()</code> that result in
this sequence. We should start at <code>8</code> and step by
<code>4</code>, but where we stop can be any number larger than
<code>32</code>, and at most <code>36</code>, as this argument is
exclusive and not included in the output array. So, the answers are (a)
= <code>8</code>, (b) = any number larger than <code>32</code> and less
than or equal to <code>36</code>, and (c) = <code>4</code>.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 68%.</p>
<p><strong>Answer (b):</strong> any number in the interval
<code>(33, 36]</code></p>
<p>Refer to explaination for (a).</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 56%.</p>
<p><strong>Answer (c):</strong> <code>4</code></p>
<p>Refer to explaination for (a).</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 36%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-4.2">Problem 4.2</h3>
<p>What proportion of orders took at least <span
class="math inline">7</span> minutes but less than <span
class="math inline">12</span> minutes to complete?</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading4_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse4_2" aria-expanded="true" aria-controls="collapse4_2">
Click to view the solution.
</button>
</h2>
<div id="collapse4_2" class="accordion-collapse collapse"
aria-labelledby="heading4_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> 0.3 or 30%</p>
<p>In a density histogram, the proportion of data in a bar or set of
bars is equal to the <em>area</em> of those bars. So, to find the
proportion of orders that took between <span class="math inline">7</span> and <span class="math inline">12</span>
minutes to complete, we must find the area of the bars that encapsulate
this range.</p>
<p>The bars associated with the bins <span class="math inline">[7,
9)</span> and <span class="math inline">[9, 11)</span> contain all of
the orders that took between <span class="math inline">7</span> and
<span class="math inline">12</span> minutes. So, summing the areas of
these bars tells us the proportion of orders that took between <span class="math inline">7</span> and <span class="math inline">12</span>
minutes.</p>
<p>The width of each bar is <span class="math inline">2</span>, and the
heights of the bars are <span class="math inline">0.05</span> and <span class="math inline">0.1</span>, respectively. So, the sum of their areas
is <span class="math display">2 \cdot 0.05 + 2 \cdot 0.1 = 0.1 + 0.2 =
0.3.</span> So, <span class="math inline">0.30</span> or <span class="math inline">30\%</span> of our orders took between <span class="math inline">7</span> and <span class="math inline">12</span>
minutes to complete.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 82%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-4.3">Problem 4.3</h3>
<p>After some investigation, HDH discovers that every order that took
longer than <span class="math inline">12</span> minutes to complete was
ordered from The Bistro. As a result, they fire all the employees at The
Bistro and permanently close the dining hall. With this update, we
generate a new density histogram displaying the distribution of wait
times for orders from the other UCSD dining halls.</p>
<center><img src="../assets/images/wi25-midterm/nobistro.png" width=600></center>
<p>What are the values of X and Y along the <span
class="math inline">y</span>-axis of this histogram?</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading4_3">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse4_3" aria-expanded="true" aria-controls="collapse4_3">
Click to view the solution.
</button>
</h2>
<div id="collapse4_3" class="accordion-collapse collapse"
aria-labelledby="heading4_3" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> <span class="math inline">X = 0.1</span>,
<span class="math inline">Y = 0.2</span></p>
<p>The original histogram, including The Bistro’s data, showed a
cumulative density of <code>0.5</code> for the first three bars covering
wait times from 5 to 11 minutes. The densities were calculated as:</p>
<ul>
<li><span class="math inline">2 \times 0.1</span> (for 5-7 minutes)</li>
<li><span class="math inline">2 \times 0.05</span> (for 7-9
minutes)</li>
<li><span class="math inline">2 \times 0.1</span> (for 9-11
minutes)</li>
<li><strong>Total = 0.5</strong></li>
</ul>
<p>After we removed The Bistro’s data, these wait time intervals (5 to
11 minutes) now account for the entirety of the dataset. Hence, to
reflect the new total (100% of the data), the original bar heights need
to be doubled, as they previously summed up to <code>0.5</code> (or 50%
of the data).</p>
<ul>
<li>New height for <span class="math inline">5-7</span> minutes: <span class="math inline">0.2</span> (from <span class="math inline">0.1</span>)</li>
<li>New height for <span class="math inline">7-9</span> minutes: <span class="math inline">0.1</span> (from <span class="math inline">0.05</span>)</li>
<li>New height for <span class="math inline">9-11</span> minutes: <span class="math inline">0.2</span> (from <span class="math inline">0.1</span>)</li>
</ul>
<p>Thus, the new calculation for total density is: <span class="math inline">2 \times 0.2 + 2 \times 0.1 + 2 \times 0.2 =
1.0.</span></p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 53%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="problem-5">Problem 5</h2>
<p>It’s the grand opening of UCSD’s newest dining attraction: The Bread
Basket! As a hardcore bread enthusiast, you celebrate by eating as much
bread as possible. There are only a few menu items at The Bread Basket,
shown with their costs in the table below:</p>
<table>
<thead>
<tr>
<th style="text-align: center;"><strong>Bread</strong></th>
<th style="text-align: center;"><strong>Cost</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;">Sourdough</td>
<td style="text-align: center;">2</td>
</tr>
<tr>
<td style="text-align: center;">Whole Wheat</td>
<td style="text-align: center;">3</td>
</tr>
<tr>
<td style="text-align: center;">Multigrain</td>
<td style="text-align: center;">4</td>
</tr>
</tbody>
</table>
<p>Suppose you are given an array <code>eaten</code> containing the
names of each type of bread you ate.</p>
<p>For example, <code>eaten</code> could be defined as follows:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>    eaten <span class="op">=</span> np.array([<span class="st">&quot;Whole Wheat&quot;</span>, <span class="st">&quot;Sourdough&quot;</span>, <span class="st">&quot;Whole Wheat&quot;</span>, </span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>                      <span class="st">&quot;Sourdough&quot;</span>, <span class="st">&quot;Sourdough&quot;</span>])</span></code></pre></div>
<p>In this example, <code>eaten</code> represents five slices of bread
that you ate, for a total cost of <span class="math inline">\$12</span>.
Pricey!</p>
<p>In this problem, you’ll calculate the total cost of your bread-eating
extravaganza in various ways. In all cases, your code must calculate the
total cost for an arbitrary <code>eaten</code> array, which might not be
exactly the same as the example shown above.</p>
<p><br></p>
<h3 id="problem-5.1">Problem 5.1</h3>
<p>One way to calculate the total cost of the bread in the
<code>eaten</code> array is outlined below. Fill in the missing
code.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>    breads <span class="op">=</span> [<span class="st">&quot;Sourdough&quot;</span>, <span class="st">&quot;Whole Wheat&quot;</span>, <span class="st">&quot;Multigrain&quot;</span>]</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>    prices <span class="op">=</span> [<span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>]</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>    total_cost <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> i <span class="kw">in</span> __(a)__:</span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>        total_cost <span class="op">=</span> (total_cost <span class="op">+</span> </span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>                     np.count_nonzero(eaten <span class="op">==</span> __(b)__) <span class="op">*</span> __(c)__)</span></code></pre></div>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading5_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse5_1" aria-expanded="true" aria-controls="collapse5_1">
Click to view the solution.
</button>
</h2>
<div id="collapse5_1" class="accordion-collapse collapse"
aria-labelledby="heading5_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer (a):</strong> <code>[0, 1, 2]</code> or
<code>np.arange(len(bread))</code> or <code>range(3)</code> or
equivalent</p>
<p>Let’s read through the code skeleton and develop the answers from
intuition. First, we notice a <code>for</code> loop, but we don’t yet
know what sequence we’ll be looping through.</p>
<p>Then we notice a variable <code>total_cost</code> that is initalized
to <code>0</code>. This suggests we’ll use the accumulator pattern to
keep a running total.</p>
<p>Inside the loop, we see that we are indeed adding onto the running
total. The amount by which we increase <code>total_cost</code> is
<code>np.count_nonzero(eaten == __(b)__) * __(c)__</code>. Let’s
remember what this does. It first compares the <code>eaten</code> array
to some value and then counts how many <code>True</code> values are in
resulting Boolean array. In other words, it counts how many times the
entries in the <code>eaten</code> array equal some particular value.
This is a big clue about how to fill in the code. There are only three
possible values in the <code>eaten</code> array, and they are
<code>"Sourdough"</code>, <code>"Whole Wheat"</code>, and
<code>"Multigrain"</code>. For example, if blank (b) were filled with
<code>"Sourdough"</code>, we would be counting how many of the slices in
the <code>eaten</code> array were <code>"Sourdough"</code>. Since each
such slice costs 2 dollars, we could find the total cost of all
<code>"Sourdough"</code> slices by multiplying this count by 2.</p>
<p>Understanding this helps us understand what the code is doing: it is
separately computing the cost of each type of bread
(<code>"Sourdough"</code>, <code>"Whole Wheat"</code>,
<code>"Multigrain"</code>) and adding this onto the running total. Once
we understand what the code is doing, we can figure out how to fill in
the blanks.</p>
<p>We just discussed filling in blank (b) with <code>"Sourdough"</code>,
in which case we would have to fill in blank (c) with <code>2</code>.
But that just gives the contribution of <code>"Sourdough"</code> to the
overall cost. We also need the contributions from
<code>"Whole Wheat"</code> and <code>"Multigrain"</code>. Somehow, blank
(b) needs to take on the values in the provided <code>breads</code>
array. Similarly, blank (c) needs to take on the values in the
<code>prices</code> array, and we need to make sure that we iterate
through both of these arrays simultaneously. This means we should access
<code>breads[0]</code> when we access <code>prices[0]</code>, for
example. We can use the loop variable <code>i</code> to help us, and
fill in blank (b) with <code>breads[i]</code> and blank (c) with
<code>prices[i]</code>. This means <code>i</code> needs to take on the
values <code>0</code>, <code>1</code>, <code>2</code>, so we can loop
through the sequence <code>[0, 1, 2]</code> in blank (a). This is also
the same as <code>range(len(bread))</code> and
<code>range(len(price))</code>.</p>
<p>Bravo! We have everything we want, and the code block is now
complete.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 58%.</p>
<p><strong>Answer (b):</strong> <code>breads[i]</code></p>
<p>See explanation above.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 61%.</p>
<p><strong>Answer (c):</strong> <code>prices[i]</code></p>
<p>See explanation above.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 61%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-5.2">Problem 5.2</h3>
<p>Another way to calculate the total cost of the bread in the
<code>eaten</code> array uses the <code>merge</code> method. Fill in the
missing code below.</p>
<div class="sourceCode" id="cb10"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>    available <span class="op">=</span> bpd.DataFrame().assign(Type <span class="op">=</span> [<span class="st">&quot;Sourdough&quot;</span>, </span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>                <span class="st">&quot;Whole Wheat&quot;</span>, <span class="st">&quot;Multigrain&quot;</span>]).assign(Cost <span class="op">=</span> [<span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>])</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>    consumed <span class="op">=</span> bpd.DataFrame().assign(Eaten <span class="op">=</span> eaten)</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>    combined <span class="op">=</span> available.merge(consumed, left_on <span class="op">=</span> __(d)__, </span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>                               right_on <span class="op">=</span> __(e)__)   </span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>    total_cost <span class="op">=</span> combined.__(f)__</span></code></pre></div>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading5_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse5_2" aria-expanded="true" aria-controls="collapse5_2">
Click to view the solution.
</button>
</h2>
<div id="collapse5_2" class="accordion-collapse collapse"
aria-labelledby="heading5_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer (d):</strong> <code>"Type"</code></p>
<p>It always helps to sketch out the DataFrames.
</p>
<center><img src="../assets/images/wi25-midterm/q5-2.png" width="300"/></center>
<p>Let’s first develop some intuition based on the keywords.</p>
<ol type="1">
<li><p>We create two DataFrames as seen above, and we perform a <a href="https://dsc-courses.github.io/bpd-reference/docs/documentation/building-organizing/df.merge()">merge</a>
operation. We want to fill in what columns to merge on. It should be
easy to see that blank (e) would be the <code>"Eaten"</code> column in
<code>consumed</code>, so let’s fill that in.</p></li>
<li><p>We are getting <code>total_cost</code> from the
<code>combined</code> DataFrame in some way. If we want the total amount
of something, which aggregation function might we use?</p></li>
</ol>
<p>In general, if we have
<code>df_left.merge(df_right, left_on=col_left, right_on=col_right)</code>,
assuming all entries are non-empty, the merge process looks at
individual entries from the specified column in <code>df_left</code> and
grabs all entries from the specified column in <code>df_right</code>
that matches the entry content. Based on this, we know that the
<code>combined</code> DataFrame will contain a column of all the breads
we have eaten and their corresponding prices. Blank (d) is also settled:
we can get the list of all breads by merging on the <code>"Type"</code>
column in <code>available</code> to match with <code>"Eaten"</code>.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 81%.</p>
<p><strong>Answer (e):</strong> <code>"Eaten"</code></p>
<p>See explanation above.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 80%.</p>
<p><strong>Answer (f):</strong> <code>get("Cost").sum()</code></p>
<p>The <code>combined</code> DataFrame would look something like this:
</p>
<center><img src="../assets/images/wi25-midterm/q5-2-f.png" width="200"/></center>
<p><br/> To get the total cost of the bread in <code>“Eaten”</code>, we
can take the sum of the <code>“Cost”</code> column. <hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5> <p> </p><p>The average score on this problem
was 70%.</p></p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="problem-6">Problem 6</h2>
<p>At OceanView Terrace, you can make a custom pizza. There are <span
class="math inline">6</span> toppings available. Suppose you include
each topping with a probability of <span class="math inline">0.5</span>,
independently of all other toppings.</p>
<p><br></p>
<h3 id="problem-6.1">Problem 6.1</h3>
<p>What is the probability you create a pizza with no toppings at all?
Give your answer as a <strong>fully simplified fraction</strong>.</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading6_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse6_1" aria-expanded="true" aria-controls="collapse6_1">
Click to view the solution.
</button>
</h2>
<div id="collapse6_1" class="accordion-collapse collapse"
aria-labelledby="heading6_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> 1/64</p>
<p>We want the probability that we create a pizza with no toppings at
all, which is to say 0 toppings. That means all 6 of the toppings need
to be not included on the pizza. In other words, the probability we want
is:</p>
<p><span class="math display">P(\text{Not topping 1} \text{ AND Not
topping 2} \dots \text{ AND Not topping 6})</span></p>
<p>The problem statement gives us two important pieces of information
that we use to calculate this probability:</p>
<ol type="1">
<li><p>The probability of including every topping is independent of
every other topping.</p>
<p>The independence of including different toppings means that the
probability that we create a pizza with <strong><span class="math inline">0</span></strong> toppings can be framed as a
product of probabilities: <span class="math display">P(\text{Not topping
1}) \cdot P(\text{Not topping 2}) \cdot ... \cdot P(\text{Not topping
6})</span></p></li>
<li><p>The probability of including a topping is <span class="math inline">0.5</span></p>
<p>This means that the probability of not including each topping is
<span class="math inline">1 - 0.5 = 0.5</span>.</p></li>
</ol>
<p>Therefore, the probability of creating a pizza with no toppings is
<span class="math display">0.5 \cdot 0.5 \cdot 0.5 \cdot 0.5 \cdot 0.5
\cdot 0.5 = (0.5)^6 = \frac{1}{64}.</span></p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 75%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-6.2">Problem 6.2</h3>
<p>What is the probability that you create a pizza with exactly three
toppings? Fill in the blanks in the code below so that
<code>toppa</code> evaluates to an estimate of this probability.</p>
<div class="sourceCode" id="cb11"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>        tiptop <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>        num_trials <span class="op">=</span> <span class="dv">10000</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> i <span class="kw">in</span> np.arange(num_trials):</span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>            pizza <span class="op">=</span> np.random.choice([<span class="dv">0</span>,<span class="dv">1</span>], __(a)__)</span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>            <span class="cf">if</span> np.__(b)__ <span class="op">==</span> <span class="dv">3</span>:</span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>                tiptop <span class="op">=</span> __(c)__</span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a>        toppa <span class="op">=</span> __(d)__</span></code></pre></div>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading6_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse6_2" aria-expanded="true" aria-controls="collapse6_2">
Click to view the solution.
</button>
</h2>
<div id="collapse6_2" class="accordion-collapse collapse"
aria-labelledby="heading6_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer (a):</strong> <code>6</code></p>
<p>Blank(a) is the <code>size</code> parameter of
<code>np.random.choice</code> which determines how many random choices
we need to make. To determine what value belongs here, consider the
context of the code.</p>
<p>We are defining a variable <code>pizza</code>, representing one
simulated pizza. As we are trying to estimate the probability of
including exactly three toppings on a pizza, we can simulate the
creation of one pizza by deciding whether to include each of the 6
toppings.</p>
<p>Further, we have instructed <code>np.random.choice</code> to select
from the list <code>[0, 1]</code>. These are the possible outcomes,
which represent whether we include a topping (<code>1</code>) or don’t
(<code>0</code>). So, we must randomly choose one of these options 6
times, once per topping.</p>
<p>We are making these choices independently, so each time we choose, we
have an equal chance of selecting <code>0</code> or <code>1</code>. This
means it’s possible to get several <code>0</code>s or several
<code>1</code>s, so we are selecting with replacement. Keep in mind that
the default behavior of <code>np.random.choice</code> uses
<code>replace=True</code>, so we don’t need to specify
<code>replace=True</code> anywhere in the code, though it would not be
wrong to include it.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 58%.</p>
<p><strong>Answer (b):</strong>
<code>count_nonzero(pizza) or sum(pizza)</code></p>
<p><code>pizza</code> is an array of <code>0</code>s and
<code>1</code>s, representing whether we include a topping
(<code>1</code>) or don’t (<code>0</code>), for each of the 6 toppings.
At this step, we want to check if we have three toppings, or if there
are exactly three <code>1</code>’s in our array. We can either do this
by counting how many non-zero elements occur, using
<code>np.count_nonzero(pizza)</code>, or by finding the sum of this
array, because the sum is the total number of <code>1</code>s. Note that
the <code>.sum()</code> array method and the built-in function
<code>sum()</code> do not fit the structure of the code, which provides
us with <code>np.</code> We can, however, use the <code>numpy</code>
function <code>np.sum()</code>, which satisfies the constraints of the
problem.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 58%.</p>
<p><strong>Answer (c):</strong> <code>tiptop + 1</code></p>
<p><code>tiptop</code> is a counter representing the number times we had
exactly three toppings in our simulation. We want to add 1 to it every
time we have exactly three different toppings, or when we satisfy the
above condition (<code>np.count_nonzero(pizza) == 3</code>). This is
important so that by the end of the simulation, we have a total count of
the number of times we had exactly three toppings.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 81%.</p>
<p><strong>Answer (d):</strong> <code>tiptop / num_trials</code></p>
<p><code>tiptop</code> is the number times we had exactly three toppings
in our simulation. To convert this count into a proportion, we need to
divide it by the total number of trials in our simluation, or
<code>num_trials</code>.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 84%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-6.3">Problem 6.3</h3>
<p>What is the meaning of <code>tiptop</code> after the code has
finished running?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> The number of repetitions in our simulation.</p></li>
<li><p><input type="radio" disabled="" /> The size of our sample.</p></li>
<li><p><input type="radio" disabled="" /> The number of times we randomly selected three toppings.</p></li>
<li><p><input type="radio" disabled="" /> The proportion of times we randomly selected three toppings.</p></li>
<li><p><input type="radio" disabled="" /> The number of toppings we randomly selected.</p></li>
<li><p><input type="radio" disabled="" /> None of these answers is what <code>tiptop</code> represents.</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading6_3">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse6_3" aria-expanded="true" aria-controls="collapse6_3">
Click to view the solution.
</button>
</h2>
<div id="collapse6_3" class="accordion-collapse collapse"
aria-labelledby="heading6_3" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> The number of times we randomly selected
three toppings.</p>
<p>1 is added to <code>tiptop</code> every time the condition
<code>np.count_nonzero(pizza) == 3</code> is satisfied. This means that
<code>tiptop</code> contains the total number of times in our simulation
where <code>np.count_nonzero(pizza) == 3</code>, or where our pizza
contained exactly three toppings.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 77%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="section"><span class="math display"> </span></h2>
<h4
id="feedback-find-an-error-still-confused-have-a-suggestion-let-us-know-here.">👋
Feedback: Find an error? Still confused? Have a suggestion?
<a href="https://forms.gle/WZ71FchnXU1K154d7">Let us know
here</u></a>.</h4>
<hr />
</body>
</html>
