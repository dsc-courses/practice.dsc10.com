<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>Extra Practice Session 4: Grouping on Multiple Columns, Merging, Conditional Statements, Iteration, Probability</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      {   }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span.al { color: #ff0000; font-weight: bold; } /* Alert */
    code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
    code span.at { color: #7d9029; } /* Attribute */
    code span.bn { color: #40a070; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #4070a0; } /* Char */
    code span.cn { color: #880000; } /* Constant */
    code span.co { color: #60a0b0; font-style: italic; } /* Comment */
    code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
    code span.do { color: #ba2121; font-style: italic; } /* Documentation */
    code span.dt { color: #902000; } /* DataType */
    code span.dv { color: #40a070; } /* DecVal */
    code span.er { color: #ff0000; font-weight: bold; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #40a070; } /* Float */
    code span.fu { color: #06287e; } /* Function */
    code span.im { } /* Import */
    code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
    code span.kw { color: #007020; font-weight: bold; } /* Keyword */
    code span.op { color: #666666; } /* Operator */
    code span.ot { color: #007020; } /* Other */
    code span.pp { color: #bc7a00; } /* Preprocessor */
    code span.sc { color: #4070a0; } /* SpecialChar */
    code span.ss { color: #bb6688; } /* SpecialString */
    code span.st { color: #4070a0; } /* String */
    code span.va { color: #19177c; } /* Variable */
    code span.vs { color: #4070a0; } /* VerbatimString */
    code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="..\assets\theme.css" />
  <script defer=""
  src="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.js"></script>
  <script>document.addEventListener("DOMContentLoaded", function () {
 var mathElements = document.getElementsByClassName("math");
 var macros = [];
 for (var i = 0; i < mathElements.length; i++) {
  var texText = mathElements[i].firstChild;
  if (mathElements[i].tagName == "SPAN") {
   katex.render(texText.data, mathElements[i], {
    displayMode: mathElements[i].classList.contains('display'),
    throwOnError: false,
    macros: macros,
    fleqn: false
   });
}}});
  </script>
  <link rel="stylesheet"
  href="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.css" />
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<header id="title-block-header">
<h1 class="title">Extra Practice Session 4: Grouping on Multiple
Columns, Merging, Conditional Statements, Iteration, Probability</h1>
</header>
<p><link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
<!-- add after bootstrap.min.css -->
<link rel="stylesheet" href="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.css"/>
<!-- add after bootstrap.min.js or bootstrap.bundle.min.js -->
<script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script></p>
<!-- for difficulty gauges-->
<script src="https://cdn.plot.ly/plotly-2.16.1.min.js"></script>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-B947E6J6H4"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-B947E6J6H4');
</script>
<p><a href="../index.html">← return to practice.dsc10.com</a></p>
<hr />
<p>Welcome! The problems shown below should be worked on <strong>on
paper</strong>, since the quizzes and exams you take in this course will
also be on paper. You do not need to submit your solutions anywhere.
<br><br>We encourage you to complete this worksheet in groups during an
extra practice session on Friday, February 2nd. Solutions will be posted
after all sessions have finished. This problem set is not designed to
take any particular amount of time - focus on understanding concepts,
not on getting through all the questions.</p>
<hr />
<h2 id="problem-1">Problem 1</h2>
<p>Consider the function <code>tom_nook</code>, defined below. Recall
that if <code>x</code> is an integer, <code>x % 2</code> is
<code>0</code> if <code>x</code> is even and <code>1</code> if
<code>x</code> is odd.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> tom_nook(crossing):</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>    bells <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> nook <span class="kw">in</span> np.arange(crossing):</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> nook <span class="op">%</span> <span class="dv">2</span> <span class="op">==</span> <span class="dv">0</span>:</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>            bells <span class="op">=</span> bells <span class="op">+</span> <span class="dv">1</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>        <span class="cf">else</span>:</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>            bells <span class="op">=</span> bells <span class="op">-</span> <span class="dv">2</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> bells</span></code></pre></div>
<p>What value does <code>tom_nook(8)</code> evaluate to?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> -6</p></li>
<li><p><input type="radio" disabled="" /> -4</p></li>
<li><p><input type="radio" disabled="" /> -2</p></li>
<li><p><input type="radio" disabled="" /> 0</p></li>
<li><p><input type="radio" disabled="" /> 2</p></li>
<li><p><input type="radio" disabled="" /> 4</p></li>
<li><p><input type="radio" disabled="" /> 6</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse1" aria-expanded="true" aria-controls="collapse1">
Click to view the solution.
</button>
</h2>
<div id="collapse1" class="accordion-collapse collapse collapse"
aria-labelledby="heading1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer</strong>: -4</p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 79%.</p>
</div>
</div>
</div>
</div>
<hr />
<h2 id="problem-2">Problem 2</h2>
<p>The DataFrame <code>evs</code> consists of 32 rows, each of which
contains information about a different EV model.</p>
<p>The first few rows of <code>evs</code> are shown below.</p>
<center><img src='../assets/images/fa22-midterm/form22.png' width=60%></center>
<p><br></p>
<p><br><br></p>
<p>We also have a DataFrame that contains the distribution of
“BodyStyle” for all “Brands” in <code>evs</code>, other than Nissan.</p>
<center><img src='../assets/images/fa22-midterm/midq6.png' width=50%></center>
<p>Suppose we’ve run the following few lines of code.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>tesla <span class="op">=</span> evs[evs.get(<span class="st">&quot;Brand&quot;</span>) <span class="op">==</span> <span class="st">&quot;Tesla&quot;</span>]</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>bmw <span class="op">=</span> evs[evs.get(<span class="st">&quot;Brand&quot;</span>) <span class="op">==</span> <span class="st">&quot;BMW&quot;</span>]</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>audi <span class="op">=</span> evs[evs.get(<span class="st">&quot;Brand&quot;</span>) <span class="op">==</span> <span class="st">&quot;Audi&quot;</span>]</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>combo <span class="op">=</span> tesla.merge(bmw, on<span class="op">=</span><span class="st">&quot;BodyStyle&quot;</span>).merge(audi, on<span class="op">=</span><span class="st">&quot;BodyStyle&quot;</span>)</span></code></pre></div>
<p>How many rows does the DataFrame <code>combo</code> have?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> 21</p></li>
<li><p><input type="radio" disabled="" /> 24</p></li>
<li><p><input type="radio" disabled="" /> 35</p></li>
<li><p><input type="radio" disabled="" /> 65</p></li>
<li><p><input type="radio" disabled="" /> 72</p></li>
<li><p><input type="radio" disabled="" /> 96</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse2" aria-expanded="true" aria-controls="collapse2">
Click to view the solution.
</button>
</h2>
<div id="collapse2" class="accordion-collapse collapse collapse"
aria-labelledby="heading2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> 35</p>
<p>Let’s attempt this problem step-by-step. We’ll first determine the
number of rows in <code>tesla.merge(bmw, on="BodyStyle")</code>, and
then determine the number of rows in <code>combo</code>. <strong>For the
purposes of the solution, let’s use <code>temp</code> to refer to the
first merged DataFrame,
<code>tesla.merge(bmw, on="BodyStyle")</code>.</strong></p>
<p>Recall, when we <code>merge</code> two DataFrames, the resulting
DataFrame contains a single row for every match between the two columns,
and rows in either DataFrame without a match disappear. In this problem,
the column that we’re looking for matches in is
<code>"BodyStyle"</code>.</p>
<p>To determine the number of rows of <code>temp</code>, we need to
determine which rows of <code>tesla</code> have a
<code>"BodyStyle"</code> that matches a row in <code>bmw</code>. From
the DataFrame provided, we can see that the only
<code>"BodyStyle"</code>s in both <code>tesla</code> and
<code>bmw</code> are SUV and sedan. When we merge <code>tesla</code> and
<code>bmw</code> on <code>"BodyStyle"</code>:</p>
<ul>
<li>The 4 SUV rows in <code>tesla</code> each match the 1 SUV row in
<code>bmw</code>. This will create 4 SUV rows in <code>temp</code>.</li>
<li>The 3 sedan rows in <code>tesla</code> each match the 1 sedan row in
<code>bmw</code>. This will create 3 sedan rows in
<code>temp</code>.</li>
</ul>
<p>So, <code>temp</code> is a DataFrame with a total of 7 rows, with 4
rows for SUVs and 3 rows for sedans (in the <code>"BodyStyle"</code>)
column. Now, when we merge <code>temp</code> and <code>audi</code> on
<code>"BodyStyle"</code>:</p>
<ul>
<li>The 4 SUV rows in <code>temp</code> each match the 8 SUV rows in
<code>audi</code>. This will create <span class="math inline">4 \cdot 8
= 32</span> SUV rows in <code>combo</code>.</li>
<li>The 3 sedan rows in <code>temp</code> each match the 1 sedan row in
<code>audi</code>. This will create <span class="math inline">3 \cdot 1
= 3</span> sedan rows in <code>combo</code>.</li>
</ul>
<p>Thus, the total number of rows in <code>combo</code> is <span class="math inline">32 + 3 = 35</span>.</p>
<p>Note: You may notice that 35 is the result of multiplying the
<code>"SUV"</code> and <code>"Sedan"</code> columns in the DataFrame
provided, and adding up the results. This problem is similar to <a href="../fa21-midterm/index.html#problem-5">Problem 5 from the Fall 2021
Midterm</a>.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 45%.</p>
</div>
</div>
</div>
</div>
<hr />
<h2 id="problem-3">Problem 3</h2>
<p>The <code>sums</code> function takes in an array of numbers and
outputs the cumulative sum for each item in the array. The cumulative
sum for an element is the current element plus the sum of all the
previous elements in the array.</p>
<p>For example:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> sums(np.array([<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>]))</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>array([<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">6</span>, <span class="dv">10</span>, <span class="dv">15</span>])</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> sums(np.array([<span class="dv">100</span>, <span class="dv">1</span>, <span class="dv">1</span>]))</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>array([<span class="dv">100</span>, <span class="dv">101</span>, <span class="dv">102</span>])</span></code></pre></div>
<p>The incomplete definition of <code>sums</code> is shown below.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> sums(arr):</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>    res <span class="op">=</span> _________</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>             (a)</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>    res <span class="op">=</span> np.append(res, arr[<span class="dv">0</span>])</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> i <span class="kw">in</span> _________:</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>                (b)</span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>        res <span class="op">=</span> np.append(res, _________)</span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>                                (c)</span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> res</span></code></pre></div>
<p><br></p>
<h3 id="problem-3.1">Problem 3.1</h3>
<p>Fill in blank (a).</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading3_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse3_1" aria-expanded="true" aria-controls="collapse3_1">
Click to view the solution.
</button>
</h2>
<div id="collapse3_1" class="accordion-collapse collapse collapse"
aria-labelledby="heading3_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer: </strong> <code>np.array([])</code> or
<code>[]</code></p>
<p><code>res</code> is the list in which we’ll be storing each
cumulative sum. Thus we start by initializing <code>res</code> to an
empty array or list.</p>
<hr/>
<h5>Difficulty: ⭐️</h5>
<p>
</p>
<p>The average score on this problem was 100%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-3.2">Problem 3.2</h3>
<p>Fill in blank (b).</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading3_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse3_2" aria-expanded="true" aria-controls="collapse3_2">
Click to view the solution.
</button>
</h2>
<div id="collapse3_2" class="accordion-collapse collapse collapse"
aria-labelledby="heading3_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer: </strong> <code>range(1, len(arr))</code> or
<code>np.arange(1, len(arr))</code></p>
<p>We’re trying to loop through the indices of <code>arr</code> and
calculate the cumulative sum corresponding to each entry. To access each
index in sequential order, we simply use <code>range()</code> or
<code>np.arange()</code>. However, notice that we have already appended
the first entry of <code>arr</code> to <code>res</code> on line 3 of the
code snippet. (Note that the first entry of <code>arr</code> is the same
as the first cumulative sum.) Thus the lower bound of
<code>range()</code> (or <code>np.arange()</code>) actually starts at 1,
not 0. The upper bound is still <code>len(arr)</code> as usual.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 64%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-3.3">Problem 3.3</h3>
<p>Fill in blank (c).</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading3_3">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse3_3" aria-expanded="true" aria-controls="collapse3_3">
Click to view the solution.
</button>
</h2>
<div id="collapse3_3" class="accordion-collapse collapse collapse"
aria-labelledby="heading3_3" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer: </strong> <code>res[i - 1] + arr[i]</code> or
<code>sum(arr[:i + 1])</code></p>
<p>Looking at the syntax of the problem, the blank we have to fill
essentially requires us to calculate the current cumulative sum, since
the rest of line will already append the blank to <code>res</code> for
us. One way to think of a cumulative sum is to add the “current”
<code>arr</code> element to the previous cumulative sum, since the
previous cumulative sum encapsulates all the previous elements. Because
we have access to both of those values, we can easily represent it as
<code>res[i - 1] + arr[i]</code>. The second answer is more a more
direct approach. Because the cumulative sum is just the sum of all the
previous elements up to the current element, we can directly compute it
with <code>sum(arr[:i + 1])</code></p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 71%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="problem-4">Problem 4</h2>
<p><strong>True or False</strong>: If you roll two dice, the probability
of rolling two fives is the same as the probability of rolling a six and
a three.</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading4">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse4" aria-expanded="true" aria-controls="collapse4">
Click to view the solution.
</button>
</h2>
<div id="collapse4" class="accordion-collapse collapse collapse"
aria-labelledby="heading4" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer: </strong> False</p>
<p>The probability of rolling two fives can be found with 1/6 * 1/6 =
1/36. The probability of rolling a six and a three can be found with 2/6
(can roll either a 3 or 6) * 1/6 (roll a different side form 3 or 6,
depending on what you rolled first) = 1/18. Therefore, the probabilities
are not the same. </p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️⭐️</h5>
<p>The average score
on this problem was 33%.</p>
</div>
</div>
</div>
</div>
<hr />
<h2 id="problem-5">Problem 5</h2>
<p>Below, we’ve defined four functions, named <code>converter_1</code>,
<code>converter_2</code>, <code>converter_3</code>, and
<code>converter_4</code>. All four functions return <code>"12PM"</code>
when <code>"A"</code> is the argument passed in and return
<code>"1PM"</code> when <code>"B"</code> is the argument passed in.
Where they potentially differ is in how they behave when called on
arguments other than <code>"A"</code> and <code>"B"</code>.</p>
<p>Note: In the answer choices below, by <code>None</code> we mean that
the function call doesn’t return anything, but doesn’t error either.</p>
<p><br></p>
<h3 id="problem-5.1">Problem 5.1</h3>
<p>Consider the function <code>converter_1</code>, defined below.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> converter_1(section):</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> section <span class="op">==</span> <span class="st">&quot;A&quot;</span>:</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>            <span class="cf">return</span> <span class="st">&quot;12PM&quot;</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>        <span class="cf">else</span>:</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>            <span class="cf">return</span> <span class="st">&quot;1PM&quot;</span></span></code></pre></div>
<p>When <code>convert_1</code> is called on an argument other than
<code>"A"</code> or <code>"B"</code>, what does it return?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> <code>"12PM"</code></p></li>
<li><p><input type="radio" disabled="" /> <code>"1PM"</code></p></li>
<li><p><input type="radio" disabled="" /> <code>None</code></p></li>
<li><p><input type="radio" disabled="" /> It errors</p></li>
</ul>
<p><br></p>
<p>Consider the function <code>converter_2</code>, defined below.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> converter_2(section):</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>        time_dict <span class="op">=</span> {</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>            <span class="st">&quot;A&quot;</span>: <span class="st">&quot;12PM&quot;</span>,</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>            <span class="st">&quot;B&quot;</span>: <span class="st">&quot;1PM&quot;</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>        }</span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> times_dict[section]</span></code></pre></div>
<p>When <code>convert_2</code> is called on an argument other than
<code>"A"</code> or <code>"B"</code>, what does it return?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> <code>"12PM"</code></p></li>
<li><p><input type="radio" disabled="" /> <code>"1PM"</code></p></li>
<li><p><input type="radio" disabled="" /> <code>None</code></p></li>
<li><p><input type="radio" disabled="" /> It errors</p></li>
</ul>
<p><br></p>
<p>Consider the function <code>converter_3</code>, defined below.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> converter_3(section):</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> section <span class="op">==</span> <span class="st">&quot;A&quot;</span>:</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>            <span class="cf">return</span> <span class="st">&quot;12PM&quot;</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>        <span class="cf">elif</span> section <span class="op">==</span> <span class="st">&quot;B&quot;</span>:</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>            <span class="cf">return</span> <span class="st">&quot;1PM&quot;</span></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>        <span class="cf">else</span>:</span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>            <span class="cf">return</span> <span class="dv">1</span> <span class="op">/</span> <span class="dv">0</span></span></code></pre></div>
<p>When converter_3 is called on an argument other than <code>"A"</code>
or <code>"B"</code>, what does it return?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> <code>"12PM"</code></p></li>
<li><p><input type="radio" disabled="" /> <code>"1PM"</code></p></li>
<li><p><input type="radio" disabled="" /> <code>None</code></p></li>
<li><p><input type="radio" disabled="" /> It errors</p></li>
</ul>
<p><br></p>
<p>Consider the function <code>converter_4</code>, defined below.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> converter_4(section):</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>        sections <span class="op">=</span> [<span class="st">&quot;A&quot;</span>, <span class="st">&quot;B&quot;</span>]</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>        times <span class="op">=</span> [<span class="st">&quot;12PM&quot;</span>, <span class="st">&quot;1PM&quot;</span>]</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> i <span class="kw">in</span> np.arange(<span class="bu">len</span>(sections)):</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>            <span class="cf">if</span> section <span class="op">==</span> sections[i]:</span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>                <span class="cf">return</span> times[i]</span></code></pre></div>
<p>When <code>converter_4</code> is called on an argument other than
<code>"A"</code> or <code>"B"</code>, what does it return?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> <code>"12PM"</code></p></li>
<li><p><input type="radio" disabled="" /> <code>"1PM"</code></p></li>
<li><p><input type="radio" disabled="" /> <code>None</code></p></li>
<li><p><input type="radio" disabled="" /> It errors</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading5_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse5_1" aria-expanded="true" aria-controls="collapse5_1">
Click to view the solution.
</button>
</h2>
<div id="collapse5_1" class="accordion-collapse collapse collapse"
aria-labelledby="heading5_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer</strong>: <code>converter_1</code>:
<code>"1PM"</code>, <code>converter_2</code>: It errors,
<code>converter_3</code>: It errors, <code>converter_4</code>:
<code>None</code>.</p>
<p><code>converter_1</code>: <code>"1PM"</code>. The function
<code>converter_1</code> checks if the input <code>section</code> is
equal to <code>"A"</code>. If it is, the function returns
<code>"12PM"</code>. However, if the input is anything other than
<code>"A"</code> (including values other than <code>"B"</code>), the
function defaults to the <code>else</code> condition and returns
<code>"1PM"</code>. So, even for arguments other than <code>"A"</code>
or <code>"B"</code>, <code>converter_1</code> will return
<code>"1PM"</code>.</p>
<hr/>
<h5>Difficulty: ⭐️</h5>
<p>
</p>
<p>The average score on this problem was 90%.</p>
<p><br/><br/></p>
<p><code>converter_2</code>: It errors. The function
<code>converter_2</code> utilizes a dictionary (<code>time_dict</code>)
to map section values to their corresponding times. When a key that
doesn’t exist in the dictionary is accessed (anything other than
<code>"A"</code> or <code>"B"</code>), a KeyError is raised, causing the
function to error. </p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>The average score
on this problem was 62%.</p>
<p><br/><br/></p>
<p><code>converter_3</code>: It errors. The function
<code>converter_3</code> specifically checks if the input section is
<code>"A"</code> or <code>"B"</code>. If the input is neither
<code>"A"</code> nor <code>"B"</code>, the function defaults to the else
condition where it tries to divide <code>1</code> by <code>0</code>.
This operation will cause a ZeroDivisionError, leading the function to
error. </p>
<hr/>
<h5>Difficulty: ⭐️</h5>
<p>The average score on this problem
was 90%.</p>
<p><br/><br/></p>
<p><code>converter_4</code>: <code>None</code>. The function
<code>converter_4</code> uses two lists, <code>sections</code> and
<code>times</code>, to map the section letters <code>"A"</code> and
<code>"B"</code> to their corresponding times <code>"12PM"</code> and
<code>"1PM"</code>. The function then employs a <code>for</code>-loop to
traverse through the sections list. The expression
<code>range(len(sections))</code> is used to generate a sequence of
indices for this list; since <code>len(sections)</code> is 2,
<code>np.arange(len(sections))</code> is the array
<code>np.array([0, 1])</code>. Then, - Inside the loop, the condition if
<code>section == sections[i]</code> checks if the input section matches
the section at the current index <code>i</code> of the
<code>sections</code> list. If a match is found, the function returns
the corresponding time from the <code>times</code> list using
<code>return times[i]</code>. - However, if the function traverses the
entire <code>sections</code> list without finding a match (i.e., the
input is neither <code>"A"</code> nor <code>"B"</code>), no
<code>return</code> statement is executed. In Python, if a function
completes its execution without encountering a <code>return</code>
statement, it implicitly returns the value <code>None</code>. Hence, for
inputs other than <code>"A"</code> or <code>"B"</code>,
<code>converter_4</code> will return <code>None</code>.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 77%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="problem-6">Problem 6</h2>
<p>Teresa and Sophia are bored while waiting in line at Bistro and
decide to start flipping a UCSD-themed coin, with a picture of King
Triton’s face as the heads side and a picture of his mermaid-like tail
as the tails side.</p>
<center><img src='../assets/images/sp23-midterm/king_triton.png' width=200></center>
<p><br></p>
<p>Teresa flips the coin 21 times and sees 13 heads and 8 tails. She
stores this information in a DataFrame named <code>teresa</code> that
has 21 rows and 2 columns, such that:</p>
<ul>
<li><p>The <code>"flips"</code> column contains <code>"Heads"</code> 13
times and <code>"Tails"</code> 8 times.</p></li>
<li><p>The <code>"Wolftown"</code> column contains <code>"Teresa"</code>
21 times.</p></li>
</ul>
<p>Then, Sophia flips the coin 11 times and sees 4 heads and 7 tails.
She stores this information in a DataFrame named <code>sophia</code>
that has 11 rows and 2 columns, such that:</p>
<ul>
<li><p>The <code>"flips"</code> column contains <code>"Heads"</code> 4
times and <code>"Tails"</code> 7 times.</p></li>
<li><p>The <code>"Makai"</code> column contains <code>"Sophia"</code> 11
times.</p></li>
</ul>
<p><br></p>
<h3 id="problem-6.1">Problem 6.1</h3>
<p>How many rows are in the following DataFrame? Give your answer as an
integer.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>    teresa.merge(sophia, on<span class="op">=</span><span class="st">&quot;flips&quot;</span>)</span></code></pre></div>
<p><em>Hint: The answer is less than 200.</em></p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading6_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse6_1" aria-expanded="true" aria-controls="collapse6_1">
Click to view the solution.
</button>
</h2>
<div id="collapse6_1" class="accordion-collapse collapse collapse"
aria-labelledby="heading6_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer</strong>: 108</p>
<p>Since we used the argument <code>on="flips</code>, rows from
<code>teresa</code> and <code>sophia</code> will be combined whenever
they have matching values in their <code>"flips"</code> columns.</p>
<p>For the <code>teresa</code> DataFrame:</p>
<ul>
<li>There are 13 rows with <code>"Heads"</code> in the
<code>"flips"</code> column.</li>
<li>There are 8 rows with <code>"Tails"</code> in the
<code>"flips"</code> column.</li>
</ul>
<p>For the <code>sophia</code> DataFrame:</p>
<ul>
<li>There are 4 rows with <code>"Heads"</code> in the
<code>"flips"</code> column.</li>
<li>There are 7 rows with <code>"Tails"</code> in the
<code>"flips"</code> column.</li>
</ul>
<p>The merged DataFrame will also only have the values
<code>"Heads"</code> and <code>"Tails"</code> in its
<code>"flips"</code> column. - The 13 <code>"Heads"</code> rows from
<code>teresa</code> will each pair with the 4 <code>"Heads"</code> rows
from <code>sophia</code>. This results in <span class="math inline">13
\cdot 4 = 52</span> rows with <code>"Heads"</code> - The 8
<code>"Tails"</code> rows from <code>teresa</code> will each pair with
the 7 <code>"Tails"</code> rows from <code>sophia</code>. This results
in <span class="math inline">8 \cdot 7 = 56</span> rows with
<code>"Tails"</code>.</p>
<p>Then, the total number of rows in the merged DataFrame is <span class="math inline">52 + 56 = 108</span>.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 54%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<p><br></p>
<h3 id="problem-6.2">Problem 6.2</h3>
<p>Let <span class="math inline">A</span> be your answer to the previous
part. Now, suppose that:</p>
<ul>
<li><p><code>teresa</code> contains an additional row, whose
<code>"flips"</code> value is <code>"Total"</code> and whose
<code>"Wolftown"</code> value is 21.</p></li>
<li><p><code>sophia</code> contains an additional row, whose
<code>"flips"</code> value is <code>"Total"</code> and whose
<code>"Makai"</code> value is 11.</p></li>
</ul>
<p>Suppose we again merge <code>teresa</code> and <code>sophia</code> on
the <code>"flips"</code> column. In terms of <span
class="math inline">A</span>, how many rows are in the new merged
DataFrame?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> <span class="math inline">A</span></p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">A+1</span></p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">A+2</span></p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">A+4</span></p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">A+231</span></p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading6_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse6_2" aria-expanded="true" aria-controls="collapse6_2">
Click to view the solution.
</button>
</h2>
<div id="collapse6_2" class="accordion-collapse collapse collapse"
aria-labelledby="heading6_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer</strong>: <span class="math inline">A+1</span></p>
<p>The additional row in each DataFrame has a unique
<code>"flips"</code> value of <code>"Total"</code>. When we merge on the
<code>"flips"</code> column, this unique value will only create a single
new row in the merged DataFrame, as it pairs the <code>"Total"</code>
from <code>teresa</code> with the <code>"Total"</code> from
<code>sophia</code>. The rest of the rows are the same as in the
previous merge, and as such, they will contribute the same number of
rows, <span class="math inline">A</span>, to the merged DataFrame. Thus,
the total number of rows in the new merged DataFrame will be <span class="math inline">A</span> (from the original matching rows) plus 1
(from the new <code>"Total"</code> rows), which sums up to <span class="math inline">A+1</span>.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 46%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="problem-7">Problem 7</h2>
<p>In recent years, there has been an explosion of board games that
teach computer programming skills, including <em>CoderMindz</em>,
<em>Robot Turtles</em>, and <em>Code Monkey Island</em>. Many such games
were made possible by Kickstarter crowdfunding campaigns.</p>
<p>Suppose that in one such game, players must prove their understanding
of functions and conditional statements by answering questions about the
function <code>wham</code>, defined below. Like players of this game,
you’ll also need to answer questions about this function.</p>
<div class="sourceCode" id="cb10"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span> <span class="kw">def</span> wham(a, b):</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span>   <span class="cf">if</span> a <span class="op">&lt;</span> b:</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span>       <span class="cf">return</span> a <span class="op">+</span> <span class="dv">2</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span>   <span class="cf">if</span> a <span class="op">+</span> <span class="dv">2</span> <span class="op">==</span> b:</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a><span class="dv">5</span>       <span class="bu">print</span>(a <span class="op">+</span> <span class="dv">3</span>)</span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a><span class="dv">6</span>       <span class="cf">return</span> b <span class="op">+</span> <span class="dv">1</span></span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a><span class="dv">7</span>   <span class="cf">elif</span> a <span class="op">-</span> <span class="dv">1</span> <span class="op">&gt;</span> b:</span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a><span class="dv">8</span>       <span class="bu">print</span>(a)</span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a><span class="dv">9</span>       <span class="cf">return</span> a <span class="op">+</span> <span class="dv">2</span></span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a><span class="dv">10</span>  <span class="cf">else</span>:</span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a><span class="dv">11</span>      <span class="cf">return</span> a <span class="op">+</span> <span class="dv">1</span></span></code></pre></div>
<p><br></p>
<h3 id="problem-7.1">Problem 7.1</h3>
<p>What is printed when we run <code>print(wham(6, 4))</code>?</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading7_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse7_1" aria-expanded="true" aria-controls="collapse7_1">
Click to view the solution.
</button>
</h2>
<div id="collapse7_1" class="accordion-collapse collapse collapse"
aria-labelledby="heading7_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> 6 8</p>
<p>Imagine there is a pointer from <code>a</code> to 6 and from
<code>b</code> to 4. In the function we look at the first
<code>if</code>-statement. The <code>if</code>-statement is checking if
<code>a</code>, which points to 6, is less than <code>b</code>, which
points to 4. We know 6 is not less than 4, so we skip this section of
code. Next we see the second <code>if</code>-statement which checks if
<code>a</code>, 6, plus 2 equals <code>b</code>, 4. We know <span class="math inline">6 + 2 = 8</span>, which is not equal to 4. We then
look at the <code>elif</code>-statement which asks if <code>a</code>, 6,
minus 1 is greater than <code>b</code>, 4. This is True! <span class="math inline">6 - 1 = 5</span> and 5 &gt; 4. So we
<code>print(a)</code>, which will spit out 6 and then we will
<code>return a + 2</code>. <code>a + 2</code> is <span class="math inline">6 + 2</span>. This means the function
<code>wham</code> will print 6 and return 8.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 81%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-7.2">Problem 7.2</h3>
<p>Give an example of a pair of integers <code>a</code> and
<code>b</code> such that <code>wham(a, b)</code> returns
<code>a + 1</code>.</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading7_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse7_2" aria-expanded="true" aria-controls="collapse7_2">
Click to view the solution.
</button>
</h2>
<div id="collapse7_2" class="accordion-collapse collapse collapse"
aria-labelledby="heading7_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> Any pair of integers <code>a</code>,
<code>b</code> with <code>a = b</code> or with
<code>a = b + 1</code></p>
<p>The desired output is <code>a + 1</code>. So we want to look at the
function <code>wham</code> and see which condition is necessary to get
the output <code>a + 1</code>. It turns out that this can be found in
the <code>else</code>-block, which means we need to find an
<code>a</code> and <code>b</code> that will not satisfy any of the
<code>if</code> or <code>elif</code>-statements.</p>
<p>If <code>a = b</code>, so for example <code>a</code> points to 4 and
<code>b</code> points to 4 then: <code>a</code> is not less than
<code>b</code> (4 &lt; 4), <code>a + 2</code> is not equal to
<code>b</code> (<span class="math inline">4 + 2 = 6</span> and 6 does
not equal 4), and <code>a - 1</code> is not greater than <code>b</code>
(<span class="math inline">4 - 1= 3</span>) and 3 is not greater than
4.</p>
<p>If <code>a = b + 1</code> this means that <code>a</code> is greater
than <code>b</code>, so for example if <code>b</code> is 4 then
<code>a</code> is 5 (<span class="math inline">4 + 1 = 5</span>). If we
look at the <code>if</code>-statements then <code>a &lt; b</code> is not
true (5 is greater than 4), <code>a + 2 == b</code> is also not true
(<span class="math inline">5 + 2 = 7</span> and 7 does not equal 4), and
<code>a - 1 &gt; b</code> is also not true (<span class="math inline">5
- 1 = 4</span> and 4 is equal not greater than 4). This means it will
trigger the <code>else</code> statement.</p>
<hr/>
<h5>Difficulty: ⭐️</h5>
<p>
</p>
<p>The average score on this problem was 94%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-7.3">Problem 7.3</h3>
<p>Which of the following lines of code will never be executed, for any
input?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> 3</p></li>
<li><p><input type="radio" disabled="" /> 6</p></li>
<li><p><input type="radio" disabled="" /> 9</p></li>
<li><p><input type="radio" disabled="" /> 11</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading7_3">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse7_3" aria-expanded="true" aria-controls="collapse7_3">
Click to view the solution.
</button>
</h2>
<div id="collapse7_3" class="accordion-collapse collapse collapse"
aria-labelledby="heading7_3" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> 6</p>
<p>For this to happen: <code>a + 2 == b</code> then <code>a</code> must
be less than <code>b</code> by 2. However if <code>a</code> is less than
<code>b</code> it will trigger the first <code>if</code>-statement. This
means this second <code>if</code>-statement will never run, which means
that the <code>return</code> on line 6 never happens.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 79%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="problem-8">Problem 8</h2>
<p>King Triton had four children, and each of his four children started
their own families. These four families organize a Triton family reunion
each year. The compositions of the four families are as follows:</p>
<ul>
<li><p>Family W: <code>"1a4c"</code></p></li>
<li><p>Family X: <code>"2a1c"</code></p></li>
<li><p>Family Y: <code>"2a3c"</code></p></li>
<li><p>Family Z: <code>"1a1c"</code></p></li>
</ul>
<p>Suppose we choose one of the fifteen people at the Triton family
reunion at random.</p>
<p><br></p>
<h3 id="problem-8.1">Problem 8.1</h3>
<p>Given that the chosen individual is from a family with one child,
what is the probability that they are from Family X? Give your answer as
a simplified fraction.</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading8_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse8_1" aria-expanded="true" aria-controls="collapse8_1">
Click to view the solution.
</button>
</h2>
<div id="collapse8_1" class="accordion-collapse collapse collapse"
aria-labelledby="heading8_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> <span class="math inline">\frac{3}{5}</span></p>
<p>Given that the chosen individual is from a family with one child, we
know that they must be from either Family X or Family Z. There are three
individuals in Family X, and there are a total of five individuals from
these two families. Thus, the probability of choosing any one of the
three individuals from Family X out of the five individuals from both
families is <span class="math inline">\frac{3}{5}</span>.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 43%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-8.2">Problem 8.2</h3>
<p>Consider the events <span class="math inline">A</span> and <span
class="math inline">B</span>, defined below.</p>
<ul>
<li><p><span class="math inline">A</span>: The chosen individual is an
adult.</p></li>
<li><p><span class="math inline">B</span>: The chosen individual is a
child.</p></li>
</ul>
<p>True or False: Events <span class="math inline">A</span> and <span
class="math inline">B</span> are independent.</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> True</p></li>
<li><p><input type="radio" disabled="" /> False</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading8_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse8_2" aria-expanded="true" aria-controls="collapse8_2">
Click to view the solution.
</button>
</h2>
<div id="collapse8_2" class="accordion-collapse collapse collapse"
aria-labelledby="heading8_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> False</p>
<p>If two events are independent, knowledge of one event happening does
not change the probability of the other event happening. In this case,
events <span class="math inline">A</span> and <span class="math inline">B</span> are not independent because knowledge of
one event gives complete knowledge of the other.</p>
<p>To see this, note that the probability of choosing a child randomly
out of the fifteen individuals is <span class="math inline">\frac{9}{15}</span>. That is, <span class="math inline">P(B) = \frac{9}{15}</span>.</p>
<p>Suppose now that we know that the chosen individual is an adult. In
this case, the probability that the chosen individual is a child is
<span class="math inline">0</span>, because nobody is both a child and
an adult. That is, <span class="math inline">P(B \text{ given } A) =
0</span>, which is not the same as <span class="math inline">P(B) =
\frac{9}{15}</span>.</p>
<p>This problem illustrates the difference between mutually exclusive
events and independent events. In this case <span class="math inline">A</span> and <span class="math inline">B</span> are
mutually exclusive, because they cannot both happen. But that forces
them to be dependent events, because knowing that someone is an adult
completely determines the probability that they are a child (it’s
zero!)</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 33%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-8.3">Problem 8.3</h3>
<p>Consider the events <span class="math inline">C</span> and <span
class="math inline">D</span>, defined below.</p>
<ul>
<li><p><span class="math inline">C</span>: The chosen individual is a
child.</p></li>
<li><p><span class="math inline">D</span>: The chosen individual is from
family <span class="math inline">Y</span>.</p></li>
</ul>
<p>True or False: Events <span class="math inline">C</span> and <span
class="math inline">D</span> are independent.</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> True</p></li>
<li><p><input type="radio" disabled="" /> False</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading8_3">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse8_3" aria-expanded="true" aria-controls="collapse8_3">
Click to view the solution.
</button>
</h2>
<div id="collapse8_3" class="accordion-collapse collapse collapse"
aria-labelledby="heading8_3" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> True</p>
<p>If two events are independent, the probability of one event happening
does not change when we know that the other event happens. In this case,
events <span class="math inline">C</span> and <span class="math inline">D</span> are indeed independent.</p>
<p>If we know that the chosen individual is a child, the probability
that they come from Family Y is <span class="math inline">\frac{3}{9}</span>, which simplifies to <span class="math inline">\frac{1}{3}</span>. That is <span class="math inline">P(D \text{ given } C) = \frac{1}{3}</span>.</p>
<p>On the other hand, without any prior knowledge, when we select
someone randomly from all fifteen individuals, the probability they come
from Family Y is <span class="math inline">\frac{5}{15}</span>, which
also simplifies to <span class="math inline">\frac{1}{3}</span>. This
says <span class="math inline">P(D) = \frac{1}{3}</span>.</p>
<p>In other words, knowledge of <span class="math inline">C</span> is
irrelevant to the probability of <span class="math inline">D</span>
occurring, which means <span class="math inline">C</span> and <span class="math inline">D</span> are independent.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 35%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-8.4">Problem 8.4</h3>
<p>At the reunion, the Tritons play a game that involves placing the
four letters into a hat (W, X, Y, and Z, corresponding to the four
families). Then, <strong>five times</strong>, they draw a letter from
the hat, write it down on a piece of paper, and place it back into the
hat.</p>
<p>Let <span class="math inline">p = \frac{1}{4}</span> in the questions
that follow.</p>
<p>What is the probability that Family W is selected all 5 times?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> <span class="math inline">p^5</span></p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">1 - p^5</span></p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">1 - (1 - p)^5</span></p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">(1 - p)^5</span></p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">p \cdot (1 - p)^4</span></p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">p^4 (1 - p)</span></p></li>
<li><p><input type="radio" disabled="" /> None of these.</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading8_4">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse8_4" aria-expanded="true" aria-controls="collapse8_4">
Click to view the solution.
</button>
</h2>
<div id="collapse8_4" class="accordion-collapse collapse collapse"
aria-labelledby="heading8_4" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> <span class="math inline">p^5</span></p>
<p>The probability of selecting Family W in the first round is <span class="math inline">p</span>, which is the same for the second round,
the third round, and so on. Each of the chosen letters is drawn
independently from the others because the result of one draw does not
affect the result of the next. We can apply the multiplication rule here
and multiply the probabilities of choosing Family W in each round. This
comes out to be <span class="math inline">p\cdot p\cdot p\cdot p\cdot
p</span>, which is <span class="math inline">p^5</span>.</p>
<hr/>
<h5>Difficulty: ⭐️</h5>
<p>
</p>
<p>The average score on this problem was 91%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<p><br></p>
<h3 id="problem-8.5">Problem 8.5</h3>
<p>What is the probability that Family W is selected at least once?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> <span class="math inline">p^5</span></p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">1 - p^5</span></p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">1 - (1 - p)^5</span></p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">(1 - p)^5</span></p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">p \cdot (1 - p)^4</span></p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">p^4 (1 - p)</span></p></li>
<li><p><input type="radio" disabled="" /> None of these.</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading8_5">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse8_5" aria-expanded="true" aria-controls="collapse8_5">
Click to view the solution.
</button>
</h2>
<div id="collapse8_5" class="accordion-collapse collapse collapse"
aria-labelledby="heading8_5" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> <span class="math inline">1 - (1 -
p)^5</span></p>
<p>Since there are too many ways that Family W can be selected to meet
the condition that it is selected at least once, it is easier if we
calculate the probability that Family W is never selected and subtract
that from 1. The probability that Family W is not selected in the first
round is <span class="math inline">1-p</span>, which is the same for the
second round, the third round, and so on. We want this to happen for all
five rounds, and since the events are independent, we can multiply their
probabilities all together. This comes out to be <span class="math inline">(1-p)^5</span>, which represents the probability
that Family W is never selected. Finally, we subtract <span class="math inline">(1-p)^5</span> from 1 to find the probability that
Family W is selected at least once, giving the answer <span class="math inline">1 - (1-p)^5</span>.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 62%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-8.6">Problem 8.6</h3>
<p>What is the probability that Family W is selected exactly once, as
the last family that is selected?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> <span class="math inline">p^5</span></p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">1 - p^5</span></p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">1 - (1 - p)^5</span></p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">(1 - p)^5</span></p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">p \cdot (1 - p)^4</span></p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">p^4 (1 - p)</span></p></li>
<li><p><input type="radio" disabled="" /> None of these.</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading8_6">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse8_6" aria-expanded="true" aria-controls="collapse8_6">
Click to view the solution.
</button>
</h2>
<div id="collapse8_6" class="accordion-collapse collapse collapse"
aria-labelledby="heading8_6" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> <span class="math inline">p \cdot (1 -
p)^4</span></p>
<p>We want to find the probability of Family W being selected only as
the last draw, and not in the first four draws. The probability that
Family W is not selected in the first draw is <span class="math inline">(1-p)</span>, which is the same for the second,
third, and fourth draws. For the fifth draw, the probability of choosing
Family W is <span class="math inline">p</span>. Since the draws are
independent, we can multiply these probabilities together, which comes
out to be <span class="math inline">(1-p)^4 \cdot p = p\cdot
(1-p)^4</span>.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 67%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="problem-9">Problem 9</h2>
<p>We’ll be looking at a DataFrame named <code>sungod</code> that
contains information on the artists who have performed at Sun God in
years past. <strong>For each year that the festival was held, we have
one row for each artist that performed that year.</strong> The columns
are:</p>
<ul>
<li><code>'Year'</code> (<code>int</code>): the year of the
festival</li>
<li><code>'Artist'</code> (<code>str</code>): the name of the
artist</li>
<li><code>'Appearance_Order'</code> (<code>int</code>): the order in
which the artist appeared in that year’s festival (1 means they came
onstage first)</li>
</ul>
<p>The rows of <code>sungod</code> are arranged in <strong>no particular
order</strong>. The first few rows of <code>sungod</code> are shown
below (though <code>sungod</code> has <strong>many more rows</strong>
than pictured here).</p>
<center><img src='../assets/images/sp22-midterm/sungod.png' width=30%></center>
<p>Assume:</p>
<ul>
<li>Only one artist ever appeared at a time (for example, we can’t have
two separate artists with a <code>'Year'</code> of 2015 and an
<code>'Appearance_Order'</code> of 3).</li>
<li>An artist may appear in multiple different Sun God festivals (they
could be invited back).</li>
<li>We have already run <code>import babypandas as bpd</code> and
<code>import numpy as np</code>. <br><br></li>
</ul>
<p>Fill in the blank in the code below so that
<code>chronological</code> is a DataFrame with the same rows as
<code>sungod</code>, but ordered chronologically by appearance on stage.
That is, earlier years should come before later years, and within a
single year, artists should appear in the DataFrame in the order they
appeared on stage at Sun God. Note that <code>groupby</code>
automatically sorts the index in ascending order.</p>
<div class="sourceCode" id="cb11"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>chronological <span class="op">=</span> sungod.groupby(___________).<span class="bu">max</span>().reset_index()</span></code></pre></div>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> <code>['Year', 'Artist', 'Appearance_Order']</code></p></li>
<li><p><input type="radio" disabled="" /> <code>['Year', 'Appearance_Order']</code></p></li>
<li><p><input type="radio" disabled="" /> <code>['Appearance_Order', 'Year']</code></p></li>
<li><p><input type="radio" disabled="" /> None of the above.</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading9">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse9" aria-expanded="true" aria-controls="collapse9">
Click to view the solution.
</button>
</h2>
<div id="collapse9" class="accordion-collapse collapse collapse"
aria-labelledby="heading9" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer: </strong>
<code>['Year', 'Appearance_Order']</code></p>
<p>The fact that <code>groupby</code> automatically sorts the index in
ascending order is important here. Since we want earlier years before
later years, we could group by <code>'Year'</code>, however if we
<em>just</em> group by year, all the artists who performed in a given
year will be aggregated together, which is not what we want. Within each
year, we want to organize the artists in ascending order of
<code>'Appearance_Order'</code>. In other words, we need to group by
<code>'Year'</code> with <code>'Appearance_Order'</code> as subgroups.
Therefore, the correct way to reorder the rows of <code>sungod</code> as
desired is
<code>sungod.groupby(['Year', 'Appearance_Order']).max().reset_index()</code>.
Note that we need to reset the index so that the resulting DataFrame has
<code>'Year'</code> and <code>'Appearance_Order'</code> as columns, like
in <code>sungod</code>.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 85%.</p>
</div>
</div>
</div>
</div>
<hr />
<h2 id="problem-10">Problem 10</h2>
<p>Another DataFrame called <code>music</code> contains a row for every
music artist that has ever released a song. The columns are:</p>
<ul>
<li><code>'Name'</code> (<code>str</code>): the name of the music
artist</li>
<li><code>'Genre'</code> (<code>str</code>): the primary genre of the
artist</li>
<li><code>'Top_Hit'</code> (<code>str</code>): the most popular song by
that artist, based on sales, radio play, and streaming</li>
<li><code>'Top_Hit_Year'</code> (<code>int</code>): the year in which
the top hit song was released</li>
</ul>
<p>You want to know how many musical genres have been represented at Sun
God since its inception in 1983. Which of the following expressions
produces a DataFrame called <code>merged</code> that could help
determine the answer?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> <code>merged = sungod.merge(music, left_on='Year', right_on='Top_Hit_Year')</code></p></li>
<li><p><input type="radio" disabled="" /> <code>merged = music.merge(sungod, left_on='Year', right_on='Top_Hit_Year')</code></p></li>
<li><p><input type="radio" disabled="" /> <code>merged = sungod.merge(music, left_on='Artist', right_on='Name')</code></p></li>
<li><p><input type="radio" disabled="" /> <code>merged = music.merge(sungod, left_on='Artist', right_on='Name')</code></p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading10">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse10" aria-expanded="true" aria-controls="collapse10">
Click to view the solution.
</button>
</h2>
<div id="collapse10" class="accordion-collapse collapse collapse"
aria-labelledby="heading10" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer: </strong>
<code>merged = sungod.merge(music, left_on='Artist', right_on='Name')</code></p>
<p>The question we want to answer is about Sun God music artists’
genres. In order to answer, we’ll need a DataFrame consisting of rows of
artists that have performed at Sun God since its inception in 1983. If
we merge the <code>sungod</code> DataFrame with the <code>music</code>
DataFrame based on the artist’s name, we’ll end up with a DataFrame
containing one row for each artist that has ever performed at Sun God.
Since the column containing artists’ names is called
<code>'Artist'</code> in <code>sungod</code> and <code>'Name'</code> in
<code>music</code>, the correct syntax for this merge is
<code>merged = sungod.merge(music, left_on='Artist', right_on='Name')</code>.
Note that we could also interchange the left DataFrame with the right
DataFrame, as swapping the roles of the two DataFrames in a merge only
changes the ordering of rows and columns in the output, not the data
itself. This can be written in code as
<code>merged = music.merge(sungod, left_on='Name', right_on='Artist')</code>,
but this is not one of the answer choices.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 86%.</p>
</div>
</div>
</div>
</div>
<hr />
<h2 id="problem-11">Problem 11</h2>
<p>Consider an artist that has only appeared once at Sun God. At the
time of their Sun God performance, we’ll call the artist</p>
<ul>
<li><strong>outdated</strong> if their top hit came out more than five
years prior,</li>
<li><strong>trending</strong> if their top hit came out within the five
years prior, and</li>
<li><strong>up-and-coming</strong> if their top hit came out after they
appeared at Sun God.</li>
</ul>
<p>Complete the function below so it outputs the appropriate description
for any input artist who has appeared exactly once at Sun God.</p>
<div class="sourceCode" id="cb12"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> classify_artist(artist):</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>    filtered <span class="op">=</span> merged[merged.get(<span class="st">&#39;Artist&#39;</span>) <span class="op">==</span> artist]</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>    year <span class="op">=</span> filtered.get(<span class="st">&#39;Year&#39;</span>).iloc[<span class="dv">0</span>]</span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>    top_hit_year <span class="op">=</span> filtered.get(<span class="st">&#39;Top_Hit_Year&#39;</span>).iloc[<span class="dv">0</span>]</span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> ___(a)___ <span class="op">&gt;</span> <span class="dv">0</span>:</span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="st">&#39;up-and-coming&#39;</span></span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a>    <span class="cf">elif</span> ___(b)___:</span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="st">&#39;outdated&#39;</span></span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="st">&#39;trending&#39;</span></span></code></pre></div>
<p><br></p>
<h3 id="problem-11.1">Problem 11.1</h3>
<p>What goes in blank (a)?</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading11_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse11_1" aria-expanded="true" aria-controls="collapse11_1">
Click to view the solution.
</button>
</h2>
<div id="collapse11_1" class="accordion-collapse collapse collapse"
aria-labelledby="heading11_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer: </strong> <code>top_hit_year - year</code></p>
<p>Before we can answer this question, we need to understand what the
first three lines of the <code>classify_artist</code> function are
doing. The first line creates a DataFrame with only one row,
corresponding to the particular artist that’s passed in as input to the
function. We know there is just one row because we are told that the
artist being passed in as input has appeared exactly once at Sun God.
The next two lines create two variables:</p>
<ul>
<li><code>year</code> contains the year in which the artist performed at
Sun God, and</li>
<li><code>top_hit_year</code> contains the year in which their top hit
song was released.</li>
</ul>
<p>Now, we can fill in blank (a). Notice that the body of the
<code>if</code> clause is <code>return 'up-and-coming'</code>. Therefore
we need a condition that corresponds to up-and-coming, which we are told
means the top hit came out after the artist appeared at Sun God. Using
the variables that have been defined for us, this condition is
<code>top_hit_year &gt; year</code>. However, the <code>if</code>
statement condition is already partially set up with <code>&gt; 0</code>
included. We can simply rearrange our condition
<code>top_hit_year &gt; year</code> by subtracting <code>year</code>
from both sides to obtain <code>top_hit_year - year &gt; 0</code>, which
fits the desired format.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 89%.</p>
</div>
</div>
</div>
</div>
<p><br> <br></p>
<h3 id="problem-11.2">Problem 11.2</h3>
<p>What goes in blank (b)?</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading11_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse11_2" aria-expanded="true" aria-controls="collapse11_2">
Click to view the solution.
</button>
</h2>
<div id="collapse11_2" class="accordion-collapse collapse collapse"
aria-labelledby="heading11_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer: </strong> <code>year-top_hit_year &gt; 5</code></p>
<p>For this part, we need a condition that corresponds to an artist
being outdated which happens when their top hit came out more than five
years prior to their appearance at Sun God. There are several ways to
state this condition: <code>year-top_hit_year &gt; 5</code>,
<code>year &gt; top_hit_year + 5</code>, or any equivalent condition
would be considered correct.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 89%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="problem-12">Problem 12</h2>
<p><br></p>
<h3 id="problem-12.1">Problem 12.1</h3>
<p>You’re definitely going to Sun God 2022, but you don’t want to go
alone! Fortunately, you have <span class="math inline">n</span> friends
who promise to go with you. Unfortunately, your friends are somewhat
flaky, and each has a probability <span class="math inline">p</span> of
actually going (independent of all others). What is the probability that
you wind up going alone? Give your answer in terms of <span
class="math inline">p</span> and <span class="math inline">n</span>.</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading12_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse12_1" aria-expanded="true" aria-controls="collapse12_1">
Click to view the solution.
</button>
</h2>
<div id="collapse12_1" class="accordion-collapse collapse collapse"
aria-labelledby="heading12_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer: </strong> <span class="math inline">(1-p)^n</span></p>
<p>If you go alone, it means all of your friends failed to come. We can
think of this as an <em>and</em> condition in order to use
multiplication. The condition is: your first friend doesn’t come
<em>and</em> your second friend doesn’t come, and so on. The probability
of any individual friend not coming is <span class="math inline">1-p</span>, so the probability of all your friends
not coming is <span class="math inline">(1-p)^n</span>.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 76%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-12.2">Problem 12.2</h3>
<p>In past Sun God festivals, sometimes artists that were part of the
lineup have failed to show up! Let’s say there are <span
class="math inline">n</span> artists scheduled for Sun God 2022, and
each artist has a probability <span class="math inline">p</span> of
showing up (independent of all others). What is the probability that the
number of artists that show up is less than <span
class="math inline">n</span>, meaning somebody no-shows? Give your
answer in terms of <span class="math inline">p</span> and <span
class="math inline">n</span>.</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading12_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse12_2" aria-expanded="true" aria-controls="collapse12_2">
Click to view the solution.
</button>
</h2>
<div id="collapse12_2" class="accordion-collapse collapse collapse"
aria-labelledby="heading12_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer: </strong> <span class="math inline">1-p^n</span></p>
<p>It’s actually easier to figure out the opposite event. The opposite
of somebody no-showing is everybody shows up. This is easier to
calculate because we can think of it as an <em>and</em> condition: the
first artist shows up <em>and</em> the second artist shows up, and so
on. That means we just multiply probabilities. Therefore, the
probability of all artists showing up is <span class="math inline">p^n</span> and the probability of some artist not
showing up is <span class="math inline">1-p^n</span>.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 73%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="problem-13">Problem 13</h2>
<p>For each offer currently available, the DataFrame <code>offers</code>
has a separate row for each category of products to which the offer can
be applied. The columns are:</p>
<ul>
<li><code>'offer'</code> (<code>str</code>): the name of the offer</li>
<li><code>'category'</code> (<code>str</code>): the category to which
the offer applies</li>
<li><code>'percent_off'</code> (<code>int</code>): the percent discount
when applying this offer to this category</li>
</ul>
<p>The full <code>offers</code> DataFrame is shown below. All rows are
pictured.</p>
<center><img src='../assets/images/sp22-final/offersdf.png' height=270></center>
<p><br></p>
<p>The DataFrame <code>with_offers</code> is created as follows.</p>
<div class="sourceCode" id="cb13"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>    (with_offers <span class="op">=</span> ikea.take(np.arange(<span class="dv">6</span>))</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>                       .merge(offers, left_on<span class="op">=</span><span class="st">&#39;category&#39;</span>,  </span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>                                      right_on<span class="op">=</span><span class="st">&#39;eligible_category&#39;</span>))</span></code></pre></div>
<p><br></p>
<h3 id="problem-13.1">Problem 13.1</h3>
<p>How many rows does <code>with_offers</code> have?</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading13_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse13_1" aria-expanded="true" aria-controls="collapse13_1">
Click to view the solution.
</button>
</h2>
<div id="collapse13_1" class="accordion-collapse collapse collapse"
aria-labelledby="heading13_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer: </strong> 11</p>
<p>First, consider the DataFrame <code>ikea.take(np.arange(6))</code>,
which contains the first six rows of <code>ikea</code>. We know the
contents of these first six rows from the preview of the DataFrame at
the start of this exam. To merge with <code>offers</code>, we need to
look at the <code>'category'</code> of each of these six rows and see
how many rows of <code>offers</code> have the same value in the
<code>'eligible_category'</code> column.</p>
<p>The first row of <code>ikea.take(np.arange(6))</code> is a
<code>'bed'</code>. There are two <code>'bed'</code> offers, so that
will create two rows in the output DataFrame. Similarly, the second row
of <code>ikea.take(np.arange(6))</code> creates two rows in the output
DataFrame because there are two <code>'outdoor'</code> offers. The third
row creates just one row in the output, since there is only one
<code>'dresser'</code> offer. Continuing row-by-row in this way, we can
sum the number of rows created to get: <span class="math display">2+2+1+2+2+2 = 11.</span></p>
<p>Pandas Tutor is a really helpful tool to visualize the merge process.
Below is a color-coded visualization of this merge, generated by the
<a href="https://pandastutor.com/vis.html#code=import%20pandas%20as%20pd%0Aimport%20numpy%20as%20np%0Aimport%20io%0A%0Aikea%20%3D%20pd.DataFrame%28%29.assign%28product%3D%5B%22%C3%84PPLAR%C3%96%20Table%2B6%20armchairs,%20outdoor,%20brown%20stained%22,%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22SUNDS%C3%96%20Table%2B2%20chairs,%20outdoor,%20gray/gray%22,%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22GLADSTAD%20Upholstered%20bed,%202%20storage%20boxes,%20Kabusa%20light%20gray,%20Twin%22,%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22HEMNES%20Daybed%20frame%20with%203%20drawers,%20white,%20Twin%22,%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22HEMNES%206-drawer%20chest,%20white%20stain,%2042%201/2x51%205/8%22,%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22LAPPLAND%20TV%20storage%20unit,%20white,%2072x15%203/8x57%207/8%22%5D,%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20category%3D%5B%22outdoor%22,%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22outdoor%22,%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22bed%22,%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22bed%22,%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22dresser%22,%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22storage%22%5D,%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20price%3D%5B629,%20149,%20254,%20399,%20299,%20179%5D,%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20assembly_cost%3D%5B62,%2035,%2098,%2075,%2065,%2056%5D,%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20packages%3D%5B7,%203,%201,%201,%201,%201%5D%29.take%28%5B2,%200,%204,%205,%201,%203%5D%29.reset_index%28%29.drop%28columns%3D%22index%22%29%0Aoffers%20%3D%20pd.DataFrame%28%29.assign%28offer%3D%5B%22summer%20sale%22,%20%22summer%20sale%22,%20%22get%20organized%20promo%22,%20%22get%20organized%20promo%22,%20%22snooze%20sale%22,%20%22birthday%20coupon%22,%20%22birthday%20coupon%22,%20%22birthday%20coupon%22%5D,%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20eligible_category%20%3D%20%5B%22outdoor%22,%20%22grill%22,%20%22storage%22,%20%22dresser%22,%20%22bed%22,%20%22outdoor%22,%20%22storage%22,%20%22bed%22%5D,%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20percent_off%3D%5B15,%2015,%2010,%2010,%2020,%2015,%2015,%2015%5D%29%0Aikea.take%28np.arange%286%29%29.merge%28offers,%20left_on%3D'category',%20right_on%3D'eligible_category'%29%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%0A&amp;d=2022-07-27&amp;lang=py&amp;v=v1">code
here</a>.</p>
<center><img src="../assets/images/sp22-final/mergetutor.jpg" width="80%"/></center>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 41%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-13.2">Problem 13.2</h3>
<p>How many rows of <code>with_offers</code> have a value of 20 in the
<code>'percent_off'</code> column?</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading13_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse13_2" aria-expanded="true" aria-controls="collapse13_2">
Click to view the solution.
</button>
</h2>
<div id="collapse13_2" class="accordion-collapse collapse collapse"
aria-labelledby="heading13_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer: </strong> 2</p>
<p>There is just one offer with a value of 20 in the
<code>'percent_off'</code> column, and this corresponds to an offer on a
<code>'bed'</code>. Since there are two rows of
<code>ikea.take(np.arange(6))</code> with a <code>'category'</code> of
<code>'bed'</code>, each of these will match with the 20 percent-off
offer, creating two rows of <code>with_offers</code> with a value of 20
in the <code>'percent_off'</code> column.</p>
<p>The
<a href="https://pandastutor.com/vis.html#code=import%20pandas%20as%20pd%0Aimport%20numpy%20as%20np%0Aimport%20io%0A%0Aikea%20%3D%20pd.DataFrame%28%29.assign%28product%3D%5B%22%C3%84PPLAR%C3%96%20Table%2B6%20armchairs,%20outdoor,%20brown%20stained%22,%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22SUNDS%C3%96%20Table%2B2%20chairs,%20outdoor,%20gray/gray%22,%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22GLADSTAD%20Upholstered%20bed,%202%20storage%20boxes,%20Kabusa%20light%20gray,%20Twin%22,%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22HEMNES%20Daybed%20frame%20with%203%20drawers,%20white,%20Twin%22,%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22HEMNES%206-drawer%20chest,%20white%20stain,%2042%201/2x51%205/8%22,%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22LAPPLAND%20TV%20storage%20unit,%20white,%2072x15%203/8x57%207/8%22%5D,%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20category%3D%5B%22outdoor%22,%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22outdoor%22,%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22bed%22,%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22bed%22,%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22dresser%22,%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22storage%22%5D,%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20price%3D%5B629,%20149,%20254,%20399,%20299,%20179%5D,%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20assembly_cost%3D%5B62,%2035,%2098,%2075,%2065,%2056%5D,%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20packages%3D%5B7,%203,%201,%201,%201,%201%5D%29.take%28%5B2,%200,%204,%205,%201,%203%5D%29.reset_index%28%29.drop%28columns%3D%22index%22%29%0Aoffers%20%3D%20pd.DataFrame%28%29.assign%28offer%3D%5B%22summer%20sale%22,%20%22summer%20sale%22,%20%22get%20organized%20promo%22,%20%22get%20organized%20promo%22,%20%22snooze%20sale%22,%20%22birthday%20coupon%22,%20%22birthday%20coupon%22,%20%22birthday%20coupon%22%5D,%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20eligible_category%20%3D%20%5B%22outdoor%22,%20%22grill%22,%20%22storage%22,%20%22dresser%22,%20%22bed%22,%20%22outdoor%22,%20%22storage%22,%20%22bed%22%5D,%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20percent_off%3D%5B15,%2015,%2010,%2010,%2020,%2015,%2015,%2015%5D%29%0Aikea.take%28np.arange%286%29%29.merge%28offers,%20left_on%3D'category',%20right_on%3D'eligible_category'%29%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%0A&amp;d=2022-07-27&amp;lang=py&amp;v=v1">visualization
from Pandas Tutor</a> below confirms our answer. The two rows with a
value of 20 in the <code>'percent_off'</code> column are both shown in
rows 0 and 2 of the output DataFrame.</p>
<center><img src="../assets/images/sp22-final/mergetutor.jpg" width="80%"/></center>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 70%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-13.3">Problem 13.3</h3>
<p>If you can use just one offer per product, you’d want to use the one
that saves you the most money, which we’ll call the best offer.</p>
<p><strong>True or False</strong>: The expression below evaluates to a
Series indexed by <code>'product'</code> with the name of the best offer
for each product that appears in the <code>with_offers</code>
DataFrame.</p>
<div class="sourceCode" id="cb14"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>with_offers.groupby(<span class="st">&#39;product&#39;</span>).<span class="bu">max</span>().get(<span class="st">&#39;offer&#39;</span>)</span></code></pre></div>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> True</p></li>
<li><p><input type="radio" disabled="" /> False</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading13_3">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse13_3" aria-expanded="true" aria-controls="collapse13_3">
Click to view the solution.
</button>
</h2>
<div id="collapse13_3" class="accordion-collapse collapse collapse"
aria-labelledby="heading13_3" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer: </strong> False</p>
<p>Recall that <code>groupby</code> applies the aggregation function
separately to each column. Applying the <code>.max()</code> aggregate on
the <code>'offer'</code> column for each group gives the name that is
latest in alphabetical order because it contains strings, whereas
applying the <code>.max()</code> aggregate on the
<code>'percent_off'</code> column gives the largest numerical value.
These don’t necessarily go together in <code>with_offers</code>.</p>
<p>In particular, the element of
<code>with_offers.groupby('product').max().get('offer')</code>
corresponding to the LAPPLAND TV storage unit will be
<code>'get_organized_promo'</code>. This happens because the two rows of
<code>with_offers</code> corresponding to the LAPPLAND TV storage unit
have values of <code>'get_organized_promo'</code> and
<code>'birthday coupon'</code>, but <code>'get_organized_promo'</code>
is alphabetically later, so it’s considered the max by
<code>.groupby</code>. However, the <code>'birthday coupon'</code> is
actually a better offer, since it’s 15 percent off, while the
<code>'get_organized_promo'</code> is only 10 percent off. The
expression does not actually find the best offer for each product, but
instead finds the latest alphabetical offer for each product.</p>
<p>We can see this directly by looking at the output of Pandas Tutor
below, generated by
<a href="https://pandastutor.com/vis.html#code=import%20pandas%20as%20pd%0Aimport%20numpy%20as%20np%0Aimport%20io%0A%0Aikea%20%3D%20pd.DataFrame%28%29.assign%28product%3D%5B%22%C3%84PPLAR%C3%96%20Table%2B6%20armchairs,%20outdoor,%20brown%20stained%22,%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22SUNDS%C3%96%20Table%2B2%20chairs,%20outdoor,%20gray/gray%22,%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22GLADSTAD%20Upholstered%20bed,%202%20storage%20boxes,%20Kabusa%20light%20gray,%20Twin%22,%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22HEMNES%20Daybed%20frame%20with%203%20drawers,%20white,%20Twin%22,%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22HEMNES%206-drawer%20chest,%20white%20stain,%2042%201/2x51%205/8%22,%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22LAPPLAND%20TV%20storage%20unit,%20white,%2072x15%203/8x57%207/8%22%5D,%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20category%3D%5B%22outdoor%22,%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22outdoor%22,%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22bed%22,%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22bed%22,%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22dresser%22,%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22storage%22%5D,%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20price%3D%5B629,%20149,%20254,%20399,%20299,%20179%5D,%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20assembly_cost%3D%5B62,%2035,%2098,%2075,%2065,%2056%5D,%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20packages%3D%5B7,%203,%201,%201,%201,%201%5D%29.take%28%5B2,%200,%204,%205,%201,%203%5D%29.reset_index%28%29.drop%28columns%3D%22index%22%29%0Aoffers%20%3D%20pd.DataFrame%28%29.assign%28offer%3D%5B%22summer%20sale%22,%20%22summer%20sale%22,%20%22get%20organized%20promo%22,%20%22get%20organized%20promo%22,%20%22snooze%20sale%22,%20%22birthday%20coupon%22,%20%22birthday%20coupon%22,%20%22birthday%20coupon%22%5D,%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20eligible_category%20%3D%20%5B%22outdoor%22,%20%22grill%22,%20%22storage%22,%20%22dresser%22,%20%22bed%22,%20%22outdoor%22,%20%22storage%22,%20%22bed%22%5D,%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20percent_off%3D%5B15,%2015,%2010,%2010,%2020,%2015,%2015,%2015%5D%29%0Awith_offers%20%3D%20ikea.take%28np.arange%286%29%29.merge%28offers,%20left_on%3D'category',%20right_on%3D'eligible_category'%29%0Awith_offers.groupby%28'product'%29.max%28%29.get%28'offer'%29%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%0A&amp;d=2022-07-27&amp;lang=py&amp;v=v1">this
code</a>.</p>
<center><img src="../assets/images/sp22-final/maxtutor.jpg" width="80%"/></center>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 69%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-13.4">Problem 13.4</h3>
<p>You want to add a column to <code>with_offers</code> containing the
price after the offer discount is applied.</p>
<div class="sourceCode" id="cb15"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>with_offers <span class="op">=</span> with_offers.assign(after_price <span class="op">=</span> _________)</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>with_offers</span></code></pre></div>
<p>Which of the following could go in the blank? Select all that
apply.</p>
<ul class="task-list">
<li><p><input type="checkbox" disabled="" /> <code>with_offers.get('price') - with_offers.get('percent_off')/100</code></p></li>
<li><p><input type="checkbox" disabled="" /> <code>with_offers.get('price')*(100 - with_offers.get('percent_off'))/100</code></p></li>
<li><p><input type="checkbox" disabled="" /> <code>with_offers.get('price') - with_offers.get('price')*with_offers.get('percent_off')/100</code></p></li>
<li><p><input type="checkbox" disabled="" /> <code>with_offers.get('price')*(100 - with_offers.get('percent_off')/100)</code></p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading13_4">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse13_4" aria-expanded="true" aria-controls="collapse13_4">
Click to view the solution.
</button>
</h2>
<div id="collapse13_4" class="accordion-collapse collapse collapse"
aria-labelledby="heading13_4" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer: </strong>
<code>with_offers.get('price')*(100 - with_offers.get('percent_off'))/100</code>,
<code>(with_offers.get('price') - with_offers.get('price')*with_offers.get('percent_off')/100)</code></p>
<p>Notice that all the answer choices use
<code>with_offers.get('price')</code>, which is a Series of prices, and
<code>with_offers.get('percent_off')</code>, which is a Series of
associated percentages off. Using Series arithmetic, which works
element-wise, the goal is to create a Series of prices after the
discount is applied.</p>
<p>For example, the first row of <code>with_offers</code> corresponds to
an item with a price of 254 dollars, and a discount of 20 percent off,
coming from the snooze sale. This means its price after the discount
should be 80 percent of the original value, which is <span class="math inline">254*0.8 = 203.2</span> dollars.</p>
<p>Let’s go through each answer in order, working with this example.</p>
<p>The first answer choice takes the price and subtracts the percent off
divided by 100. For our example, this would compute the discounted price
as <span class="math inline">254 - 20/100 = 253.8</span> dollars, which
is incorrect.</p>
<p>The second answer choice multiplies the price by the quantity 100
minus the percent off, then divides by 100. This works because when we
subtract the percent off from 100 and divide by 100, the result
represents the proportion or fraction of the cost we must pay, and so
multiplying by the price gives the price after the discount. For our
example, this comes out to <span class="math inline">254*(100-20)/100=
203.2</span> dollars, which is correct.</p>
<p>The third answer choice is also correct. This corresponds to taking
the original price and subtracting from it the dollar amount off, which
comes from multiplying the price by the percent off and dividing by 100.
For our example, this would be computed as <span class="math inline">254
- 254*20/100 = 203.2</span> dollars, which is correct.</p>
<p>The fourth answer multiplies the price by the quantity 100 minus the
percent off divided by 100. For our example, this would compute the
discounted price as <span class="math inline">254*(100 - 20/100) =
25349.2</span> dollars, a number that’s nearly one hundred times the
original price!</p>
<p>Therefore, only the second and third answer choices are correct.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 79%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="problem-14">Problem 14</h2>
<p>The HAUGA bedroom furniture set includes two items, a bed frame and a
bedside table. Suppose the amount of time it takes someone to assemble
the bed frame is a random quantity drawn from the probability
distribution below.</p>
<center>
<table class="table" style="width:30%">
  <thead>
    <tr>
      <th scope="col">Time to assemble bed frame</th>
      <th scope="col">Probability</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th scope="row">10 minutes</th>
      <td>0.1</td>
    </tr>
    <tr>
      <th scope="row">20 minutes</th>
      <td>0.4</td>
    </tr>
    <tr>
      <th scope="row">30 minutes</th>
      <td>0.5</td>
    </tr>
  </tbody>
</table>
</center>
<p>Similarly, the time it takes someone to assemble the bedside table is
a random quantity, independent of the time it takes them to assemble the
bed frame, drawn from the probability distribution below.</p>
<center>
<table class="table" style="width:30%">
  <thead>
    <tr>
      <th scope="col">Time to assemble bedside table</th>
      <th scope="col">Probability</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th scope="row">30 minutes</th>
      <td>0.3</td>
    </tr>
    <tr>
      <th scope="row">40 minutes</th>
      <td>0.4</td>
    </tr>
    <tr>
      <th scope="row">50 minutes</th>
      <td>0.3</td>
    </tr>
  </tbody>
</table>
</center>
<p><br></p>
<h3 id="problem-14.1">Problem 14.1</h3>
<p>What is the probability that Stella assembles the bed frame in 10
minutes if we know it took her less than 30 minutes to assemble? Give
your answer as a decimal between 0 and 1.</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading14_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse14_1" aria-expanded="true" aria-controls="collapse14_1">
Click to view the solution.
</button>
</h2>
<div id="collapse14_1" class="accordion-collapse collapse collapse"
aria-labelledby="heading14_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer: </strong> 0.2</p>
<p>We want to find the probability that Stella assembles the bed frame
in 10 minutes, given that she assembles it in less than 30 minutes. The
multiplication rule can be rearranged to find the conditional
probability of one event given another.</p>
<p><span class="math display">\begin{aligned}
        P(A \text{ and } B) &amp;= P(A \text{ given } B)*P(B)\\
        P(A \text{ given } B) &amp;= \frac{P(A \text{ and } B)}{P(B)}
\end{aligned}</span></p>
<p>Let’s, therefore, define events <span class="math inline">A</span>
and <span class="math inline">B</span> as follows:</p>
<ul>
<li><span class="math inline">A</span> is the event that Stella
assembles the bed frame in 10 minutes.</li>
<li><span class="math inline">B</span> is the event that Stella
assembles the bed frame in less than 30 minutes.</li>
</ul>
<p>Since 10 minutes is less than 30 minutes, <span class="math inline">A
\text{ and } B</span> is the same as <span class="math inline">A</span>
in this case. Therefore, <span class="math inline">P(A \text{ and } B) =
P(A) = 0.1</span>.</p>
<p>Since there are only two ways to complete the bed frame in less than
30 minutes (10 minutes or 20 minutes), it is straightforward to find
<span class="math inline">P(B)</span> using the addition rule <span class="math inline">P(B) = 0.1 + 0.4</span>. The addition rule can be
used here because assembling the bed frame in 10 minutes and assembling
the bed frame in 20 minutes are mutually exclusive. We could
alternatively find <span class="math inline">P(B)</span> using the
complement rule, since the only way not to complete the bed frame in
less than 30 minutes is to complete it in exactly 30 minutes, which
happens with a probability of 0.5. We’d get the same answer, <span class="math inline">P(B) = 1 - 0.5 = 0.5</span>.</p>
<p>Plugging these numbers in gives our answer.</p>
<p><span class="math display">\begin{aligned}
        P(A \text{ given } B) &amp;= \frac{P(A \text{ and } B)}{P(B)}\\
                              &amp;= \frac{0.1}{0.5}\\
                              &amp;= 0.2
\end{aligned}</span></p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 72%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-14.2">Problem 14.2</h3>
<p>What is the probability that Ryland assembles the bedside table in 40
minutes if we know that it took him 30 minutes to assemble the bed
frame? Give your answer as a decimal between 0 and 1</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading14_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse14_2" aria-expanded="true" aria-controls="collapse14_2">
Click to view the solution.
</button>
</h2>
<div id="collapse14_2" class="accordion-collapse collapse collapse"
aria-labelledby="heading14_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer: </strong> 0.4</p>
<p>We are told that the time it takes someone to assemble the bedside
table is a random quantity, <em>independent</em> of the time it takes
them to assemble the bed frame. Therefore we can disregard the
information about the time it took him to assemble the bed frame and
read directly from the probability distribution that his probability of
assembling the bedside table in 40 minutes is 0.4. </p>
<hr/>
<h5>Difficulty:
⭐️⭐️</h5>
<p>The average score on this problem was 82%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-14.3">Problem 14.3</h3>
<p>What is the probability that Jin assembles the complete HAUGA set in
at most 60 minutes? Give your answer as a decimal between 0 and 1.</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading14_3">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse14_3" aria-expanded="true" aria-controls="collapse14_3">
Click to view the solution.
</button>
</h2>
<div id="collapse14_3" class="accordion-collapse collapse collapse"
aria-labelledby="heading14_3" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer: </strong> 0.53</p>
<p>There are several different ways for the total assembly time to take
at most 60 minutes:</p>
<ol type="1">
<li>The bed frame takes 10 minutes and the bedside table takes any
amount of time.</li>
<li>The bed frame takes 20 minutes and the bedside table takes 30 or 40
minutes.</li>
<li>The bed frame takes 30 minutes and the bedside table takes 30
minutes.</li>
</ol>
<p>Using the multiplication rule, these probabilities are:</p>
<ol type="1">
<li><span class="math inline">0.1*1 = 0.1</span></li>
<li><span class="math inline">0.4*0.7 = 0.28</span></li>
<li><span class="math inline">0.5*0.3 = 0.15</span></li>
</ol>
<p>Finally, adding them up because they represent mutually exclusive
cases, we get <span class="math inline">0.1+0.28+0.15 = 0.53</span>.
</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>The average score on this problem was
58%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="section"><span class="math display"> </span></h2>
<h4
id="feedback-find-an-error-still-confused-have-a-suggestion-let-us-know-here.">👋
Feedback: Find an error? Still confused? Have a suggestion?
<a href="https://forms.gle/WZ71FchnXU1K154d7">Let us know
here</u></a>.</h4>
<hr />
</body>
</html>
