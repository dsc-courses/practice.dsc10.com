<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>Winter 2022 Final Exam</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    /* The extra [class] is a hack that increases specificity enough to
       override a similar rule in reveal.js */
    ul.task-list[class]{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      font-size: inherit;
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      {   }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span.al { color: #ff0000; font-weight: bold; } /* Alert */
    code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
    code span.at { color: #7d9029; } /* Attribute */
    code span.bn { color: #40a070; } /* BaseN */
    code span.bu { color: #008000; } /* BuiltIn */
    code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #4070a0; } /* Char */
    code span.cn { color: #880000; } /* Constant */
    code span.co { color: #60a0b0; font-style: italic; } /* Comment */
    code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
    code span.do { color: #ba2121; font-style: italic; } /* Documentation */
    code span.dt { color: #902000; } /* DataType */
    code span.dv { color: #40a070; } /* DecVal */
    code span.er { color: #ff0000; font-weight: bold; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #40a070; } /* Float */
    code span.fu { color: #06287e; } /* Function */
    code span.im { color: #008000; font-weight: bold; } /* Import */
    code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
    code span.kw { color: #007020; font-weight: bold; } /* Keyword */
    code span.op { color: #666666; } /* Operator */
    code span.ot { color: #007020; } /* Other */
    code span.pp { color: #bc7a00; } /* Preprocessor */
    code span.sc { color: #4070a0; } /* SpecialChar */
    code span.ss { color: #bb6688; } /* SpecialString */
    code span.st { color: #4070a0; } /* String */
    code span.va { color: #19177c; } /* Variable */
    code span.vs { color: #4070a0; } /* VerbatimString */
    code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="../assets/theme.css" />
  <script defer=""
  src="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.js"></script>
  <script>document.addEventListener("DOMContentLoaded", function () {
 var mathElements = document.getElementsByClassName("math");
 var macros = [];
 for (var i = 0; i < mathElements.length; i++) {
  var texText = mathElements[i].firstChild;
  if (mathElements[i].tagName == "SPAN") {
   katex.render(texText.data, mathElements[i], {
    displayMode: mathElements[i].classList.contains('display'),
    throwOnError: false,
    macros: macros,
    fleqn: false
   });
}}});
  </script>
  <link rel="stylesheet"
  href="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.css" />
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<header id="title-block-header">
<h1 class="title">Winter 2022 Final Exam</h1>
</header>
<p><link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
<!-- add after bootstrap.min.css -->
<link rel="stylesheet" href="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.css"/>
<!-- add after bootstrap.min.js or bootstrap.bundle.min.js -->
<script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script></p>
<!-- for difficulty gauges-->
<script src="https://cdn.plot.ly/plotly-2.16.1.min.js"></script>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-B947E6J6H4"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-B947E6J6H4');
</script>
<p><a href="../index.html">← return to practice.dsc10.com</a></p>
<hr />
<p><strong>Instructor(s):</strong> Suraj Rampure</p>
<p>This exam was administered remotely via Gradescope. The exam was
open-internet, and students were able to use Jupyter Notebooks. They had
<strong>3 hours</strong> to work on it.</p>
<hr />
<p>Welcome to the Final Exam for DSC 10 Winter 2022! In this exam, we
will use data from the 2021 Women’s National Basketball Association
(WNBA) season. In basketball, players score points by shooting the ball
into a hoop. The team that scores the most points wins the game.</p>
<p>Kelsey Plum, a WNBA player, attended La Jolla Country Day School,
which is adjacent to UCSD’s campus. Her current team is the Las Vegas
Aces (three-letter code <code>'LVA'</code>). <strong>In 2021, the Las
Vegas Aces played 31 games, and Kelsey Plum played in all
31.</strong></p>
<p>The DataFrame <code>plum</code> contains her stats for all games the
Las Vegas Aces played in 2021. The first few rows of <code>plum</code>
are shown below (though the full DataFrame has 31 rows, not 5):</p>
<center><img src='../assets/images/wi22-final/plum.png' width=40%></center>
<p>Each row in <code>plum</code> corresponds to a single game. For each
game, we have:</p>
<ul>
<li><code>'Date'</code> (<code>str</code>), the date on which the game
was played</li>
<li><code>'Opp'</code> (<code>str</code>), the three-letter code of the
opponent team</li>
<li><code>'Home'</code> (<code>bool</code>), <code>True</code> if the
game was played in Las Vegas (“home”) and <code>False</code> if it was
played at the opponent’s arena (“away”)</li>
<li><code>'Won'</code> (<code>bool</code>), <code>True</code> if the Las
Vegas Aces won the game and <code>False</code> if they lost</li>
<li><code>'PTS'</code> (<code>int</code>), the number of points Kelsey
Plum scored in the game</li>
<li><code>'AST'</code> (<code>int</code>), the number of assists
(passes) Kelsey Plum made in the game</li>
<li><code>'TOV'</code> (<code>int</code>), the number of turnovers
Kelsey Plum made in the game (a turnover is when you lose the ball –
turnovers are bad!)</li>
</ul>
<p><strong>Tip:</strong> Open this page in another tab, so that it is
easy to refer to this data description as you work through the exam.</p>
<hr />
<h2 id="problem-1">Problem 1</h2>
<p><br></p>
<h3 id="problem-1.1">Problem 1.1</h3>
<p>What type of visualization is best suited for visualizing the trend
in the number of points Kelsey Plum scored per game in 2021?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> Histogram</p></li>
<li><p><input type="radio" disabled="" /> Bar chart</p></li>
<li><p><input type="radio" disabled="" /> Line chart</p></li>
<li><p><input type="radio" disabled="" /> Scatter plot</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading1_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse1_1" aria-expanded="true" aria-controls="collapse1_1">
Click to view the solution.
</button>
</h2>
<div id="collapse1_1" class="accordion-collapse collapse"
aria-labelledby="heading1_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer: </strong> Line chart</p>
<p>Here, there are two quantitative variables (number of points and game
number), and one of them involves some element of time (game number).
Line charts are appropriate when one quantitative variable is time.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 75%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-1.2">Problem 1.2</h3>
<p>Fill in the blanks below so that <code>total_june</code> evaluates to
the total number of points Kelsey Plum scored in June.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>june_only <span class="op">=</span> plum[__(a)__]</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>total_june <span class="op">=</span> june_only.__(b)__</span></code></pre></div>
<ol type="1">
<li><p>What goes in blank (a)?</p></li>
<li><p>What goes in blank (b)?</p></li>
</ol>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading1_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse1_2" aria-expanded="true" aria-controls="collapse1_2">
Click to view the solution.
</button>
</h2>
<div id="collapse1_2" class="accordion-collapse collapse"
aria-labelledby="heading1_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong></p>
<ol type="1">
<li><p><code>plum.get('Date').str.contains('-06-')</code></p></li>
<li><p><code>get('PTS').sum()</code></p></li>
</ol>
<p>To find the total number of points Kelsey Plum scored in June, one
approach is to first create a DataFrame with only the rows for June.
During the month of June, the <code>'Date'</code> values contain
<code>'-06-'</code> (since June is the 6th month), so
<code>plum.get('Date').str.contains('-06-')</code> is a Series
containing <code>True</code> only for the June rows and
<code>june_only = plum[plum.get('Date').str.contains('-06-')]</code> is
a DataFrame containing only the June rows.</p>
<p>Then, all we need is the sum of the <code>'PTS'</code> column, which
is given by <code>june_only.get('PTS').sum()</code>.</p>
<hr/>
<h5>Difficulty: ⭐️</h5>
<p>
</p>
<p>The average score on this problem was 90%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-1.3">Problem 1.3</h3>
<p>Consider the function <code>unknown</code>, defined below.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> unknown(df):</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>    grouped <span class="op">=</span> plum.groupby(<span class="st">&#39;Opp&#39;</span>).<span class="bu">max</span>().get([<span class="st">&#39;Date&#39;</span>, <span class="st">&#39;PTS&#39;</span>])</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> np.array(grouped.reset_index().index)[df]</span></code></pre></div>
<p>What does <code>unknown(3)</code> evaluate to?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> <code>'2021-06-05'</code></p></li>
<li><p><input type="radio" disabled="" /> <code>'WAS'</code></p></li>
<li><p><input type="radio" disabled="" /> The date on which Kelsey Plum scored the most points</p></li>
<li><p><input type="radio" disabled="" /> The three-letter code of the opponent on which Kelsey Plum scored the
most points</p></li>
<li><p><input type="radio" disabled="" /> The number 0</p></li>
<li><p><input type="radio" disabled="" /> The number 3</p></li>
<li><p><input type="radio" disabled="" /> An error</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading1_3">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse1_3" aria-expanded="true" aria-controls="collapse1_3">
Click to view the solution.
</button>
</h2>
<div id="collapse1_3" class="accordion-collapse collapse"
aria-labelledby="heading1_3" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> The number 3</p>
<p><code>plum.groupby('Opp').max()</code> finds the largest value in the
<code>'Date'</code>, <code>'Home'</code>, <code>'Won'</code>,
<code>'PTS'</code>, <code>'AST'</code>, and <code>'TOV'</code> columns
for each unique <code>'Opp'</code> (independently for each column).
<code>grouped = plum.groupby('Opp').max().get(['Date', 'PTS'])</code>
keeps only the <code>'Date'</code> and <code>'PTS'</code> columns. Note
that in <code>grouped</code>, the index is <code>'Opp'</code>, the
column we grouped on.</p>
<p>When <code>grouped.reset_index()</code> is called, the index is
switched back to the default of 0, 1, 2, 3, 4, and so on. Then,
<code>grouped.reset_index().index</code> is an <code>Index</code>
containing the numbers <code>[0, 1, 2, 3, 4, ...]</code>, and
<code>np.array(grouped.reset_index().index)</code> is
<code>np.array([0, 1, 2, 3, 4, ...])</code>. In this array, the number
at position <code>i</code> is just <code>i</code>, so the number at
position <code>df</code> is <code>df</code>. Here, <code>df</code> is
the argument to <code>unknown</code>, and we were asked for the value of
<code>unknown(3)</code>, so the correct answer is the number at position
3 in <code>np.array([0, 1, 2, 3, 4, ...])</code> which is 3.</p>
<p>Note that if we asked for <code>unknown(50)</code> (or
<code>unknown(k)</code>, where <code>k</code> is any integer above 30),
the answer would be “An error”, since <code>grouped</code> could not
have had 51 rows. <code>plum</code> has 31 rows, so <code>grouped</code>
has at most 31 rows (but likely less, since Kelsey Plum’s team likely
played the same opponent multiple times).</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 72%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-1.4">Problem 1.4</h3>
<p>For your convenience, we show the first few rows of <code>plum</code>
again below.</p>
<center><img src='../assets/images/wi22-final/plum.png' width=40%></center>
<p>Suppose that Plum’s team, the Las Vegas Aces, won at least one game
in Las Vegas and lost at least one game in Las Vegas. Also, suppose they
won at least one game in an opponent’s arena and lost at least one game
in an opponent’s arena.</p>
<p>Consider the DataFrame <code>home_won</code>, defined below.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>home_won <span class="op">=</span> plum.groupby([<span class="st">&#39;Home&#39;</span>, <span class="st">&#39;Won&#39;</span>]).mean().reset_index()</span></code></pre></div>
<ol type="1">
<li><p>How many rows does <code>home_won</code> have?</p></li>
<li><p>How many columns does <code>home_won</code> have?</p></li>
</ol>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading1_4">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse1_4" aria-expanded="true" aria-controls="collapse1_4">
Click to view the solution.
</button>
</h2>
<div id="collapse1_4" class="accordion-collapse collapse"
aria-labelledby="heading1_4" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> 4 rows and 5 columns.</p>
<p><code>plum.groupby(['Home', 'Won']).mean()</code> contains one row
for every unique combination of <code>'Home'</code> and
<code>'Won'</code>. There are two values of <code>'Home'</code> -
<code>True</code> and <code>False</code> – and two values of
<code>'Won'</code> – <code>True</code> and <code>False</code> – leading
to 4 combinations. We can assume that there was at least one row in
<code>plum</code> for each of these 4 combinations due to the assumption
given in the problem:</p>
<p><em>Suppose that Plum’s team, the Las Vegas Aces, won at least one
game in Las Vegas and lost at least one game in Las Vegas. Also, suppose
they won at least one game in an opponent’s arena and lost at least one
game in an opponent’s arena.</em></p>
<p><code>plum</code> started with 7 columns: <code>'Date'</code>,
<code>'Opp'</code>, <code>'Home'</code>, <code>'Won'</code>,
<code>'PTS'</code>, <code>'AST'</code>, and <code>'TOV'</code>. After
grouping by <code>['Home', 'Won']</code> and using <code>.mean()</code>,
<code>'Home'</code> and <code>'Won'</code> become the index. The
resulting DataFrame contains all of the columns that the
<code>.mean()</code> aggregation method can work on. We cannot take the
mean of <code>'Date'</code> and <code>'Opp'</code>, because those
columns are strings, so
<code>plum.groupby(['Home', 'Won']).mean()</code> contains a
<code>MultiIndex</code> with 2 “columns” – <code>'Home'</code> and
<code>'Won'</code> – and 3 regular columns – <code>'PTS'</code>
<code>'AST'</code>, and <code>'TOV'</code>. Then, when using
<code>.reset_index()</code>, <code>'Home'</code> and <code>'Won'</code>
are restored as regular columns, meaning that
<code>plum.groupby(['Home', 'Won']).mean().reset_index()</code> has
<span class="math inline">2 + 3 = 5</span> columns.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 78%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-1.5">Problem 1.5</h3>
<p>Consider the DataFrame <code>home_won</code> once again.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>home_won <span class="op">=</span> plum.groupby([<span class="st">&#39;Home&#39;</span>, <span class="st">&#39;Won&#39;</span>]).mean().reset_index()</span></code></pre></div>
<p>Now consider the DataFrame <code>puzzle</code>, defined below. Note
that the only difference between <code>home_won</code> and
<code>puzzle</code> is the use of <code>.count()</code> instead of
<code>.mean()</code>.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>puzzle <span class="op">=</span> plum.groupby([<span class="st">&#39;Home&#39;</span>, <span class="st">&#39;Won&#39;</span>]).count().reset_index()</span></code></pre></div>
<p>How do the number of rows and columns in <code>home_won</code>
compare to the number of rows and columns in <code>puzzle</code>?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> <code>home_won</code> and <code>puzzle</code> have the same number of
rows and columns</p></li>
<li><p><input type="radio" disabled="" /> <code>home_won</code> and <code>puzzle</code> have the same number of
rows, but a different number of columns</p></li>
<li><p><input type="radio" disabled="" /> <code>home_won</code> and <code>puzzle</code> have the same number of
columns, but a different number of rows</p></li>
<li><p><input type="radio" disabled="" /> <code>home_won</code> and <code>puzzle</code> have both a different
number of rows and a different number of columns</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading1_5">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse1_5" aria-expanded="true" aria-controls="collapse1_5">
Click to view the solution.
</button>
</h2>
<div id="collapse1_5" class="accordion-collapse collapse"
aria-labelledby="heading1_5" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer: </strong> <code>home_won</code> and
<code>puzzle</code> have the same number of rows, but a different number
of columns</p>
<p>All that changed between <code>home_won</code> and
<code>puzzle</code> is the aggregation method. The aggregation method
has no influence on the number of rows in the output DataFrame, as there
is still one row for each of the 4 unique combinations of
<code>'Home'</code> and <code>'Won'</code>.</p>
<p>However, <code>puzzle</code> has 7 columns, instead of 5. In the
solution to the above subpart, we noticed that we could not use
<code>.mean()</code> on the <code>'Date'</code> and <code>'Opp'</code>
columns, since they contained strings. However, we can use
<code>.count()</code> (since <code>.count()</code> just determines the
number of non-NA values in each group), and so the <code>'Date'</code>
and <code>'Opp'</code> columns are not “lost” when aggregating. Hence,
<code>puzzle</code> has 2 more columns than <code>home_won</code>.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 85%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-1.6">Problem 1.6</h3>
<p>For your convenience, we show the first few rows of <code>plum</code>
again below.</p>
<center><img src='../assets/images/wi22-final/plum.png' width=40%></center>
<p>There is exactly one team in the WNBA that Plum’s team did not win
any games against during the 2021 season. Fill in the blanks below so
that <code>never_beat</code> evaluates to a string containing the
three-letter code of that team.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>never_beat <span class="op">=</span> plum.groupby(__(a)__).<span class="bu">sum</span>().__(b)__</span></code></pre></div>
<ol type="1">
<li><p>What goes in blank (a)?</p></li>
<li><p>What goes in blank (b)?</p></li>
</ol>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading1_6">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse1_6" aria-expanded="true" aria-controls="collapse1_6">
Click to view the solution.
</button>
</h2>
<div id="collapse1_6" class="accordion-collapse collapse"
aria-labelledby="heading1_6" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong></p>
<ol type="1">
<li><p><code>'Opp'</code></p></li>
<li><p><code>sort_values('Won').index[0]</code></p></li>
</ol>
<p>The key insight here is that the values in the <code>'Won'</code>
column are Boolean, and when Boolean values are used in arithmetic they
are treated as 1s (<code>True</code>) and 0s (<code>False</code>). The
<code>sum</code> of several <code>'Won'</code> values is the same as the
number of wins.</p>
<p>If we group <code>plum</code> by <code>'Opp'</code> and use
<code>.sum()</code>, the resulting <code>'Won'</code> column contains
the number of wins that Plum’s team had against each unique opponent. If
we sort this DataFrame by <code>'Won'</code> in increasing order (which
is the default behavior of <code>sort_values</code>), the row at the top
will correspond to the <code>'Opp'</code> that Plum’s team had no wins
against. Since we grouped by <code>'Opp'</code>, team names are stored
in the index, so <code>.index[0]</code> will give us the name of the
desired team.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 67%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-1.7">Problem 1.7</h3>
<p>Recall that <code>plum</code> has 31 rows, one corresponding to each
of the 31 games Kelsey Plum’s team played in the 2021 WNBA season.</p>
<p>Fill in the blank below so that <code>win_bool</code> evaluates to
<code>True</code>.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> modify_series(s):</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> __(a)__</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>n_wins <span class="op">=</span> plum.get(<span class="st">&#39;Won&#39;</span>).<span class="bu">sum</span>()</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>win_bool <span class="op">=</span> n_wins <span class="op">==</span> (<span class="dv">31</span> <span class="op">+</span> modify_series(plum.get(<span class="st">&#39;Won&#39;</span>)))</span></code></pre></div>
<p>What goes in blank (a)?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> <code>-s.sum()</code></p></li>
<li><p><input type="radio" disabled="" /> <code>-(s == False).sum()</code></p></li>
<li><p><input type="radio" disabled="" /> <code>len(s) - s.sum()</code></p></li>
<li><p><input type="radio" disabled="" /> <code>not s.sum()</code></p></li>
<li><p><input type="radio" disabled="" /> <code>-s[s.get('Won') == False].sum()</code></p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading1_7">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse1_7" aria-expanded="true" aria-controls="collapse1_7">
Click to view the solution.
</button>
</h2>
<div id="collapse1_7" class="accordion-collapse collapse"
aria-labelledby="heading1_7" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> <code>-(s == False).sum()</code></p>
<p><code>n_wins</code> equals the number of wins that Plum’s team had.
Recall that her team played 31 games in total. In order for
<code>(31 + modify_series(plum.get('Won')))</code> to be equal to her
team’s number of wins, <code>modify_series(plum.get('Won'))</code> must
be equal to her team’s number of losses, multiplied by -1.</p>
<p>To see this algebraically, let
<code>modified = modify_series(plum.get('Won'))</code>. Then:</p>
<p><span class="math display">31 + \text{modified} = \text{wins}</span>
<span class="math display"> \text{modified} = \text{wins} - 31 = -(31 -
\text{wins}) = -(\text{losses})</span></p>
<p>The function <code>modified_series(s)</code> takes in a Series
containing the wins and losses for each of Plum’s team’s games and needs
to return the number of losses multiplied by -1. <code>s.sum()</code>
returns the number of wins, and <code>(s == False).sum()</code> returns
the number of losses. Then, <code>-(s == False).sum()</code> returns the
number of losses multiplied by -1, as desired.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 76%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="problem-2">Problem 2</h2>
<p>Let’s suppose there are 4 different types of shots a basketball
player can take – layups, midrange shots, threes, and free throws.</p>
<p>The DataFrame <code>breakdown</code> has 4 rows and 50 columns – one
row for each of the 4 shot types mentioned above, and one column for
each of 50 different players. Each column of <code>breakdown</code>
describes the distribution of shot types for a single player.</p>
<p>The first few columns of <code>breakdown</code> are shown below.</p>
<center><img src='../assets/images/wi22-final/head-to-head.png' width=30%></center>
<p>For instance, 30% of Kelsey Plum’s shots are layups, 30% of her shots
are midrange shots, 20% of her shots are threes, and 20% of her shots
are free throws.</p>
<p><br></p>
<h3 id="problem-2.1">Problem 2.1</h3>
<p>Below, we’ve drawn an overlaid bar chart showing the shot
distributions of Kelsey Plum and Chiney Ogwumike, a player on the Los
Angeles Sparks.</p>
<center><img src='../assets/images/wi22-final/tvd.png' width=50%></center>
<p><br></p>
<p>What is the <strong>total variation distance</strong> (TVD) between
Kelsey Plum’s shot distribution and Chiney Ogwumike’s shot distribution?
Give your answer as a <strong>proportion</strong> between 0 and 1 (not a
percentage) rounded to three decimal places.</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading2_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse2_1" aria-expanded="true" aria-controls="collapse2_1">
Click to view the solution.
</button>
</h2>
<div id="collapse2_1" class="accordion-collapse collapse"
aria-labelledby="heading2_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> 0.2</p>
<p>Recall, the TVD is the sum of the absolute differences in
proportions, divided by 2. The absolute differences in proportions for
each category are as follows:</p>
<ul>
<li>Free Throws: <span class="math inline">|0.05 - 0.2| =
0.15</span></li>
<li>Threes: <span class="math inline">|0.35 - 0.2| = 0.15</span></li>
<li>Midrange: <span class="math inline">|0.35 - 0.3| = 0.05</span></li>
<li>Layups: <span class="math inline">|0.25 - 0.3| = 0.05</span></li>
</ul>
<p>Then, we have</p>
<p><span class="math display">\text{TVD} = \frac{1}{2} (0.15 + 0.15 +
0.05 + 0.05) = 0.2</span></p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 84%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-2.2">Problem 2.2</h3>
<p>Recall, <code>breakdown</code> has information for 50 different
players. We want to find the player whose shot distribution is the
<strong>most similar to Kelsey Plum</strong>, i.e. has the lowest TVD
with Kelsey Plum’s shot distribution.</p>
<p>Fill in the blanks below so that <code>most_sim_player</code>
evaluates to the name of the player with the most similar shot
distribution to Kelsey Plum. Assume that the column named
<code>'Kelsey Plum'</code> is the first column in <code>breakdown</code>
(and again that <code>breakdown</code> has 50 columns total).</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>most_sim_player <span class="op">=</span> <span class="st">&#39;&#39;</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>lowest_tvd_so_far <span class="op">=</span> __(a)__</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>other_players <span class="op">=</span> np.array(breakdown.columns).take(__(b)__)</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> player <span class="kw">in</span> other_players:</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>    player_tvd <span class="op">=</span> tvd(breakdown.get(<span class="st">&#39;Kelsey Plum&#39;</span>),</span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>                     breakdown.get(player))</span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> player_tvd <span class="op">&lt;</span> lowest_tvd_so_far:</span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>        lowest_tvd_so_far <span class="op">=</span> player_tvd</span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>        __(c)__</span></code></pre></div>
<ol type="1">
<li>What goes in blank (a)?</li>
</ol>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> -1</p></li>
<li><p><input type="radio" disabled="" /> -0.5</p></li>
<li><p><input type="radio" disabled="" /> 0</p></li>
<li><p><input type="radio" disabled="" /> 0.5</p></li>
<li><p><input type="radio" disabled="" /> 1</p></li>
<li><p><input type="radio" disabled="" /> <code>np.array([])</code></p></li>
<li><p><input type="radio" disabled="" /> <code>''</code></p></li>
</ul>
<ol start="2" type="1">
<li><p>What goes in blank (b)?</p></li>
<li><p>What goes in blank (c)?</p></li>
</ol>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading2_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse2_2" aria-expanded="true" aria-controls="collapse2_2">
Click to view the solution.
</button>
</h2>
<div id="collapse2_2" class="accordion-collapse collapse"
aria-labelledby="heading2_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answers:</strong> 1, <code>np.arange(1, 50)</code>,
<code>most_sim_player = player</code></p>
<p>Let’s try and understand the code provided to us. It appears that
we’re looping over the names of all other players, each time computing
the TVD between Kelsey Plum’s shot distribution and that player’s shot
distribution. If the TVD calculated in an iteration of the
<code>for</code>-loop (<code>player_tvd</code>) is less than the
previous lowest TVD (<code>lowest_tvd_so_far</code>), the current player
(<code>player</code>) is now the most “similar” to Kelsey Plum, and so
we store their TVD and name (in <code>most_sim_player</code>).</p>
<p>Before the <code>for</code>-loop, we haven’t looked at any other
players, so we don’t have values to store in
<code>most_sim_player</code> and <code>lowest_tvd_so_far</code>. On the
first iteration of the <code>for</code>-loop, both of these values need
to be updated to reflect Kelsey Plum’s similarity with the first player
in <code>other_players</code>. This is because, if we’ve only looked at
one player, that player is the most similar to Kelsey Plum.
<code>most_sim_player</code> is already initialized as an empty string,
and we will specify how to “update” <code>most_sim_player</code> in
blank (c). For blank (a), we need to pick a value of
<code>lowest_tvd_so_far</code> that we can <strong>guarantee</strong>
will be updated on the first iteration of the <code>for</code>-loop.
Recall, TVDs range from 0 to 1, with 0 meaning “most similar” and 1
meaning “most different”. This means that no matter what, the TVD
between Kelsey Plum’s distribution and the first player’s distribution
will be less than 1*, and so if we initialize
<code>lowest_tvd_so_far</code> to 1 before the <code>for</code>-loop, we
know it will be updated on the first iteration.</p>
<ul>
<li>It’s possible that the TVD between Kelsey Plum’s shot distribution
and the first other player’s shot distribution is equal to 1, rather
than being less than 1. If that were to happen, our code would still
generate the correct answer, but <code>lowest_tvd_so_far</code> and
<code>most_sim_player</code> wouldn’t be updated on the first iteration.
Rather, they’d be updated on the first iteration where
<code>player_tvd</code> is strictly less than 1. (We’d expect that the
TVDs between all pairs of players are neither exactly 0 nor exactly 1,
so this is not a practical issue.) To avoid this issue entirely, we
could change <code>if player_tvd &lt; lowest_tvd_so_far</code> to
<code>if player_tvd &lt;= lowest_tvd_so_far</code>, which would make
sure that even if the first TVD is 1, both
<code>lowest_tvd_so_far</code> and <code>most_sim_player</code> are
updated on the first iteration.</li>
<li>Note that we could have initialized <code>lowest_tvd_so_far</code>
to a value larger than 1 as well. Suppose we initialized it to 55 (an
arbitrary positive integer). On the first iteration of the
<code>for</code>-loop, <code>player_tvd</code> will be less than 55, and
so <code>lowest_tvd_so_far</code> will be updated.</li>
</ul>
<p>Then, we need <code>other_players</code> to be an array containing
the names of all players other than Kelsey Plum, whose name is stored at
position 0 in <code>breakdown.columns</code>. We are told that there are
50 players total, i.e. that there are 50 columns in
<code>breakdown</code>. We want to <code>take</code> the elements in
<code>breakdown.columns</code> at positions 1, 2, 3, …, 49 (the last
element), and the call to <code>np.arange</code> that generates this
sequence of positions is <code>np.arange(1, 50)</code>. (Remember,
<code>np.arange(a, b)</code> does not include the second integer!)</p>
<p>In blank (c), as mentioned in the explanation for blank (a), we need
to update the value of <code>most_sim_player</code>. (Note that we only
arrive at this line if <code>player_tvd</code> is the lowest pairwise
TVD we’ve seen so far.) All this requires is
<code>most_sim_player = player</code>, since <code>player</code>
contains the name of the player who we are looking at in the current
iteration of the <code>for</code>-loop.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 70%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-2.3">Problem 2.3</h3>
<p>Let’s again consider the shot distributions of Kelsey Plum and Cheney
Ogwumike.</p>
<center><img src='../assets/images/wi22-final/tvd.png' width=50%></center>
<p>We define the <strong>maximum squared distance</strong> (MSD) between
two categorical distributions as the <strong>largest squared difference
between the proportions of any category</strong>.</p>
<p>What is the MSD between Kelsey Plum’s shot distribution and Chiney
Ogwumike’s shot distribution? Give your answer as a
<strong>proportion</strong> between 0 and 1 (not a percentage) rounded
to three decimal places.</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading2_3">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse2_3" aria-expanded="true" aria-controls="collapse2_3">
Click to view the solution.
</button>
</h2>
<div id="collapse2_3" class="accordion-collapse collapse"
aria-labelledby="heading2_3" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> 0.023</p>
<p>Recall, in the solution to the first subpart of this problem, we
calculated the absolute differences between the proportions of each
category.</p>
<ul>
<li>Free Throws: <span class="math inline">|0.05 - 0.2| =
0.15</span></li>
<li>Threes: <span class="math inline">|0.35 - 0.2| = 0.15</span></li>
<li>Midrange: <span class="math inline">|0.35 - 0.3| = 0.05</span></li>
<li>Layups: <span class="math inline">|0.25 - 0.3| = 0.05</span></li>
</ul>
<p>The squared differences between the proportions of each category are
computed by squaring the results in the list above (e.g. for Free Throws
we’d have <span class="math inline">(0.05 - 0.2)^2 = 0.15^2</span>). To
find the maximum squared difference, then, all we need to do is find the
largest of <span class="math inline">0.15^2</span>, <span class="math inline">0.15^2</span>, <span class="math inline">0.05^2</span>, and <span class="math inline">0.05^2</span>. Since <span class="math inline">0.15
&gt; 0.05</span>, we have that the maximum squared distance is <span class="math inline">0.15^2 = 0.0225</span>, which rounds to <span class="math inline">0.023</span>.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 85%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-2.4">Problem 2.4</h3>
<p>For your convenience, we show the first few columns of
<code>breakdown</code> again below.</p>
<center><img src='../assets/images/wi22-final/head-to-head.png' width=30%></center>
<p>In basketball:</p>
<ul>
<li>layups are worth 2 points,</li>
<li>midrange shots are worth 2 points,</li>
<li>threes are worth 3 points, and</li>
<li>free throws are worth 1 point</li>
</ul>
<p>Suppose that Kelsey Plum is guaranteed to shoot exactly 10 shots a
game. The type of each shot is drawn from the <code>'Kelsey Plum'</code>
column of <code>breakdown</code> (meaning that, for example, there is a
30% chance each shot is a layup).</p>
<p>Fill in the blanks below to complete the definition of the function
<code>simulate_points</code>, which simulates the number of points
Kelsey Plum scores in a single game. (<code>simulate_points</code>
should return a single number.)</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> simulate_points():</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>    shots <span class="op">=</span> np.random.multinomial(__(a)__, breakdown.get(<span class="st">&#39;Kelsey Plum&#39;</span>))</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>    possible_points <span class="op">=</span> np.array([<span class="dv">2</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">1</span>])</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> __(b)__</span></code></pre></div>
<ol type="1">
<li>What goes in blank (a)?</li>
<li>What goes in blank (b)?</li>
</ol>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading2_4">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse2_4" aria-expanded="true" aria-controls="collapse2_4">
Click to view the solution.
</button>
</h2>
<div id="collapse2_4" class="accordion-collapse collapse"
aria-labelledby="heading2_4" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answers:</strong> <code>10</code>,
<code>(shots * possible_points).sum()</code></p>
<p>To simulate the number of points Kelsey Plum scores in a single game,
we need to:</p>
<ol type="1">
<li>Simulate the number of shots she takes of each type (layups,
midranges, threes, free throws).</li>
<li>Using the simulated distribution in step 1, find the total number of
points she scores – specifically, add 2 for every layup, 2 for every
midrange, 3 for every three, and 1 for every free throw.</li>
</ol>
<p>To simulate the number of shots she takes of each type, we use
<code>np.random.multinomial</code>. This is because each shot,
independently of all other shots, has a 30% chance of being a layup, a
30% chance of being a midrange, and so on. What goes in blank (a) is the
number of shots she is taking in total; here, that is 10.
<code>shots</code> will be an array of length 4 containing the number of
shots of each type - for instance, <code>shots</code> may be
<code>np.array([3, 4, 2, 1])</code>, which would mean she took 3 layups,
4 midranges, 2 threes, and 1 free throw.</p>
<p>Now that we have <code>shots</code>, we need to factor in how many
points each type of shot is worth. This can be accomplished by
multiplying <code>shots</code> with <code>possible_points</code>, which
was already defined for us. Using the example where <code>shots</code>
is <code>np.array([3, 4, 2, 1])</code>,
<code>shots * possible_points</code> evaluates to
<code>np.array([6, 8, 6, 1])</code>, which would mean she scored 6
points from layups, 8 points from midranges, and so on. Then, to find
the total number of points she scored, we need to compute the sum of
this array, either using the <code>np.sum</code> function or
<code>.sum()</code> method. As such, the two correct answers for blank
(b) are <code>(shots * possible_points).sum()</code> and
<code>np.sum(shots * possible_points)</code>.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 84%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-2.5">Problem 2.5</h3>
<p>True or False: If we call <code>simulate_points()</code> 10,000 times
and plot a histogram of the results, the distribution will look roughly
normal.</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> True</p></li>
<li><p><input type="radio" disabled="" /> False</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading2_5">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse2_5" aria-expanded="true" aria-controls="collapse2_5">
Click to view the solution.
</button>
</h2>
<div id="collapse2_5" class="accordion-collapse collapse"
aria-labelledby="heading2_5" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer: </strong> True</p>
<p>The answer is True because of the Central Limit Theorem. Recall, the
CLT states that no matter what the population distribution looks like,
if you take many repeated samples with replacement, the distribution of
the sample means and sample sums will be roughly normal.
<code>simulate_points()</code> returns the sum of a sample of size 10
drawn with replacement from a population, and so if we generate many
sample sums, the distribution of those sample sums will be roughly
normal.</p>
<p>The distribution we are drawing from is the one below.</p>
<center>
<table class="table" style="width:60%">
<thead>
<tr>
<th scope="col">Type</th>
<th scope="col">Points</th>
<th scope="col">Probability</th>
</tr>
</thead>
<tbody>
<tr>
<th scope="row">Layups</th>
<td>2</td>
<td>0.3</td>
</tr>
<tr>
<th scope="row">Midrange</th>
<td>2</td>
<td>0.3</td>
</tr>
<tr>
<th scope="row">Threes</th>
<td>3</td>
<td>0.2</td>
</tr>
<tr>
<th scope="row">Free Throws</th>
<td>1</td>
<td>0.2</td>
</tr>
</tbody>
</table>
</center>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 78%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="problem-3">Problem 3</h2>
<p>ESPN (a large sports news network) states that the Las Vegas Aces
have a 60% chance of winning their upcoming game. You’re curious as to
how they came up with this estimate, and you decide to conduct a
hypothesis test for the following hypotheses:</p>
<ul>
<li><p><strong>Null Hypothesis:</strong> The Las Vegas Aces win each
game with a probability of 60%.</p></li>
<li><p><strong>Alternative Hypothesis:</strong> The Las Vegas Aces win
each game with a probability <strong>above</strong> 60%.</p></li>
</ul>
<p>In both hypotheses, we are assuming that each game is independent of
all other games.</p>
<p>In the 2021 season, the Las Vegas Aces <strong>won 22</strong> of
their games and <strong>lost 9</strong> of their games.</p>
<p><br></p>
<h3 id="problem-3.1">Problem 3.1</h3>
<p>Below, we have provided the code necessary to conduct the hypothesis
test described above.</p>
<div class="sourceCode" id="cb10"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>stats <span class="op">=</span> np.array([])</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i <span class="kw">in</span> np.arange(<span class="dv">10000</span>):</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>    sim <span class="op">=</span> np.random.multinomial(<span class="dv">31</span>, [<span class="fl">0.6</span>, <span class="fl">0.4</span>])</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>    stat <span class="op">=</span> fn(sim)</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>    stats <span class="op">=</span> np.append(stats, stat)</span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>win_p_value <span class="op">=</span> np.count_nonzero(stats <span class="op">&gt;=</span> fn([<span class="dv">22</span>, <span class="dv">9</span>])) <span class="op">/</span> <span class="dv">10000</span></span></code></pre></div>
<p><code>fn</code> is a <strong>function</strong> that computes a test
statistic, given a list or array <code>arr</code> of two elements (the
first of which is the number of wins, and the second of which is the
number of losses). You can assume that neither element of
<code>arr</code> is equal to 0.</p>
<p>Below, we define 5 possible test statistics <code>fn</code>.</p>
<p><strong>Option 1:</strong></p>
<div class="sourceCode" id="cb11"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> fn(arr):</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> arr[<span class="dv">0</span>] <span class="op">/</span> arr[<span class="dv">1</span>]</span></code></pre></div>
<p><strong>Option 2:</strong></p>
<div class="sourceCode" id="cb12"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> fn(arr):</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> arr[<span class="dv">0</span>]</span></code></pre></div>
<p><strong>Option 3:</strong></p>
<div class="sourceCode" id="cb13"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> fn(arr):</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> np.<span class="bu">abs</span>(arr[<span class="dv">0</span>] <span class="op">-</span> arr[<span class="dv">1</span>])</span></code></pre></div>
<p><strong>Option 4:</strong></p>
<div class="sourceCode" id="cb14"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> fn(arr):</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> arr[<span class="dv">0</span>] <span class="op">-</span> arr[<span class="dv">1</span>]</span></code></pre></div>
<p><strong>Option 5:</strong></p>
<div class="sourceCode" id="cb15"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> fn(arr):</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> arr[<span class="dv">1</span>] <span class="op">-</span> arr[<span class="dv">0</span>]</span></code></pre></div>
<p>Which of the above functions <code>fn</code> would be valid test
statistics for this hypothesis test and p-value calculation?
<strong>Select all that apply.</strong></p>
<ul class="task-list">
<li><p><input type="checkbox" disabled="" /> Option 1</p></li>
<li><p><input type="checkbox" disabled="" /> Option 2</p></li>
<li><p><input type="checkbox" disabled="" /> Option 3</p></li>
<li><p><input type="checkbox" disabled="" /> Option 4</p></li>
<li><p><input type="checkbox" disabled="" /> Option 5</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading3_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse3_1" aria-expanded="true" aria-controls="collapse3_1">
Click to view the solution.
</button>
</h2>
<div id="collapse3_1" class="accordion-collapse collapse"
aria-labelledby="heading3_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> Options 1, 2, and 4</p>
<p>In the code provided to us, <code>stats</code> is an array containing
10,000 p-values generated by the function <code>fn</code> (note that we
are appending <code>stat</code> to <code>stats</code>, and in the line
before that we have <code>stat = fn(sim)</code>). In the very last line
of the code provided, we have:</p>
<div id="cb1" class="sourceCode">
<pre class="sourceCode py"><code class="sourceCode python"><span id="cb1-1"><a aria-hidden="true" href="#cb1-1" tabindex="-1"></a>win_p_value <span class="op">=</span> np.count_nonzero(stats <span class="op">&gt;=</span> fn([<span class="dv">22</span>, <span class="dv">9</span>])) <span class="op">/</span> <span class="dv">10000</span></span></code></pre>
</div>
<p>If we look closely, we see that we are computing the p-value by
computing the proportion of simulated test statistics that were
<strong>greater than or equal to (<code>&gt;=</code>) the observed
statistic</strong>. Since a p-value is computed as the proportion of
simulated test statistics that were <strong>as or more extreme than the
observed statistic</strong>, here it must mean that “big” test
statistics are more extreme.</p>
<p>Remember, the direction that is “extreme” is determined by our
alternative hypothesis. Here, the alternative hypothesis is that the Las
Vegas Aces win each game with a probability above 60%. As such, the test
statistic(s) we choose <strong>must be large when the probability that
the Aces win a game is high</strong>, and small when the probability
that the Aces win a game is low. With this all in mind, we can take a
look at the 5 options, <strong>remembering that <code>arr[0]</code> is
the number of simulated wins and <code>arr[1]</code> is the number of
simulated losses in a season of 31 games</strong>. This means that when
the Aces win more than they lose, <code>arr[0] &gt; arr[1]</code>, and
when they lose more than they win, <code>arr[0] &lt; arr[1]</code>.</p>
<ul>
<li><strong>Option 1:</strong> Here, our test statistic is the ratio of
wins to losses, i.e. <code>arr[0] / arr[1]</code>. If the Aces win a
lot, the numerator will be larger than the denominator, so this ratio
will be large. If the Aces lose a lot, the numerator will be smaller
than the denominator, and so this ratio will be small. This is what we
want!</li>
<li><strong>Option 2:</strong> Here, our test statistic is the number of
wins, i.e. <code>arr[0]</code>. If the Aces win a lot, this number will
be large, and if the Aces lose a lot, this number will be small. This is
what we want!</li>
<li><strong>Option 3:</strong> Here, our test statistic is the absolute
value of the number of wins minus the number of losses,
i.e. <code>np.abs(arr[0] - arr[1])</code>. If the Aces win a lot, then
<code>arr[0] - arr[1]</code> will be large, and so will
<code>np.abs(arr[0] - arr[1])</code>. This seems fine.
<strong>However</strong>, if the Aces lose a lot, then
<code>arr[0] - arr[1]</code> will be small (negative), but
<code>np.abs(arr[0] - arr[1])</code> will still be large and positive.
This test statistic doesn’t allow us to <strong>differentiate</strong>
when the Aces win a lot or lose a lot, so we can’t use it as a test
statistic for our alternative hypothesis.</li>
<li><strong>Option 4:</strong> From the explanation of Option 3, we know
that when the Aces win a lot, <code>arr[0] - arr[1]</code> is large.
Furthermore, when the Aces lose a lot, <code>arr[0] - arr[1]</code> is
small (negative numbers are small in this context). This works!</li>
<li><strong>Option 5:</strong> <code>arr[1] - arr[0]</code> is the
opposite of <code>arr[0] - arr[1]</code> in Option 4. When the Aces win
a lot, <code>arr[1] - arr[0]</code> is small (negative), and when the
Aces lose a lot, <code>arr[1] - arr[0]</code> is large (positive). This
is the opposite of what we want, so Option 5 does not work.</li>
</ul>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 77%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-3.2">Problem 3.2</h3>
<p>The empirical distribution of one of the 5 test statistics presented
in the previous subpart is shown below. To draw the histogram, we used
the argument <code>bins=np.arange(-10, 25)</code>.</p>
<center><img src='../assets/images/wi22-final/test-stat-dist.png' width=50%></center>
<p>Which test statistic does the above empirical distribution belong
to?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> Option 1</p></li>
<li><p><input type="radio" disabled="" /> Option 2</p></li>
<li><p><input type="radio" disabled="" /> Option 3</p></li>
<li><p><input type="radio" disabled="" /> Option 4</p></li>
<li><p><input type="radio" disabled="" /> Option 5</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading3_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse3_2" aria-expanded="true" aria-controls="collapse3_2">
Click to view the solution.
</button>
</h2>
<div id="collapse3_2" class="accordion-collapse collapse"
aria-labelledby="heading3_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> Option 4</p>
<p>The distribution visualized in the histogram has the following unique
values: -9, -7, -5, -3, …, 17, 19, 21, 23. Crucially, the test statistic
whose distribution we’ve visualized can both be positive and negative.
Right off the bat, we can eliminate Options 1, 2, and 3:</p>
<ul>
<li><strong>Option 1</strong>: Invalid. Option 1 is computed by dividing
the number of wins (<code>arr[0]</code>) by the number of losses
(<code>arr[1]</code>), and that quotient will always be a non-negative
number.</li>
<li><strong>Option 2:</strong> Invalid, since the number of wins
(<code>arr[0]</code>) will always be a non-negative number.</li>
<li><strong>Option 3:</strong> Invalid, since the absolute value of any
real number (<code>np.abs(arr[0] - arr[1])</code>, in this case) will
always be a non-negative number.</li>
</ul>
<p>Now, we must decide between Option 4, whose test statistic is “wins
minus losses” (<code>arr[0] - arr[1]</code>), and Option 5, whose test
statistic is “losses minus wins” (<code>arr[1] - arr[0]</code>).</p>
<p>First, let’s recap <em>how</em> we’re simulating. In the code
provided in the previous subpart, we have the line
<code>sim = np.random.multinomial(31, [0.6, 0.4])</code>. Each time we
run this line, <code>sim</code> will be set to an array with two
elements, the first of which we interpret as the number of simulated
wins and the second of which we interpret as the number of simulated
losses in a 31 game season. The first number in <code>sim</code> will
usually be larger than the second number in <code>sim</code>, since the
chance of a win (0.6) is larger than the chance of a loss (0.4). As
such, When we compute <code>fn(sim)</code> in the following line, the
difference between the wins and losses should typically be positive.</p>
<p>Back to our distribution. Note that the distribution provided in this
subpart is <strong>centered</strong> at a positive number, around 7.
Since the difference between wins and losses will typically be positive,
it appears that we’ve visualized the distribution of the difference
between wins and losses (Option 4). If we instead visualized the
difference between losses and wins, the distribution should be centered
at a negative number, but that’s not the case.</p>
<p>As such, the correct answer is Option 4.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 86%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-3.3">Problem 3.3</h3>
<p>Consider the function <code>fn_plus</code> defined below.</p>
<div class="sourceCode" id="cb16"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> fn_plus(arr):</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> fn(arr) <span class="op">+</span> <span class="dv">31</span></span></code></pre></div>
<p><strong>True or False:</strong> If <code>fn</code> is a valid test
statistic for the hypothesis test and p-value calculation presented at
the start of the problem, then <code>fn_plus</code> is also a valid test
statistic for the hypothesis test and p-value calculation presented at
the start of the problem.</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> True</p></li>
<li><p><input type="radio" disabled="" /> False</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading3_3">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse3_3" aria-expanded="true" aria-controls="collapse3_3">
Click to view the solution.
</button>
</h2>
<div id="collapse3_3" class="accordion-collapse collapse"
aria-labelledby="heading3_3" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> True</p>
<p>All <code>fn_plus</code> is doing is adding 31 to the output of
<code>fn</code>. If we think in terms of pictures, the <em>shape</em> of
the distribution of <code>fn_plus</code> looks the same as the
distribution of <code>fn</code>, just moved to the right by 31 units.
Since the distribution’s shape is no different, the proportion of
simulated test statistics that are greater than the observed test
statistic is no different either, and so the p-value we calculate with
<code>fn_plus</code> is the same as the one we calculate with
<code>fn</code>.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 73%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-3.4">Problem 3.4</h3>
<p>Below, we present the same code that is given at the start of the
problem. (Remember to keep the data description from the top of the exam
open in another tab!)</p>
<div class="sourceCode" id="cb17"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>stats <span class="op">=</span> np.array([])</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i <span class="kw">in</span> np.arange(<span class="dv">10000</span>):</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>    sim <span class="op">=</span> np.random.multinomial(<span class="dv">31</span>, [<span class="fl">0.6</span>, <span class="fl">0.4</span>])</span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>    stat <span class="op">=</span> fn(sim)</span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>    stats <span class="op">=</span> np.append(stats, stat)</span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a>win_p_value <span class="op">=</span> np.count_nonzero(stats <span class="op">&gt;=</span> fn([<span class="dv">22</span>, <span class="dv">9</span>])) <span class="op">/</span> <span class="dv">10000</span></span></code></pre></div>
<p>Below are four possible replacements for the line
<code>sim = np.random.multinomial(31, [0.6, 0.4])</code>.</p>
<p><strong>Option 1:</strong></p>
<div class="sourceCode" id="cb18"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> with_rep():</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>    won <span class="op">=</span> plum.get(<span class="st">&#39;Won&#39;</span>)</span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> np.count_nonzero(np.random.choice(won, <span class="dv">31</span>, replace<span class="op">=</span><span class="va">True</span>))</span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>sim <span class="op">=</span> [with_rep(), <span class="dv">31</span> <span class="op">-</span> with_rep()]</span></code></pre></div>
<p><strong>Option 2:</strong></p>
<div class="sourceCode" id="cb19"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> with_rep():</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>    won <span class="op">=</span> plum.get(<span class="st">&#39;Won&#39;</span>)</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> np.count_nonzero(np.random.choice(won, <span class="dv">31</span>, replace<span class="op">=</span><span class="va">True</span>))</span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>w <span class="op">=</span> with_rep()</span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a>sim <span class="op">=</span> [w, <span class="dv">31</span> <span class="op">-</span> w]</span></code></pre></div>
<p><strong>Option 3:</strong></p>
<div class="sourceCode" id="cb20"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> without_rep():</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>    won <span class="op">=</span> plum.get(<span class="st">&#39;Won&#39;</span>)</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> np.count_nonzero(np.random.choice(won, <span class="dv">31</span>, replace<span class="op">=</span><span class="va">False</span>))</span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>sim <span class="op">=</span> [without_rep(), <span class="dv">31</span> <span class="op">-</span> without_rep()]</span></code></pre></div>
<p><strong>Option 4:</strong></p>
<div class="sourceCode" id="cb21"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> perm():</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>    won <span class="op">=</span> plum.get(<span class="st">&#39;Won&#39;</span>)</span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> np.count_nonzero(np.random.permutation(won))</span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>w <span class="op">=</span> perm()</span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a>sim <span class="op">=</span> [w, <span class="dv">31</span> <span class="op">-</span> w]</span></code></pre></div>
<p>Which of the above four options could we replace the line
<code>sim = np.random.multinomial(plum.shape[0], [0.6, 0.4])</code> with
and still perform a valid hypothesis test for the hypotheses stated at
the start of the problem?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> Option 1</p></li>
<li><p><input type="radio" disabled="" /> Option 2</p></li>
<li><p><input type="radio" disabled="" /> Option 3</p></li>
<li><p><input type="radio" disabled="" /> Option 4</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading3_4">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse3_4" aria-expanded="true" aria-controls="collapse3_4">
Click to view the solution.
</button>
</h2>
<div id="collapse3_4" class="accordion-collapse collapse"
aria-labelledby="heading3_4" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> Option 2</p>
<p>The line
<code>sim = np.random.multinomial(plum.shape[0], [0.6, 0.4])</code>
assigns <code>sim</code> to an array containing two numbers such
that:</p>
<ul>
<li>The numbers are randomly chosen each time the line is run</li>
<li>The numbers always add up to 31</li>
</ul>
<p>We need to select an option that also creates such an array (or list,
in this case). Note that <code>won = plum.get('Won')</code>, a line that
is common to all four options, assigns <code>won</code> to a Series with
31 elements, each of which is either <code>True</code> or
<code>False</code> (corresponding to the wins and losses that the Las
Vegas Aces earned in their season).</p>
<p>Let’s take a look at the line
<code>np.count_nonzero(np.random.choice(won, 31, replace=True))</code>,
common to the first two options. Here, we are randomly selecting 31
elements from the Series <code>won</code>, with replacement, and
counting the number of <code>True</code>s (since with
<code>np.count_nonzero</code>, <code>False</code> is counted as
<code>0</code>). Since we are making our selections with replacement,
each selected element has a <span class="math inline">\frac{22}{31}</span> chance of being
<code>True</code> and a <span class="math inline">\frac{9}{31}</span>
chance of being <code>False</code> (since <code>won</code> has 22
<code>True</code>s and 9 <code>False</code>s). As such,
<code>np.count_nonzero(np.random.choice(won, 31, replace=True))</code>
can be any integer between 0 and 31, inclusive.</p>
<p>Note that if we select without replacement
(<code>replace=False</code>) as Option 3 would like us to, then all 31
selected elements would be the same as the 31 elements in
<code>won</code>. As a result,
<code>np.random.choice(won, 31, replace=False)</code> will always have
22 <code>True</code>s, just like <code>won</code>, and
<code>np.count_nonzero(np.random.choice(won, 31, replace=True))</code>
will always return 22. That’s not random, and so that’s not quite what
we’re looking for.</p>
<p>With this all in mind, let’s look at the four options.</p>
<ul>
<li><strong>Option 1:</strong> Here, each time we call
<code>with_rep()</code>, we get a random number between 0 and 31
(inclusive), corresponding to the (random) number of simulated wins.
Then, we are assigning <code>sim</code> to be
<code>[with_rep(), 31 - with_rep()]</code>. However, it’s not guaranteed
that the two calls to <code>with_rep</code> return the same number of
wins, so it’s not guaranteed that <code>sum(sim)</code> is 31. Option 1,
then, is invalid.</li>
<li><strong>Option 2:</strong> Correct, as we’ll explain below.</li>
<li><strong>Option 3:</strong> As mentioned above, Option 3 uses
<code>replace=False</code>, and so <code>without_rep()</code> is always
22 and <code>sim</code> is always <code>[22, 9]</code>. The outcome is
not random.</li>
<li><strong>Option 4:</strong> Here, <code>perm()</code> always returns
the same number, 22. This is because all we are doing is shuffling the
entries in the <code>won</code> Series, but we aren’t changing the
number of wins (<code>True</code>s) and losses (<code>False</code>s). As
a result, <code>w</code> is always 22 and <code>sim</code> is always
<code>[22, 9]</code>, making this non-random, just like in Option
3.</li>
</ul>
<p>By the process of elimination, <strong>Option 2</strong> must be the
correct choice. It is similar to Option 1, but it only calls
<code>with_rep</code> once and “saves” the result to the name
<code>w</code>. As a result, <code>w</code> is random, and
<code>w</code> and <code>31 - w</code> are guaranteed to sum to 31.</p>
<p><strong>⚠️ Note:</strong> It turns out that none of these options run
a valid hypothesis test, since the null hypothesis was that the Las
Vegas Aces win 60% of their games but none of these simulation
strategies use 60% anywhere (instead, they use the observation that the
Aces actually won 22 games). However, this subpart was about the
sampling strategies themselves, so this mistake from our end doesn’t
invalidate the problem.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 70%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-3.5">Problem 3.5</h3>
<p>Consider again the four options presented in the previous
subpart.</p>
<p>In which of the four options is it <strong>guaranteed</strong> that
<code>sum(sim)</code> evaluates to 31? <strong>Select all that
apply.</strong></p>
<ul class="task-list">
<li><p><input type="checkbox" disabled="" /> Option 1</p></li>
<li><p><input type="checkbox" disabled="" /> Option 2</p></li>
<li><p><input type="checkbox" disabled="" /> Option 3</p></li>
<li><p><input type="checkbox" disabled="" /> Option 4</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading3_5">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse3_5" aria-expanded="true" aria-controls="collapse3_5">
Click to view the solution.
</button>
</h2>
<div id="collapse3_5" class="accordion-collapse collapse"
aria-labelledby="heading3_5" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answers:</strong> Options 2, 3, and 4</p>
<ul>
<li><strong>Option 1:</strong> As explained in the solution to the
previous subpart, if the two calls to <code>with_rep</code> evaluate to
different numbers (entirely possible, since it is random), then
<code>sum(sim)</code> will not be 31.</li>
<li><strong>Option 2:</strong> Here, <code>sim</code> is defined in
terms of some <code>w</code>. Specifically, <code>w</code> is some
number between 0 and 31 and <code>sim</code> is
<code>[w, 31 - w]</code>, so <code>sum(sim)</code> is the same as
<code>w + 31 - w</code>, which is always 31.</li>
<li><strong>Option 3:</strong> In Option 3, <code>sim</code> is always
<code>[22, 9]</code>, and <code>sum(sim)</code> is always 31.</li>
<li><strong>Option 4:</strong> Same as Option 3.</li>
</ul>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 72%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="problem-4">Problem 4</h2>
<p>Consider the definition of the function
<code>diff_in_group_means</code>:</p>
<div class="sourceCode" id="cb22"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> diff_in_group_means(df, group_col, num_col):</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>    s <span class="op">=</span> df.groupby(group_col).mean().get(num_col)</span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> s.loc[<span class="va">False</span>] <span class="op">-</span> s.loc[<span class="va">True</span>]</span></code></pre></div>
<p><br></p>
<h3 id="problem-4.1">Problem 4.1</h3>
<p>It turns out that Kelsey Plum averages 0.61 more assists in games
that she wins (“winning games”) than in games that she loses (“losing
games”). Fill in the blanks below so that <code>observed_diff</code>
evaluates to -0.61.</p>
<div class="sourceCode" id="cb23"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>observed_diff <span class="op">=</span> diff_in_group_means(plum, __(a)__, __(b)__)</span></code></pre></div>
<ol type="1">
<li><p>What goes in blank (a)?</p></li>
<li><p>What goes in blank (b)?</p></li>
</ol>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading4_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse4_1" aria-expanded="true" aria-controls="collapse4_1">
Click to view the solution.
</button>
</h2>
<div id="collapse4_1" class="accordion-collapse collapse"
aria-labelledby="heading4_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answers:</strong> <code>'Won'</code>, <code>'AST'</code></p>
<p>To compute the number of assists Kelsey Plum averages in winning and
losing games, we need to group by <code>'Won'</code>. Once doing so, and
using the <code>.mean()</code> aggregation method, we need to access
elements in the <code>'AST'</code> column.</p>
<p>The second argument to <code>diff_in_group_means</code>,
<code>group_col</code>, is the column we’re grouping by, and so blank
(a) must be filled by <code>'Won'</code>. Then, the second argument,
<code>num_col</code>, must be <code>'AST'</code>.</p>
<p>Note that after extracting the Series containing the average number
of assists in wins and losses, we are returning the value with the index
<code>False</code> (“loss”) minus the value with the index
<code>True</code> (“win”). So, throughout this problem, keep in mind
that we are computing “losses minus wins”. Since our observation was
that she averaged 0.61 more assists in wins than in losses, it makes
sense that <code>diff_in_group_means(plum, 'Won', 'AST')</code> is -0.61
(rather than +0.61).</p>
<hr/>
<h5>Difficulty: ⭐️</h5>
<p>
</p>
<p>The average score on this problem was 94%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-4.2">Problem 4.2</h3>
<p>After observing that Kelsey Plum averages more assists in winning
games than in losing games, we become interested in conducting a
permutation test for the following hypotheses:</p>
<ul>
<li><strong>Null Hypothesis:</strong> The number of assists Kelsey Plum
makes in winning games and in losing games come from the same
distribution.</li>
<li><strong>Alternative Hypothesis:</strong> The number of assists
Kelsey Plum makes in winning games is higher on average than the number
of assists that she makes in losing games.</li>
</ul>
<p>To conduct our permutation test, we place the following code in a
<code>for</code>-loop.</p>
<div class="sourceCode" id="cb24"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>won <span class="op">=</span> plum.get(<span class="st">&#39;Won&#39;</span>)</span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>ast <span class="op">=</span> plum.get(<span class="st">&#39;AST&#39;</span>)</span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>shuffled <span class="op">=</span> plum.assign(Won_shuffled<span class="op">=</span>np.random.permutation(won)) <span class="op">\</span></span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>               .assign(AST_shuffled<span class="op">=</span>np.random.permutation(ast))</span></code></pre></div>
<p>Which of the following options <strong>does not</strong> compute a
valid simulated test statistic for this permutation test?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> <code>diff_in_group_means(shuffled, 'Won', 'AST')</code></p></li>
<li><p><input type="radio" disabled="" /> <code>diff_in_group_means(shuffled, 'Won', 'AST_shuffled')</code></p></li>
<li><p><input type="radio" disabled="" /> <code>diff_in_group_means(shuffled, 'Won_shuffled, 'AST')</code></p></li>
<li><p><input type="radio" disabled="" /> <code>diff_in_group_means(shuffled, 'Won_shuffled, 'AST_shuffled')</code></p></li>
<li><p><input type="radio" disabled="" /> More than one of these options do not compute a valid simulated test
statistic for this permutation test</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading4_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse4_2" aria-expanded="true" aria-controls="collapse4_2">
Click to view the solution.
</button>
</h2>
<div id="collapse4_2" class="accordion-collapse collapse"
aria-labelledby="heading4_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong>
<code>diff_in_group_means(shuffled, 'Won', 'AST')</code></p>
<p>As we saw in the previous subpart,
<code>diff_in_group_means(shuffled, 'Won', 'AST')</code> computes the
observed test statistic, which is -0.61. There is no randomness involved
in the observed test statistic; each time we run the line
<code>diff_in_group_means(shuffled, 'Won', 'AST')</code> we will see the
same result, so this cannot be used for simulation.</p>
<p>To perform a permutation test here, we need to simulate under the
null by randomly assigning assist counts to groups; here, the groups are
“win” and “loss”.</p>
<ul>
<li><strong>Option 2:</strong> Here, assist counts are shuffled and the
group names are kept in the same order. The end result is a random
pairing of assists to groups.</li>
<li><strong>Option 3:</strong> Here, the group names are shuffled and
the assist counts are kept in the same order. The end result is a random
pairing of assist counts to groups.</li>
<li><strong>Option 4:</strong> Here, both the group names and assist
counts are shuffled, but the end result is still the same as in the
previous two options.</li>
</ul>
<p>As such, Options 2 through 4 are all valid, and Option 1 is the only
invalid one.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 68%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-4.3">Problem 4.3</h3>
<p>Suppose we generate 10,000 simulated test statistics, using one of
the valid options from Question 4.2. The empirical distribution of test
statistics, with a red line at <code>observed_diff</code>, is shown
below.</p>
<center><img src='../assets/images/wi22-final/quarter-hist.png' width=50%></center>
<p>Roughly one-quarter of the area of the histogram above is to the left
of the red line. What is the correct interpretation of this result?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> There is roughly a one quarter probability that Kelsey Plum’s number
of assists in winning games and in losing games come from the same
distribution.</p></li>
<li><p><input type="radio" disabled="" /> The significance level of this hypothesis test is roughly a
quarter.</p></li>
<li><p><input type="radio" disabled="" /> Under the assumption that Kelsey Plum’s number of assists in winning
games and in losing games come from the same distribution, and that she
wins 22 of the 31 games she plays, the chance of her averaging
<strong>at least</strong> 0.61 more assists in wins than losses is
roughly a quarter.</p></li>
<li><p><input type="radio" disabled="" /> Under the assumption that Kelsey Plum’s number of assists in winning
games and in losing games come from the same distribution, and that she
wins 22 of the 31 games she plays, the chance of her averaging 0.61 more
assists in wins than losses is roughly a quarter.</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading4_3">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse4_3" aria-expanded="true" aria-controls="collapse4_3">
Click to view the solution.
</button>
</h2>
<div id="collapse4_3" class="accordion-collapse collapse"
aria-labelledby="heading4_3" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> Under the assumption that Kelsey Plum’s
number of assists in winning games and in losing games come from the
same distribution, and that she wins 22 of the 31 games she plays, the
chance of her averaging <strong>at least</strong> 0.61 more assists in
wins than losses is roughly a quarter. (Option 3)</p>
<p>First, we should note that the area to the left of the red line (a
quarter) is the p-value of our hypothesis test. Generally, the p-value
is the probability of observing an outcome as or more extreme than the
observed, under the assumption that the null hypothesis is true. The
direction to look in depends on the alternate hypothesis; here, since
our alternative hypothesis is that the number of assists Kelsey Plum
makes in winning games is higher on average than in losing games, a
“more extreme” outcome is where the assists in winning games are higher
than in losing games, i.e. where <span class="math inline">\text{(assists in wins)} - \text{(assists in
losses)}</span> is positive or where <span class="math inline">\text{(assists in losses)} - \text{(assists in
wins)}</span> is negative. As mentioned in the solution to the first
subpart, our test statistic is <span class="math inline">\text{(assists
in losses)} - \text{(assists in wins)}</span>, so a more extreme outcome
is one where this is negative, i.e. to the left of the observed
statistic.</p>
<p>Let’s first rule out the first two options.</p>
<ul>
<li><strong>Option 1:</strong> This option states that the probability
that the null hypothesis (the number of assists she makes in winning and
losing games comes from the same distribution) is true is roughly a
quarter. However, the p-value <strong>is not</strong> the probability
that the null hypothesis is true.</li>
<li><strong>Option 2:</strong> The significance level is the formal name
for the p-value “cutoff” that we specify in our hypothesis test. There
is no cutoff mentioned in the problem. The <em>observed</em>
significance level is another name for the p-value, but Option 2 did not
contain the word <em>observed</em>.</li>
</ul>
<p>Now, the only difference between Options 3 and 4 is the inclusion of
“at least” in Option 3. Remember, to compute a p-value we must compute
the probability of observing something as <strong>or more</strong>
extreme than the observed, under the null. The “or more” corresponds to
“at least” in Option 3. As such, Option 3 is the correct choice.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 70%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-4.4">Problem 4.4</h3>
<p><strong>True or False:</strong> The histogram drawn in the previous
subpart is a density histogram.</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> True</p></li>
<li><p><input type="radio" disabled="" /> False</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading4_4">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse4_4" aria-expanded="true" aria-controls="collapse4_4">
Click to view the solution.
</button>
</h2>
<div id="collapse4_4" class="accordion-collapse collapse"
aria-labelledby="heading4_4" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> False</p>
<p>The area of a density histogram is 1. The area of the histogram drawn
in the previous subpart is much larger than 1. In fact, the area of this
histogram is in the hundreds or thousands; you can draw a rectangle
stretching from -1 to 1 on the <span class="math inline">x</span>-axis
and 0 to 300 on the <span class="math inline">y</span>-axis that has
area <span class="math inline">2 \cdot 300 = 600</span>, and this
rectangle is much smaller than the larger histogram.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 82%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="problem-5">Problem 5</h2>
<p>Recall, <code>plum</code> has 31 rows.</p>
<p>Consider the function <code>df_choice</code>, defined below.</p>
<div class="sourceCode" id="cb25"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> df_choice(df):</span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> df[np.random.choice([<span class="va">True</span>, <span class="va">False</span>], df.shape[<span class="dv">0</span>], replace<span class="op">=</span><span class="va">True</span>)]</span></code></pre></div>
<p><br></p>
<h3 id="problem-5.1">Problem 5.1</h3>
<p>Suppose we call <code>df_choice(plum)</code> once. What is the
probability that the result is an empty DataFrame?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> 0</p></li>
<li><p><input type="radio" disabled="" /> 1</p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">\frac{1}{2^{25}}</span></p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">\frac{1}{2^{30}}</span></p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">\frac{1}{2^{31}}</span></p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">\frac{2^{31} - 1}{2^{31}}</span></p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">\frac{31}{2^{30}}</span></p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">\frac{31}{2^{31}}</span></p></li>
<li><p><input type="radio" disabled="" /> None of the above</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading5_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse5_1" aria-expanded="true" aria-controls="collapse5_1">
Click to view the solution.
</button>
</h2>
<div id="collapse5_1" class="accordion-collapse collapse"
aria-labelledby="heading5_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> <span class="math inline">\frac{1}{2^{31}}</span></p>
<p>First, let’s understand what <code>df_choice</code> does. It takes in
one input, <code>df</code>. The line
<code>np.random.choice([True, False], df.shape[0], replace=True)</code>
evaluates to an array such that:</p>
<ul>
<li>There is one element for every row in the input DataFrame or array
<code>df</code> (so if <code>df</code> has 31 rows, the output array
will have length 31)</li>
<li>Each element is equally likely to be <code>True</code> or
<code>False</code>, since the sequence we are selecting from is
<code>[True, False]</code> and we are selecting with replacement</li>
</ul>
<p>So
<code>np.random.choice([True, False], df.shape[0], replace=True)</code>
is an array the same length as <code>df</code>, with each element
randomly set to <code>True</code> or <code>False</code>. Note that there
is a <span class="math inline">\frac{1}{2}</span> chance the first
element is <code>True</code>, a <span class="math inline">\frac{1}{2}</span> chance the second element is
<code>True</code>, and so on.</p>
<p>Then,
<code>df[np.random.choice([True, False], df.shape[0], replace=True)]</code>
is using Boolean indexing to keep only the rows in <code>df</code> where
the array
<code>np.random.choice([True, False], df.shape[0], replace=True)</code>
contains the value <code>True</code>. So, the function
<code>df_choice</code> returns a <strong>DataFrame</strong> containing
somewhere between 0 and <code>df.shape[0]</code> rows. Note that there
is a <span class="math inline">\frac{1}{2}</span> chance that the new
DataFrame contains the first row from <code>df</code>, a <span class="math inline">\frac{1}{2}</span> chance that the new DataFrame
contains the second row from <code>df</code>, and so on.</p>
<p>In this question, the only input ever given to <code>df_choice</code>
is <code>plum</code>, which has 31 rows.</p>
<p><br/></p>
<p>In this subpart, we’re asked for the probability that
<code>df_choice(plum)</code> is an empty DataFrame. There are 31 rows,
and each of them have a <span class="math inline">\frac{1}{2}</span>
chance of being included in the output, and so a <span class="math inline">\frac{1}{2}</span> chance of being missing. So, the
chance that they are all missing is:</p>
<p><span class="math display">\begin{aligned} P(\text{empty DataFrame})
&amp;= P(\text{all rows missing}) \\ &amp;= P(\text{row 0 missing and
row 1 missing and ... and row 30 missing}) \\ &amp;= P(\text{row 0
missing}) \cdot P(\text{row 1 missing}) \cdot ... \cdot P(\text{row 30
missing}) \\ &amp;= \frac{1}{2} \cdot \frac{1}{2} \cdot ... \cdot
\frac{1}{2} \\ &amp;= \boxed{\frac{1}{2^{31}}} \end{aligned}</span></p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 83%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-5.2">Problem 5.2</h3>
<p>Suppose we call <code>df_choice(plum)</code> once. What is the
probability that the result is a DataFrame with 30 rows?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> 0</p></li>
<li><p><input type="radio" disabled="" /> 1</p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">\frac{1}{2^{25}}</span></p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">\frac{1}{2^{30}}</span></p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">\frac{1}{2^{31}}</span></p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">\frac{2^{31} - 1}{2^{31}}</span></p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">\frac{31}{2^{30}}</span></p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">\frac{31}{2^{31}}</span></p></li>
<li><p><input type="radio" disabled="" /> None of the above</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading5_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse5_2" aria-expanded="true" aria-controls="collapse5_2">
Click to view the solution.
</button>
</h2>
<div id="collapse5_2" class="accordion-collapse collapse"
aria-labelledby="heading5_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> <span class="math inline">\frac{31}{2^{31}}</span></p>
<p>In order for the resulting DataFrame to have 30 rows, exactly 1 row
must be missing, and the other 30 must be present.</p>
<p>To start, let’s consider one row in particular, say, row 7. The
probability that row 7 is missing is <span class="math inline">\frac{1}{2}</span>, and the probability that rows 0
through 6 and 8 through 30 are all present is <span class="math inline">\frac{1}{2} \cdot \frac{1}{2} \cdot ... \cdot
\frac{1}{2} = \frac{1}{2^{30}}</span> using the logic from the previous
subpart. So, the probability that row 7 is missing AND all other rows
are present is <span class="math inline">\frac{1}{2} \cdot
\frac{1}{2^{30}} = \frac{1}{2^{31}}</span>.</p>
<p>Then, in order for there to be 30 rows, either row 0 must be missing,
or row 1 must be missing, and so on:</p>
<p><span class="math display">\begin{aligned} P(\text{exactly one row
missing}) &amp;= P(\text{only row 0 is missing or only row 1 is missing
or ... or only row 30 is missing}) \\ &amp;= P(\text{only row 0 is
missing}) + P(\text{only row 1 is missing}) + ... + P(\text{only row 30
is missing}) \\ &amp;= \frac{1}{2^{31}} + \frac{1}{2^{31}} + ... +
\frac{1}{2^{31}} \\ &amp;=
\boxed{\frac{31}{2^{31}}}  \end{aligned}</span></p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 48%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-5.3">Problem 5.3</h3>
<p>Suppose we call <code>df_choice(plum)</code> once.</p>
<p><strong>True or False:</strong> The probability that the result is a
DataFrame that consists of <strong>just</strong> row 0 from
<code>plum</code> (and no other rows) is equal to the probability you
computed in the first subpart of this problem.</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> True</p></li>
<li><p><input type="radio" disabled="" /> False</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading5_3">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse5_3" aria-expanded="true" aria-controls="collapse5_3">
Click to view the solution.
</button>
</h2>
<div id="collapse5_3" class="accordion-collapse collapse"
aria-labelledby="heading5_3" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> True</p>
<p>An important realization to make is that all <strong>subsets</strong>
of the rows in <code>plum</code> are equally likely to be returned by
<code>df_choice(plum)</code>, and they all have probability <span class="math inline">\frac{1}{2^{31}}</span>. For instance, one subset of
<code>plum</code> is the subset where rows 2, 5, 8, and 30 are missing,
and the rest are all present. The probability that this subset is
returned by <code>df_choice(plum)</code> is <span class="math inline">\frac{1}{2^{31}}</span>.</p>
<p>This is true because for each individual row, the probability that it
is present or missing is the same – <span class="math inline">\frac{1}{2}</span> – so the probability of any
subset is a product of 31 <span class="math inline">\frac{1}{2}</span>s,
which is <span class="math inline">\frac{1}{2^{31}}</span>. (The answer
to the previous subpart was not <span class="math inline">\frac{1}{2^{31}}</span> because it was asking about
multiple subsets – the subset where only row 0 was missing, and the
subset where only row 1 was missing, and so on).</p>
<p>So, the probability that <code>df_choice(plum)</code> consists of
just row 0 is <span class="math inline">\frac{1}{2^{31}}</span>, and
this is the same as the answer to the first subpart (<span class="math inline">\frac{1}{2^{31}}</span>); in both situations, we are
calculating the probability of one specific subset.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 63%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-5.4">Problem 5.4</h3>
<p>Suppose we call <code>df_choice(plum)</code> once.</p>
<p>What is the probability that the resulting DataFrame has 0 rows, or 1
row, or 30 rows, or 31 rows?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> 0</p></li>
<li><p><input type="radio" disabled="" /> 1</p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">\frac{1}{2^{25}}</span></p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">\frac{1}{2^{30}}</span></p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">\frac{1}{2^{31}}</span></p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">\frac{2^{31} - 1}{2^{31}}</span></p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">\frac{31}{2^{30}}</span></p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">\frac{31}{2^{31}}</span></p></li>
<li><p><input type="radio" disabled="" /> None of the above</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading5_4">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse5_4" aria-expanded="true" aria-controls="collapse5_4">
Click to view the solution.
</button>
</h2>
<div id="collapse5_4" class="accordion-collapse collapse"
aria-labelledby="heading5_4" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> <span class="math inline">\frac{1}{2^{25}}</span></p>
<p>Here, we’re not being asked for the probability of one specific
subset (like the subset containing just row 0); rather, we’re being
asked for the probability of various different subsets, so our
calculation will be a bit more involved.</p>
<p>We can break our problem down into four pieces. We can find the
probability that there are 0 rows, 1 row, 30 rows, and 31 rows
individually, and add these probabilities up, since only one of them can
happen at a time (it’s impossible for a DataFrame to have both 1 and 30
rows at the same time; these events are “mutually exclusive”). It turns
out we’ve already calculated two of these probabilities:</p>
<ul>
<li>From the first subpart, the probability that 0 rows are returned is
<span class="math inline">\frac{1}{2^{31}}</span>. This corresponds to a
single subset, the subset where all rows are missing.</li>
<li>From the second subpart, the probability that 30 rows are returned
is <span class="math inline">\frac{31}{2^{31}}</span>.</li>
</ul>
<p>The other two possibilities are <em>symmetric</em> with the above
two!</p>
<ul>
<li>The probability that 31 rows are returned is the same as the
probability that 0 rows are returned, since the probability of a row
being missing and a row being present is the same. This is <span class="math inline">\frac{1}{2^{31}}</span>.</li>
<li>The probability that 1 row is returned is the same as the
probability that 1 row is missing, i.e. the probability that 30 rows are
returned. This, from the second subpart, is <span class="math inline">\frac{31}{2^{31}}</span>.</li>
</ul>
<p>Putting it all together, we have:</p>
<p><span class="math display">\begin{aligned} P(\text{number of returned
rows is 0, 1, 30, or 31}) &amp;= P(\text{0 rows are returned}) +
P(\text{1 row is returned}) + P(\text{30 rows are returned}) +
P(\text{31 rows are returned}) \\ &amp;= \frac{1}{2^{31}} +
\frac{31}{2^{31}} + \frac{31}{2^{31}} + \frac{1}{2^{31}} \\ &amp;=
\frac{1 + 31 + 31 + 1}{2^{31}} \\ &amp;= \frac{64}{2^{31}} \\ &amp;=
\frac{2^6}{2^{31}} \\ &amp;= \frac{1}{2^{31 - 6}} \\ &amp;=
\boxed{\frac{1}{2^{25}}} \end{aligned}</span></p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 35%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="problem-6">Problem 6</h2>
<p>In addition to the <code>plum</code> DataFrame, we also have access
to the <code>season</code> DataFrame, which contains statistics on all
players in the WNBA in the 2021 season. The first few rows of
<code>season</code> are shown below. (Remember to keep the data
description from the top of the exam open in another tab!)</p>
<center><img src='../assets/images/wi22-final/seasons.png' width=40%></center>
<p>Each row in <code>season</code> corresponds to a single player. For
each player, we have: - <code>'Player'</code> (<code>str</code>), their
name - <code>'Team'</code> (<code>str</code>), the three-letter code of
the team they play on - <code>'G'</code> (<code>int</code>), the number
of games they played in the 2021 season - <code>'PPG'</code>
(<code>float</code>), the number of points they scored per game played -
<code>'APG'</code> (<code>float</code>), the number of assists (passes)
they made per game played - <code>'TPG'</code> (<code>float</code>), the
number of turnovers they made per game played</p>
<p>Note that all of the numerical columns in <code>season</code> must
contain values that are greater than or equal to 0.</p>
<p><br></p>
<h3 id="problem-6.1">Problem 6.1</h3>
<p>Which of the following is the best choice for the index of
<code>season</code>?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> <code>'Player'</code></p></li>
<li><p><input type="radio" disabled="" /> <code>'Team'</code></p></li>
<li><p><input type="radio" disabled="" /> <code>'G'</code></p></li>
<li><p><input type="radio" disabled="" /> <code>'PPG'</code></p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading6_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse6_1" aria-expanded="true" aria-controls="collapse6_1">
Click to view the solution.
</button>
</h2>
<div id="collapse6_1" class="accordion-collapse collapse"
aria-labelledby="heading6_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> <code>'Player'</code></p>
<p>Ideally, the index of a DataFrame is unique, so that we can use it to
“identify” the rows. Here, each row is about a player, so
<code>'Player'</code> should be the index. <code>'Player'</code> is the
only column that is likely to be unique; it is possible that two players
have the same name, but it’s still a <em>better</em> choice of index
than the other three options, which are definitely not unique.</p>
<hr/>
<h5>Difficulty: ⭐️</h5>
<p>
</p>
<p>The average score on this problem was 95%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-6.2">Problem 6.2</h3>
<p><strong>Note:</strong> For the rest of the exam, assume that the
index of <code>season</code> is still 0, 1, 2, 3, …</p>
<p>Below is a histogram showing the distribution of the number of
turnovers per game for all players in <code>season</code>.</p>
<center><img src='../assets/images/wi22-final/tpg-hist.png' width=40%></center>
<p>Suppose, <strong>throughout this question</strong>, that the mean
number of turnovers per game is 1.25. Which of the following is closest
to the median number of turnovers per game?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> 0.5</p></li>
<li><p><input type="radio" disabled="" /> 0.75</p></li>
<li><p><input type="radio" disabled="" /> 1</p></li>
<li><p><input type="radio" disabled="" /> 1.25</p></li>
<li><p><input type="radio" disabled="" /> 1.5</p></li>
<li><p><input type="radio" disabled="" /> 1.75</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading6_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse6_2" aria-expanded="true" aria-controls="collapse6_2">
Click to view the solution.
</button>
</h2>
<div id="collapse6_2" class="accordion-collapse collapse"
aria-labelledby="heading6_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> 1</p>
<p>The median of a distribution is the value that is “halfway” through
the distribution, i.e. the value such that half of the values in the
distribution are larger than it and half the values in the distribution
are smaller than it.</p>
<p>Visually, we’re looking for the location on the <span class="math inline">x</span>-axis where we can draw a vertical line that
splits the area of the histogram in half. While it’s impossible to tell
the exact median of the distribution, since we don’t know how the values
are distributed within the bars, we can get pretty close by using this
principle.</p>
<p>Immediately, we can rule out 0.5, 0.75, 1.5, and 1.75, since they are
too far from the “center” of the distribution (imagine drawing vertical
lines at any of those points on the <span class="math inline">x</span>-axis; they don’t split the distribution’s
area in half). To decide between 1 and 1.25, we can use the fact that
the distribution is <em>right-skewed</em>, meaning that its mean is
larger than its median (intuitively, the mean is dragged in the
direction of the tail, which is to the right). This means that the
median should be less than the mean. We are given that the mean of the
distribution is 1.25, so the median should be 1.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 73%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-6.3">Problem 6.3</h3>
<p>Sabrina Ionescu and Sami Whitcomb are both players on the New York
Liberty, and are both California natives.</p>
<p>In “original units”, Sabrina Ionescu had 3.5 turnovers per game. In
standard units, her turnovers per game is 3.</p>
<p>In standard units, Sami Whitcomb’s turnovers per game is -1. How many
turnovers per game did Sami Whitcomb have in <strong>original
units</strong>? Round your answer to 3 decimal places.</p>
<p><strong>Note:</strong> You will need the fact from the previous
subpart that the mean number of turnovers per game is 1.25.</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading6_3">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse6_3" aria-expanded="true" aria-controls="collapse6_3">
Click to view the solution.
</button>
</h2>
<div id="collapse6_3" class="accordion-collapse collapse"
aria-labelledby="heading6_3" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> 0.5</p>
<p>To convert a value <span class="math inline">x</span> to standard
units (denoted by <span class="math inline">x_{\text{su}}</span>), we
use the following formula:</p>
<p><span class="math display">x_{\text{su}} = \frac{x - \text{mean of
}x}{\text{SD of }x}</span></p>
<p>Let’s look at the first line given to us: <em>In “original units”,
Sabrina Ionescu had 3.5 turnovers per game. In standard units, her
turnovers per game is 3.</em></p>
<p>Substituting the information we know into the above equation gives
us:</p>
<p><span class="math display">3 = \frac{3.5 - 1.25}{\text{SD of
}x}</span></p>
<p>In order to convert future values from original units to standard
units, we’ll need to know <span class="math inline">\text{SD of
}x</span>, which we don’t currently but can obtain by rearranging the
above equation. Doing so yields</p>
<p><span class="math display">\text{SD of }x = \frac{3.5-1.25}{3} =
\frac{2.25}{3} = 0.75</span></p>
<p>Now, let’s look at the second line we’re given: <em>In standard
units, Sami Whitcomb’s turnovers per game is -1. How many turnovers per
game did Sami Whitcomb have in <strong>original units</strong>? Round
your answer to 3 decimal places.</em></p>
<p>We have all the information we need to convert Sami Whitcomb’s
turnovers per game from standard units to original units! Plugging in
the values we know gives us:</p>
<p><span class="math display">\begin{aligned} x_{\text{su}} &amp;=
\frac{x - \text{mean of }x}{\text{SD of }x} \\ -1 &amp;= \frac{x -
1.25}{0.75} \\ -0.75 &amp;= x - 1.25 \\ 1.25 - 0.75 &amp;= x \\ x &amp;=
\boxed{0.5} \end{aligned}</span></p>
<p>Thus, in original units, Sami Whitcomb averaged 0.5 turnovers per
game.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 87%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-6.4">Problem 6.4</h3>
<p>What is the <strong>smallest</strong> possible number of turnovers
per game, in <strong>standard units</strong>? Round your answer to 3
decimal places.</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading6_4">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse6_4" aria-expanded="true" aria-controls="collapse6_4">
Click to view the solution.
</button>
</h2>
<div id="collapse6_4" class="accordion-collapse collapse"
aria-labelledby="heading6_4" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> -1.667</p>
<p>The smallest possible number of turnovers per game in original units
is 0 (which a player would have if they never had a turnover – that
would mean they’re really good!). To find the smallest possible
turnovers per game in standard units, all we need to do is convert 0
from original units to standard units. This will involve our work from
the previous subpart.</p>
<p><span class="math display">\begin{aligned} x_{\text{su}} &amp;=
\frac{x - \text{mean of }x}{\text{SD of }x} \\ &amp;= \frac{0 -
1.25}{0.75} \\ &amp;= -\frac{1.25}{0.75} \\ &amp;= -\frac{5}{3} =
\boxed{-1.667} \end{aligned}</span></p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 82%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="problem-7">Problem 7</h2>
<p>Let’s switch our attention to the relationship between the number of
points per game and the number of assists per game for all players in
<code>season</code>. Using <code>season</code>, we compute the following
information:</p>
<ul>
<li>The mean points per game is 7, with a standard deviation of 5</li>
<li>The mean number of assists per game is 1.5, with a standard
deviation of 1.5</li>
<li>The correlation between points per game and assists per game is
0.65</li>
</ul>
<p><br></p>
<h3 id="problem-7.1">Problem 7.1</h3>
<p>Let’s start by using points per game (<span
class="math inline">x</span>) to predict assists per game (<span
class="math inline">y</span>).</p>
<p>Tina Charles had 27 points per game in 2021, the most of any player
in the WNBA. What is her predicted assists per game, according to the
regression line? Round your answer to 3 decimal places.</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading7_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse7_1" aria-expanded="true" aria-controls="collapse7_1">
Click to view the solution.
</button>
</h2>
<div id="collapse7_1" class="accordion-collapse collapse"
aria-labelledby="heading7_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> 5.4</p>
<p>We need to find and use the regression line to find the predicted
<span class="math inline">y</span> for an <span class="math inline">x</span> of 27. There are two ways to proceed:</p>
<ol type="1">
<li>Use the regression line in standard units. To do this, we’d need to
convert 27 from original units to standard units, use the regression
line <span class="math inline">y_\text{su} = r \cdot x_\text{su}</span>,
and convert the output back to original units.</li>
<li>Use the regression line in original units. To do this, we’d need to
find the slope <span class="math inline">m</span> and intercept <span class="math inline">b</span> in the regression line <span class="math inline">y = mx + b</span>, using the formulas <span class="math inline">m = r \cdot \frac{\text{SD of }y }{\text{SD of
}x}</span> and <span class="math inline">b = \text{mean of }y - m \cdot
\text{mean of }x</span>.</li>
</ol>
<p>Both solutions work; for the sake of completeness, we’ll show both.
Recall, <span class="math inline">r</span> is the correlation
coefficient between <span class="math inline">x</span> and <span class="math inline">y</span>, which we are told is 0.65.</p>
<p><strong>Solution 1:</strong></p>
<p>First, we need to convert 27 points per game to standard units. Doing
so yields</p>
<p><span class="math display">x_{\text{su}} = \frac{x - \text{mean of
}x}{\text{SD of }x} = \frac{27 - 7}{5} = 4</span></p>
<p>Per the regression line, <span class="math inline">y_\text{su} = r
\cdot x_\text{su}</span>, we have <span class="math inline">y_\text{su}
= 0.65 \cdot 4 = 2.6</span>, which is Tina Charles’ predicted assists
per game in standard units. All that’s left is to convert this value
back to original units:</p>
<p><span class="math display">\begin{aligned} y_{\text{su}} &amp;=
\frac{y - \text{mean of }y}{\text{SD of }y} \\ 2.6 &amp;= \frac{y -
1.5}{1.5} \\ 2.6 \cdot 1.5 + 1.5 &amp;= y \\ y &amp;= \boxed{5.4}
\end{aligned}</span></p>
<p>So, the regression line predicts Tina Charles will have 5.4 assists
per game (in original units).</p>
<p><br/></p>
<p><strong>Solution 2:</strong></p>
<p>First, we need to find the slope <span class="math inline">m</span>
and intercept <span class="math inline">b</span>:</p>
<p><span class="math display">m = r \cdot \frac{\text{SD of }y
}{\text{SD of }x} = 0.65 \cdot \frac{1.5}{5} = 0.195</span></p>
<p><span class="math display">b = \text{mean of }y - m \cdot \text{mean
of }x = 1.5 - 0.195 \cdot 7 = 0.135</span></p>
<p>Then,</p>
<p><span class="math display">y = mx + b \implies y = 0.195 \cdot 27 +
0.135 = \boxed{5.4}</span></p>
<p>So, once again, the regression line predicts Tina Charles will have
5.4 assists per game.</p>
<p><strong>Note:</strong> The numbers in this problem may seem ugly, but
students taking this exam had access to calculators since this exam was
online. It also turns out that the numbers were easier to work with in
Solution 1 over Solution 2; this was intentional.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 81%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-7.2">Problem 7.2</h3>
<p>Tina Charles actually had 2.1 assists per game in the 2021
season.</p>
<p>What is the error, or residual, for the prediction in the previous
subpart? Round your answer to 3 decimal places.</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading7_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse7_2" aria-expanded="true" aria-controls="collapse7_2">
Click to view the solution.
</button>
</h2>
<div id="collapse7_2" class="accordion-collapse collapse"
aria-labelledby="heading7_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> -3.3</p>
<p>Residuals are defined as follows:</p>
<p><span class="math display">\text{residual} = \text{actual } y -
\text{predicted }y</span></p>
<p><span class="math inline">2.1 - 5.4 = -3.3</span>, which gives us our
answer.</p>
<p><strong>Note:</strong> Many students answered 3.3. Pay attention to
the order of the calculation!</p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 82%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-7.3">Problem 7.3</h3>
<p>Select all true statements below regarding the regression line
between points per game (<span class="math inline">x</span>) and assists
per game (<span class="math inline">y</span>).</p>
<ul class="task-list">
<li><p><input type="checkbox" disabled="" /> The point (0, 0) is guaranteed to be on the regression line when both
<span class="math inline">x</span> and <span class="math inline">y</span> are in standard units.</p></li>
<li><p><input type="checkbox" disabled="" /> The point (0, 0) is guaranteed to be on the regression line when both
<span class="math inline">x</span> and <span class="math inline">y</span> are in original units.</p></li>
<li><p><input type="checkbox" disabled="" /> The point (7, 1.5) is guaranteed to be on the regression line when
both <span class="math inline">x</span> and <span class="math inline">y</span> are in standard units.</p></li>
<li><p><input type="checkbox" disabled="" /> The point (7, 1.5) is guaranteed to be on the regression line when
both <span class="math inline">x</span> and <span class="math inline">y</span> are in original units.</p></li>
<li><p><input type="checkbox" disabled="" /> None of the above</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading7_3">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse7_3" aria-expanded="true" aria-controls="collapse7_3">
Click to view the solution.
</button>
</h2>
<div id="collapse7_3" class="accordion-collapse collapse"
aria-labelledby="heading7_3" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answers:</strong></p>
<ul>
<li>The point (0, 0) is guaranteed to be on the regression line when
both <span class="math inline">x</span> and <span class="math inline">y</span> are in standard units (Option 1).</li>
<li>The point (7, 1.5) is guaranteed to be on the regression line when
both <span class="math inline">x</span> and <span class="math inline">y</span> are in original units (Option 4).</li>
</ul>
<p>The main idea being assessed here is the fact that the point <span class="math inline">(\text{mean of }x, \text{mean of }y)</span> always
lies on the regression line. Indeed, in original units, 7 is the average
<span class="math inline">x</span> (PPG) and 1.5 is the average <span class="math inline">y</span> (APG); this information was provided to us
at the start of the problem. The nuance behind this problem lies in the
units that are being used in the regression line.</p>
<p>When the regression line is in <strong>standard units</strong>:</p>
<ul>
<li>In standard units, 0 means “0 standard deviations above the
average”, i.e. 0 means “average”. When the regression line is in
standard units, we have <span class="math inline">y_\text{su} = r \cdot
x_\text{su}</span>. If <span class="math inline">x</span> is average,
i.e. if <span class="math inline">x_\text{su} = 0</span>, then <span class="math inline">y_\text{su} = r \cdot x_\text{su} = r \cdot 0 =
0</span>, regardless of what <span class="math inline">r</span> is. So
the point <span class="math inline">(0, 0)</span> is on the regression
line when both <span class="math inline">x</span> and <span class="math inline">y</span> are in standard units, meaning that
<strong>Option 1 is correct</strong>.</li>
<li>The point <span class="math inline">(7, 1.5)</span> is not on the
regression line when <span class="math inline">x</span> and <span class="math inline">y</span> are in standard units. We know this because
in this problem <span class="math inline">r = 0.65</span>, and if <span class="math inline">x_\text{su} = 7</span>, then <span class="math inline">y_\text{su} = r \cdot x_\text{su} = 0.65 \cdot 7 =
4.55 \neq 1.5</span>. This means that <strong>Option 3 is
incorrect</strong>.</li>
</ul>
<p>When the regression line is in <strong>original units</strong>:</p>
<ul>
<li>In original units, the average <span class="math inline">x</span> is
7 and the average <span class="math inline">y</span> is 1.5. From class,
we may remember that this automatically means that <span class="math inline">(7, 1.5)</span> is on the regression line in
original units. If we didn’t remember that, we can look to the formula
for the slope <span class="math inline">m</span> and intercept <span class="math inline">b</span> in <span class="math inline">y = mx +
b</span>. The formula for the slope is actually not relevant here;
what’s relevant is the fact that <span class="math inline">b =
\text{mean of }y - m \cdot \text{mean of }x</span>. Substituting the
formula for <span class="math inline">b</span> into <span class="math inline">y = mx + b</span> yields</li>
</ul>
<p><span class="math display">y = mx + b = mx + \text{mean of }y - m
\cdot \text{mean of }x</span></p>
<ul>
<li>If <span class="math inline">x = \text{mean of }x</span>, then the
above simplifies to: <span class="math inline">y = m \cdot \text{mean of
}x + \text{mean of }y - m \cdot \text{mean of }x = \text{mean of
}y</span>, meaning that <span class="math inline">(\text{mean of }x,
\text{mean of }y)</span> — which is <span class="math inline">(7,
1.5)</span> in this case — is on the regression line in original units,
so <strong>Option 4 is correct</strong>.</li>
<li>In the above equation, if <span class="math inline">x = 0</span>,
then <span class="math inline">y = \text{mean of }y - m \cdot \text{mean
of }x</span>, which in this case simplifies to <span class="math inline">1.5 - 0.195 \cdot 7 = 0.135 \neq 0</span>. This
means that (0, 0) is not on the regression line in original units and
<strong>Option 2 is incorrect</strong>.</li>
</ul>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 87%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-7.4">Problem 7.4</h3>
<p>So far, we’ve been using points per game (<span
class="math inline">x</span>) to predict assists per game (<span
class="math inline">y</span>). Suppose we found the regression line
(when both <span class="math inline">x</span> and <span
class="math inline">y</span> are in original units) to be <span
class="math inline">y = ax + b</span>.</p>
<p>Now, let’s reverse <span class="math inline">x</span> and <span
class="math inline">y</span>. That is, we will now use assists per game
(<span class="math inline">x</span>) to predict points per game (<span
class="math inline">y</span>). The resulting regression line (when both
<span class="math inline">x</span> and <span
class="math inline">y</span> are in original units) is <span
class="math inline">y = cx + d</span>.</p>
<p>Which of the following statements is guaranteed to be true?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> <span class="math inline">a = c</span></p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">a &gt; c</span></p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">a &lt; c</span></p></li>
<li><p><input type="radio" disabled="" /> Using just the information given in this problem, it is impossible to
determine the relationship between <span class="math inline">a</span>
and <span class="math inline">c</span>.</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading7_4">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse7_4" aria-expanded="true" aria-controls="collapse7_4">
Click to view the solution.
</button>
</h2>
<div id="collapse7_4" class="accordion-collapse collapse"
aria-labelledby="heading7_4" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> <span class="math inline">a &lt;
c</span></p>
<p>The formula for the slope of the regression line is <span class="math inline">m = r \cdot \frac{\text{SD of }y}{\text{SD of
}x}</span>. Note that the correlation coefficient <span class="math inline">r</span> is symmetric, meaning that the correlation
between <span class="math inline">x</span> and <span class="math inline">y</span> is the same as the correlation between
<span class="math inline">y</span> and <span class="math inline">x</span>.</p>
<p>In the two regression lines mentioned in this problem, we have</p>
<p><span class="math display">\begin{aligned} a &amp;= r \cdot
\frac{\text{SD of assists per game}}{\text{SD of points per game}} \\ c
&amp;= r \cdot \frac{\text{SD of points per game}}{\text{SD of assists
per game}}  \end{aligned}</span></p>
<p>We’re told in the problem that the SD of points per game is 5 and the
SD of assists per game is 1.5. So, <span class="math inline">a = r \cdot
\frac{1.5}{5}</span> and <span class="math inline">c = r \cdot
\frac{5}{1.5}</span>; since <span class="math inline">\frac{1.5}{5} &lt;
\frac{5}{1.5}</span>, <span class="math inline">a &lt; c</span>.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 74%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="problem-8">Problem 8</h2>
<p><br></p>
<h3 id="problem-8.1">Problem 8.1</h3>
<p>Recall that the mean points per game is 7, with a standard deviation
of 5. Also note that for all players, points per game must be greater
than or equal to 0.</p>
<p>Using Chebyshev’s inequality, we find that at least <span
class="math inline">p\%</span> of players scored 25 or fewer points per
game.</p>
<p>What is the value of <span class="math inline">p</span>? Give your
answer as number between 0 and 100, rounded to 3 decimal places.</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading8_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse8_1" aria-expanded="true" aria-controls="collapse8_1">
Click to view the solution.
</button>
</h2>
<div id="collapse8_1" class="accordion-collapse collapse"
aria-labelledby="heading8_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> <span class="math inline">92.284\%</span></p>
<p>Recall, Chebyshev’s inequality states that the proportion of values
within <span class="math inline">z</span> standard deviations of the
mean is <strong>at least</strong> <span class="math inline">1 -
\frac{1}{z^2}</span>.</p>
<p>To approach the problem, we’ll start by converting 25 points per game
to standard units. Doing so yields <span class="math inline">\frac{25 -
7}{5} = 3.6</span>. This means that 25 is 3.6 standard deviations
<strong>above</strong> the mean. The value 3.6 standard deviations
<strong>below</strong> the mean is <span class="math inline">7 - 3.6
\cdot 5 = -11</span>, so when we use Chebyshev’s inequality with <span class="math inline">z = 3.6</span>, we will get a lower bound on the
proportion of values between -11 and 25. However, as the question tells
us, points per game must be non-negative, so in this case the proportion
of values between -11 and 25 is the same as the proportion of values
between 0 and 25 (i.e. the proportion of values less than or equal to
25).</p>
<p>When <span class="math inline">z = 3.6</span>, we have <span class="math inline">1 - \frac{1}{z^2} = 1 - \frac{1}{3.6^2} =
0.922839</span>, which as a percentage rounded to three decimal places
is <span class="math inline">92.284\%</span>. Thus, at least <span class="math inline">92.284\%</span> scored 25 or fewer points per
game.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 46%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-8.2">Problem 8.2</h3>
<p><span style="color:red"><b>Note: This problem is out of scope; it
covers material no longer included in the course.</b></span></p>
<p><strong>Note:</strong> This question uses the mathematical definition
of percentile, not <code>np.percentile</code>.</p>
<p>The array <code>aces</code> defined below contains the points per
game scored by all members of the Las Vegas Aces. Note that it contains
14 numbers that are in sorted order.</p>
<div class="sourceCode" id="cb26"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>aces <span class="op">=</span> np.array([<span class="dv">0</span>, <span class="dv">0</span>, <span class="fl">1.05</span>, <span class="fl">1.47</span>, <span class="fl">1.96</span>, <span class="dv">2</span>, <span class="fl">3.25</span>, </span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>                 <span class="fl">10.53</span>, <span class="fl">11.09</span>, <span class="fl">11.62</span>, <span class="fl">12.19</span>, </span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>                 <span class="fl">14.24</span>, <span class="fl">14.81</span>, <span class="fl">18.25</span>])</span></code></pre></div>
<p>As we saw in lab, percentiles are not unique. For instance, the
number 1.05 is both the 15th percentile and 16th percentile of
<code>aces</code>.</p>
<p>There is a positive integer <span class="math inline">q</span>,
between 0 and 100, such that 14.24 is the <span
class="math inline">q</span>th percentile of <code>aces</code>, but
14.81 is the <span class="math inline">(q+1)</span>th percentile of
<code>aces</code>.</p>
<p>What is the value of <span class="math inline">q</span>? Give your
answer as an integer between 0 and 100.</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading8_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse8_2" aria-expanded="true" aria-controls="collapse8_2">
Click to view the solution.
</button>
</h2>
<div id="collapse8_2" class="accordion-collapse collapse"
aria-labelledby="heading8_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> 85</p>
<p>For reference, recall that we find the <span class="math inline">p</span>th percentile of a collection of <span class="math inline">n</span> numbers as follows:</p>
<ol type="1">
<li>Sort the collection in increasing order.</li>
<li>Define <span class="math inline">h</span> to be <span class="math inline">p\%</span> of <span class="math inline">n</span>:</li>
</ol>
<p><span class="math display">h = \frac{p}{100} \cdot n</span></p>
<ol start="3" type="1">
<li><p>If <span class="math inline">h</span> is an integer, define <span class="math inline">k = h</span>. Otherwise, let <span class="math inline">k</span> be the smallest integer greater than <span class="math inline">h</span>.</p></li>
<li><p>Take the <span class="math inline">k</span>th element of the
sorted collection (start counting from 1, not 0).</p></li>
</ol>
<p><br/></p>
<p>To start, it’s worth emphasizing that there are <span class="math inline">n = 14</span> numbers in <code>aces</code> total.
14.24 is at position 12 (when the positions are numbered 1 through
14).</p>
<p>Let’s try and find a value of <span class="math inline">p</span> such
that 14.24 is the <span class="math inline">p</span>th percentile. To do
so, we might try and find what “percentage” of the way through the
distribution 14.24 is; doing so gives <span class="math inline">\frac{12}{14} = 85.71\%</span>. If we follow the
process outlined above with <span class="math inline">p = 85</span>, we
get that <span class="math inline">h = \frac{85}{100} \cdot 14 =
11.9</span> and thus <span class="math inline">k = 12</span>, meaning
that the 85th percentile is the number at position 12, which 14.24.</p>
<p>Let’s see what happens when we try the same process with <span class="math inline">p = 86</span>. This time, we have <span class="math inline">h = \frac{86}{100} \cdot 14 = 12.04</span> and thus
<span class="math inline">k = 13</span>, meaning that the 86th
percentile is the number at position 13, which is 14.81.</p>
<p>This means that the value of <span class="math inline">q</span> is 85
– the 85th percentile is 14.24, while the 86th percentile is 14.81.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 57%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="problem-9">Problem 9</h2>
<p>For your convenience, we show the first few rows of
<code>season</code> again below.</p>
<center><img src='../assets/images/wi22-final/seasons.png' width=40%></center>
<p>In the past three problems, we presumed that we had access to the
entire <code>season</code> DataFrame. Now, suppose we only have access
to the DataFrame <code>small_season</code>, which is a random sample of
<strong>size 36</strong> from <code>season</code>. We’re interested in
learning about the true mean points per game of all players in
<code>season</code> given just the information in
<code>small_season</code>.</p>
<p>To start, we want to bootstrap <code>small_season</code> 10,000 times
and compute the mean of the resample each time. We want to store these
10,000 bootstrapped means in the array <code>boot_means</code>.</p>
<p>Here is a broken implementation of this procedure.</p>
<div class="sourceCode" id="cb27"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>boot_means <span class="op">=</span> np.array([])                                           </span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i <span class="kw">in</span> np.arange(<span class="dv">10000</span>):                                          </span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>    resample <span class="op">=</span> small_season.sample(season.shape[<span class="dv">0</span>], replace<span class="op">=</span><span class="va">False</span>)  <span class="co"># Line 1</span></span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a>    resample_mean <span class="op">=</span> small_season.get(<span class="st">&#39;PPG&#39;</span>).mean()                  <span class="co"># Line 2</span></span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a>    np.append(boot_means, new_mean)                                 <span class="co"># Line 3</span></span></code></pre></div>
<p>For each of the 3 lines of code above (marked by comments), specify
what is incorrect about the line by selecting one or more of the
corresponding options below. Or, select “Line _ is correct as-is” if you
believe there’s nothing that needs to be changed about the line in order
for the above code to run properly.</p>
<p><br></p>
<h3 id="problem-9.1">Problem 9.1</h3>
<p>What is incorrect about Line 1? Select all that apply.</p>
<ul class="task-list">
<li><p><input type="checkbox" disabled="" /> Currently the procedure samples from <code>small_season</code>, when
it should be sampling from <code>season</code></p></li>
<li><p><input type="checkbox" disabled="" /> The sample size is <code>season.shape[0]</code>, when it should be
<code>small_season.shape[0]</code></p></li>
<li><p><input type="checkbox" disabled="" /> Sampling is currently being done without replacement, when it should
be done with replacement</p></li>
<li><p><input type="checkbox" disabled="" /> Line 1 is correct as-is</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading9_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse9_1" aria-expanded="true" aria-controls="collapse9_1">
Click to view the solution.
</button>
</h2>
<div id="collapse9_1" class="accordion-collapse collapse"
aria-labelledby="heading9_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answers:</strong></p>
<ul>
<li>The sample size is <code>season.shape[0]</code>, when it should be
<code>small_season.shape[0]</code></li>
<li>Sampling is currently being done without replacement, when it should
be done with replacement</li>
</ul>
<p>Here, our goal is to bootstrap from <code>small_season</code>. When
bootstrapping, we <strong>sample with replacement</strong> from our
original sample, with a sample size that’s equal to the original
sample’s size. Here, our original sample is <code>small_season</code>,
so we should be taking samples of size
<code>small_season.shape[0]</code> from it.</p>
<p>Option 1 is incorrect; <code>season</code> has nothing to do with
this problem, as we are bootstrapping from
<code>small_season</code>.</p>
<hr/>
<h5>Difficulty: ⭐️</h5>
<p>
</p>
<p>The average score on this problem was 95%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-9.2">Problem 9.2</h3>
<p>What is incorrect about Line 2? Select all that apply.</p>
<ul class="task-list">
<li><p><input type="checkbox" disabled="" /> Currently it is taking the mean of the <code>'PPG'</code> column in
<code>small_season</code>, when it should be taking the mean of the
<code>'PPG'</code> column in <code>season</code></p></li>
<li><p><input type="checkbox" disabled="" /> Currently it is taking the mean of the <code>'PPG'</code> column in
<code>small_season</code>, when it should be taking the mean of the
<code>'PPG'</code> column in <code>resample</code></p></li>
<li><p><input type="checkbox" disabled="" /> <code>.mean()</code> is not a valid Series method, and should be
replaced with a call to the function <code>np.mean</code></p></li>
<li><p><input type="checkbox" disabled="" /> Line 2 is correct as-is</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading9_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse9_2" aria-expanded="true" aria-controls="collapse9_2">
Click to view the solution.
</button>
</h2>
<div id="collapse9_2" class="accordion-collapse collapse"
aria-labelledby="heading9_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> Currently it is taking the mean of the
<code>'PPG'</code> column in <code>small_season</code>, when it should
be taking the mean of the <code>'PPG'</code> column in
<code>resample</code></p>
<p>The current implementation of Line 2 doesn’t use the
<code>resample</code> at all, when it should. If we were to leave Line 2
as it is, all of the values in <code>boot_means</code> would be
identical (and equal to the mean of the <code>'PPG'</code> column in
<code>small_season</code>).</p>
<p>Option 1 is incorrect since our bootstrapping procedure is
independent of <code>season</code>. Option 3 is incorrect because
<code>.mean()</code> is a valid Series method.</p>
<hr/>
<h5>Difficulty: ⭐️</h5>
<p>
</p>
<p>The average score on this problem was 98%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-9.3">Problem 9.3</h3>
<p>What is incorrect about Line 3? Select all that apply.</p>
<ul class="task-list">
<li><p><input type="checkbox" disabled="" /> The result of calling <code>np.append</code> is not being reassigned
to <code>boot_means</code>, so <code>boot_means</code> will be an empty
array after running this procedure</p></li>
<li><p><input type="checkbox" disabled="" /> The indentation level of the line is incorrect –
<code>np.append</code> should be outside of the <code>for</code>-loop
(and aligned with <code>for i</code>)</p></li>
<li><p><input type="checkbox" disabled="" /> <code>new_mean</code> is not a defined variable name, and should be
replaced with <code>resample_mean</code></p></li>
<li><p><input type="checkbox" disabled="" /> Line 3 is correct as-is</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading9_3">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse9_3" aria-expanded="true" aria-controls="collapse9_3">
Click to view the solution.
</button>
</h2>
<div id="collapse9_3" class="accordion-collapse collapse"
aria-labelledby="heading9_3" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answers:</strong></p>
<ul>
<li>The result of calling <code>np.append</code> is not being reassigned
to <code>boot_means</code>, so <code>boot_means</code> will be an empty
array after running this procedure</li>
<li><code>new_mean</code> is not a defined variable name, and should be
replaced with <code>resample_mean</code></li>
</ul>
<p><code>np.append</code> returns a new array and does not modify the
array it is called on (<code>boot_means</code>, in this case), so Option
1 is a necessary fix. Furthermore, Option 3 is a necessary fix since
<code>new_mean</code> wasn’t defined anywhere.</p>
<p>Option 2 is incorrect; if <code>np.append</code> were outside of the
<code>for</code>-loop, none of the 10,000 resampled means would be saved
in <code>boot_means</code>.</p>
<hr/>
<h5>Difficulty: ⭐️</h5>
<p>
</p>
<p>The average score on this problem was 94%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-9.4">Problem 9.4</h3>
<p>Suppose we’ve now fixed everything that was incorrect about our
bootstrapping implementation.</p>
<p>Recall from earlier in the exam that, in <code>season</code>, the
mean number of points per game is 7, with a standard deviation of 5.</p>
<p>It turns out that when looking at just the players in
<code>small_season</code>, the mean number of points per game is 9, with
a standard deviation of 4. Remember that <code>small_season</code> is a
random sample of size 36 taken from <code>season</code>.</p>
<p>Which of the following histograms visualizes the empirical
distribution of the sample mean, computed using the bootstrapping
procedure above?</p>
<center><img src='../assets/images/wi22-final/hist-grid.png' width=50%></center>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> Option 1</p></li>
<li><p><input type="radio" disabled="" /> Option 2</p></li>
<li><p><input type="radio" disabled="" /> Option 3</p></li>
<li><p><input type="radio" disabled="" /> Option 4</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading9_4">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse9_4" aria-expanded="true" aria-controls="collapse9_4">
Click to view the solution.
</button>
</h2>
<div id="collapse9_4" class="accordion-collapse collapse"
aria-labelledby="heading9_4" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> Option 3</p>
<p>The key to this problem is knowing to use the Central Limit Theorem.
Specifically, we know that if we collect many samples from a population
with replacement, then the distribution of the sample means will be
roughly normal with:</p>
<ul>
<li>a mean that is equal to the mean of the population</li>
<li>a standard deviation that is <span class="math inline">\frac{\text{SD of population}}{\sqrt{\text{sample
size}}}</span></li>
</ul>
<p>Here, <strong>the “population” is <code>small_season</code></strong>,
because that is the sample we’re repeatedly (re)sampling from. While
<code>season</code> is actually the population, it is not seen at all in
the bootstrapping process, so it doesn’t directly influence the
distribution of the bootstrapped sample means.</p>
<p>The mean of <code>small_season</code> is 9, and so is the
distribution of bootstrapped sample means. The standard deviation of
<code>small_season</code> is 4, so the square root law, the standard
deviation of the distribution of bootstrapped sample means is <span class="math inline">\frac{4}{\sqrt{36}} = \frac{4}{6} =
\frac{2}{3}</span>.</p>
<p>The answer now boils down to choosing the histogram that looks
roughly normally distributed with a mean of 9 and a standard deviation
of <span class="math inline">\frac{2}{3}</span>. Options 1 and 4 can be
ruled out right away since their means seem to be smaller than 9. To
decide between Options 2 and 3, we can use the inflection point rule,
which states that in a normal distribution, the inflection points occur
at one standard deviation above and one standard deviation below the
mean. (An inflection point is when a curve changes from opening upwards
to opening downwards.) See the picture below for more details.</p>
<center><img src="../assets/images/wi22-final/inflection.jpeg" width="60%"/></center>
<p>Option 3 is the only distribution that appears to be centered at 9
with a standard deviation of <span class="math inline">\frac{2}{3}</span> (0.7 is close to <span class="math inline">\frac{2}{3}</span>), so it must be the empirical
distribution of the bootstrapped sample means.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 42%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-9.5">Problem 9.5</h3>
<p>We construct a 95% confidence interval for the true mean points per
game for all players by taking the middle 95% of the bootstrapped sample
means.</p>
<div class="sourceCode" id="cb28"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>left_b <span class="op">=</span> np.percentile(boot_means, <span class="fl">2.5</span>)</span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>right_b <span class="op">=</span> np.percentile(boot_means, <span class="fl">97.5</span>)</span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>boot_ci <span class="op">=</span> [left_b, right_b]</span></code></pre></div>
<p>Select the most correct statement below.</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> <code>(left_b + right_b) / 2</code> is exactly equal to the mean
points per game in <code>season</code>.</p></li>
<li><p><input type="radio" disabled="" /> <code>(left_b + right_b) / 2</code> is not necessarily equal to the
mean points per game in <code>season</code>, but is close.</p></li>
<li><p><input type="radio" disabled="" /> <code>(left_b + right_b) / 2</code> is exactly equal to the mean
points per game in <code>small_season</code>.</p></li>
<li><p><input type="radio" disabled="" /> <code>(left_b + right_b) / 2</code> is not necessarily equal to the
mean points per game in <code>small_season</code>, but is close.</p></li>
<li><p><input type="radio" disabled="" /> <code>(left_b _+ right_b) / 2</code> is not close to either the mean
points per game in <code>season</code> or the mean points per game in
<code>small_season</code>.</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading9_5">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse9_5" aria-expanded="true" aria-controls="collapse9_5">
Click to view the solution.
</button>
</h2>
<div id="collapse9_5" class="accordion-collapse collapse"
aria-labelledby="heading9_5" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> <code>(left_b + right_b) / 2</code> is not
necessarily equal to the mean points per game in
<code>small_season</code>, but is close.</p>
<p>Normal-based confidence intervals are of the form <span class="math inline">[\text{mean} - \text{something}, \text{mean} +
\text{something}]</span>. In such confidence intervals, it is the case
that the average of the left and right endpoints is exactly the mean of
the distribution used to compute the interval.</p>
<p>However, <strong>the confidence interval we’ve created is not
normal-based</strong>, rather it is bootstrap-based! As such, we can’t
say that anything is <em>exactly</em> true; this rules out Options 1 and
3.</p>
<p>Our 95% confidence interval was created by taking the middle 95% of
bootstrapped sample means. The distribution of bootstrapped sample means
is <strong>roughly</strong> normal, and the normal distribution is
symmetric (the mean and median are both equal, and represent the
“center” of the distribution). This means that the middle of our 95%
confidence interval should be roughly equal to the mean of the
distribution of bootstrapped sample means. This implies that Option 4 is
correct; the difference between Options 2 and 4 is that Option 4 uses
<code>small_season</code>, which is the sample we bootstrapped from,
while Option 2 uses <code>season</code>, which was not accessed at all
in our bootstrapping procedure.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 62%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-9.6">Problem 9.6</h3>
<p>Instead of bootstrapping, we could also construct a 95% confidence
interval for the true mean points per game by using the Central Limit
Theorem.</p>
<p>Recall that, when looking at just the players in
<code>small_season</code>, the mean number of points per game is 9, with
a standard deviation of 4. Also remember that <code>small_season</code>
is a random sample of size 36 taken from <code>season</code>.</p>
<p><strong>Using only the information that we have about
<code>small_season</code></strong> (i.e. without using any facts about
<code>season</code>), compute a 95% confidence interval for the true
mean points per game.</p>
<p>What are the left and right endpoints of your interval? Give your
answers as numbers rounded to 3 decimal places.</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading9_6">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse9_6" aria-expanded="true" aria-controls="collapse9_6">
Click to view the solution.
</button>
</h2>
<div id="collapse9_6" class="accordion-collapse collapse"
aria-labelledby="heading9_6" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> <span class="math inline">[7.667,
10.333]</span></p>
<p>In a normal distribution, roughly 95% of values are within 2 standard
deviations of the mean. The CLT tells us that the distribution of sample
means is roughly normal, and in subpart 4 of this problem we already
computed the SD of the distribution of sample means to be <span class="math inline">\frac{2}{3}</span>.</p>
<p>So, our normal-based 95% confidence interval is computed as
follows:</p>
<p><span class="math display">\begin{aligned} &amp;[\text{mean of
sample} - 2 \cdot \text{SD of distribution of sample means}, \text{mean
of sample} + 2 \cdot \text{SD of distribution of sample means}] \\
&amp;= [9 - 2 \cdot \frac{4}{\sqrt{36}}, 9 + 2 \cdot
\frac{4}{\sqrt{36}}] \\ &amp;= [9 - \frac{4}{3}, 9 + \frac{4}{3}] \\
&amp;\approx \boxed{[7.667, 10.333]} \end{aligned}</span></p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 87%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-9.7">Problem 9.7</h3>
<p>Recall that the mean points per game in <code>season</code> is 7,
which is not in the interval you found above (if it is, check your
work!).</p>
<p>Select the true statement below.</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> The 95% confidence interval we created in the previous subpart did
not contain the true mean points per game, which means that the
distribution of the sample mean is not normal.</p></li>
<li><p><input type="radio" disabled="" /> The 95% confidence interval we created in the previous subpart did
not contain the true mean points per game, which means that the
distribution of points per game in <code>small_season</code> is not
normal.</p></li>
<li><p><input type="radio" disabled="" /> The 95% confidence interval we created in the previous subpart did
not contain the true mean points per game. This is to be expected,
because the Central Limit Theorem is only correct 95% of the time.</p></li>
<li><p><input type="radio" disabled="" /> The 95% confidence interval we created in the previous subpart did
not contain the true mean points per game, but if we collected many
original samples and constructed many 95% confidence intervals, then
roughly 95% of them would contain the true mean points per game.</p></li>
<li><p><input type="radio" disabled="" /> The 95% confidence interval we created in the previous subpart did
not contain the true mean points per game, but if we collected many
original samples and constructed many 95% confidence intervals, then
exactly 95% of them would contain the true mean points per game.</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading9_7">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse9_7" aria-expanded="true" aria-controls="collapse9_7">
Click to view the solution.
</button>
</h2>
<div id="collapse9_7" class="accordion-collapse collapse"
aria-labelledby="heading9_7" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> The 95% confidence interval we created in
the previous subpart did not contain the true mean points per game, but
if we collected many original samples and constructed many 95%
confidence intervals, then roughly 95% of them would contain the true
mean points per game.</p>
<p>In a confidence interval, the confidence level gives us a level of
confidence in <strong>the process</strong> used to create the confidence
interval. If we repeat the process of collecting a sample from the
population and using the sample to construct a c% confidence interval
for the population mean, then <strong>roughly</strong> c% of the
intervals we create should contain the population mean. Option 4 is the
only option that corresponds to this interpretation; the others are all
incorrect in different ways.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 87%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="problem-10">Problem 10</h2>
<p><span style="color:red"><b>Note: This problem is out of scope; it
covers material no longer included in the course.</b></span></p>
<p>The WNBA is interested in helping boost their players’ social media
presence, and considers various ways of making that happen.</p>
<p>Which of the following claims can be tested using a randomized
controlled trial? Select all that apply.</p>
<ul class="task-list">
<li><p><input type="checkbox" disabled="" /> Winning two games in a row causes a player to gain Instagram
followers.</p></li>
<li><p><input type="checkbox" disabled="" /> Drinking Gatorade causes a player to gain Instagram followers.</p></li>
<li><p><input type="checkbox" disabled="" /> Playing for the Las Vegas Aces causes a player to gain Instagram
followers.</p></li>
<li><p><input type="checkbox" disabled="" /> Deleting Twitter causes a player to gain Instagram followers.</p></li>
<li><p><input type="checkbox" disabled="" /> None of the above.</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading10">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse10" aria-expanded="true" aria-controls="collapse10">
Click to view the solution.
</button>
</h2>
<div id="collapse10" class="accordion-collapse collapse"
aria-labelledby="heading10" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answers:</strong></p>
<ul>
<li>Drinking Gatorade causes a player to gain Instagram followers.</li>
<li>Deleting Twitter causes a player to gain Instagram followers.</li>
</ul>
<p>The key to this problem is understanding the nature of randomized
controlled trials (RCTs). To run an RCT, we must be able to randomly
assign our test subjects to either a treatment or control group, and
apply some treatment only to the treatment group. With that in mind,
let’s look at the four options.</p>
<ul>
<li><strong>Option 1:</strong> Here, the treatment would be winning two
games in a row. However, this is not something we could apply to a
treatment group, since we can’t control whether or not basketball
players win games (let alone two games in a row). As such, this is not
an RCT we could run.</li>
<li><strong>Option 2:</strong> Here, the treatment would be drinking
Gatorade. We indeed could have a treatment group drink Gatorade; this is
no different than having a treatment group take some form of medicine.
This is an RCT we could run.</li>
<li><strong>Option 3:</strong> Here, the treatment would be playing for
the Las Vegas Aces. Similar to Option 1, this is not an RCT we could
run, since we can’t control which teams players play for.</li>
<li><strong>Option 4:</strong> Here, the treatment would be deleting
Twitter. While they may not like it, we could have players participating
in our study delete their Twitter accounts, so this is an RCT we could
run.</li>
</ul>
<p>Note, our assessment above did not look at the outcome, gaining
Instagram followers, at all. While to us it may seem unlikely that
drinking Gatorade causes a player to gain Instagram followers, that
doesn’t mean we can’t run an RCT to check.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 77%.</p>
</div>
</div>
</div>
</div>
<hr />
<h2 id="section"><span class="math display"> </span></h2>
<h4
id="feedback-find-an-error-still-confused-have-a-suggestion-let-us-know-here.">👋
Feedback: Find an error? Still confused? Have a suggestion?
<a href="https://forms.gle/WZ71FchnXU1K154d7">Let us know
here</u></a>.</h4>
<hr />
</body>
</html>
