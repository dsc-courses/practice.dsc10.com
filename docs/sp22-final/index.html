<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>Spring 2022 Final Exam</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      {   }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span.al { color: #ff0000; font-weight: bold; } /* Alert */
    code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
    code span.at { color: #7d9029; } /* Attribute */
    code span.bn { color: #40a070; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #4070a0; } /* Char */
    code span.cn { color: #880000; } /* Constant */
    code span.co { color: #60a0b0; font-style: italic; } /* Comment */
    code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
    code span.do { color: #ba2121; font-style: italic; } /* Documentation */
    code span.dt { color: #902000; } /* DataType */
    code span.dv { color: #40a070; } /* DecVal */
    code span.er { color: #ff0000; font-weight: bold; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #40a070; } /* Float */
    code span.fu { color: #06287e; } /* Function */
    code span.im { } /* Import */
    code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
    code span.kw { color: #007020; font-weight: bold; } /* Keyword */
    code span.op { color: #666666; } /* Operator */
    code span.ot { color: #007020; } /* Other */
    code span.pp { color: #bc7a00; } /* Preprocessor */
    code span.sc { color: #4070a0; } /* SpecialChar */
    code span.ss { color: #bb6688; } /* SpecialString */
    code span.st { color: #4070a0; } /* String */
    code span.va { color: #19177c; } /* Variable */
    code span.vs { color: #4070a0; } /* VerbatimString */
    code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="..\assets\theme.css" />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.js"></script>
  <script>document.addEventListener("DOMContentLoaded", function () {
   var mathElements = document.getElementsByClassName("math");
   var macros = [];
   for (var i = 0; i < mathElements.length; i++) {
    var texText = mathElements[i].firstChild;
    if (mathElements[i].tagName == "SPAN") {
     katex.render(texText.data, mathElements[i], {
      displayMode: mathElements[i].classList.contains('display'),
      throwOnError: false,
      macros: macros,
      fleqn: false
     });
  }}});
  </script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" />
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<header id="title-block-header">
<h1 class="title">Spring 2022 Final Exam</h1>
</header>
<p><link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous"> <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script> <!-- add after bootstrap.min.css --> <link rel="stylesheet" href="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.css"/> <!-- add after bootstrap.min.js or bootstrap.bundle.min.js --> <script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script></p>
<p><a href="../index.html">← return to practice.dsc10.com</a></p>
<hr />
<p><strong>Instructor(s):</strong> Janine Tiefenbruck</p>
<p>This exam was administered in-person. The exam was closed-notes, except students were provided a copy of the <a href='https://drive.google.com/file/d/1mQApk9Ovdi-QVqMgnNcq5dZcWucUKoG-/view?usp=sharing'>DSC 10 Reference Sheet<a>. No calculators were allowed. Students had <strong>3 hours</strong> to take this exam.</p>
<hr />
<p>Welcome to <img src='../assets/images/sp22-final/ikea_logo.png' height=15> !</p>
<p>IKEA is a Swedish furniture company that designs and sells ready-to-assemble furniture and other home furnishings. IKEA has locations worldwide, including one in San Diego. IKEA is known for its cheap prices, modern designs, huge showrooms, and wordless instruction manuals. They also sell really good Swedish meatballs in their cafe!</p>
<center><img src='../assets/images/sp22-final/wordless_instructions.png' width=40%></center>
<p>This exam is all about IKEA. Here are the DataFrames you’ll be working with:</p>
<ol type="1">
<li><code>ikea</code></li>
</ol>
<p>The <code>ikea</code> DataFrame has a row for each ready-to-assemble IKEA furniture product. The columns are:</p>
<ul>
<li><code>'product'</code> (<code>str</code>): the name of the product, which includes the product line as the first word, followed by a description of the product</li>
<li><code>'category'</code> (<code>str</code>): a categorical description of the type of product</li>
<li><code>'price'</code> (<code>int</code>): the current price of the product, in dollars</li>
<li><code>'assembly_cost'</code> (<code>int</code>): the additional cost to have the product assembled, in dollars</li>
<li><code>'packages'</code> (<code>int</code>): the number of packages in which the product is boxed</li>
</ul>
<p>The first few rows of <code>ikea</code> are shown below, though <code>ikea</code> has many more rows than pictured.</p>
<center><img src='../assets/images/sp22-final/ikeadf.png' height=250></center>
<ol start="2" type="1">
<li><code>offers</code></li>
</ol>
<p>IKEA sometimes runs certain special offers, including coupons, sales, and promotions. For each offer currently available, the DataFrame <code>offers</code> has a separate row for each category of products to which the offer can be applied. The columns are:</p>
<ul>
<li><code>'offer'</code> (<code>str</code>): the name of the offer</li>
<li><code>'category'</code> (<code>str</code>): the category to which the offer applies</li>
<li><code>'percent_off'</code> (<code>int</code>): the percent discount when applying this offer to this category</li>
</ul>
<p>The full <code>offers</code> DataFrame is shown below. All rows are pictured.</p>
<center><img src='../assets/images/sp22-final/offersdf.png' height=270></center>
<ol start="3" type="1">
<li><code>app_data</code></li>
</ol>
<p>An IKEA fan created an app where people can log the amount of time it took them to assemble their IKEA furniture. The DataFrame <code>app_data</code> has a row for each product build that was logged on the app. The columns are:</p>
<ul>
<li><code>'product'</code> (<code>str</code>): the name of the product, which includes the product line as the first word, followed by a description of the product</li>
<li><code>'category'</code> (<code>str</code>): a categorical description of the type of product</li>
<li><code>'assembly_time'</code> (<code>str</code>): the amount of time to assemble the product, formatted as <code>'x hr, y min'</code> where <code>x</code> and <code>y</code> represent integers, possibly zero</li>
</ul>
<p>The first few rows of <code>app_data</code> are shown below, though <code>app_data</code> has many more rows than pictured (5000 rows total).</p>
<center><img src='../assets/images/sp22-final/appdatadf.png' height=180></center>
<p>Assume that we have already run <code>import babypandas as bpd</code> and <code>import numpy as np</code>.</p>
<p><strong>Tip:</strong> Open this page in another tab, so that it is easy to refer to this data description as you work through the exam.</p>
<hr />
<h2 id="problem-1">Problem 1</h2>
<p>Complete the expression below so that it evaluates to the name of the product for which the average assembly cost per package is lowest.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>(ikea.assign(assembly_per_package <span class="op">=</span> ___(a)___)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>     .sort_values(by<span class="op">=</span><span class="st">&#39;assembly_per_package&#39;</span>).___(b)___)</span></code></pre></div>
<p><br></p>
<h3 id="problem-1.1">Problem 1.1</h3>
<p>What goes in blank (a)?</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading1_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse1_1" aria-expanded="true" aria-controls="collapse1_1">
Click to view the solution.
</button>
</h2>
<div id="collapse1_1" class="accordion-collapse collapse collapse" aria-labelledby="heading1_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer: </strong> <code>ikea.get('assembly_cost')/ikea.get('packages')</code></p>
<p>This column, as its name suggests, contains the average assembly cost per package, obtained by dividing the total cost of each product by the number of packages that product comes in. This code uses the fact that arithmetic operations between two Series happens element-wise.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-1.2">Problem 1.2</h3>
<p>What goes in blank (b)?</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading1_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse1_2" aria-expanded="true" aria-controls="collapse1_2">
Click to view the solution.
</button>
</h2>
<div id="collapse1_2" class="accordion-collapse collapse collapse" aria-labelledby="heading1_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer: </strong> <code>get('product').iloc[0]</code></p>
<p>After adding the <code>'assembly_per_package'</code> column and sorting by that column in the default ascending order, the product with the lowest <code>'assembly_per_package'</code> will be in the very first row. To access the name of that product, we need to <code>get</code> the column containing product names and use <code>iloc</code> to access an element of that Series by integer position.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="problem-2">Problem 2</h2>
<p>Complete the expression below so that it evaluates to a DataFrame indexed by <code>'category'</code> with one column called <code>'price'</code> containing the median cost of the products in each category.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>ikea.___(a)___.get(___(b)___)</span></code></pre></div>
<p><br></p>
<h3 id="problem-2.1">Problem 2.1</h3>
<p>What goes in blank (a)?</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading2_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse2_1" aria-expanded="true" aria-controls="collapse2_1">
Click to view the solution.
</button>
</h2>
<div id="collapse2_1" class="accordion-collapse collapse collapse" aria-labelledby="heading2_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer: </strong> <code>groupby('category').median()</code></p>
<p>The question prompt says that the resulting DataFrame should be indexed by <code>'category'</code>, so this is a hint that we may want to group by <code>'category'</code>. When using <code>groupby</code>, we need to specify an aggregation function, and since we’re looking for the median cost of all products in a category, we use the <code>.median()</code> aggregation function.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-2.2">Problem 2.2</h3>
<p>What goes in blank (b)?</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading2_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse2_2" aria-expanded="true" aria-controls="collapse2_2">
Click to view the solution.
</button>
</h2>
<div id="collapse2_2" class="accordion-collapse collapse collapse" aria-labelledby="heading2_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer: </strong> <code>['price']</code></p>
<p>The question prompt also says that the resulting DataFrame should have just one column, the <code>'price'</code> column. To keep only certain columns in a DataFrame, we use <code>.get</code>, passing in a list of columns to keep. Remember to include the square brackets, otherwise <code>.get</code> will return a Series instead of a DataFrame.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="problem-3">Problem 3</h2>
<p>In the <code>ikea</code> DataFrame, the first word of each string in the <code>'product'</code> column represents the product line. For example the HEMNES line of products includes several different products, such as beds, dressers, and bedside tables.</p>
<p>The code below assigns a new column to the <code>ikea</code> DataFrame containing the product line associated with each product.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>(ikea.assign(product_line <span class="op">=</span> ikea.get(<span class="st">&#39;product&#39;</span>)</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>                                .<span class="bu">apply</span>(extract_product_line)))</span></code></pre></div>
<p><br></p>
<h3 id="problem-3.1">Problem 3.1</h3>
<p>What are the input and output types of the <code>extract_product_line</code> function?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> takes a string as input, returns a string</p></li>
<li><p><input type="radio" disabled="" /> takes a string as input, returns a Series</p></li>
<li><p><input type="radio" disabled="" /> takes a Series as input, returns a string</p></li>
<li><p><input type="radio" disabled="" /> takes a Series as input, returns a Series</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading3_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse3_1" aria-expanded="true" aria-controls="collapse3_1">
Click to view the solution.
</button>
</h2>
<div id="collapse3_1" class="accordion-collapse collapse collapse" aria-labelledby="heading3_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer: </strong> takes a string as input, returns a string</p>
<p>To use the Series method <code>.apply</code>, we first need a Series, containing values of any type. We pass in the name of a function to <code>.apply</code> and essentially, <code>.apply</code> calls the given function on each input of the Series, producing a Series with the resulting outputs of those function calls. In this case, <code>.apply(extract_product_line)</code> is called on the Series <code>ikea.get('product')</code>, which contains string values. This means the function <code>extract_product_line</code> must take strings as inputs. We’re told that the code assigns a new column to the <code>ikea</code> DataFrame containing the product line associated with each product, and we know that the product line is a string, as it’s the first word of the product name. This means the function <code>extract_product_line</code> must output a string.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-3.2">Problem 3.2</h3>
<p>Complete the return statement in the <code>extract_product_line</code> function below.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> extract_product_line(x):</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> _________</span></code></pre></div>
<p>What goes in the blank?</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading3_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse3_2" aria-expanded="true" aria-controls="collapse3_2">
Click to view the solution.
</button>
</h2>
<div id="collapse3_2" class="accordion-collapse collapse collapse" aria-labelledby="heading3_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer: </strong> <code>x.split(' ')[0]</code></p>
<p>This function should take as input a string <code>x</code>, representing a product name, and return the first word of that string, representing the product line. Since words are separated by spaces, we want to split the string on the space character <code>' '</code>.</p>
<p>It’s also correct to answer <code>x.split()[0]</code> without specifying to split on spaces, because the default behavior of the string <code>.split</code> method is to split on any whitespace, which includes any number of spaces, tabs, newlines, etc. Since we’re only extracting the first word, which will be separated from the rest of the product name by a single space, it’s equivalent to split using single spaces and using the default of any whitespace.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="section"><span class="math display"> </span></h2>
<h4 id="feedback-find-an-error-still-confused-have-a-suggestion-let-us-know-here.">👋 Feedback: Find an error? Still confused? Have a suggestion? <a href="https://forms.gle/WZ71FchnXU1K154d7">Let us know here</u></a>.</h4>
<hr />
</body>
</html>
