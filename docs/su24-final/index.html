<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>Summer 2024 Final Exam</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    /* The extra [class] is a hack that increases specificity enough to
       override a similar rule in reveal.js */
    ul.task-list[class]{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      font-size: inherit;
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      {   }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span.al { color: #ff0000; font-weight: bold; } /* Alert */
    code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
    code span.at { color: #7d9029; } /* Attribute */
    code span.bn { color: #40a070; } /* BaseN */
    code span.bu { color: #008000; } /* BuiltIn */
    code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #4070a0; } /* Char */
    code span.cn { color: #880000; } /* Constant */
    code span.co { color: #60a0b0; font-style: italic; } /* Comment */
    code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
    code span.do { color: #ba2121; font-style: italic; } /* Documentation */
    code span.dt { color: #902000; } /* DataType */
    code span.dv { color: #40a070; } /* DecVal */
    code span.er { color: #ff0000; font-weight: bold; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #40a070; } /* Float */
    code span.fu { color: #06287e; } /* Function */
    code span.im { color: #008000; font-weight: bold; } /* Import */
    code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
    code span.kw { color: #007020; font-weight: bold; } /* Keyword */
    code span.op { color: #666666; } /* Operator */
    code span.ot { color: #007020; } /* Other */
    code span.pp { color: #bc7a00; } /* Preprocessor */
    code span.sc { color: #4070a0; } /* SpecialChar */
    code span.ss { color: #bb6688; } /* SpecialString */
    code span.st { color: #4070a0; } /* String */
    code span.va { color: #19177c; } /* Variable */
    code span.vs { color: #4070a0; } /* VerbatimString */
    code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="../assets/theme.css" />
  <script defer=""
  src="https://cdn.jsdelivr.net/npm/katex@latest/dist/katex.min.js"></script>
  <script>document.addEventListener("DOMContentLoaded", function () {
 var mathElements = document.getElementsByClassName("math");
 var macros = [];
 for (var i = 0; i < mathElements.length; i++) {
  var texText = mathElements[i].firstChild;
  if (mathElements[i].tagName == "SPAN") {
   katex.render(texText.data, mathElements[i], {
    displayMode: mathElements[i].classList.contains('display'),
    throwOnError: false,
    macros: macros,
    fleqn: false
   });
}}});
  </script>
  <link rel="stylesheet"
  href="https://cdn.jsdelivr.net/npm/katex@latest/dist/katex.min.css" />
</head>
<body>
<header id="title-block-header">
<h1 class="title">Summer 2024 Final Exam</h1>
</header>
<p><link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
<!-- add after bootstrap.min.css -->
<link rel="stylesheet" href="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.css"/>
<!-- add after bootstrap.min.js or bootstrap.bundle.min.js -->
<script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script></p>
<!-- for difficulty gauges-->
<script src="https://cdn.plot.ly/plotly-2.16.1.min.js"></script>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-B947E6J6H4"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-B947E6J6H4');
</script>
<p><a href="../index.html">← return to practice.dsc10.com</a></p>
<hr />
<p><strong>Instructor(s):</strong> Nishant Kheterpal</p>
<p>This exam was administered in-person. The exam was closed-notes,
except students were provided a copy of the
<a href='https://drive.google.com/file/d/1ky0Np67HS2O4LO913P-ing97SJG0j27n/view'>DSC
10 Reference Sheet</a>. No calculators were allowed. Students had
<strong>3 hours</strong> to take this exam.</p>
<hr />
<p>In this exam, you’ll work with a data set representing the results of
the Tour de France, a multi-stage, weeks-long cycling race. The Tour de
France takes place over many days each year, and on each day, the riders
compete in individual races called <code>stages</code>. Each
<code>stage</code> is a standalone race, and the winner of the entire
tour is determined by who performs the best across all of the individual
<code>stages</code> combined. Each row represents one stage of the Tour
(or equivalently, one day of racing). This dataset will be called
<code>stages</code>.</p>
<p>The columns of <code>stages</code> are as follows:</p>
<ul>
<li><code>"Stage" (int):</code> The stage number for the respective
year.</li>
<li><code>"Date" (str):</code> The day that the stage took place,
formatted as ”YYYY-MM-DD.”</li>
<li><code>"Distance" (float):</code> The distance of the stage in
kilometers.</li>
<li><code>"Origin" (str):</code> The name of the city in which the stage
starts.</li>
<li><code>"Destination" (str):</code> The name of the city in which the
stage ends.</li>
<li><code>"Type" (str):</code> The type of the stage.</li>
<li><code>"Winner" (str):</code> The name of the rider who won the
stage</li>
<li><code>"Winner Country" (str):</code> The country from which the
winning rider of the stage is from</li>
</ul>
<p>The first few rows of <code>stages</code> are shown below, though
<code>stages</code> has many more rows than pictured.</p>
<center><img src='../assets/images/su24-final/tour_df.png' width=800></center>
<p><br></p>
<p>Throughout this exam, we will refer to <code>stages</code>
repeatedly. Assume that we have already run
<code>import babypandas as bpd</code>and
<code>import numpy as np</code>.</p>
<hr />
<h2 id="problem-1">Problem 1</h2>
<p><br></p>
<h3 id="problem-1.1">Problem 1.1</h3>
<p>Fill in the blanks so that the expression below evaluates to the
<em>proportion</em> of stages won by the country with the most stage
wins.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>    stages.groupby(__(i)__).__(ii)__.get(<span class="st">&quot;Type&quot;</span>).__(iii)__ <span class="op">/</span> stages.shape[<span class="dv">0</span>]</span></code></pre></div>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading1_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse1_1" aria-expanded="true" aria-controls="collapse1_1">
Click to view the solution.
</button>
</h2>
<div id="collapse1_1" class="accordion-collapse collapse"
aria-labelledby="heading1_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-1.2">Problem 1.2</h3>
<p>The distance of a stage alone does not encapsulate its difficulty, as
riders feel more tired as the tour goes on. Because of this, we want to
consider “real distance” a measurement of the length of a stage that
takes into account how far into the tour the riders are. The “real
distance” is calculated with the following process:</p>
<ol type="i">
<li><p>Add one to the stage number.</p></li>
<li><p>Take the square root of the result of (i).</p></li>
<li><p>Multiply the result of (ii) by the raw distance of the
stage.</p></li>
</ol>
<p>Complete the implementation of the function
<code>real_distance</code>, which takes in <code>stages</code> (a
DataFrame), <code>stage</code> (a string, the name of the column
containing stage numbers), and <code>distance</code> (a string, the name
of the column containing stage distances). <code>real_distance</code>
returns a Series containing all of the “real distances” of the stages,
as calculated above.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> real_distance(stages, stage, distance):</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>         ________</span></code></pre></div>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading1_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse1_2" aria-expanded="true" aria-controls="collapse1_2">
Click to view the solution.
</button>
</h2>
<div id="collapse1_2" class="accordion-collapse collapse"
aria-labelledby="heading1_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Solution:</strong>
<code>return stages.get(distance) * np.sqrt(stages.get(stage) + 1)</code></p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-1.3">Problem 1.3</h3>
<p>Sometimes, stages are repeated in different editions of the Tour de
France, meaning that there are some pairs of <code>"Origin"</code> and
<code>"Destination"</code> that appear more than once in
<code>stages</code>. Fill in the blanks so that the expression below
evaluates how often the most common <code>"Origin"</code> and
<code>"Destination"</code> pair in the <code>stages</code> DataFrame
appears.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>stages.groupby(__(i)__).__(ii)__.sort_values(by <span class="op">=</span> <span class="st">&quot;Date&quot;</span>).get(<span class="st">&quot;Type&quot;</span>).iloc[__(iii)__]</span></code></pre></div>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading1_3">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse1_3" aria-expanded="true" aria-controls="collapse1_3">
Click to view the solution.
</button>
</h2>
<div id="collapse1_3" class="accordion-collapse collapse"
aria-labelledby="heading1_3" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-1.4">Problem 1.4</h3>
<p>Fill in the blanks so that the value of <code>mystery_three</code> is
the <code>"Destination"</code> of the longest stage before Stage 12.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>    mystery <span class="op">=</span> stages[stages.get(__(i)__) <span class="op">&lt;</span> <span class="dv">12</span>]</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>    mystery_two <span class="op">=</span> mystery.sort_values(by <span class="op">=</span> <span class="st">&quot;Distance&quot;</span>, ascending <span class="op">=</span> __(ii)__)</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>    mystery_three <span class="op">=</span> mystery_two.get(__(iii)__).iloc[<span class="op">-</span><span class="dv">1</span>]</span></code></pre></div>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading1_4">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse1_4" aria-expanded="true" aria-controls="collapse1_4">
Click to view the solution.
</button>
</h2>
<div id="collapse1_4" class="accordion-collapse collapse"
aria-labelledby="heading1_4" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="problem-2">Problem 2</h2>
<p>Suppose we run the following code to simulate the winners of the Tour
de France.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>    evenepoel_wins <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>    vingegaard_wins <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>    pogacar_wins <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> i <span class="kw">in</span> np.arange(<span class="dv">4</span>):</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>        result <span class="op">=</span> np.random.multinomial(<span class="dv">1</span>, [<span class="fl">0.3</span>, <span class="fl">0.3</span>, <span class="fl">0.4</span>])</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> result[<span class="dv">0</span>] <span class="op">==</span> <span class="dv">1</span>:</span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>            evenepoel_wins <span class="op">=</span> evenepoel_wins <span class="op">+</span> <span class="dv">1</span></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>        <span class="cf">elif</span> result[<span class="dv">1</span>] <span class="op">==</span> <span class="dv">1</span>:</span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>            vingegaard_wins <span class="op">=</span> vingegaard_wins <span class="op">+</span> <span class="dv">1</span></span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a>        <span class="cf">elif</span> result[<span class="dv">2</span>] <span class="op">==</span> <span class="dv">1</span>:</span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a>            pogacar_wins <span class="op">=</span> pogacar_wins <span class="op">+</span> <span class="dv">1</span></span></code></pre></div>
<p><br></p>
<h3 id="problem-2.1">Problem 2.1</h3>
<p>What is the probability that <code>pogacar_wins</code> is equal to 4
when the code finishes running? Do not simplify your answer.</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading2_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse2_1" aria-expanded="true" aria-controls="collapse2_1">
Click to view the solution.
</button>
</h2>
<div id="collapse2_1" class="accordion-collapse collapse"
aria-labelledby="heading2_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-2.2">Problem 2.2</h3>
<p>What is the probability that <code>evenepoel_wins</code> is at least
1 when the code finishes running? Do not simplify your answer.</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading2_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse2_2" aria-expanded="true" aria-controls="collapse2_2">
Click to view the solution.
</button>
</h2>
<div id="collapse2_2" class="accordion-collapse collapse"
aria-labelledby="heading2_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="problem-3">Problem 3</h2>
<p>We want to estimate the mean distance of Tour de France stages by
bootstrapping 10,000 times and constructing a 90% confidence interval
for the mean. In this question, suppose <code>random_stages</code> is a
random sample of size 500 drawn with replacement from
<code>stages</code>. Identify the line numbers with errors in the code
below. In the adjacent box, point out the error by describing the
mistake in less than 10 words or writing a code snippet (correct only
the part you think is wrong). You may or may not need all the spaces
provided below to identify errors.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>    line <span class="dv">1</span>:      means <span class="op">=</span> np.array([])</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>    line <span class="dv">2</span>: </span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>    line <span class="dv">3</span>:      <span class="cf">for</span> i <span class="kw">in</span> <span class="dv">10000</span>:</span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>    line <span class="dv">4</span>:          resample <span class="op">=</span> random_stages.sample(<span class="dv">10000</span>)</span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>    line <span class="dv">5</span>:          resample_mean <span class="op">=</span> resample.get(<span class="st">&quot;Distance&quot;</span>).mean()</span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>    line <span class="dv">6</span>:          np.append(means, resample_mean)</span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>    line <span class="dv">7</span>:    </span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a>    line <span class="dv">8</span>:      left_bound <span class="op">=</span> np.percentile(means, <span class="dv">0</span>)</span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a>    line <span class="dv">9</span>:      right_bound <span class="op">=</span> np.percentile(means, <span class="dv">90</span>)</span></code></pre></div>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading3">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse3" aria-expanded="true" aria-controls="collapse3">
Click to view the solution.
</button>
</h2>
<div id="collapse3" class="accordion-collapse collapse"
aria-labelledby="heading3" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
</div>
</div>
</div>
</div>
<hr />
<h2 id="problem-4">Problem 4</h2>
<p>Below is a density histogram representing the distribution of
randomly sampled stage distances.</p>
<div style="text-align: center;">
<p><img src="../assets/images/su24-final/histogram.png" width="500"></p>
</div>
<p><br></p>
<h3 id="problem-4.1">Problem 4.1</h3>
<p>Which statement below correctly describes the relationship between
the mean and the median of the sampled stage distances?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> The mean is significantly larger than the median.</p></li>
<li><p><input type="radio" disabled="" /> The mean is significantly smaller than the median.</p></li>
<li><p><input type="radio" disabled="" /> The mean is approximately equal to the median.</p></li>
<li><p><input type="radio" disabled="" /> It is impossible to know the relationship between the mean and the
median.</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading4_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse4_1" aria-expanded="true" aria-controls="collapse4_1">
Click to view the solution.
</button>
</h2>
<div id="collapse4_1" class="accordion-collapse collapse"
aria-labelledby="heading4_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
</div>
</div>
</div>
</div>
<p><br></p>
<p><br></p>
<h3 id="problem-4.2">Problem 4.2</h3>
<p>Assume there are 100 stages in the random sample that generated this
plot. If there are 5 stages in the bin <code>[275, 300)</code>,
approximately how many stages are in the bin
<code>[200, 225)</code>?</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading4_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse4_2" aria-expanded="true" aria-controls="collapse4_2">
Click to view the solution.
</button>
</h2>
<div id="collapse4_2" class="accordion-collapse collapse"
aria-labelledby="heading4_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-4.3">Problem 4.3</h3>
<p>Assume the mean distance is 200 km and the standard deviation is 50
km. At least what proportion of stage distances are guaranteed to lie
between 0 km and 400 km? Do not simplify your answer.</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading4_3">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse4_3" aria-expanded="true" aria-controls="collapse4_3">
Click to view the solution.
</button>
</h2>
<div id="collapse4_3" class="accordion-collapse collapse"
aria-labelledby="heading4_3" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Solution:</strong> Using Chebyshev’s inequality, we know at
least <span class="math inline">1 - \frac{1}{z^2}</span> of the data
lies within <span class="math inline">z</span> SDs. Here, <span class="math inline">z = 4</span> so we know <span class="math inline">1
- \frac{1}{16} = \frac{15}{16}</span> of the data lie in that range.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-4.4">Problem 4.4</h3>
<p>Again, assume the mean stage distance is 200 km and the standard
deviation is 50 km. Now, suppose we take a random sample of size 25 from
the stage distances, calculate the mean stage distance of this sample,
and repeat this process 500 times. What proportion of the means that we
calculate will fall between 190 km and 210 km? Do not simplify your
answer.</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading4_4">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse4_4" aria-expanded="true" aria-controls="collapse4_4">
Click to view the solution.
</button>
</h2>
<div id="collapse4_4" class="accordion-collapse collapse"
aria-labelledby="heading4_4" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Solution:</strong> We know about 68% of values lie within 1
standard deviation of the mean of any normal distribution. The
distribution of means of samples of size 25 from this dataset is
normally distributed with mean 200km and SD <span class="math inline">\frac{50}{\sqrt{25}} = 10</span>, so 190km to 210km
contains 68% of the values.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-4.5">Problem 4.5</h3>
<p>Assume the mean distance is 200 km and the standard deviation is 50
km. Suppose we use the Central Limit Theorem to generate a 95%
confidence interval for the true mean distance of all Tour de France
stages, and get the interval <span class="math inline">[190\text{ km},
210\text{ km}]</span>. Which of the following interpretations of this
confidence interval are correct?</p>
<ul class="task-list">
<li><p><input type="checkbox" disabled="" /> 95% of Tour de France stage distances fall between 190 km and 210
km.</p></li>
<li><p><input type="checkbox" disabled="" /> There is a 95% chance that the true mean distance of all Tour de
France stages is between 190 km and 210 km.</p></li>
<li><p><input type="checkbox" disabled="" /> We are 95% confident that the true mean distance of all Tour de
France stages is between 190 km and 210 km.</p></li>
<li><p><input type="checkbox" disabled="" /> Our sample is of size 100.</p></li>
<li><p><input type="checkbox" disabled="" /> Our sample is of size 25.</p></li>
<li><p><input type="checkbox" disabled="" /> If we collected many original samples and constructed many 95%
confidence intervals, then exactly 95% of those intervals would contain
the true mean distance.</p></li>
<li><p><input type="checkbox" disabled="" /> If we collected many original samples and constructed many 95%
confidence intervals, then roughly 95% of those intervals would contain
the true mean distance.</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading4_5">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse4_5" aria-expanded="true" aria-controls="collapse4_5">
Click to view the solution.
</button>
</h2>
<div id="collapse4_5" class="accordion-collapse collapse"
aria-labelledby="heading4_5" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-4.6">Problem 4.6</h3>
<p>Suppose we take 500 random samples of size 100 from the stage
distances, calculate their means, and draw a histogram of the
distribution of these sample means. We label this Histogram A. Then, we
take 500 random samples of size 1000 from the stage distances, calculate
their means, and draw a histogram of the distribution of these sample
means. We label this Histogram B. Fill in the blanks so that the
sentence below correctly describes how Histogram B looks in comparison
to Histogram A.</p>
<p>“Relative to Histogram A, Histogram B would appear __(i)__ and
shifted __(ii)__ due to the __(iii)__ mean and the __(iv)__ standard
deviation.”</p>
<p>(i):</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> thinner</p></li>
<li><p><input type="radio" disabled="" /> wider</p></li>
<li><p><input type="radio" disabled="" /> the same width</p></li>
<li><p><input type="radio" disabled="" /> unknown</p></li>
</ul>
<p>(ii):</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> left</p></li>
<li><p><input type="radio" disabled="" /> right</p></li>
<li><p><input type="radio" disabled="" /> not at all</p></li>
<li><p><input type="radio" disabled="" /> unknown</p></li>
</ul>
<p>(iii):</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> larger</p></li>
<li><p><input type="radio" disabled="" /> smaller</p></li>
<li><p><input type="radio" disabled="" /> unchanged</p></li>
<li><p><input type="radio" disabled="" /> unknown</p></li>
</ul>
<p>(iv):</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> larger</p></li>
<li><p><input type="radio" disabled="" /> smaller</p></li>
<li><p><input type="radio" disabled="" /> unchanged</p></li>
<li><p><input type="radio" disabled="" /> unknown</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading4_6">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse4_6" aria-expanded="true" aria-controls="collapse4_6">
Click to view the solution.
</button>
</h2>
<div id="collapse4_6" class="accordion-collapse collapse"
aria-labelledby="heading4_6" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="problem-5">Problem 5</h2>
<p>In this question, suppose <code>random_stages</code> is a random
sample of undetermined size drawn with replacement from
<code>stages</code>. We want to estimate the proportion of stage wins
won by each country.</p>
<p><br></p>
<h3 id="problem-5.1">Problem 5.1</h3>
<p>Suppose we extract the winning countries and store the resulting
Series. Consider the variable <code>winners</code> defined below, which
you may use throughout this question:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>winners <span class="op">=</span> random_stages.get(<span class="st">&quot;Winner Country&quot;</span>)</span></code></pre></div>
<p>Write a single line of code that evaluates to the proportion of
stages in <code>random_stages</code> won by France (country code
<code>"FRA"</code>).</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading5_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse5_1" aria-expanded="true" aria-controls="collapse5_1">
Click to view the solution.
</button>
</h2>
<div id="collapse5_1" class="accordion-collapse collapse"
aria-labelledby="heading5_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-5.2">Problem 5.2</h3>
<p>We want to generate a 95% confidence interval for the true proportion
of wins by France in <code>stages</code> by using our random sample
<code>random_stages</code>. How many rows need to be in
<code>random_stages</code> for our confidence interval to have width of
at most 0.03? Recall that the maximum standard deviation for any series
of zeros and ones is 0.5. Do not simplify your answer.</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading5_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse5_2" aria-expanded="true" aria-controls="collapse5_2">
Click to view the solution.
</button>
</h2>
<div id="collapse5_2" class="accordion-collapse collapse"
aria-labelledby="heading5_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-5.3">Problem 5.3</h3>
<p>Suppose we now want to test the hypothesis that the true proportion
of stages won by Italy (<code>"ITA"</code>) is <span
class="math inline">0.2</span> using a confidence interval and the
Central Limit Theorem. We want to conduct our hypothesis test at a
significance level of 0.01. Fill in the blanks to construct the
confidence interval <code>[interval_left, interval_right]</code>. Your
answer must use the Central Limit Theorem, not bootstrapping. Assume an
integer variable <code>sample_size = len(winners)</code> has been
defined, regardless of your answer to part 2.</p>
<p>Hint:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>stats.norm.cdf(<span class="fl">2.576</span>) <span class="op">-</span> stats.norm.cdf(<span class="op">-</span><span class="fl">2.576</span>) <span class="op">=</span> <span class="fl">0.99</span></span></code></pre></div>
<div class="sourceCode" id="cb9"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>    interval_center <span class="op">=</span> __(i)__</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>    mystery <span class="op">=</span> __(ii)__ <span class="op">*</span> np.std(__(iii)__ ) <span class="op">/</span> __(iv)__</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>    interval_left <span class="op">=</span> interval_center <span class="op">-</span> mystery</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>    interval_right <span class="op">=</span> interval_center <span class="op">+</span> mystery</span></code></pre></div>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading5_3">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse5_3" aria-expanded="true" aria-controls="collapse5_3">
Click to view the solution.
</button>
</h2>
<div id="collapse5_3" class="accordion-collapse collapse"
aria-labelledby="heading5_3" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-5.4">Problem 5.4</h3>
<p>What is our null hypothesis?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> The true proportion of stages won by Italy is 0.2.</p></li>
<li><p><input type="radio" disabled="" /> The true proportion of stages won by Italy is not 0.2.</p></li>
<li><p><input type="radio" disabled="" /> The true proportion of stages won by Italy is greater than 0.2.</p></li>
<li><p><input type="radio" disabled="" /> The true proportion of stages won by Italy is less than 0.2.</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading5_4">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse5_4" aria-expanded="true" aria-controls="collapse5_4">
Click to view the solution.
</button>
</h2>
<div id="collapse5_4" class="accordion-collapse collapse"
aria-labelledby="heading5_4" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-5.5">Problem 5.5</h3>
<p>What is our alternative hypothesis?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> The true proportion of stages won by Italy is 0.2.</p></li>
<li><p><input type="radio" disabled="" /> The true proportion of stages won by Italy is not 0.2.</p></li>
<li><p><input type="radio" disabled="" /> The true proportion of stages won by Italy is greater than 0.2.</p></li>
<li><p><input type="radio" disabled="" /> The true proportion of stages won by Italy is less than 0.2.</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading5_5">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse5_5" aria-expanded="true" aria-controls="collapse5_5">
Click to view the solution.
</button>
</h2>
<div id="collapse5_5" class="accordion-collapse collapse"
aria-labelledby="heading5_5" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-5.6">Problem 5.6</h3>
<p>Suppose we calculated the interval <span class="math inline">[0.195,
0.253]</span> using the above process. Should we reject or fail to
reject our null hypothesis?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> Reject</p></li>
<li><p><input type="radio" disabled="" /> Fail to reject</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading5_6">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse5_6" aria-expanded="true" aria-controls="collapse5_6">
Click to view the solution.
</button>
</h2>
<div id="collapse5_6" class="accordion-collapse collapse"
aria-labelledby="heading5_6" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="problem-6">Problem 6</h2>
<p>You want to use the data in <code>stages</code> to test the following
hypotheses:</p>
<ul>
<li><p><strong>Null Hypothesis</strong>: In the Tour de France, the mean
distance of flat stages is <strong>equal to</strong> the mean distance
of mountain stages.</p></li>
<li><p><strong>Alternative Hypothesis</strong>: In the Tour de France,
the mean distance of flat stages is <strong>less than</strong> the mean
distance of mountain stages.</p></li>
</ul>
<p>For the rest of this problem, assume you have assigned a new column
to <code>stages</code> called <code>class</code>, which categorizes
stages into either <code>flat</code> or <code>mountain</code>
stages.</p>
<p><br></p>
<h3 id="problem-6.1">Problem 6.1</h3>
<p>Which of the following test statistics could be used to test the
given hypothesis? Select all that apply.</p>
<ul class="task-list">
<li><p><input type="checkbox" disabled="" /> The mean distance of flat stages divided by the mean distance of
mountain stages.</p></li>
<li><p><input type="checkbox" disabled="" /> The difference between the mean distance of mountain stages and the
mean distance of flat stages.</p></li>
<li><p><input type="checkbox" disabled="" /> The absolute difference between the mean distance of flat stages and
the mean distance of mountain stages.</p></li>
<li><p><input type="checkbox" disabled="" /> One half of the difference between the mean distance of flat stages
and the mean distance of mountain stages.</p></li>
<li><p><input type="checkbox" disabled="" /> The squared difference between the mean distance of flat stages and
the mean distance of mountain stages.</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading6_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse6_1" aria-expanded="true" aria-controls="collapse6_1">
Click to view the solution.
</button>
</h2>
<div id="collapse6_1" class="accordion-collapse collapse"
aria-labelledby="heading6_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Solution:</strong> Option 1, Option 2, and Option 4</p>
<p>A test statistic is a single number we use to test which viewpoint
the data better supports. During hypothesis testing, we check whether
our observed statistic is a “typical value” in the distribution of the
test statistic. The alternative hypothesis indicates “less than” so our
test statistic needs to summarize both the magnitude and direction of
the difference in the categories.</p>
<ul>
<li>Option 1 is correct. The mean number of flat stages divided by the
mean distance of flat stages is essentially a ratio which is a valid
test statistic.</li>
<li>Option 2 is correct. The difference between the mean distance of
mountain stages and the mean distance of flat stages gives direction and
magnitude of the difference between the categories so its a valid test
statistic.</li>
<li>Option 3 is incorrect. Taking the absolute value of the difference
between the mean distance of flat stages and the mean distance of
mountain stages removes the direction of the difference making this an
invalid test statistic.</li>
<li>Option 4 is correct. One half of the difference between the mean
distance of flat stages and the mean distance of mountain stages gives
both magnitude and direction of the difference between the categories so
this is a valid test statistic.</li>
<li>Option 5 is incorrect. Squaring the difference between the mean
distance of flat stages and the mean distance of mountain stages removes
the direction of the difference between the categories so this is an
invalid test statistic.</li>
</ul>
</div>
</div>
</div>
</div>
<p><br></p>
<p>Assume that for the rest of the question, we will be using the
following test statistic: <strong>The difference between the mean
distance of flat stages and the mean dis- tance of mountain
stages.</strong></p>
<p><br></p>
<h3 id="problem-6.2">Problem 6.2</h3>
<p>Fill in the blanks in the code below so that it correctly conducts a
hypothesis test of the given hypotheses and returns the p-value.</p>
<div class="sourceCode" id="cb10"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> hypothesis_test(stages):</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>    means <span class="op">=</span> stages.groupby(<span class="st">&quot;class&quot;</span>).mean().get(<span class="st">&quot;Distance&quot;</span>)</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>    observed_stat <span class="op">=</span> means.loc[<span class="st">&quot;flat&quot;</span>] <span class="op">-</span> means.loc[<span class="st">&quot;mountain&quot;</span>]</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>    simulated_stats <span class="op">=</span> np.array([])</span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> i <span class="kw">in</span> np.arange(<span class="dv">10000</span>):</span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>        shuffled <span class="op">=</span> stages.assign(shuffled <span class="op">=</span> np.random.__(i)__(stages.get(<span class="st">&quot;Distance&quot;</span>)))</span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a>        shuffled_means <span class="op">=</span> shuffled.groupby(<span class="st">&quot;class&quot;</span>).mean().get(<span class="st">&quot;Distance&quot;</span>)</span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a>        simulated_stat <span class="op">=</span> (shuffled_means.loc[<span class="st">&quot;flat&quot;</span>] <span class="op">-</span> shuffled_means.loc[<span class="st">&quot;mountain&quot;</span>])</span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a>        simulated_stats <span class="op">=</span> __(ii)__(simulated_stats, simulated_stat)</span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a>    p_value <span class="op">=</span> np.__(iii)__(simulated_stats <span class="op">&lt;=</span> observed_stat)</span>
<span id="cb10-14"><a href="#cb10-14" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> p_value</span></code></pre></div>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading6_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse6_2" aria-expanded="true" aria-controls="collapse6_2">
Click to view the solution.
</button>
</h2>
<div id="collapse6_2" class="accordion-collapse collapse"
aria-labelledby="heading6_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Solution:</strong></p>
<ul>
<li>(i): <code>permutation</code></li>
<li>(ii): <code>np.append</code></li>
<li>(iii): <code>mean</code></li>
</ul>
<p>The first step in a permutation test simulation is to shuffle the
labels or the values. So since this first line in the for loop is
assigning a column called ‘shuffled’, we know we need to use
<code>np.random.permutation()</code> on the <code>"Distances"</code>
column. The next line gets the new means for each group after shuffling
the values and <code>simulated_stat</code> is the simulated difference
in means. Now we know we want to save this simulated statistic and we
have the <code>simulated_stats</code> array, so we want to use an
<code>np.append</code> in (ii) to save this statistic in the array.
Finally after the simulation is complete, we calculate the p-value using
the array of simulated statistics. The p-value is the probability of
seeing the observed result under the null hypothesis.
<code>simulated_stats &lt;= observed_stat</code> returns an array of 0’s
and 1’s depending on whether each simulated statistic is less than or
equal to the observed statistic. Now, to get the probability of seeing a
result equal to or less than the observed, we can simply take the mean
of this array since the mean of an array of 0’s and 1’s is equivalent to
the probability.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-6.3">Problem 6.3</h3>
<p>Indicate whether each of the following code snippets would correctly
calculate <code>simulated_stat</code> inside the <code>for</code>-loop
without errors. Where present, assume the blank <code>(i)</code> has
been filled in correctly.</p>
<div class="sourceCode" id="cb11"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>shuffled <span class="op">=</span> stages.assign(shuffled <span class="op">=</span> np.random.__(i)__(stages.get(<span class="st">&quot;Distance&quot;</span>)))</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>shuffled_flat <span class="op">=</span> (shuffled[shuffled.get(<span class="st">&quot;class&quot;</span>) <span class="op">==</span> <span class="st">&quot;flat&quot;</span>].get(<span class="st">&quot;shuffled&quot;</span>))</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>shuffled_mountain <span class="op">=</span> (shuffled[shuffled.get(<span class="st">&quot;class&quot;</span>) <span class="op">==</span> <span class="st">&quot;mountain&quot;</span>].get(<span class="st">&quot;shuffled&quot;</span>))</span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>simulated_stat <span class="op">=</span> shuffled_flat.mean() <span class="op">-</span> shuffled_mountain.mean()</span></code></pre></div>
<p>(i):</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> This code is correct.</p></li>
<li><p><input type="radio" disabled="" /> This code is incorrect or errors.</p></li>
</ul>
<div class="sourceCode" id="cb12"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>shuffled <span class="op">=</span> stages.assign(shuffled <span class="op">=</span> np.random.__(i)__(stages.get(<span class="st">&quot;class&quot;</span>)))</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>shuffled_flat <span class="op">=</span> (shuffled[shuffled.get(<span class="st">&quot;shuffled&quot;</span>) <span class="op">==</span> <span class="st">&quot;flat&quot;</span>].get(<span class="st">&quot;Distance&quot;</span>))</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>shuffled_mountain <span class="op">=</span> (shuffled[shuffled.get(<span class="st">&quot;shuffled&quot;</span>) <span class="op">==</span> <span class="st">&quot;mountain&quot;</span>].get(<span class="st">&quot;Distance&quot;</span>))</span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>simulated_stat <span class="op">=</span> shuffled_flat.mean() <span class="op">-</span> shuffled_mountain.mean()</span></code></pre></div>
<p>(ii):</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> This code is correct.</p></li>
<li><p><input type="radio" disabled="" /> This code is incorrect or errors.</p></li>
</ul>
<div class="sourceCode" id="cb13"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>shuffled <span class="op">=</span> stages.assign(shuffled <span class="op">=</span> np.random.__(i)__(stages.get(<span class="st">&quot;Distance&quot;</span>)))</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>shuffled_means <span class="op">=</span> shuffled.groupby(<span class="st">&quot;class&quot;</span>).mean()</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>simulated_stat <span class="op">=</span> (shuffled_means.get(<span class="st">&quot;Distance&quot;</span>).iloc[<span class="st">&quot;flat&quot;</span>] <span class="op">-</span></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>                  shuffled_means.get(<span class="st">&quot;Distance&quot;</span>).iloc[<span class="st">&quot;mountain&quot;</span>])</span></code></pre></div>
<p>(iii):</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> This code is correct.</p></li>
<li><p><input type="radio" disabled="" /> This code is incorrect or errors.</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading6_3">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse6_3" aria-expanded="true" aria-controls="collapse6_3">
Click to view the solution.
</button>
</h2>
<div id="collapse6_3" class="accordion-collapse collapse"
aria-labelledby="heading6_3" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Solution:</strong></p>
<ul>
<li>(i): This code is correct
<ul>
<li><code>shuffled</code> shuffles the distances.
<code>shuffled_flat</code> gets the series of flats with the shuffled
distances and <code>shuffled_mountain</code> gets the series of the
mountains with the shuffled distances. Finally
<code>simulated_stat</code> calculates the mean difference between the
two categories.</li>
</ul></li>
<li>(ii): The code is correct.
<ul>
<li><code>shuffled</code> shuffles the labels.
<code>shuffled_flat</code> gets the series of the distances with the
shuffled label of “flat” and <code>shuffled_mountain</code> gets the
series of the distances with the shuffled label of “mountain”. Finally,
<code>simulated_stat</code> calculates the mean difference between the
two categories.</li>
</ul></li>
<li>(iii): The code is incorrect.
<ul>
<li><code>shuffled</code> shuffles the distances and assigns these
shuffled distances to the column <code>‘shuffled’</code>.
<code>shuffled_means</code> groups by the label and calculates the means
for each column. However, <code>simulated_stat</code> takes the original
distance columns when calculating the difference in means rather than
the shuffled distances which is located in the <code>‘shuffled’</code>
column making this answer incorrect.</li>
</ul></li>
</ul>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-6.4">Problem 6.4</h3>
<p>Assume that the observed statistic for this hypothesis test was equal
to -22.5 km. Given that there are 10,000 simulated test statistics
generated in the code above, at least how many of those must be equal to
-22.5 km in order for us to <strong>reject</strong> the null hypothesis
at an 0.05 significance level?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> 500</p></li>
<li><p><input type="radio" disabled="" /> 5000</p></li>
<li><p><input type="radio" disabled="" /> 0</p></li>
<li><p><input type="radio" disabled="" /> 9500</p></li>
<li><p><input type="radio" disabled="" /> 10000</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading6_4">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse6_4" aria-expanded="true" aria-controls="collapse6_4">
Click to view the solution.
</button>
</h2>
<div id="collapse6_4" class="accordion-collapse collapse"
aria-labelledby="heading6_4" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Solution:</strong> In order to reject the null hypothesis at
the 0.05 significance level, the p-value needs to be below 0.05. In
order to calculate the p-value, we find the proportion of simulated test
statistics that are equal to or less than the observed value. Note the
usage of “must be” in the problem. Since these simulated test statistics
can be even less than the observed value, none of them
<strong>have</strong> to be equal to the observed value. Thus, the
answer is 0.</p>
</div>
</div>
</div>
</div>
<p><br> <br></p>
<h3 id="problem-6.5">Problem 6.5</h3>
<p>Assume that the code above generated a p-value of 0.03. In the space
below, please write your interpretation of this p-value. Your answer
should include more than simply “we reject/fail to reject the null
hypothesis.”</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading6_5">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse6_5" aria-expanded="true" aria-controls="collapse6_5">
Click to view the solution.
</button>
</h2>
<div id="collapse6_5" class="accordion-collapse collapse"
aria-labelledby="heading6_5" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Solution:</strong> There is a 3% chance, assuming the null
hypothesis is true, of seeing an observed difference in means less than
or equal to -22.5 km.</p>
<p>The p-value is the probability of seeing the observed value or
something more extreme under the null hypothesis. Knowing this, in this
context, since the p-value is 0.03, this means that there is a 3% chance
under the null hypothesis of seeing an observed difference in means
equal to or less than -22.5km.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="problem-7">Problem 7</h2>
<p>You are analyzing the data in <code>stages</code> to see which
countries winners come from.</p>
<p>You categorize the countries into four groups: France, Italy,
Belgium, and Other. After performing some analysis, you find that the
observed distribution of countries of origin for Tour de France stage
winners is <span class="math inline">[0.3, 0.2, 0.1, 0.4]</span>;
i.e. 30% of stage winners are French, 20% Italian, etc. Based on census
information, the expected population distribution is <span
class="math inline">[0.07, 0.06, 0.01, 0.86]</span>; that is, France’s
total population is 7% of the sum of the populations of all countries
participating in the Tour, Italy’s is 6%, etc.</p>
<p>You conduct a hypothesis test with the following hypotheses:</p>
<ul>
<li><strong>Null Hypothesis</strong>: The distribution of countries of
origin for Tour de France stage winners is equivalent to the
distribution of the populations of the countries participating in the
Tour de France. Any observed difference is due to chance.</li>
<li><strong>Alternative Hypothesis</strong>: The distribution of
countries of origin for Tour de France stage winners is different from
the distribution of the populations of the countries participating in
the Tour de France.</li>
</ul>
<p><br></p>
<h3 id="problem-7.1">Problem 7.1</h3>
<p>Which of the following test statistics are appropriate for this
hypothesis test? Select all that apply.</p>
<ul class="task-list">
<li><p><input type="checkbox" disabled="" /> The absolute difference between the expected proportion of French
stage winners and the observed proportion of French stage winners.</p></li>
<li><p><input type="checkbox" disabled="" /> The sum of the differences between the expected population
distribution and the observed distribution of stage winners.</p></li>
<li><p><input type="checkbox" disabled="" /> The absolute difference between the number of French stage winners
and the number of Italian stage winners.</p></li>
<li><p><input type="checkbox" disabled="" /> The sum of the absolute differences between the expected population
distribution and the observed distribution of stage winners.</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading7_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse7_1" aria-expanded="true" aria-controls="collapse7_1">
Click to view the solution.
</button>
</h2>
<div id="collapse7_1" class="accordion-collapse collapse"
aria-labelledby="heading7_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Solution:</strong> Option 1 and Option 4</p>
<ul>
<li>Option 1 is correct. The absolute difference between the expected
proportion of French stage winners and the observed proportion of French
stage winners gives the magnitude of the difference in distributions
making this a valid test statistic.</li>
<li>Option 2 is incorrect. The sum of the differences between the
expected population distribution and the observed distribution of stage
winners is not a valid test statistic since it indicates a direction to
the difference when we only want to know whether these distributions are
different.</li>
<li>Option 3 is incorrect. The absolute difference between the number of
French stage winners and the number of Italian stage winners is not a
valid test statistic since the numbers in each population can be
different and thus the difference in numbers is not a fair
comparison.</li>
<li>Option 4 is correct. The sum of the absolute differences between the
expected population distribution and the observed distribution of stage
winners gives magnitude but does not indicate direction making this a
valid test statistic.</li>
</ul>
</div>
</div>
</div>
</div>
<p><br></p>
<p><strong>For the rest of this question, assume that we will be using
the Total Variation Distance as our test statistic.</strong></p>
<p><br></p>
<h3 id="problem-7.2">Problem 7.2</h3>
<p>Complete the implementation of the <code>simulate</code> and
<code>calculate_test_stat</code> functions so that the code below
successfully simulates 10,000 test statistics.</p>
<div class="sourceCode" id="cb14"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>expected_dist <span class="op">=</span> [<span class="fl">0.07</span>, <span class="fl">0.06</span>, <span class="fl">0.01</span>, <span class="fl">0.86</span>]</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>observed_dist <span class="op">=</span> [<span class="fl">0.3</span>, <span class="fl">0.2</span>, <span class="fl">0.1</span>, <span class="fl">0.4</span>]</span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> simulate(__(i)__):</span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>    simulated_winners <span class="op">=</span> np.random.__(ii)__(<span class="dv">100</span>, __(iii)__)</span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> simulated_winners <span class="op">/</span> <span class="dv">100</span></span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> calculate_test_stat(__(iv)__, __(v)__):</span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> __(vi)__</span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-12"><a href="#cb14-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-13"><a href="#cb14-13" aria-hidden="true" tabindex="-1"></a>observed_stat <span class="op">=</span> calculate_test_stat(observed_dist, expected_dist)</span>
<span id="cb14-14"><a href="#cb14-14" aria-hidden="true" tabindex="-1"></a>simulated_stats <span class="op">=</span> np.array([])</span>
<span id="cb14-15"><a href="#cb14-15" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i <span class="kw">in</span> np.arange(<span class="dv">10000</span>):</span>
<span id="cb14-16"><a href="#cb14-16" aria-hidden="true" tabindex="-1"></a>    simulated_dist <span class="op">=</span> simulate(expected_dist)</span>
<span id="cb14-17"><a href="#cb14-17" aria-hidden="true" tabindex="-1"></a>    simulated_stat <span class="op">=</span> calculate_test_stat(simulated_dist, expected_dist)</span>
<span id="cb14-18"><a href="#cb14-18" aria-hidden="true" tabindex="-1"></a>    simulated_stats <span class="op">=</span> np.append(simulated_stats, simulated_stat)</span></code></pre></div>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading7_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse7_2" aria-expanded="true" aria-controls="collapse7_2">
Click to view the solution.
</button>
</h2>
<div id="collapse7_2" class="accordion-collapse collapse"
aria-labelledby="heading7_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Solution:</strong></p>
<ul>
<li>(i): <code>expected_dist</code></li>
<li>(ii): <code>multinomial</code></li>
<li>(iii): <code>expected_dist</code></li>
<li>(iv): <code>simulated_dist</code></li>
<li>(v): <code>expected_dist</code> (or swapped with above)</li>
<li>(vi):
<code>np.abs(simulated dist - expected dist).sum() / 2</code></li>
</ul>
<p>When performing a simulation, we simulated based on the expectation.
Thus, the argument for the simulate function (i) should be the
<code>expected_dist</code> array. In this function, we simulate winners
based on the expected distribution. So, we want to use
<code>np.random.multinomial</code> in (ii) which will take in the number
of experiments and expected distribution, ie (iii), which is an array of
the probabilities for each of the outcomes.</p>
<p>We are using the total variation distance as the test statistic. The
Total Variation Distance (TVD) of two categorical distributions is the
sum of the absolute differences of their proportions, all divided by 2.
Thus, the arguments of the <code>calculate_test_stat</code> function
should be the <code>simulated_distribution</code> in (iv) and the
<code>expected_distribution</code> in (v) (or swapped). In this
function, we need to return the TVD which can be calculated as follows:
<code>np.abs(simulated dist - expected dist).sum() / 2</code> in
(vi).</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-7.3">Problem 7.3</h3>
<p>Fill in the blank in the following code so that <code>p_value</code>
evaluates to the correct p-value for this hypothesis test:</p>
<div class="sourceCode" id="cb15"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>    p_value <span class="op">=</span> np.mean(simulated_stats ___ observed_statistic)</span></code></pre></div>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> &gt;</p></li>
<li><p><input type="radio" disabled="" /> =</p></li>
<li><p><input type="radio" disabled="" /> &lt;</p></li>
<li><p><input type="radio" disabled="" /> &lt;=</p></li>
<li><p><input type="radio" disabled="" /> =</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading7_3">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse7_3" aria-expanded="true" aria-controls="collapse7_3">
Click to view the solution.
</button>
</h2>
<div id="collapse7_3" class="accordion-collapse collapse"
aria-labelledby="heading7_3" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Solution:</strong> <span class="math inline">&gt;=</span></p>
<p>Recall the p-value is the probability of seeing a result equal to or
more extreme than the observed value under the null hypothesis. Since
the TVD is our test statistic where greater values indicate a result
more extreme that means we want to use <span class="math inline">&gt;=</span> in the blank to check whether the
simulated statistic is equal to or more extreme than the observed
statistic.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="problem-8">Problem 8</h2>
<p>Choose the best tool to answer each of the following questions. Note
the following:</p>
<ul>
<li>By “hypothesis testing,” we mean “standard” hypothesis testing,
i.e. hypothesis testing that doesn’t involve permutation testing or
bootstrapping.</li>
<li>By “bootstrapping,” we mean bootstrapping that doesn’t involve
hypothesis testing.</li>
</ul>
<p><br></p>
<h3 id="problem-8.1">Problem 8.1</h3>
<p>What is the median distance of all Tour de France stages?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> Hypothesis Testing</p></li>
<li><p><input type="radio" disabled="" /> Permutation Testing</p></li>
<li><p><input type="radio" disabled="" /> Bootstrapping</p></li>
<li><p><input type="radio" disabled="" /> Central Limit Theorem</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading8_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse8_1" aria-expanded="true" aria-controls="collapse8_1">
Click to view the solution.
</button>
</h2>
<div id="collapse8_1" class="accordion-collapse collapse"
aria-labelledby="heading8_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Solution:</strong> Bootstrapping</p>
<p>Since we want the median distance of all the Tour de France stages,
we are not testing anything against a hypothesis at all which rules our
hypothesis testing and permutation testing. We use bootstrapping to get
samples in lieu of a population. Bootstrapping Tour de France distances
will give samples of distances from which we can calculate the median of
Tour de France stages.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-8.2">Problem 8.2</h3>
<p>Is the distribution of Tour de France stage types from before 1960
the same as after 1960?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> Hypothesis Testing</p></li>
<li><p><input type="radio" disabled="" /> Permutation Testing</p></li>
<li><p><input type="radio" disabled="" /> Bootstrapping</p></li>
<li><p><input type="radio" disabled="" /> Central Limit Theorem</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading8_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse8_2" aria-expanded="true" aria-controls="collapse8_2">
Click to view the solution.
</button>
</h2>
<div id="collapse8_2" class="accordion-collapse collapse"
aria-labelledby="heading8_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Solution:</strong> Permutation Testing</p>
<p>We are comparing whether the distributions before 1960 and after 1960
are different which means we want to do permutation testing which tests
whether two samples come from the same population distribution.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-8.3">Problem 8.3</h3>
<p>Are there an equal number of destinations that start with letters
from the first half of the alphabet and destinations that start with
letters from the second half of the alphabet?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> Hypothesis Testing</p></li>
<li><p><input type="radio" disabled="" /> Permutation Testing</p></li>
<li><p><input type="radio" disabled="" /> Bootstrapping</p></li>
<li><p><input type="radio" disabled="" /> Central Limit Theorem</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading8_3">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse8_3" aria-expanded="true" aria-controls="collapse8_3">
Click to view the solution.
</button>
</h2>
<div id="collapse8_3" class="accordion-collapse collapse"
aria-labelledby="heading8_3" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Solution:</strong> Hypothesis Testing</p>
<p>We are testing whether two values (the number of destinations that
start with letters from the first half of the alphabet and the
destinations that start with letters from the second half of the
alphabet) are equal to each other which is an indicator to use a
hypothesis test.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-8.4">Problem 8.4</h3>
<p>Are mountain stages with destinations in France from before 1970
longer than flat stages with destinations in Belgium from after
2000?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> Hypothesis Testing</p></li>
<li><p><input type="radio" disabled="" /> Permutation Testing</p></li>
<li><p><input type="radio" disabled="" /> Bootstrapping</p></li>
<li><p><input type="radio" disabled="" /> Central Limit Theorem</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading8_4">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse8_4" aria-expanded="true" aria-controls="collapse8_4">
Click to view the solution.
</button>
</h2>
<div id="collapse8_4" class="accordion-collapse collapse"
aria-labelledby="heading8_4" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Solution:</strong> Permutation Testing</p>
<p>We are comparing two distributions (mountain stages with destinations
in France from before 1970 and flat stages with destinations in Belgium
from after 2000) and seeing if the first distribution is longer than the
second. Since we are comparing distributions, we want to perform a
permutation test.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="problem-9">Problem 9</h2>
<p>Suppose the <strong>distance</strong> of a Tour de France stage and
the <strong>time</strong> it takes to complete it are linearly
associated with correlation coefficient <span class="math inline">r =
\frac{2}{3}</span>. Assume distances have a mean of 200 km and a
standard deviation of 80 km. Times have a mean of 6 hours.</p>
<p><br></p>
<h3 id="problem-9.1">Problem 9.1</h3>
<p>Suppose the regression line to predict the time a stage will take (in
hours) based on its length (in km) predicts that a 160 km long stage
will take 5 hours. What is the standard deviation of the time it takes
to complete a stage?</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading9_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse9_1" aria-expanded="true" aria-controls="collapse9_1">
Click to view the solution.
</button>
</h2>
<div id="collapse9_1" class="accordion-collapse collapse"
aria-labelledby="heading9_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Solution:</strong> <span class="math inline">x_\text{su} =
\frac{160 - 200}{80} = -\frac{1}{2}</span>. Then <span class="math inline">y_\text{su} = -\frac{1}{2} \cdot \frac{2}{3} =
-\frac{1}{3} = \frac{5 - 6}{\text{SD}_y}</span>. So <span class="math inline">\text{SD}_y = 3</span> hours.</p>
<p>We know that <span class="math inline">\bar{x} = 200</span>, <span class="math inline">\sigma_x</span> = 80, <span class="math inline">r =
\frac{2}{3}</span>, and <span class="math inline">\bar{y} = 6</span>. In
this problem we are given <span class="math inline">x = 160</span> and
<span class="math inline">y = 5</span>. In order to find the standard
deviation of time here, we can start by standardizing our values:</p>
<p><span class="math inline">x_{su} = \frac{160-200}{80} =
-\frac{1}{2}</span></p>
<p>Then according to the formula: <span class="math inline">\text{Predicted}</span> <span class="math inline">y_{\text{su}} = r \cdot x_{\text{su}}</span></p>
<p><span class="math inline">\text{Predicted}</span> <span class="math inline">y_{\text{su}} = \frac{2}{3} \cdot -\frac{1}{2} =
\frac{1}{3}</span></p>
<p>Now that we have <span class="math inline">y</span> in standard
units, we can plug it into this formula to solve for the standard
deviation of <span class="math inline">y</span>:</p>
<p><span class="math inline">y_{su}  = \frac{y -
\bar{y}}{\sigma_y}</span></p>
<p><span class="math inline">- \frac{1}{3}=
\frac{5-6}{\sigma_y}</span></p>
<p><span class="math inline">\text{SD}_y = 3</span></p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-9.2">Problem 9.2</h3>
<p>Suppose, regardless of your answer to part 1, that stage completion
times have a standard deviation of 1.5 hours. The other means, SD, and
<span class="math inline">r</span> are unchanged.</p>
<p>Stages in the middle of the Tour tend to be longer than those at the
ends. Stage 14 is 60 km longer than stage 20, so we would expect it to
take longer based on our linear association. How large will the
difference in our predictions of stage completion times be?</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading9_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse9_2" aria-expanded="true" aria-controls="collapse9_2">
Click to view the solution.
</button>
</h2>
<div id="collapse9_2" class="accordion-collapse collapse"
aria-labelledby="heading9_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Solution:</strong> <span class="math inline">m = \frac{2}{3}
\cdot \frac{1.5}{80} = \frac{1}{80}</span>. Stage 14 is 60 km longer, so
we expect it to take <span class="math inline">\frac{60}{80} =
\frac{3}{4}</span> hours longer.</p>
<p>Since we are interested in how much longer stage 14 is than stage 20
based on this linear association, we first want to calculate the slope.
Note that <span class="math inline">r=\frac{2}{3}</span>, <span class="math inline">\text{SD}_y=1.5</span>, and <span class="math inline">\text{SD}_x=80</span>:</p>
<p><span class="math inline">m = r \cdot
\frac{\text{SD}_y}{\text{SD}_x}</span></p>
<p><span class="math inline">m = \frac{2}{3} \cdot \frac{1.5}{80} =
\frac{1}{80}</span></p>
<p>This means that for every additional 1km, time increases by <span class="math inline">\frac{1}{80}</span>.</p>
<p>Since Stage 14 is 60km longer than Stage 20, we simply multiply our
slope by <span class="math inline">60</span>, giving <span class="math inline">\frac{60}{80} = \frac{3}{4}</span>. Thus we expect
Stage 14 to take <span class="math inline">\frac{3}{4}</span> hours
longer.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-9.3">Problem 9.3</h3>
<p>Suppose a mandatory rest break of 30 minutes (0.5 hours) is
implemented for all Tour de France stages. How would the slope of the
regression line change?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> It would decrease.</p></li>
<li><p><input type="radio" disabled="" /> It would stay the same.</p></li>
<li><p><input type="radio" disabled="" /> It would increase.</p></li>
<li><p><input type="radio" disabled="" /> We cannot say for sure.</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading9_3">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse9_3" aria-expanded="true" aria-controls="collapse9_3">
Click to view the solution.
</button>
</h2>
<div id="collapse9_3" class="accordion-collapse collapse"
aria-labelledby="heading9_3" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Solution:</strong> It would stay the same.</p>
<p>Adding a 30 minute break to all the stages simply increases each
stage’s time by an additional 30 minutes. This would not change the
slope since adding time simply shifts the time data points right, but
doesn’t change the relationship between distance and time.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-9.4">Problem 9.4</h3>
<p>Suppose the means and standard deviations above do not change
(continue to assume times have a standard deviation of 1.5 hours), but
the correlation coefficient <span class="math inline">r</span> is
different. If we predict a 360 km stage will take 9 hours, what is the
value of <span class="math inline">r</span>? Write a single number for
<span class="math inline">r</span> or “N/A” if it is not possible to
answer.</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading9_4">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse9_4" aria-expanded="true" aria-controls="collapse9_4">
Click to view the solution.
</button>
</h2>
<div id="collapse9_4" class="accordion-collapse collapse"
aria-labelledby="heading9_4" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Solution:</strong> <span class="math inline">r=1</span></p>
<p>We can follow a similar process to part 1, but instead solve for
<span class="math inline">r</span> now. First, we calculate <span class="math inline">x</span> in standard units:</p>
<p><span class="math inline">x_{\text{su}} = \frac{x -
\bar{x}}{\text{SD}_x}</span></p>
<p><span class="math inline">x_{\text{su}} = \frac{360-200}{80} =
\frac{160}{80} = 2</span></p>
<p>Now find <span class="math inline">y</span> in standard units:</p>
<p><span class="math inline">y_{\text{su}} = \frac{y -
\bar{y}}{\text{SD}_y}</span></p>
<p><span class="math inline">y_{\text{su}} = \frac{9-6}{1.5} =
\frac{3}{1.5} = 2</span></p>
<p>Now we can solve for <span class="math inline">r</span> simply by
<span class="math inline">y_{\text{su}} = r * x_{\text{su}}</span></p>
<p><span class="math inline">2 = r * 2</span></p>
<p><span class="math inline">r=1</span></p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="section"><span class="math display"> </span></h2>
<h4
id="feedback-find-an-error-still-confused-have-a-suggestion-let-us-know-here.">👋
Feedback: Find an error? Still confused? Have a suggestion?
<a href="https://forms.gle/WZ71FchnXU1K154d7">Let us know
here</u></a>.</h4>
<hr />
</body>
</html>
