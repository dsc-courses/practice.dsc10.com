<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>Spring 2025 Midterm Exam</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    /* The extra [class] is a hack that increases specificity enough to
       override a similar rule in reveal.js */
    ul.task-list[class]{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      font-size: inherit;
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      {   }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span.al { color: #ff0000; font-weight: bold; } /* Alert */
    code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
    code span.at { color: #7d9029; } /* Attribute */
    code span.bn { color: #40a070; } /* BaseN */
    code span.bu { color: #008000; } /* BuiltIn */
    code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #4070a0; } /* Char */
    code span.cn { color: #880000; } /* Constant */
    code span.co { color: #60a0b0; font-style: italic; } /* Comment */
    code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
    code span.do { color: #ba2121; font-style: italic; } /* Documentation */
    code span.dt { color: #902000; } /* DataType */
    code span.dv { color: #40a070; } /* DecVal */
    code span.er { color: #ff0000; font-weight: bold; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #40a070; } /* Float */
    code span.fu { color: #06287e; } /* Function */
    code span.im { color: #008000; font-weight: bold; } /* Import */
    code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
    code span.kw { color: #007020; font-weight: bold; } /* Keyword */
    code span.op { color: #666666; } /* Operator */
    code span.ot { color: #007020; } /* Other */
    code span.pp { color: #bc7a00; } /* Preprocessor */
    code span.sc { color: #4070a0; } /* SpecialChar */
    code span.ss { color: #bb6688; } /* SpecialString */
    code span.st { color: #4070a0; } /* String */
    code span.va { color: #19177c; } /* Variable */
    code span.vs { color: #4070a0; } /* VerbatimString */
    code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="../assets/theme.css" />
  <script defer=""
  src="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.js"></script>
  <script>document.addEventListener("DOMContentLoaded", function () {
 var mathElements = document.getElementsByClassName("math");
 var macros = [];
 for (var i = 0; i < mathElements.length; i++) {
  var texText = mathElements[i].firstChild;
  if (mathElements[i].tagName == "SPAN") {
   katex.render(texText.data, mathElements[i], {
    displayMode: mathElements[i].classList.contains('display'),
    throwOnError: false,
    macros: macros,
    fleqn: false
   });
}}});
  </script>
  <link rel="stylesheet"
  href="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.css" />
</head>
<body>
<header id="title-block-header">
<h1 class="title">Spring 2025 Midterm Exam</h1>
</header>
<p><link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
<!-- add after bootstrap.min.css -->
<link rel="stylesheet" href="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.css"/>
<!-- add after bootstrap.min.js or bootstrap.bundle.min.js -->
<script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script></p>
<!-- for difficulty gauges-->
<script src="https://cdn.plot.ly/plotly-2.16.1.min.js"></script>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-B947E6J6H4"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-B947E6J6H4');
</script>
<p><a href="../index.html">← return to practice.dsc10.com</a></p>
<hr />
<p><strong>Instructor(s):</strong> Janine Tiefenbruck</p>
<p>This exam was administered in-person. Students were allowed one page
of double-sided handwritten notes. No calculators were allowed. Students
had <strong>50 minutes</strong> to take this exam.</p>
<hr />
<p>One month ago today, President Donald Trump announced his plan to
impose so-called “reciprocal” tariffs on goods imported into the US from
other countries. Tariffs are taxes charged by a government on imported
goods, at a specific percentage of the value of the goods.</p>
<p>At a “Liberation Day” ceremony outside the White House, Trump held up
a printed chart of countries, the tariffs they charge to the US, and the
planned reciprocal tariff on goods from that country into the US. We
have the data from that printed chart stored in the <code>tariffs</code>
DataFrame, whose first few rows are shown below. <code>tariffs</code>
contains 50 rows in total.</p>
<center><img src="../assets/images/sp25-midterm/preview.jpg" width=500></center>
<p>Note that the <code>"Tariffs Charged to USA"</code> and
<code>"Reciprocal Tariff"</code> columns contain <code>int</code> values
representing percentages. For example, a <span
class="math inline">\$200</span> product from China would be subject to
a <span class="math inline">34\%</span> tariff, which is a <span
class="math inline">\$68</span> tax.</p>
<p>Assume that we have already run <code>import babypandas as bpd</code>
and <code>import numpy as np</code>.</p>
<hr />
<h2 id="problem-1">Problem 1</h2>
<p><br></p>
<h3 id="problem-1.1">Problem 1.1</h3>
<p>Which country has the highest <code>"Reciprocal Tariff"</code>? Write
one line of code that evaluates to the name of this country.</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading1_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse1_1" aria-expanded="true" aria-controls="collapse1_1">
Click to view the solution.
</button>
</h2>
<div id="collapse1_1" class="accordion-collapse collapse"
aria-labelledby="heading1_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong>
<code>tariffs.sort_values(by="Reciprocal Tariff", ascending=False).get("Country").iloc[0]</code>
or
<code>tariffs.set_index("Country").sort_values(by= Reciprocal Tariff", ascending=False).index[0]</code></p>
<p>To find the country with the highest “Reciprocal Tariff”, we need to
first sort <code>tariffs</code> by the <code>"Reciprocal Tariff"</code>
column in descending order:
<code>tariffs.sort_values(by="Reciprocal Tariff", ascending=False)</code>.
After sorting in descending order, we know that the country with the
highest reciprocal tariff will be in the first row. Then, to get the
name of this country, we select the <code>"Country"</code> column using
<code>.get("Country")</code>. This gives us a Series of countries in
order of descending reciprocal tariffs, and we can access the first
value in this Series by using <code>.iloc[0]</code>. Note that if we
sort in ascending order instead, we can use <code>.iloc[-1]</code> to
access the last value in the Series.</p>
<p>Alternatively, since each country appears only once in
<code>tariffs</code>, we can start by setting the <code>"Country"</code>
column as the index: <code>tariffs.set_index("Country")</code>. Then, we
sort the resulting DataFrame by the <code>"Reciprocal Tariff"</code>
column in descending order, as explained above. Since the country names
are now in the index, the first row of this sorted DataFrame will have
the country with the highest reciprocal tariff as its index value, which
we can access by using <code>.index[0]</code>. Note that if we sort in
ascending order instead, we can use <code>.index[-1]</code> to access
the last value in the index.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 71%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-1.2">Problem 1.2</h3>
<p>How many countries have a <code>"Reciprocal Tariff"</code> above
<span class="math inline">30\%</span>? Write one line of code that
evaluates to the number of such countries.</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading1_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse1_2" aria-expanded="true" aria-controls="collapse1_2">
Click to view the solution.
</button>
</h2>
<div id="collapse1_2" class="accordion-collapse collapse"
aria-labelledby="heading1_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong>
<code>tariffs[tariffs.get("Reciprocal Tariff")&gt;30].shape[0]</code></p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 89%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="problem-2">Problem 2</h2>
<p>In <code>tariffs</code>, we use integers to represent percentages,
but we could also use strings with the percent symbol %. For example,
the integer <code>34</code> and the string <code>"34%"</code> both
represent the same thing.</p>
<p><br></p>
<h3 id="problem-2.1">Problem 2.1</h3>
<p>Fill in the functions <code>with_percent_symbol</code> and
<code>without_percent_symbol</code> below. The function
<code>with_percent_symbol</code> should take as input an integer and
give as output a string with the percent symbol. The function
<code>without_percent_symbol</code> should do the opposite. Example
behavior is given below.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>    <span class="op">&gt;&gt;&gt;</span>  with_percent_symbol(<span class="dv">34</span>)             </span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">&quot;34%&quot;</span>    </span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>    <span class="op">&gt;&gt;&gt;</span> without_percent_symbol(<span class="st">&quot;34%&quot;</span>)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>    <span class="dv">34</span>                       </span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> with_percent_symbol(x):         </span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> __(a)__                        </span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> without_percent_symbol(x):</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> __(b)__  </span></code></pre></div>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading2_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse2_1" aria-expanded="true" aria-controls="collapse2_1">
Click to view the solution.
</button>
</h2>
<div id="collapse2_1" class="accordion-collapse collapse"
aria-labelledby="heading2_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer (a):</strong> <code>str(x)+"%"</code></p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 70%.</p>
<p><strong>Answer (b):</strong> <code>int(x.replace("%", ""))</code></p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 79%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-2.2">Problem 2.2</h3>
<p>Define the variable <code>y</code> as follows.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>    y <span class="op">=</span> tariffs.get(<span class="st">&quot;Reciprocal Tariff&quot;</span>).<span class="bu">apply</span>(with_percent_symbol)</span></code></pre></div>
<p>Below, define <code>z</code> so that it evaluates to exactly the same
Series as <code>y</code>. You may <strong>not</strong> use
<code>with_percent_symbol</code> or <code>y</code> when defining
<code>z</code>.</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading2_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse2_2" aria-expanded="true" aria-controls="collapse2_2">
Click to view the solution.
</button>
</h2>
<div id="collapse2_2" class="accordion-collapse collapse"
aria-labelledby="heading2_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong>
<code>z = tariffs.get("Reciprocal Tariff").apply(str) + "%"</code></p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 33%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-2.3">Problem 2.3</h3>
<p>Determine the value of the following expression.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>    y.iloc[<span class="dv">3</span>] <span class="op">+</span> <span class="st">&quot; tax on goods from &quot;</span> <span class="op">+</span> tariffs.get(<span class="st">&quot;Country&quot;</span>).loc[<span class="dv">3</span>]</span></code></pre></div>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading2_3">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse2_3" aria-expanded="true" aria-controls="collapse2_3">
Click to view the solution.
</button>
</h2>
<div id="collapse2_3" class="accordion-collapse collapse"
aria-labelledby="heading2_3" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong>
<code>"32% tax on goods from Taiwan"</code></p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 88%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="problem-3">Problem 3</h2>
<p>Trump’s administration set the reciprocal tariffs based on tariffs
charged to the USA.</p>
<p>For each country in <code>tariffs</code>, the value in the
<code>"Reciprocal Tariff"</code> column is simply half of the value in
the <code>"Tariffs Charged to USA"</code> column, rounded
<strong>up</strong> to the next integer.</p>
<p>In addition, if the <code>"Tariffs Charged to USA"</code> is less
than <span class="math inline">20</span> percent, then the
<code>"Reciprocal Tariff"</code> is set to <span
class="math inline">10</span> percent, so that no country’s reciprocal
tariff is ever less than <span class="math inline">10</span>
percent.</p>
<p><br></p>
<h3 id="problem-3.1">Problem 3.1</h3>
<p>Fill in the blanks in the function <code>reciprocate</code> which
takes as input an integer representing the tariffs charged to the USA by
a country, and returns an integer representing the reciprocal tariff
that the US will impose on that country.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> reciprocate(charged):</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>        half <span class="op">=</span> <span class="bu">int</span>((charged <span class="op">+</span> <span class="dv">1</span>) <span class="op">/</span> <span class="dv">2</span>)</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> __(a)__:</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>            <span class="cf">return</span> __(b)__</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>        <span class="cf">else</span>:</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>            <span class="cf">return</span> __(c)__</span></code></pre></div>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading3_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse3_1" aria-expanded="true" aria-controls="collapse3_1">
Click to view the solution.
</button>
</h2>
<div id="collapse3_1" class="accordion-collapse collapse"
aria-labelledby="heading3_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer (a):</strong> <code>charged &lt; 20</code> or
<code>charged &lt;= 20</code> or <code>half &lt; 10</code> or
<code>half &lt;= 10</code></p>
<p><strong>Answer (b):</strong> <code>10</code></p>
<p><strong>Answer (c):</strong> <code>half</code></p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 79%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-3.2">Problem 3.2</h3>
<p>Fill in the return statement of the function
<code>reciprocate_2</code> which behaves the same as
<code>reciprocate</code> but is implemented differently. You may
<strong>not</strong> call the <code>reciprocate</code> function.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> reciprocate_2(charged):</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> __(d)__</span></code></pre></div>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading3_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse3_2" aria-expanded="true" aria-controls="collapse3_2">
Click to view the solution.
</button>
</h2>
<div id="collapse3_2" class="accordion-collapse collapse"
aria-labelledby="heading3_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer (d):</strong>
<code>max(int((charged + 1)/2), 10)</code></p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 27%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-3.3">Problem 3.3</h3>
<p>Define the variable <code>ch</code> as follows.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>    ch <span class="op">=</span> tariffs.get(<span class="st">&quot;Tariffs Charged to USA&quot;</span>)</span></code></pre></div>
<p>You want to check that <code>reciprocate</code> and
<code>reciprocate_2</code> give the same outputs on all inputs in
<code>ch</code>. Write an expression that evaluates to <code>True</code>
if this is the case, and <code>False</code> otherwise.</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading3_3">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse3_3" aria-expanded="true" aria-controls="collapse3_3">
Click to view the solution.
</button>
</h2>
<div id="collapse3_3" class="accordion-collapse collapse"
aria-labelledby="heading3_3" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong>
<code>(ch.apply(reciprocate) == ch.apply(reciprocate_2)).sum() == 50</code></p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 39%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="problem-4">Problem 4</h2>
<p>Below is a density histogram displaying the distribution of
reciprocal tariffs for each of the 50 countries on Trump’s chart. It was
plotted with the argument
<code>bins=[10, 11, 15, 20, 40, 50]</code>.</p>
<p>Note that while the European Union is actually a group of many
countries, it is counted as one country here.</p>
<center><img src="../assets/images/sp25-midterm/tariffs.png" width=700></center>
<p><br></p>
<h3 id="problem-4.1">Problem 4.1</h3>
<p>How many countries have a reciprocal tariff of 10%?</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading4_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse4_1" aria-expanded="true" aria-controls="collapse4_1">
Click to view the solution.
</button>
</h2>
<div id="collapse4_1" class="accordion-collapse collapse"
aria-labelledby="heading4_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> <span class="math inline">21</span></p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 82%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-4.2">Problem 4.2</h3>
<p>Suppose we plotted the same histogram, except we changed the
<code>bins</code> argument to
<code>bins = [8, 15, 22, 30, 40, 50]</code>. What would be the height of
the <strong>leftmost</strong> bar in this histogram? Give your answer as
a number to two decimal places.</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading4_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse4_2" aria-expanded="true" aria-controls="collapse4_2">
Click to view the solution.
</button>
</h2>
<div id="collapse4_2" class="accordion-collapse collapse"
aria-labelledby="heading4_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> <span class="math inline">0.06</span></p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 52%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-4.3">Problem 4.3</h3>
<p>The European Union is not actually one country, but a group of 27
countries. Imagine we were to replace the row of <code>tariffs</code>
corresponding to the European Union with 27 rows representing each of
the member countries (all with a <span class="math inline">20\%</span>
reciprocal tariff), then plot a histogram of the reciprocal tariffs
using <code>bins = [10, 11, 15, 20, 40, 50]</code>.</p>
<p>Let <span class="math inline">h_{\text{new}}</span> be the height of
the <strong>rightmost</strong> bar in this histogram, and let <span
class="math inline">h_{\text{old}}</span> be the height of the rightmost
bar in the original histogram shown above. Express <span
class="math inline">h_{\text{new}}</span> in terms of <span
class="math inline">h_{\text{old}}</span>.</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading4_3">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse4_3" aria-expanded="true" aria-controls="collapse4_3">
Click to view the solution.
</button>
</h2>
<div id="collapse4_3" class="accordion-collapse collapse"
aria-labelledby="heading4_3" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> <span class="math inline">h_{\text{new}} =
\frac{50}{76} \cdot h_{\text{old}}</span></p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 19%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="problem-5">Problem 5</h2>
<p>Suppose we have another DataFrame called <code>trade_partners</code>
that has a row for every country that the United States trades with.
<code>trade_partners</code> is indexed by <code>"Country"</code> and has
two columns:</p>
<ul>
<li><p>The <code>"Proportion"</code> column contains <code>float</code>s
representing the proportion of US imports coming from each
country.</p></li>
<li><p>The <code>"Continent"</code> column contains the name of the
continent where the country is located.</p></li>
</ul>
<p>All countries in <code>tariffs</code> are included in
<code>trade_partners</code> (including <code>"European Union"</code>),
but not all countries in <code>trade_partners</code> are included in
<code>tariffs</code>. The first three rows of
<code>trade_partners</code> are shown below.</p>
<center><img src="../assets/images/sp25-midterm/trade_partners.jpg" width=300></center>
<p><br></p>
<h3 id="problem-5.1">Problem 5.1</h3>
<p>Write one line of code to merge <code>tariffs</code> with
<code>trade_partners</code> and store the result in
<code>merged</code>.</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading5_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse5_1" aria-expanded="true" aria-controls="collapse5_1">
Click to view the solution.
</button>
</h2>
<div id="collapse5_1" class="accordion-collapse collapse"
aria-labelledby="heading5_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong>
<code>merged = tariffs.merge(trade_partners, left_on="Country", right_index=True)</code></p>
<p><code>tariffs</code> and <code>trade_partners</code> are both
dataframes which correspond to the US’s relationship with other
Countries. Since both dataframes contain one row for each country we
need to merge them with the column which corresponds to the country
name. In <code>tariffs</code> that would be the <code>Country</code>
column and in <code>trade_partners</code> that is the index.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 80%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-5.2">Problem 5.2</h3>
<p>How many rows does <code>merged</code> have?</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading5_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse5_2" aria-expanded="true" aria-controls="collapse5_2">
Click to view the solution.
</button>
</h2>
<div id="collapse5_2" class="accordion-collapse collapse"
aria-labelledby="heading5_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> <span class="math inline">50</span></p>
<p>Since each DataFrame has exactly one row per country, the merged
result will also have one row for every country they share. And because
every country in <code>tariffs</code> appears in
<code>trade_partners</code> (though not vice versa), the merged
DataFrame will contain exactly as many rows as there are countries in
<code>tariffs</code> (which is 50).</p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 83%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-5.3">Problem 5.3</h3>
<p>In which of the following DataFrames does the
<code>"Proportion"</code> column sum to <span
class="math inline">1</span>? Select all that apply.</p>
<ul class="task-list">
<li><p><input type="checkbox" disabled="" /> <code>trade_partners</code></p></li>
<li><p><input type="checkbox" disabled="" /> <code>trade_partners.groupby("Continent").mean()</code></p></li>
<li><p><input type="checkbox" disabled="" /> <code>trade_partners.groupby("Continent").sum()</code></p></li>
<li><p><input type="checkbox" disabled="" /> <code>merged</code></p></li>
<li><p><input type="checkbox" disabled="" /> None of the above.</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading5_3">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse5_3" aria-expanded="true" aria-controls="collapse5_3">
Click to view the solution.
</button>
</h2>
<div id="collapse5_3" class="accordion-collapse collapse"
aria-labelledby="heading5_3" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> <code>trade_partners</code> and
<code>trade_partners.groupby("Continent").sum()</code></p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 88%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-5.4">Problem 5.4</h3>
<p>Write one line of code that would produce an appropriate data
visualization showing the <strong>median reciprocal tariff for each
continent</strong>.</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading5_4">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse5_4" aria-expanded="true" aria-controls="collapse5_4">
Click to view the solution.
</button>
</h2>
<div id="collapse5_4" class="accordion-collapse collapse"
aria-labelledby="heading5_4" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong>
<code>merged.groupby("Continent").median().plot(kind="barh", y="Reciprocal Tariff");</code></p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 68%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="problem-6">Problem 6</h2>
<p>Most imported goods are transported to the US in shipping containers.
The table to below shows the probability that a randomly selected
shipping container comes from a given location (continent or country).
Note that the probability for each continent is the sum of the
probabilities for each country in that continent.</p>
<p>For all parts of this question, you can leave your answer as an
<strong>unsimplified mathematical expression.</strong></p>
<center><img src="../assets/images/sp25-midterm/prob_data.png" width=300></center>
<p><br></p>
<h3 id="problem-6.1">Problem 6.1</h3>
<p>Suppose you randomly select <strong>one</strong> shipping container.
You are told that it comes from Asia but not from Japan. What is the
probability that it comes from China?</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading6_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse6_1" aria-expanded="true" aria-controls="collapse6_1">
Click to view the solution.
</button>
</h2>
<div id="collapse6_1" class="accordion-collapse collapse"
aria-labelledby="heading6_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> <span class="math inline">\frac{0.14}{0.36}=\frac{7}{18}</span></p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 53%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-6.2">Problem 6.2</h3>
<p><strong>True or False</strong>: Selecting a shipping container from
Vietnam and selecting a shipping container from Ireland are independent
events.</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> True</p></li>
<li><p><input type="radio" disabled="" /> False</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading6_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse6_2" aria-expanded="true" aria-controls="collapse6_2">
Click to view the solution.
</button>
</h2>
<div id="collapse6_2" class="accordion-collapse collapse"
aria-labelledby="heading6_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> False</p>
<p>If two events A and B are independent then P(A and B) = P(A)P(B). In
this question we can define A as “selecting a shipping container from
Vietnam” and B as “selecting a shipping container from Ireland”.
Therefore (A and B) would be “selecting a (single) shipping container
from both Vietnam and Ireland”. Since that is impossible, P(A and B) = 0
while P(A)P(B) = 0.012. Therefore these two events are
<strong>not</strong> independent.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 32%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-6.3">Problem 6.3</h3>
<p>Suppose you randomly select <strong>two</strong> shipping containers,
with replacement. What is the probability that exactly one comes from
Germany and the other comes from somewhere in North America?</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading6_3">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse6_3" aria-expanded="true" aria-controls="collapse6_3">
Click to view the solution.
</button>
</h2>
<div id="collapse6_3" class="accordion-collapse collapse"
aria-labelledby="heading6_3" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> <span class="math inline">0.03</span></p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 46%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-6.4">Problem 6.4</h3>
<p>Suppose you randomly select <strong>three</strong> shipping
containers, with replacement. What is the probability that none of them
comes from Asia?</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading6_4">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse6_4" aria-expanded="true" aria-controls="collapse6_4">
Click to view the solution.
</button>
</h2>
<div id="collapse6_4" class="accordion-collapse collapse"
aria-labelledby="heading6_4" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> <span class="math inline">0.59^{3}</span></p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 42%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="problem-7">Problem 7</h2>
<p>The announcement of the tariffs affected many products, one of which
was the Nintendo Switch 2, a new video game console. Due to the tariffs,
preorders of the Nintendo Switch 2 were put on hold so pricing could be
reconsidered. In this problem, we’ll imagine a scenario in which
Nintendo used this delay period to drum up excitement for their new
product.</p>
<p>Suppose Nintendo arranges a contest to give away <code>k</code> of
their new Switch 2 consoles. The contest is open to anyone and
<code>n</code> people participate, with <code>n &gt; k</code>. Everyone
has an equal chance of winning, and nobody can win more than once. Jason
and Ray both enter the contest, and they want to estimate the
probability that they <strong>both win</strong>.</p>
<p><br></p>
<h3 id="problem-7.1">Problem 7.1</h3>
<p>Fill in the blanks in the function <code>giveaway</code> so that it
returns an estimate of the probability that Jason and Ray both win a
Switch 2, when there are <code>n</code> participants and <code>k</code>
prizes.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>    <span class="dv">1</span> <span class="kw">def</span> giveaway(n, k):</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>    <span class="dv">2</span>     count <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>    <span class="dv">3</span>     <span class="cf">for</span> i <span class="kw">in</span> np.arange(<span class="dv">10000</span>):</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>    <span class="dv">4</span>         winners <span class="op">=</span> np.random.choice(___(a)___)</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>    <span class="dv">5</span>         <span class="cf">if</span> ___(b)___:</span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>    <span class="dv">6</span>             count <span class="op">=</span> count <span class="op">+</span> <span class="dv">1</span></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>    <span class="dv">7</span>     <span class="cf">return</span> ___(c)___</span></code></pre></div>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading7_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse7_1" aria-expanded="true" aria-controls="collapse7_1">
Click to view the solution.
</button>
</h2>
<div id="collapse7_1" class="accordion-collapse collapse"
aria-labelledby="heading7_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer (a):</strong>
<code>np.arange(n), k, replace=False</code></p>
<p>This makes sure that exactly k winners are chosen randomly from n
participants without replacement, since no person can win more than
once.</p>
<p><strong>Answer (b):</strong>
<code>0 in winners and 1 in winners</code> (can be any two numbers)</p>
<p>Assuming Jason and Ray are represented by IDs 0 and 1, this checks
whether both of them are in the list of winners for that trial. However,
because we never specify what number Jason and Ray are, you could use
any two numbers (ie: <code>1 in winners and 2 in winners</code>)</p>
<p><strong>Answer (c):</strong> <code>count/10000</code></p>
<p>This computes the estimated probability as the fraction of trials
where both Jason and Ray won out of 10,000 simulations.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 32%.</p>
</div>
</div>
</div>
</div>
<p><br> <br></p>
<h3 id="problem-7.2">Problem 7.2</h3>
<p>If you implement <code>giveaway</code> correctly, what should
<code>giveaway(100, 100)</code> evaluate to?</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading7_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse7_2" aria-expanded="true" aria-controls="collapse7_2">
Click to view the solution.
</button>
</h2>
<div id="collapse7_2" class="accordion-collapse collapse"
aria-labelledby="heading7_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> <code>1.0</code></p>
<p>Since k is equal to n, everyone wins by default, meaning Jason and
Ray will always be among the winners.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 55%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-7.3">Problem 7.3</h3>
<p>Suppose you modify the <code>giveaway</code> function as follows:</p>
<ul>
<li><p>Change line 2 to <code>results = np.array([])</code>.</p></li>
<li><p>Change line 6 to
<code>results = np.append(results, "WIN!")</code>.</p></li>
<li><p>Leave lines 1, 3, 4, and 5 unchanged, including your code in
blanks <code>(a)</code> and <code>(b)</code>.</p></li>
</ul>
<p>Which of the following could be used to fill in blank
<code>(c)</code>? Select all that apply.</p>
<ul class="task-list">
<li><p><input type="checkbox" disabled="" /> <code>len(results)/10000</code></p></li>
<li><p><input type="checkbox" disabled="" /> <code>(results == "WIN!").sum()</code></p></li>
<li><p><input type="checkbox" disabled="" /> <code>(results == "WIN!").mean()</code></p></li>
<li><p><input type="checkbox" disabled="" /> <code>np.count_nonzero(results)</code></p></li>
<li><p><input type="checkbox" disabled="" /> <code>np.random.choice(results)</code></p></li>
<li><p><input type="checkbox" disabled="" /> None of the above.</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading7_3">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse7_3" aria-expanded="true" aria-controls="collapse7_3">
Click to view the solution.
</button>
</h2>
<div id="collapse7_3" class="accordion-collapse collapse"
aria-labelledby="heading7_3" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> <code>len(results)/10000</code> and
<code>(results == "WIN!").mean()</code></p>
<ul>
<li><p><code>len(results)/10000</code> calculates the proportion of
trials that resulted in “WIN!”, which gives the probability.</p></li>
<li><p><code>(results == "WIN!").mean()</code> works too because
<code>(results == "WIN!")</code> gives a boolean array of True/False,
and .mean() calculates the proportion of True values, which again gives
the estimated probability.</p></li>
<li><p><code>(results == "WIN!").sum()</code>: This counts the number of
“WIN!” results but does not divide by 10000, so it gives a raw count,
not a probability.</p></li>
<li><p><code>np.count_nonzero(results)</code>: This counts all non empty
entries, but since results contains only “WIN!” strings, this is just
len(results) and is equivalent to the raw count of wins, not the
probability.</p></li>
<li><p><code>np.random.choice(results)</code>: This randomly picks an
element from results. It is unrelated to calculating a probability and
makes no sense in this context.</p></li>
</ul>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 55%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="section"><span class="math display"> </span></h2>
<h4
id="feedback-find-an-error-still-confused-have-a-suggestion-let-us-know-here.">👋
Feedback: Find an error? Still confused? Have a suggestion?
<a href="https://forms.gle/WZ71FchnXU1K154d7">Let us know
here</u></a>.</h4>
<hr />
</body>
</html>
