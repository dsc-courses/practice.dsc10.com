<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>Fall 2024 Final Exam</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
  </style>
  <link rel="stylesheet" href="..\assets\theme.css" />
  <script defer=""
  src="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.js"></script>
  <script>document.addEventListener("DOMContentLoaded", function () {
 var mathElements = document.getElementsByClassName("math");
 var macros = [];
 for (var i = 0; i < mathElements.length; i++) {
  var texText = mathElements[i].firstChild;
  if (mathElements[i].tagName == "SPAN") {
   katex.render(texText.data, mathElements[i], {
    displayMode: mathElements[i].classList.contains('display'),
    throwOnError: false,
    macros: macros,
    fleqn: false
   });
}}});
  </script>
  <link rel="stylesheet"
  href="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.css" />
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<header id="title-block-header">
<h1 class="title">Fall 2024 Final Exam</h1>
</header>
<p><link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
<!-- add after bootstrap.min.css -->
<link rel="stylesheet" href="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.css"/>
<!-- add after bootstrap.min.js or bootstrap.bundle.min.js -->
<script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script></p>
<!-- for difficulty gauges-->
<script src="https://cdn.plot.ly/plotly-2.16.1.min.js"></script>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-B947E6J6H4"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-B947E6J6H4');
</script>
<p><a href="../index.html">← return to practice.dsc10.com</a></p>
<hr />
<p><strong>Instructor(s):</strong> Janine Tiefenbruck</p>
<p>This exam was administered in-person. The exam was closed-notes,
except students were allowed to bring one sheet of handwritten notes. No
calculators were allowed. Students had <strong>3 hours</strong> to take
this exam. In Winter 2025, we’ll review this exam during Lecture 26 on
Wednesday, March 12th. Try to do as much of the exam as you can before
then. Here is a <a href="../pdfs/final_fa24.pdf">PDF copy of the
exam</a>, exactly as it was provided to students.</p>
<hr />
<p>Bill has opened a bookstore, called Bill’s Book Bonanza. In the
DataFrame <code>bookstore</code>, each row corresponds to a unique book
available at this bookstore. The index is <code>"ISBN"</code>
(<code>int</code>), which is a unique identifier for books. The columns
are:</p>
<ul>
<li><code>"title"</code> (<code>str</code>): The title of the book.</li>
<li><code>"author"</code> (<code>str</code>): The author of the
book.</li>
<li><code>"genre"</code> (<code>str</code>): The primary genre of the
book.</li>
<li><code>"pages"</code> (<code>int</code>): The number of pages in the
book.</li>
<li><code>"rating"</code> (<code>float</code>): The rating of the book,
out of 5 stars. This data comes from Goodreads, a book review
website.</li>
</ul>
<p>The first three rows are shown below, though <code>bookstore</code>
has many more rows than pictured.</p>
<center><img src='../assets/images/fa24-final/short_books.jpg' width=800></center>
<p>Additionally, we are given a dataset of <code>sales</code>, which
lists all the book purchases made from Bill’s Book Bonanza since it
opened. The columns of <code>sales</code> are:</p>
<ul>
<li><code>"ISBN"</code> (<code>str</code>): The unique identifier for
the book.</li>
<li><code>"price"</code> (<code>float</code>): The price of the book at
Bill’s Book Bonanza.</li>
<li><code>"cash"</code> (<code>bool</code>): <code>True</code> if the
purchase was made in cash and <code>False</code> if not.</li>
<li><code>"date"</code> (<code>str</code>): The date the book purchase
was made, using the format
<code>"Day of the Week, Month Day, Year"</code>. See below for
examples.</li>
</ul>
<p>The first three rows of <code>sales</code> are shown below, though
<code>sales</code> has many more rows than this.</p>
<center><img src='../assets/images/fa24-final/short_sales.jpg' width=700></center>
<p>Throughout this exam, we will refer to <code>bookstore</code> and
<code>sales</code> repeatedly.</p>
<p>Assume that we have already run
<code>import babypandas as bpd</code>, <code>import numpy as np</code>,
and <code>import scipy</code>.</p>
<hr />
<h2 id="problem-1">Problem 1</h2>
<p><br></p>
<h3 id="problem-1.1">Problem 1.1</h3>
<p>Notice that <code>bookstore</code> has an index of
<code>"ISBN"</code> and <code>sales</code> does not. Why is that?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> There is no good reason. We could have set the index of
<code>sales</code> to <code>"ISBN"</code>.</p></li>
<li><p><input type="radio" disabled="" /> There can be two different books with the same
<code>"ISBN"</code>.</p></li>
<li><p><input type="radio" disabled="" /> <code>"ISBN"</code> is already being used as the index of
<code>bookstore</code>, so it shouldn’t also be used as the index of
<code>sales</code>.</p></li>
<li><p><input type="radio" disabled="" /> The bookstore can sell multiple copies of the same book.</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading1_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse1_1" aria-expanded="true" aria-controls="collapse1_1">
Click to view the solution.
</button>
</h2>
<div id="collapse1_1" class="accordion-collapse collapse collapse"
aria-labelledby="heading1_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> The bookstore can sell multiple copies of
the same book.</p>
<p>In the <code>sales</code> DataFrame, each row represents an
individual sale, meaning multiple rows can have the same
<code>"ISBN"</code> if multiple copies of the same book are sold.
Therefore we can’t use it as the index because it is not a unique
identifier for rows of <code>sales</code>.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 87%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-1.2">Problem 1.2</h3>
<p>Is <code>"ISBN"</code> a numerical or categorical variable?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> numerical</p></li>
<li><p><input type="radio" disabled="" /> categorical</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading1_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse1_2" aria-expanded="true" aria-controls="collapse1_2">
Click to view the solution.
</button>
</h2>
<div id="collapse1_2" class="accordion-collapse collapse collapse"
aria-labelledby="heading1_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> categorical</p>
<p>Even though <code>"ISBN"</code> consists of numbers, it is used to
identify and categorize books rather than to quantify or measure
anything, thus it is categorical. It doesn’t make sense to compare ISBN
numbers like you would compare numbers on a number line, or to do
arithmetic with ISBN numbers.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 75%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-1.3">Problem 1.3</h3>
<p>Which type of data visualization should be used to compare authors by
median rating?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> scatter plot</p></li>
<li><p><input type="radio" disabled="" /> line plot</p></li>
<li><p><input type="radio" disabled="" /> bar chart</p></li>
<li><p><input type="radio" disabled="" /> histogram</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading1_3">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse1_3" aria-expanded="true" aria-controls="collapse1_3">
Click to view the solution.
</button>
</h2>
<div id="collapse1_3" class="accordion-collapse collapse collapse"
aria-labelledby="heading1_3" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> bar chart</p>
<p>A bar chart is best, as it visualizes numerical values (median
ratings) across discrete categories (authors).</p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 88%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="problem-2">Problem 2</h2>
<p>ISBN numbers for books must follow a very particular format. The
first 12 digits encode a lot of information about a book, including the
publisher, edition, and physical properties like page count. The 13th
and final digit, however, is computed directly from the first 12 digits
and is used to verify that a given ISBN number is valid.</p>
<p>In this question, we will define a function to compute the final
digit of an ISBN number, given the first 12. First, we need to
understand how the last digit is determined. To find the last digit of
an ISBN number:</p>
<ol type="1">
<li><p>Multiply the first digit by 1, the second digit by 3, the third
digit by 1, the fourth digit by 3, and so on, alternating 1s and
3s.</p></li>
<li><p>Add up these products.</p></li>
<li><p>Find the ones digit of this sum.</p></li>
<li><p>If the ones digit of the sum is zero, the final digit of the ISBN
is zero. Otherwise, the final digit of the ISBN is ten minus the ones
digit of the sum.</p></li>
</ol>
<p>For example, suppose we have an ISBN number whose first 12 digits are
<span class="math inline">978186197271</span>. Then the last digit would
be calculated as follows: <span class="math display">9\cdot 1 + 7\cdot 3
+ 8\cdot 1 + 1\cdot 3 + 8\cdot 1 + 6\cdot 3 + 1\cdot 1 + 9\cdot 3 +
7\cdot 1 + 2\cdot 3 + 7\cdot 1 + 1\cdot 3 = 118</span> The ones digit is
<span class="math inline">8</span> so the final digit is <span
class="math inline">2</span>.</p>
<p>Fill in the blanks in the function <code>calculate_last_digit</code>
below. This function takes as input a <strong>string</strong>
representing the first 12 digits of the ISBN number, and should return
the final digit of the ISBN number, as an <code>int</code>. For example,
<code>calculate_last_digit("978186197271")</code> should evaluate to
<code>2</code>.</p>
<pre><code>def calculate_last_digit(partial_isbn_string):
    total = 0
    for i in __(a)__:
        digit = int(partial_isbn_string[i])
        if __(b)__:
            total = total + digit
        else:
            total = total + 3 * digit
    ones_digit = __(c)__
    if __(d)__:
        return 10 - ones_digit
    return 0</code></pre>
<p><strong>Note</strong>: this procedure may seem complicated, but it is
actually how the last digit of an ISBN number is generated in real
life!</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse2" aria-expanded="true" aria-controls="collapse2">
Click to view the solution.
</button>
</h2>
<div id="collapse2" class="accordion-collapse collapse collapse"
aria-labelledby="heading2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<ol type="a">
<li><code>np.arange(12) or np.arange(len(partial_isbn_string))</code></li>
</ol>
<p>We need to loop through all of the digits in the partial string we
are given.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 62%.</p>
<ol start="2" type="a">
<li><code>i % 2 == 0 or i in [0, 2, 4, 6, 8, 10]</code></li>
</ol>
<p>If we are at an even position, we want to add the digit itself (or
the digit times 1). We can check if we are at an even positon by
checking the remainder upon division by 2, which is 0 for all even
numbers and 1 for all odd numbers.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 41%.</p>
<ol start="3" type="a">
<li><code>total % 10 or int(str(total)[-1])</code></li>
</ol>
<p>We need the ones digit of the total to determine what to return. We
can treat <code>total</code> as an integer and get the ones digit by
finding the remainder upon division by 10, or we can convert
<code>total</code> to a string, extract the last character with
<code>[-1]</code>, and then convert back to an <code>int</code>.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 44%.</p>
<ol start="4" type="a">
<li><code>ones_digit != 0</code></li>
</ol>
<p>In most cases, we subtract the ones digit from 10 and return that. If
the ones digit is 0, we just return 0.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 87%.</p>
</div>
</div>
</div>
</div>
<hr />
<h2 id="problem-3">Problem 3</h2>
<p>At the beginning of 2025, avid reader Michelle will join the Blind
Date with a Book program sponsored by Bill’s Book Bonanza. Once a month
from January through December, Michelle will receive a surprise book in
the mail from the bookstore. So she’ll get 12 books throughout the
year.</p>
<p>Each book is randomly chosen among those available at the bookstore
(or equivalently, from among those in the <code>bookstore</code>
DataFrame). Each book is equally likely to be chosen each month, and
each month’s book is chosen independently of all others, so repeats can
occur.</p>
<p>Let <span class="math inline">p</span> be the proportion of books in
<code>bookstore</code> from the romance genre (<span
class="math inline">0 \leq p \leq 1</span>).</p>
<p><br></p>
<h3 id="problem-3.1">Problem 3.1</h3>
<p>What is the probability that the books Michelle receives in February
and December are romance, while the books she receives all other months
are non-romance? Your answer should be an unsimplified expression in
terms of <span class="math inline">p</span>.</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading3_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse3_1" aria-expanded="true" aria-controls="collapse3_1">
Click to view the solution.
</button>
</h2>
<div id="collapse3_1" class="accordion-collapse collapse collapse"
aria-labelledby="heading3_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> <span class="math inline">(1 - p)^{10} *
p^2</span></p>
<p>The probability of February and December being romance is <span class="math inline">p</span> for each of those two months, and the
probability of any one of the other months being non-romance is <span class="math inline">1-p</span>. We multiply all twelve of these
probabilities since the months are independent, and the result is <span class="math inline">p^2(1−p)^{10}</span>.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 57%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-3.2">Problem 3.2</h3>
<p>What is the probability that at least one of the books Michelle
receives in the last four months of the year is romance? Your answer
should be an unsimplified expression in terms of <span
class="math inline">p</span>.</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading3_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse3_2" aria-expanded="true" aria-controls="collapse3_2">
Click to view the solution.
</button>
</h2>
<div id="collapse3_2" class="accordion-collapse collapse collapse"
aria-labelledby="heading3_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> <span class="math inline">1 - (1 -
p)^4</span></p>
<p>To solve this, we calculate the probability that none of the last
four months contains romance, which is <span class="math inline">(1−p)^4</span>. Taking the complement gives us the
probability that at least one of the last four months is romance: <span class="math inline">1−(1−p)^4</span>. The two possible situations are:
no romance and at least one romance, so together they must add up to
one, which is why we can use the complement.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 51%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-3.3">Problem 3.3</h3>
<p>It is likely Michelle will receive at least one romance book and at
least one non-romance book throughout the 12 months of the year. What is
the probability that this does not happen? Your answer should be an
unsimplified expression in terms of <span
class="math inline">p</span>.</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading3_3">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse3_3" aria-expanded="true" aria-controls="collapse3_3">
Click to view the solution.
</button>
</h2>
<div id="collapse3_3" class="accordion-collapse collapse collapse"
aria-labelledby="heading3_3" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> <span class="math inline">p^{12} + (1 -
p)^{12}</span></p>
<p>In this case, there are only two scenarios to consider: either all 12
books are non-romance, which gives <span class="math inline">(1−p)^{12}</span>, or all 12 books are romance,
which gives <span class="math inline">p^{12}</span>. Adding these
together gives <span class="math inline">p^{12}+(1−p)^{12}</span>.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 29%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-3.4">Problem 3.4</h3>
<p>Let <span class="math inline">n</span> be the total number of rows in
<code>bookstore</code>. What is the probability that Michelle does not
receive any duplicate books in the first four months of the year? Your
answer should be an unsimplified expression in terms of <span
class="math inline">n</span>.</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading3_4">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse3_4" aria-expanded="true" aria-controls="collapse3_4">
Click to view the solution.
</button>
</h2>
<div id="collapse3_4" class="accordion-collapse collapse collapse"
aria-labelledby="heading3_4" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> <span class="math inline">\frac{(n - 1)}{n}
* \frac{(n - 2)}{n} * \frac{(n - 3)}{n}</span></p>
<p>For there to be no duplicate books in the first four months, each
subsequent book must be different from the previous ones. After
selecting the first book (which will always be undiplicated), the second
book has <span class="math inline">\frac{(n - 1)}{n}</span> probability
of being unique, the third <span class="math inline">\frac{(n -
2)}{n}</span>, and the fourth <span class="math inline">\frac{(n -
3)}{n}</span>. If you like, you can think of the probability of the
first book being unique as <span class="math inline">\frac{n}{n}</span>
and include it in your answer.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 31%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<p>Now, consider the following lines of code which define variables
<code>i</code>, <code>j</code>, and <code>k</code>.</p>
<pre><code>    def foo(x, y):
        if x == &quot;rating&quot;:
            z = bookstore[bookstore.get(x) &gt; y]
        elif x == &quot;genre&quot;:
            z = bookstore[bookstore.get(x) == y]
        return z.shape[0]

    i = foo(&quot;rating&quot;, 3)
    j = foo(&quot;rating&quot;, 4)
    k = foo(&quot;genre&quot;, &quot;Romance&quot;)</code></pre>
<p>For both questions that follow, your answer should be an unsimplified
expression in terms of <code>i</code>, <code>j</code>, <code>k</code>
only. If you do not have enough information to determine the answer,
leave the answer box blank and instead fill in the bubble that says “Not
enough information”.</p>
<p><br></p>
<h3 id="problem-3.5">Problem 3.5</h3>
<p>If we know in advance that Michelle’s January book will have a rating
greater than 3, what is the probability that the book’s rating is
greater than 4?</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading3_5">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse3_5" aria-expanded="true" aria-controls="collapse3_5">
Click to view the solution.
</button>
</h2>
<div id="collapse3_5" class="accordion-collapse collapse collapse"
aria-labelledby="heading3_5" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> <code>i/j</code></p>
<p>Looking at the code, we can see that , and <code>j</code> represents
the number of books with a rating greater than 4. Given that we already
know Michelle’s book have a rating higher than 3, the denominator,
representing the possible books, should be <code>j</code>. The numerator
represents the books that meet our desired condition of having a rating
greater than 4, which is <code>i</code>. Therefore, the result is
<code>i/j</code>.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 53%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-3.6">Problem 3.6</h3>
<p>If we know in advance that Michelle’s January book will have a rating
greater than 3, what is the probability that the book’s genre is
romance?</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading3_6">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse3_6" aria-expanded="true" aria-controls="collapse3_6">
Click to view the solution.
</button>
</h2>
<div id="collapse3_6" class="accordion-collapse collapse collapse"
aria-labelledby="heading3_6" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p>Although <code>i</code> represents the total number of books with a
rating greater than 3 and <code>k</code> represents the number of
romance books, there is no information about how many romance books have
a rating greater than 3. Thus we cannot find the answer without
additional information.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 71%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="problem-4">Problem 4</h2>
<p>Matilda has been working at Bill’s Book Bonanza since it first opened
and her shifts for each week are always randomly scheduled (i.e., she
does not work the same shifts each week). Due to the system restrictions
at the bookstore, when Matilda logs in with her employee ID, she only
has access to the history of sales made during her shifts. Suppose these
transactions are stored in a DataFrame called <code>matilda</code>,
which has the same columns as the <code>sales</code> DataFrame that
stores all transactions.</p>
<p>Matilda wants to use her random sample to estimate <strong>the mean
price of books purchased with cash</strong> at Bill’s Book Bonanza. For
the purposes of this question, assume Matilda only has access to
<code>matilda</code>, and not all of <code>sales</code>.</p>
<p><br></p>
<h3 id="problem-4.1">Problem 4.1</h3>
<p>Complete the code below so that <code>cash_left</code> and
<code>cash_right</code> store the endpoints of an <span
class="math inline">86\%</span> bootstrapped confidence interval for the
mean price of books purchased with cash at Bill’s Book Bonanza.</p>
<pre><code>    cash_means = np.array([])
    original = __(a)__
    for i in np.arange(10000):
        resample = original.sample(__(b)__)
        cash_means = np.append(cash_means, __(c)__)

    cash_left = __(d)__
    cash_right = __(e)__</code></pre>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading4_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse4_1" aria-expanded="true" aria-controls="collapse4_1">
Click to view the solution.
</button>
</h2>
<div id="collapse4_1" class="accordion-collapse collapse collapse"
aria-labelledby="heading4_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<ol type="a">
<li><code>matilda[matilda.get("cash")]</code></li>
</ol>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 65%.</p>
<ol start="2" type="a">
<li><code>original.shape[0], replace = True</code></li>
</ol>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 79%.</p>
<ol start="3" type="a">
<li><code>resample.get("price").mean()</code></li>
</ol>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 71%.</p>
<ol start="4" type="a">
<li><code>np.percentile(cash_means, 7)</code></li>
</ol>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 84%.</p>
<ol start="5" type="a">
<li><code>np.percentile(cash_means, 93)</code></li>
</ol>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 84%.</p>
<p>We first filter the <code>matilda</code> DataFrame to only include
rows where the payment method was cash. Then, we repeatedly resample
from this filtered data with replacement, using the same sample size as
the original DataFrame.</p>
<p>Since our goal is to construct an <span class="math inline">86%</span> confidence interval, we take the <span class="math inline">7^{th}</span> percentile as the left endpoint and
the <span class="math inline">93^{rd}</span> percentile as the right
endpoint. We can calculate this by doing <span class="math inline">100 -
86 - 14</span> so we want <span class="math inline">14\%</span> of the
area excluded from our interval, and we want to split that up evenly
with <span class="math inline">7\%</span> on each side.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-4.2">Problem 4.2</h3>
<p>Next, Matilda uses the data in <code>matilda</code> to construct a
<span class="math inline">95\%</span> CLT-based confidence interval for
the same parameter.</p>
<p>Given that there are 400 cash transactions in <code>matilda</code>
and her confidence interval comes out as <span
class="math inline">[19.58, 21.58]</span>, what is the standard
deviation of the prices of all cash transactions at Bill’s Book
Bonanza?</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading4_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse4_2" aria-expanded="true" aria-controls="collapse4_2">
Click to view the solution.
</button>
</h2>
<div id="collapse4_2" class="accordion-collapse collapse collapse"
aria-labelledby="heading4_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> 10</p>
<p>The width of the interval is <span class="math inline">21.58 - 19.58
= 2</span>. Using the formula for the width of a <span class="math inline">95\%</span> CLT-based confidence interval and
solving for the standard deviation gives the answer.</p>
<p><span class="math inline">Width = 4 *
\frac{SD}{\sqrt{400}}</span></p>
<p><span class="math inline">SD = 2 * \frac{\sqrt{400}}{4} =
10</span></p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 61%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-4.3">Problem 4.3</h3>
<p>Knowing the endpoints of Matilda’s 95% CLT-based confidence interval
can actually help us to determine the endpoints of her 86% bootstrapped
confidence interval. You may also need to know the following facts:</p>
<ul>
<li><p><code>stats.norm.cdf(1.1)</code> evaluates to
<code>0.86</code></p></li>
<li><p><code>stats.norm.cdf(1.5)</code> evaluates to
<code>0.93</code></p></li>
</ul>
<p>Estimate the value of <code>cash_left</code> to one decimal
place.</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading4_3">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse4_3" aria-expanded="true" aria-controls="collapse4_3">
Click to view the solution.
</button>
</h2>
<div id="collapse4_3" class="accordion-collapse collapse collapse"
aria-labelledby="heading4_3" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> 19.8</p>
<p>given that we know 1.5 creates a 93% CDF, this must mean when also
including the other bound of -1.5, it will create a 86% CI</p>
<p><span class="math inline">cash \_ left = middle - 1.5 *
\frac{SD}{\sqrt{n}}</span></p>
<p><span class="math inline">cash \_ left = middle - 1.5 *
\frac{10}{\sqrt{400}}</span></p>
<p><span class="math inline">cash \_ left = 20.58 - 0.75 =
19.8</span></p>
<center><img src="../assets/images/fa24-final/solution4_3.png" width="500"/></center>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 22%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-4.4">Problem 4.4</h3>
<p>Which of the following are valid conclusions? <strong>Select all that
apply.</strong></p>
<ul class="task-list">
<li><p><input type="checkbox" disabled="" /> Approximately 95% of the values in <code>cash_means</code> fall
within the interval <span class="math inline">[19.58, 21.58]</span>.</p></li>
<li><p><input type="checkbox" disabled="" /> Approximately 95% of books purchased with cash at Bill’s Book Bonanza
have a price that falls within the interval <span class="math inline">[19.58, 21.58]</span>.</p></li>
<li><p><input type="checkbox" disabled="" /> The actual mean price of books purchased with cash at Bill’s Book
Bonanza has a 95% chance of falling within the interval <span class="math inline">[19.58, 21.58]</span>.</p></li>
<li><p><input type="checkbox" disabled="" /> None of the above.</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading4_4">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse4_4" aria-expanded="true" aria-controls="collapse4_4">
Click to view the solution.
</button>
</h2>
<div id="collapse4_4" class="accordion-collapse collapse collapse"
aria-labelledby="heading4_4" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> Approximately 95% of the values in
<code>cash_means</code> fall within the interval <span class="math inline">[19.58, 21.58]</span>.</p>
<p>Choice 1 is correct because the interval is calculated from the
distribution of resampled means, and was designed to capture <span class="math inline">95%</span> of the values in
<code>cash_means</code>.</p>
<p>Choice 2 is incorrect because the interval estimates the mean price,
not individual book prices.</p>
<p>Choice 3 is incorrect because confidence intervals are about the
reliability of the method: if we repeated the whole bootstrapping
process many times, about <span class="math inline">95%</span> of the
intervals would contain the true mean. It does not indicate the
probability of the true mean being within this specific interval because
this interval is fixed and the true mean is also fixed.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 63%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-4.5">Problem 4.5</h3>
<p>Matilda has been wondering whether the mean price of books purchased
with cash at Bill’s Book Bonanza is <span
class="math inline">\$20</span>. What can she conclude about this?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> The mean price of books purchased with cash at Bill’s Book Bonanza is
$20.</p></li>
<li><p><input type="radio" disabled="" /> The mean price of books purchased with cash at Bill’s Book Bonanza
could plausibly be $20.</p></li>
<li><p><input type="radio" disabled="" /> The mean price of books purchased with cash at Bill’s Book Bonanza is
not $20.</p></li>
<li><p><input type="radio" disabled="" /> The mean price of books purchased with cash at Bill’s Book Bonanza is
most likely not $20.</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading4_5">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse4_5" aria-expanded="true" aria-controls="collapse4_5">
Click to view the solution.
</button>
</h2>
<div id="collapse4_5" class="accordion-collapse collapse collapse"
aria-labelledby="heading4_5" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> The mean price of books purchased with cash
at Bill’s Book Bonanza could plausibly be $20.</p>
<p>Since $20 is within the confidence interval (CI), it is plausible,
but never guaranteed. This question is referring to a hypothesis test
where we test whether parameter (in this case, the mean price of books
purchased with cash) is equal to a specific value ($20). The hypothesis
test can be conducted by constructing a confidence interval for the
parameter and checking whether the specific value falls in the
interval.</p>
<hr/>
<h5>Difficulty: ⭐️</h5>
<p>
</p>
<p>The average score on this problem was 90%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="problem-5">Problem 5</h2>
<p>Aathi is a movie enthusiast looking to dive into book-reading. He
visits Bill’s Book Bonanza and asks for help from the employee on duty,
Matilda.</p>
<p>Matilda has access to the <code>matilda</code> DataFrame of
transactions from her shifts, as well as the <code>bookstore</code>
DataFrame of all books available in the store. She decides to advise
Aathi based on the ratings of books that are popular enough to have been
purchased during her shifts. Unfortunately, <code>matilda</code> does
not contain information about the rating or genre of the books sold. To
fix this, she merges the two DataFrames and keeps only the columns that
she’ll need.</p>
<p><br></p>
<h3 id="problem-5.1">Problem 5.1</h3>
<p>Fill in the blanks in the code below so that the resulting
<code>merged</code> DataFrame has one row for each book in
<code>matilda</code>, and columns representing the genre and rating of
each such book.</p>
<pre><code>merged = (matilda.merge(bookstore, __(a)__, __(b)__)
                 .get([&quot;genre&quot;, &quot;rating&quot;]))</code></pre>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading5_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse5_1" aria-expanded="true" aria-controls="collapse5_1">
Click to view the solution.
</button>
</h2>
<div id="collapse5_1" class="accordion-collapse collapse collapse"
aria-labelledby="heading5_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<ol type="a">
<li><p><code>left_on = "ISBN"</code></p></li>
<li><p><code>right_index = True</code></p></li>
</ol>
<p>Since each <code>"ISBN"</code> uniquely identifies a book, we can
merge on that. We use <code>right_index=True</code> because
<code>"ISBN"</code> is the index in <code>bookstore</code>, not a
column. We need to match it with the <code>"ISBN"</code> column in
<code>matilda</code>.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 60%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-5.2">Problem 5.2</h3>
<p>In this example, <code>matilda</code> and <code>merged</code> have
the same number of rows. Why is this the case? Choose the answer which
is sufficient alone to guarantee the same number of rows.</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> Because every book in <code>bookstore</code> appears exactly once in
<code>matilda</code>.</p></li>
<li><p><input type="radio" disabled="" /> Because every book in <code>matilda</code> appears exactly once in
<code>bookstore</code>.</p></li>
<li><p><input type="radio" disabled="" /> Because <code>matilda</code> has no duplicate rows.</p></li>
<li><p><input type="radio" disabled="" /> Because <code>bookstore</code> has no duplicate rows.</p></li>
<li><p><input type="radio" disabled="" /> Because the books in <code>matilda</code> are a subset of the books
in <code>bookstore</code>.</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading5_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse5_2" aria-expanded="true" aria-controls="collapse5_2">
Click to view the solution.
</button>
</h2>
<div id="collapse5_2" class="accordion-collapse collapse collapse"
aria-labelledby="heading5_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> Because every book in <code>matilda</code>
appears exactly once in <code>bookstore</code>.</p>
<p>When merging two DataFrames, the resulting DataFrame will have the
same number of rows as the original <code>matilda</code> DataFrame if
and only if the column being merged (“ISBN” in this case) is unique in
<code>matilda</code> and has exactly one corresponding match in
<code>bookstore</code>. This means that every book listed in
<code>matilda</code> must appear exactly once in <code>bookstore</code>
with no duplicates or missing entries.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 53%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<p>Matilda uses some <code>babypandas</code> operations on the
<code>merged</code> DataFrame to create the DataFrame pictured below,
which she calls <code>top_two</code>.</p>
<center><img src='../assets/images/fa24-final/fm_A.jpg' width=200></center>
<p>This DataFrame shows the two genres in <code>merged</code> with the
highest mean rating. Note that the <code>"rating"</code> column in
<code>top_two</code> represents a mean rating across many books of the
same genre, not the rating of any individual book.</p>
<p><br></p>
<h3 id="problem-5.3">Problem 5.3</h3>
<p>Write one line of code to define the DataFrame <code>top_two</code>
as described above. It’s okay if you need to write your answer on
multiple lines, as long as it represents one line of code.</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading5_3">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse5_3" aria-expanded="true" aria-controls="collapse5_3">
Click to view the solution.
</button>
</h2>
<div id="collapse5_3" class="accordion-collapse collapse collapse"
aria-labelledby="heading5_3" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong>
<code>top_two = merged.groupby("genre").mean().sort_values(by="rating", ascending=False).drop(columns="pages").take([0, 1])</code></p>
<p>We first groupby the <code>merged</code> DataFrame by
<code>"genre"</code> and calculates the mean rating for each genre. Then
we sort these genres by their average rating in descending order so the
higest rated are at the top. Then, <code>"pages"</code> is dropped since
it’s not needed in our output. Finally, we select the top two genres
with the highest average ratings using <code>.take([0, 1])</code>, which
keeps only the first two rows.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 67%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<p>Based on the data in <code>top_two</code>, Matilda recommends that
Aathi purchase a fantasy book. However, Aathi is skeptical because he
recognizes that the data in <code>merged</code> is only a sample from
the larger population of all transactions at Bill’s Book Bonanza. Before
he makes his purchase, he decides to do a permutation test to determine
whether fantasy books have higher ratings than mystery books in this
larger population.</p>
<p><br></p>
<h3 id="problem-5.4">Problem 5.4</h3>
<p>Select the best statement of the null hypothesis for this permutation
test.</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> Among all books sold at Bill’s Book Bonanza, fantasy books have a
higher rating than mystery books, on average.</p></li>
<li><p><input type="radio" disabled="" /> Among all books sold at Bill’s Book Bonanza, fantasy books do not
have a higher rating than mystery books, on average.</p></li>
<li><p><input type="radio" disabled="" /> Among all books sold at Bill’s Book Bonanza, fantasy books have the
same rating as mystery books, on average.</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading5_4">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse5_4" aria-expanded="true" aria-controls="collapse5_4">
Click to view the solution.
</button>
</h2>
<div id="collapse5_4" class="accordion-collapse collapse collapse"
aria-labelledby="heading5_4" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> Among all books sold at Bill’s Book Bonanza,
fantasy books have the same rating as mystery books, on average.</p>
<p>The null hypothesis for a permutation test assumes that there is no
difference in the population means, implying that fantasy and mystery
books have the same average ratings.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 62%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-5.5">Problem 5.5</h3>
<p>Select the best statement of the alternative hypothesis for this
permutation test.</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> Among all books sold at Bill’s Book Bonanza, fantasy books have a
higher rating than mystery books, on average.</p></li>
<li><p><input type="radio" disabled="" /> Among all books sold at Bill’s Book Bonanza, fantasy books do not
have a higher rating than mystery books, on average.</p></li>
<li><p><input type="radio" disabled="" /> Among all books sold at Bill’s Book Bonanza, fantasy books have the
same rating as mystery books, on average.</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading5_5">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse5_5" aria-expanded="true" aria-controls="collapse5_5">
Click to view the solution.
</button>
</h2>
<div id="collapse5_5" class="accordion-collapse collapse collapse"
aria-labelledby="heading5_5" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> Among all books sold at Bill’s Book Bonanza,
fantasy books have a higher rating than mystery books, on average.</p>
<p>The alternative hypothesis is that that fantasy books have higher
ratings than mystery books, representing the claim being tested against
the null hypothesis.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 69%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-5.6">Problem 5.6</h3>
<p>Aathi decides to use the mean rating for mystery books minus the mean
rating for fantasy books as his test statistic. What is his observed
value of this statistic?</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading5_6">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse5_6" aria-expanded="true" aria-controls="collapse5_6">
Click to view the solution.
</button>
</h2>
<div id="collapse5_6" class="accordion-collapse collapse collapse"
aria-labelledby="heading5_6" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> -0.12</p>
<p>This comes from <span class="math inline">4.53 - 4.65 =
-0.12</span>.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 80%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-5.7">Problem 5.7</h3>
<p>Which of the following best describes how Aathi will interpret the
results of his permutation test?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> High values of the observed statistic will make him lean towards the
alternative hypothesis.</p></li>
<li><p><input type="radio" disabled="" /> Low values of the observed statistic will make him lean towards the
alternative hypothesis.</p></li>
<li><p><input type="radio" disabled="" /> Both high and low values of the observed statistic will make him lean
towards the alternative hypothesis.</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading5_7">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse5_7" aria-expanded="true" aria-controls="collapse5_7">
Click to view the solution.
</button>
</h2>
<div id="collapse5_7" class="accordion-collapse collapse collapse"
aria-labelledby="heading5_7" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> Low values of the observed statistic will
make him lean towards the alternative hypothesis.</p>
<p>Since we are subtracting in the order mystery rating minus fantasy
rating, a low observed statistic would indicate that fantasy books have
significantly higher ratings than mystery books, thus causing us to
reject the null in favor of the alternative.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 66%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-5.8">Problem 5.8</h3>
<p>Fill in the blanks in the following code to perform Aathi’s
permutation test.</p>
<pre><code>just_two = merged[(merged.get(&quot;genre&quot;) == &quot;Fantasy&quot;) |
                  (merged.get(&quot;genre&quot;) == &quot;Mystery&quot;)]

rating_stats = np.array([])
for i in np.arange(10000):
    shuffled = just_two.assign(shuffled = __(a)__)
    grouped = shuffled.groupby(&quot;genre&quot;).mean().get(&quot;shuffled&quot;)
    mystery_mean = grouped.iloc[__(b)__]
    fantasy_mean = grouped.iloc[__(c)__]
    rating_stats = np.append(rating_stats, mystery_mean - fantasy_mean)</code></pre>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading5_8">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse5_8" aria-expanded="true" aria-controls="collapse5_8">
Click to view the solution.
</button>
</h2>
<div id="collapse5_8" class="accordion-collapse collapse collapse"
aria-labelledby="heading5_8" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<ol type="a">
<li><code>np.random.permutation(just_two.get("rating"))</code></li>
</ol>
<p>We have to permute the <code>"rating"</code> column because of the
code provided on the next line, which groups by genre.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 75%.</p>
<ol start="2" type="a">
<li><code>1</code></li>
</ol>
<p>It’s important for this question to know that
<code>.groupby("genre") sorts genres alphabetically. In this case, the genre</code>“Fantasy”<code>is before</code>“Mystery”<code>alphabetically,</code>“Mystery”<code>corresponds to the second row (</code>iloc[1]`).
</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>The average score on this problem was
57%.</p>
<ol start="3" type="a">
<li><code>0</code> <hr/><h5>Difficulty: ⭐️⭐️⭐️</h5><p>The average score
on this problem was 60%.</p></li>
</ol>
<p><code>"Fantasy"</code> is located in the first row, so we use
<code>iloc[0]</code>.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-5.9">Problem 5.9</h3>
<p>Aathi gets a <code>p_value</code> of <span
class="math inline">0.008</span>, and he will base his purchase on this
result, using the standard p-value cutoff of <span
class="math inline">0.05</span>. What will Aathi end up doing?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> Aathi fails to reject the null hypothesis and will purchase a fantasy
book.</p></li>
<li><p><input type="radio" disabled="" /> Aathi fails to reject the null hypothesis and will purchase a mystery
book.</p></li>
<li><p><input type="radio" disabled="" /> Aathi rejects the null hypothesis and will purchase a fantasy
book.</p></li>
<li><p><input type="radio" disabled="" /> Aathi rejects the null hypothesis and will purchase a mystery
book.</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading5_9">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse5_9" aria-expanded="true" aria-controls="collapse5_9">
Click to view the solution.
</button>
</h2>
<div id="collapse5_9" class="accordion-collapse collapse collapse"
aria-labelledby="heading5_9" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> Aathi rejects the null hypothesis and will
purchase a fantasy book.</p>
<p>The p-value is lower than our cutoff of <span class="math inline">0.05</span> so we reject the null hypothesis because
our observed data doesn’t look like the data we simulated under the
assumptions of the null hypothesis.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 68%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="problem-6">Problem 6</h2>
<p>Bill is curious about whether his bookstore is busier on weekends
(Saturday, Sunday) or weekdays (Monday, Tuesday, Wednesday, Thursday,
Friday). To help figure this out, he wants to define some helpful
one-line functions.</p>
<p>The function <code>find_day</code> should take in a given
<code>"date"</code> and return the associated day of the week. For
example, <code>find_day("Saturday, December 7, 2024")</code> should
evaluate to <code>"Saturday"</code>.</p>
<p>The function <code>is_weekend</code> should take in a given
<code>"date"</code> and return <code>True</code> if that date is on a
Saturday or Sunday, and <code>False</code> otherwise. For example,
<code>is_weekend("Saturday, December 7, 2024")</code> should evaluate to
<code>True</code>.</p>
<p><br></p>
<h3 id="problem-6.1">Problem 6.1</h3>
<p>Complete the implementation of both functions below.</p>
<pre><code>def find_day(date):
    return date.__(a)__

def weekend(date):
    return find_day(date)[__(b)__] == __(c)__</code></pre>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading6_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse6_1" aria-expanded="true" aria-controls="collapse6_1">
Click to view the solution.
</button>
</h2>
<div id="collapse6_1" class="accordion-collapse collapse collapse"
aria-labelledby="heading6_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p>(a). <strong>Answer</strong>: <code>split(",")[0]</code></p>
<p>The function <code>find_day</code> takes in a string that is a date
with the format “Day_of_week, Month Day, Year”, and we want the
Day_of_week part. <code>.split(",")</code> separates the given string by
“,” and gives us a list containing the separated substrings, which looks
something like <code>["Saturday", " December 7", " 2024"]</code>. We
want the first element in the list, so we use <code>[0]</code> to obtain
the item at the zero-th index position of the list.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 89%.</p>
<p>(b). <strong>Answer</strong>: <code>0</code></p>
<p>This blank follows a call of <code>find_day(date)</code>, which
returns a string that is a day of the week, such as
<code>"Saturday"</code>. The blank is inside a pair of <code>[]</code>,
hinting that we are performing string indexing to pull out a specific
character from the string. We want to determine whether the string is
<code>"Saturday"</code> or <code>"Sunday"</code>. The only thing in
common for these two days and is not common for the other five days of
the week is that the string starts with the letter “S”. Thus, we get the
character at the zero-th index using <code>[0]</code> in this blank.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 74%.</p>
<p>(c). <strong>Answer</strong>: <code>"S"</code></p>
<p>After getting the first character in the string, to check whether it
is the letter “S”, we use <code>==</code> to evaluate this character
against <code>"S"</code>. This expression will give us a boolean, either
<code>True</code> or <code>False</code>, which is then returned.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 50%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<p>Now, Bill runs the following line of code:</p>
<pre><code>sales_day = sales.assign(weekend = sales.get(&quot;date&quot;).apply(is_weekend))</code></pre>
<p><br></p>
<h3 id="problem-6.2">Problem 6.2</h3>
<p>Determine which of the following code snippets evaluates to the
proportion of book purchases in <code>sales</code> that were made on a
weekend. <strong>Select all that apply.</strong></p>
<ul class="task-list">
<li><p><input type="checkbox" disabled="" /> <code>sales_day[sales_day.get("weekend")].count() / sales_day.shape[0]</code></p></li>
<li><p><input type="checkbox" disabled="" /> <code>sales[sales_day.get("weekend")].shape[0] / sales_day.shape[0]</code></p></li>
<li><p><input type="checkbox" disabled="" /> <code>sales_day.get("weekend").median()</code></p></li>
<li><p><input type="checkbox" disabled="" /> <code>sales_day.get("weekend").mean()</code></p></li>
<li><p><input type="checkbox" disabled="" /> <code>np.count_nonzero(sales_day.get("weekend") &gt; 0.5) / sales_day.shape[0]</code></p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading6_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse6_2" aria-expanded="true" aria-controls="collapse6_2">
Click to view the solution.
</button>
</h2>
<div id="collapse6_2" class="accordion-collapse collapse collapse"
aria-labelledby="heading6_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer</strong>:</p>
<ul>
<li><code>sales[sales_day.get("weekend")].shape[0] / sales_day.shape[0]</code></li>
<li><code>sales_day.get("weekend").mean()</code></li>
<li><code>np.count_nonzero(sales_day.get("weekend") &gt; 0.5) / sales_day.shape[0]</code></li>
</ul>
<p>First of all, we add a new column called <code>"weekend"</code> to
the <code>sales</code> DataFrame, and this new DataFrame is called
<code>sales_day</code>. The new column contains boolean values that
indicate whether the value in the <code>"date"</code> column is
<code>"Saturday"</code> or <code>"Sunday"</code>, which are obtained by
applying <code>is_weekend</code> from the previous question to the
<code>"date"</code> column.</p>
<p>Now, we want to find the proportion of book purchases in sales that
were made on a weekend, which is basically the proportion of rows in the
<code>"weekend"</code> column that are <code>True</code>. Let’s look at
each of the options:</p>
<ul>
<li><p><code>sales_day[sales_day.get("weekend")].count() / sales_day.shape[0]</code>
(incorrect): You can only use <code>.count()</code> on a groupby object.
The correct alternative is to use <code>.shape[0]</code>.</p></li>
<li><p><code>sales[sales_day.get("weekend")].shape[0] / sales_day.shape[0]</code>
(correct): <code>sales_day.get("weekend")</code> gets the
<code>"weekend</code> column from the <code>sales_day</code> DataFrame.
We then use this Series to query the <code>sales</code> DataFrame and
keep only the rows happening on weekends. Lastly. we count the number of
rows in this sub-DataFrame with <code>.shape[0]</code> and divide by the
total number of sales to get the proportion.</p></li>
<li><p><code>sales_day.get("weekend").median()</code> (incorrect): A
boolean value can be seen as 1 (True) or 0 (False). Since the column
<code>"weekend"</code> contains all booleans, the median falls on either
1 or 0, which is not the proportion that we want.</p></li>
<li><p><code>sales_day.get("weekend").mean()</code> (correct): A boolean
value can be seen as 1 (True) or 0 (False). The mean of the
<code>"weekend"</code> column is equal to the sum of the column divided
the total number of rows in the column. The sum of the column is the sum
of all the 1’s and 0’s, which is just the number of <code>True</code>s.
The number of <code>True</code>s divided by the total number of rows is
the proportion of sales on weekend.</p></li>
<li><p><code>np.count_nonzero(sales_day.get("weekend") &gt; 0.5) / sales_day.shape[0]</code>
(correct): A boolean value can be seen as 1 (True) or 0 (False).
<code>sales_day.get("weekend") &gt; 0.5</code> gives us a Series of
booleans indicating whether the value in <code>"weekend"</code> is
greater than 0.5. If the value is <code>True</code>, then it’s greater
than 0.5. <code>np.count_nonzero</code> counts the number of values that
are not zero, which is the number of <code>True</code>s. We then divide
the number of <code>True</code>s by the total number of sales to get the
proportion.</p></li>
</ul>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 72%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="problem-7">Problem 7</h2>
<p>Hargen is an employee at Bill’s Book Bonanza who tends to work
weekend shifts. He thinks that Fridays, Saturdays, and Sundays are
busier than other days, and he proposes the following probability
distribution of sales by day:</p>
<div class="center">
<table>
<thead>
<tr class="header">
<th style="text-align: left;">Sunday</th>
<th style="text-align: left;">Monday</th>
<th style="text-align: left;">Tuesday</th>
<th style="text-align: left;">Wednesday</th>
<th style="text-align: left;">Thursday</th>
<th style="text-align: left;">Friday</th>
<th style="text-align: left;">Saturday</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><span class="math inline">0.2</span></td>
<td style="text-align: left;"><span class="math inline">0.1</span></td>
<td style="text-align: left;"><span class="math inline">0.1</span></td>
<td style="text-align: left;"><span class="math inline">0.1</span></td>
<td style="text-align: left;"><span class="math inline">0.1</span></td>
<td style="text-align: left;"><span class="math inline">0.2</span></td>
<td style="text-align: left;"><span class="math inline">0.2</span></td>
</tr>
</tbody>
</table>
</div>
<p>Let’s use the data in <code>sales</code> to determine whether
Hargen’s proposed model could be correct by doing a hypothesis test. The
hypotheses are:</p>
<ul>
<li><p><strong>Null Hypothesis</strong>: Sales at the bookstore are
randomly drawn from Hargen’s proposed distribution of days.</p></li>
<li><p><strong>Alternative Hypothesis</strong>: Sales at the bookstore
are not randomly drawn from Hargen’s proposed distribution of
days.</p></li>
</ul>
<p><br></p>
<h3 id="problem-7.1">Problem 7.1</h3>
<p>Which of the following test statistics could be used to test the
given hypothesis? <strong>Select all that apply.</strong></p>
<ul class="task-list">
<li><p><input type="checkbox" disabled="" /> The absolute difference between the proportion of books sold on
Saturday and the proposed proportion of books sold on Saturday (<span class="math inline">0.2</span>).</p></li>
<li><p><input type="checkbox" disabled="" /> The sum of the differences in proportions between the distribution of
books sold by day and Hargen’s proposed distribution.</p></li>
<li><p><input type="checkbox" disabled="" /> The sum of the squared differences in proportions between the
distribution of books sold by day and Hargen’s proposed
distribution.</p></li>
<li><p><input type="checkbox" disabled="" /> One half of the sum of the absolute differences in proportions
between the distribution of books sold by day and Hargen’s proposed
distribution.</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading7_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse7_1" aria-expanded="true" aria-controls="collapse7_1">
Click to view the solution.
</button>
</h2>
<div id="collapse7_1" class="accordion-collapse collapse collapse"
aria-labelledby="heading7_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer</strong>:</p>
<ul>
<li>The sum of the squared differences in proportions between the
distribution of books sold by day and Hargen’s proposed
distribution.</li>
<li>One half of the sum of the absolute differences in proportions
between the distribution of books sold by day and Hargen’s proposed
distribution.</li>
</ul>
<p>Let’s look at each of the options:</p>
<ul>
<li>Option 1: Incorrect. It is only comparing one day instead of the
entire distribution.</li>
<li>Option 2: Incorrect. Positive and negative differences, if both
exist, can partially cancel out. We would not be able to tell how big
the difference is.</li>
<li>Option 3: Correct. Squared difference avoids the issue of positive
and negative differences canceling out.</li>
<li>Option 4: Correct. Absolute difference also avoids the issue of
positive and negative differences canceling out. Furthermore, this is
the definition of Total Variation Distance (TVD), which is a common
statistic for comparing categorical distributions.</li>
</ul>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 74%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<p>We will use as our test statistic <strong>the mean of the absolute
differences in proportions between the distribution of books sold by day
and Hargen’s proposed distribution.</strong></p>
<p><br></p>
<h3 id="problem-7.2">Problem 7.2</h3>
<p>Suppose the observed distribution of books sold by day was as
follows. Calculate the observed statistic in this case.</p>
<div class="center">
<table>
<thead>
<tr class="header">
<th style="text-align: left;">Sunday</th>
<th style="text-align: left;">Monday</th>
<th style="text-align: left;">Tuesday</th>
<th style="text-align: left;">Wednesday</th>
<th style="text-align: left;">Thursday</th>
<th style="text-align: left;">Friday</th>
<th style="text-align: left;">Saturday</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><span class="math inline">0.34</span></td>
<td style="text-align: left;"><span class="math inline">0.13</span></td>
<td style="text-align: left;"><span class="math inline">0.06</span></td>
<td style="text-align: left;"><span class="math inline">0.07</span></td>
<td style="text-align: left;"><span class="math inline">0.08</span></td>
<td style="text-align: left;"><span class="math inline">0.08</span></td>
<td style="text-align: left;"><span class="math inline">0.24</span></td>
</tr>
</tbody>
</table>
</div>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading7_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse7_2" aria-expanded="true" aria-controls="collapse7_2">
Click to view the solution.
</button>
</h2>
<div id="collapse7_2" class="accordion-collapse collapse collapse"
aria-labelledby="heading7_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer</strong>: 0.06</p>
<p><span class="math display">\frac{|0.34 - 0.2| + |0.13 - 0.1| + |0.06
- 0.1| + |0.07 - 0.1| + |0.08 - 0.1| + |0.08 - 0.2| + |0.24 -
0.2|}{7}</span></p>
<p><span class="math display">= \frac{0.14 + 0.03 + 0.04 + 0.03 + 0.02 +
0.12 + 0.04}{7}</span></p>
<p><span class="math display">= \frac{0.42}{7} = 0.06</span></p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 69%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-7.3">Problem 7.3</h3>
<p>Let’s determine the actual value of the observed statistic based on
the data in <code>sales</code>. Assume that we have already defined a
function called <code>find_day</code> that returns the day of the week
for a given <code>"date"</code>. For example,
<code>find_day("Saturday, December 7, 2024")</code> evaluates to
<code>"Saturday"</code>. Fill in the blanks below so that the variable
<code>obs</code> evaluates to the observed statistic.</p>
<pre><code># in alphabetical order: Fri, Mon, Sat, Sun, Thurs, Tues, Wed
hargen = np.array([0.2, 0.1, 0.2, 0.2, 0.1, 0.1, 0.1]) 
prop = (sales.assign(day_of_week = __(a)__)
             .groupby(__(b)__).__(c)__.get(&quot;ISBN&quot;) / sales.shape[0])
obs = __(d)__</code></pre>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading7_3">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse7_3" aria-expanded="true" aria-controls="collapse7_3">
Click to view the solution.
</button>
</h2>
<div id="collapse7_3" class="accordion-collapse collapse collapse"
aria-labelledby="heading7_3" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p>(a). <strong>Answer</strong>:
<code>sales.get("date").apply(find_day)</code></p>
<p>In this blank, we want to create a Series that contains days of the
week, such as <code>"Saturday"</code>, to be assigned to a column named
<code>day_of_week</code> in <code>sales</code>. We take the
<code>"date"</code> column in <code>sales</code> and apply the function
<code>find_day</code> to each of the date in the column.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 77%.</p>
<p>(b). <strong>Answer</strong>: <code>"day_of_week"</code></p>
<p>We want to group the <code>sales</code> DataFrame by the
<code>day_of_week</code> column that was created in blank (a) to collect
together all rows corresponding to the same day of the week.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 84%.</p>
<p>(c). <strong>Answer</strong>: <code>count()</code></p>
<p>We want to count how many sales occured on each day of the week, or,
how many rows are in <code>sales</code> that belong to each day, so we
use <code>count()</code> after grouping by <code>day_of_week</code>.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 71%.</p>
<p>(d). <strong>Answer</strong>:
<code>(np.abs(prop - hargen)).mean()</code></p>
<p>We first take one column that contains the count of rows for each day
of the week, indexed by the days in alphabetical order after the
groupby. We then divide this column by the total number of rows to get
proportions. We want to compute the statistic that we’ve chosen, the
mean of absolute differences in proportions between the observed and
Hargen’s proposed distribution. Since the order of the days already
match (both in alphabetical order), we can simply subtract one from the
other to get the difference in proportions. We then turn the differences
into absolute differences with <code>np.abs</code> and get the mean
using <code>.mean()</code>.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 59%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-7.4">Problem 7.4</h3>
<p>To conduct the hypothesis test, we’ll need to generate thousands of
simulated day-of-the-week distributions. What will we do with all these
simulated distributions?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> Use them to determine whether Hargen’s proposed distribution looks
like a typical simulated distribution.</p></li>
<li><p><input type="radio" disabled="" /> Use them to determine whether the observed distribution of books sold
by day looks like a typical simulated distribution.</p></li>
<li><p><input type="radio" disabled="" /> Use them to determine whether Hargen’s proposed distribution looks
like a typical observed distribution of books sold by day.</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading7_4">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse7_4" aria-expanded="true" aria-controls="collapse7_4">
Click to view the solution.
</button>
</h2>
<div id="collapse7_4" class="accordion-collapse collapse collapse"
aria-labelledby="heading7_4" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer</strong>: Use them to determine whether the observed
distribution of books sold by day looks like a typical simulated
distribution.</p>
<p>For hypothesis testing, we simulate based on the null distribution,
which is the distribution that Hargen proposed. For each of the
simulated distribution of proportions , we calculate the statistic we
chose, which is <strong>the mean of the absolute differences in
proportions between the simulated and Hargen’s proposed
distributions</strong>. After many simulations, we have calculated
thousands of mean of absolute differences in proportions, each between
one simulated distribution and Hargen’s proposed distribution. Lastly,
we compare the observed statistic with the statistics from the
simulations to see whether <strong>the observed distribution of books
sold by day looks like a typical simulated distribution.</strong></p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 28%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-7.5">Problem 7.5</h3>
<p>In each iteration of the simulation, we need to collect a sample of
size <code>sales.shape[0]</code> from which distribution?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> Hargen’s proposed distribution.</p></li>
<li><p><input type="radio" disabled="" /> The distribution of data in <code>sales</code> by day of the
week.</p></li>
<li><p><input type="radio" disabled="" /> Our original sample’s distribution.</p></li>
<li><p><input type="radio" disabled="" /> The distribution of possible sample means.</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading7_5">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse7_5" aria-expanded="true" aria-controls="collapse7_5">
Click to view the solution.
</button>
</h2>
<div id="collapse7_5" class="accordion-collapse collapse collapse"
aria-labelledby="heading7_5" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer</strong>: Hargen’s proposed distribution.</p>
<p>For hypothesis testing, we simulate based on the null distribution,
which is the distribution that Hargen proposed.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 26%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-7.6">Problem 7.6</h3>
<p>Suppose that <code>obs</code> comes out to be in the 98th percentile
of simulated test statistics. Using the standard p-value cutoff of 0.05,
what would Hargen conclude about his original model?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> It is likely correct.</p></li>
<li><p><input type="radio" disabled="" /> It is plausible.</p></li>
<li><p><input type="radio" disabled="" /> It is likely wrong.</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading7_6">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse7_6" aria-expanded="true" aria-controls="collapse7_6">
Click to view the solution.
</button>
</h2>
<div id="collapse7_6" class="accordion-collapse collapse collapse"
aria-labelledby="heading7_6" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer</strong>: It is likely wrong.</p>
<p>Using the standard p-value cutoff of 0.05, we say that the observed
distribution is not like a typical simulated distribution under Hargen’s
proposed distribution if it falls below 2.5th percentile of above 97.5th
percentile. In this case, 98th percentile is above 97.5th percentile, so
we say that Hargen’s proposed distribution is likely wrong.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 63%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="problem-8">Problem 8</h2>
<p>Suppose we are told that <code>sales</code> contains 1000 rows, 500
of which represent cash transactions and 500 of which represent non-cash
transactions. We are given two density histograms representing the
distribution of <code>"price"</code> separately for the cash and
non-cash transactions.</p>
<center><img src='../assets/images/fa24-final/cash.png' width=800></center>
<center><img src='../assets/images/fa24-final/non-cash.png' width=800></center>
<p>From these two histograms, we’d like to create a single combined
histogram that shows the overall distribution of <code>"price"</code>
for all 1000 rows in <code>sales</code>.</p>
<p><br></p>
<h3 id="problem-8.1">Problem 8.1</h3>
<p>How many cash transactions had a <code>"price"</code> of <span
class="math inline">\$26</span> or more?</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading8_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse8_1" aria-expanded="true" aria-controls="collapse8_1">
Click to view the solution.
</button>
</h2>
<div id="collapse8_1" class="accordion-collapse collapse collapse"
aria-labelledby="heading8_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer</strong>: 55</p>
<center><img src="../assets/images/fa24-final/8_1_cash_above_26.png" width="800"/></center>
<p>We first locate the bars representing <span class="math inline">\$26</span> or more on the cash transaction
histogram, which is the three right-most bars. We then calculate the
area of these bars to get the proportion of cash transactions these bars
correspond to. Lastly, we multiply this proportion by the total count of
500 to get the count of transactions with a <code>"price"</code> of
<span class="math inline">\$26</span> or more.</p>
<p><span class="math display">\textit{Area} = 0.03 * 2 + 0.02 * 2 +
0.005 * 2 = 0.06 + 0.04 + 0.01 = 0.11</span></p>
<p><span class="math inline">\textit{Number of transactions = 0.11 * 500
= 55}</span></p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 64%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-8.2">Problem 8.2</h3>
<p>Say our combined histogram has a bin <span class="math inline">[4,
6)</span>. What will the height of this bar be in the combined
histogram? Fill in the answer box or select “Not enough
information.”</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading8_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse8_2" aria-expanded="true" aria-controls="collapse8_2">
Click to view the solution.
</button>
</h2>
<div id="collapse8_2" class="accordion-collapse collapse collapse"
aria-labelledby="heading8_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer</strong>: Not enough information.</p>
<p>Since the histogram for non-cash transactions only has a bin of <span class="math inline">[4, 8)</span>, we don’t have enough information
about how many transactions fall within <span class="math inline">[4,
6)</span>.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 81%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-8.3">Problem 8.3</h3>
<p>Say our combined histogram has a bin <span class="math inline">[24,
28)</span>. What will the height of this bar be in the combined
histogram? Fill in the answer box or select “Not enough
information.”</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading8_3">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse8_3" aria-expanded="true" aria-controls="collapse8_3">
Click to view the solution.
</button>
</h2>
<div id="collapse8_3" class="accordion-collapse collapse collapse"
aria-labelledby="heading8_3" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer</strong>: 0.03</p>
<center><img src="../assets/images/fa24-final/8_3_cash.png" width="800"/></center>
<center><img src="../assets/images/fa24-final/8_3_non_cash.png" width="800"/></center>
<p>We first calculate the counts for cash and non-cash transactions
within <span class="math inline">[24, 28)</span> separately. Then we
combine the two counts and find the proportion that is of 1000 total
transactions. Lastly, we determine the height of the bar by dividing the
area (proportion) by the width <span class="math inline">4</span>.</p>
<p>Number of cash transactions within <span class="math inline">[24, 28)
= (0.05 * 2 + 0.03 * 2) * 500 = (0.1 + 0.06) * 500 = 0.16 * 500 =
80</span></p>
<p>Number of non-cash transactions within <span class="math inline">[24,
28) = (0.02 * 4) * 500 = 0.08 * 500 = 40</span></p>
<p>Total number of transactions within <span class="math inline">[24,
28) = 80 + 40 = 120</span></p>
<p>Proportion of one thousand total transactions (Area of bar) <span class="math inline">= 120 / 1000 = 0.12</span></p>
<p>Height of bar <span class="math inline">= 0.12 / 4 = 0.03</span></p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 42%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-8.4">Problem 8.4</h3>
<p>Suppose now that the histograms for cash and non-cash transactions
are the same as pictured, but they now represent 600 cash transactions
and 400 non-cash transactions. In this situation, say our combined
histogram has a bin <span class="math inline">[12, 16)</span>. What will
the height of this bar be in the combined histogram? Fill in the answer
box or select “Not enough information.”</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading8_4">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse8_4" aria-expanded="true" aria-controls="collapse8_4">
Click to view the solution.
</button>
</h2>
<div id="collapse8_4" class="accordion-collapse collapse collapse"
aria-labelledby="heading8_4" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer</strong>: 0.04</p>
<center><img src="../assets/images/fa24-final/8_4_cash.png" width="800"/></center>
<center><img src="../assets/images/fa24-final/8_4_non_cash.png" width="800"/></center>
<p>We first calculate the counts for cash and non-cash transactions
within <span class="math inline">[12, 16)</span> separately. Then we
combine the two counts and find the proportion that is of 1000 total
transactions. Lastly, we determine the height of the bar by dividing the
area (proportion) by the width <span class="math inline">4</span>.</p>
<p>Number of cash transactions within <span class="math inline">[12, 16)
= (0.06 * 2 + 0.04 * 2) * 600 = (0.12 + 0.08) * 600 = 0.2 * 600 =
120</span></p>
<p>Number of non-cash transactions within <span class="math inline">[12,
16) = (0.025 * 4) * 400 = 0.1 * 400 = 40</span></p>
<p>Total number of transactions within <span class="math inline">[12,
16) = 120 + 40 = 160</span></p>
<p>Proportion of one thousand total transactions (Area of bar) <span class="math inline">= 160 / 1000 = 0.16</span></p>
<p>Height of bar <span class="math inline">= 0.16 / 4 = 0.04</span></p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 37%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="problem-9">Problem 9</h2>
<p>As in the previous problem, suppose we are told that
<code>sales</code> contains 1000 rows, 500 of which represent cash
transactions and 500 of which represent non-cash transactions.</p>
<p>This time, instead of being given histograms, we are told that the
distribution of <code>"price"</code> for cash transactions is roughly
normal, with a mean of <span class="math inline">\$14</span> and a
standard deviation of <span class="math inline">\$2</span>. We’ll call
this distribution the cash curve.</p>
<p>Additionally, the distribution of <code>"price"</code> for non-cash
transactions is roughly normal, with a mean of <span
class="math inline">\$22</span> and a standard deviation of <span
class="math inline">\$4</span>. We’ll call this distribution the
non-cash curve.</p>
<p>We want to draw a curve representing the approximate distribution of
<code>"price"</code> for all transactions combined. We’ll call this
distribution the combined curve.</p>
<p><br></p>
<h3 id="problem-9.1">Problem 9.1</h3>
<p>What is the approximate proportion of area under the <strong>cash
curve</strong> between <span class="math inline">\$10</span> and <span
class="math inline">\$12</span>? Your answer should be a number between
0 and 1.</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading9_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse9_1" aria-expanded="true" aria-controls="collapse9_1">
Click to view the solution.
</button>
</h2>
<div id="collapse9_1" class="accordion-collapse collapse collapse"
aria-labelledby="heading9_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer</strong>: 0.135</p>
<p>The Empirical Rule tells us:</p>
<ul>
<li><strong>68% of the data</strong> is found within one standard
deviation (±1<span class="math inline">\sigma</span>) of the mean.</li>
<li><strong>95% of the data</strong> falls within two standard
deviations (±2<span class="math inline">\sigma</span>).</li>
<li><strong>99.7% of the data</strong> lies within three standard
deviations (±3<span class="math inline">\sigma</span>).</li>
</ul>
<p>Given mean is $14 and Standard Deviation is $2, using the empirical
rule:</p>
<ul>
<li>The range from $12 to $16 (14 ± 2) covers one standard deviation
from the mean, containing approximately 68% of the data. So range from
$12 to $14 covers 34% of area.</li>
<li>The range from $10 to $18 (14 ± 2*2)covers two standard deviation
from the mean, containing approximately 95% of the data. So range from
$10 to $14 covers 47.5% of area.</li>
</ul>
<center><img src="../assets/images/fa24-final/solution9_1.png" width="800"/></center>
<p>Area from $10 to $12 = Area from $10 to $14 - Area from $12 to $14 =
47.5% - 34% = 13.5% = 0.135</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 46%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-9.2">Problem 9.2</h3>
<p>Fill in the blanks in the code below so that the expression evaluates
to the approximate proportion of area under the <strong>cash
curve</strong> between <span class="math inline">\$14.50</span> and
<span class="math inline">\$17.50</span>. Each answer should be a single
number.</p>
<pre><code>scipy.stats.norm.cdf(a) - scipy.stats.norm.cdf(b)</code></pre>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading9_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse9_2" aria-expanded="true" aria-controls="collapse9_2">
Click to view the solution.
</button>
</h2>
<div id="collapse9_2" class="accordion-collapse collapse collapse"
aria-labelledby="heading9_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p>(a). <strong>Answer</strong>: 1.75</p>
<p>(b). <strong>Answer</strong>: 0.25</p>
<p>The expression
<code>scipy.stats.norm.cdf(a) - scipy.stats.norm.cdf(b)</code>
calculates the area under the normal distribution curve between two
points. <code>a</code> and <code>b</code> represent the standardized
values (or Z-scores) corresponding to $17.50 and $14.50,
respectively.</p>
<p>Z-score is calculated using the formula:</p>
<p><span class="math display">Z = \frac{(X - \mu)}{\sigma}</span></p>
<p>where:</p>
<ul>
<li><span class="math inline">X</span> is the value for which we are
calculating the Z-score.</li>
<li><span class="math inline">\mu</span> is the mean of the
distribution.</li>
<li><span class="math inline">\sigma</span> is the standard
deviation.</li>
</ul>
<p>For <span class="math inline">a</span> corresponding to $17.50:</p>
<p><span class="math display">Z_a = \frac{(17.50 - 14)}{2} =
1.75</span></p>
<p>For <span class="math inline">b</span> corresponding to $14.50:</p>
<p><span class="math display">Z_b = \frac{(14.50 - 14)}{2} =
0.25</span></p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 54%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-9.3">Problem 9.3</h3>
<p>Will the combined curve be roughly normal?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> Yes, because of the Central Limit Theorem.</p></li>
<li><p><input type="radio" disabled="" /> Yes, because combining two normal distributions always produces a
normal distribution.</p></li>
<li><p><input type="radio" disabled="" /> No, not necessarily.</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading9_3">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse9_3" aria-expanded="true" aria-controls="collapse9_3">
Click to view the solution.
</button>
</h2>
<div id="collapse9_3" class="accordion-collapse collapse collapse"
aria-labelledby="heading9_3" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer</strong>: No, not necessarily.</p>
<p>Although both distributions are roughly normal, their means are
significantly apart-one centered at 14 (with a standard deviation of 2)
and one centered at 22 (with a standard deviation of 4)-the resulting
distribution is likely bimodal. The combined distribution will have
peaks near each of the original means, reflecting the characteristics of
the two separate normal distributions.</p>
<center><img src="../assets/images/fa24-final/solution9_3.jpg" width="800"/></center>
<p>The CLT says that “the distribution of possible sample means is
approximately normal, no matter the distribution of the population,” but
doesn’t say anything about combining two distributions.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 38%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-9.4">Problem 9.4</h3>
<p>Fill in the blanks in the code below so that the expression evaluates
to the approximate proportion of area under the <strong>combined
curve</strong> between <span class="math inline">\$14</span> and <span
class="math inline">\$22</span>. Each answer should be a single
number.</p>
<pre><code>(scipy.stats.norm.cdf(a) - scipy.stats.norm.cdf(b)) / 2</code></pre>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading9_4">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse9_4" aria-expanded="true" aria-controls="collapse9_4">
Click to view the solution.
</button>
</h2>
<div id="collapse9_4" class="accordion-collapse collapse collapse"
aria-labelledby="heading9_4" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p>(a). <strong>Answer</strong>: 4</p>
<p>(b). <strong>Answer</strong>: -2</p>
<p>Since the the <strong>combined curve</strong> is a combination of two
normal distributions, each representing equal number of transactions
(500 each), we can approximate the total area by averaging the areas
under the individual cash and non-cash curves between <span class="math inline">\$14</span> and <span class="math inline">\$22</span>.</p>
<ol type="1">
<li><p>For cash:</p>
<p><span class="math inline">P(Z ≤ \frac{22-14}{2}) - P(Z ≤
\frac{14-14}{2})</span></p>
<p><span class="math inline">P(Z ≤ 4) - P(Z ≤ 0) =</span>
scipy.stats.norm.cdf(4) - scipy.stats.norm.cdf(0)</p></li>
<li><p>Non-cash:</p>
<p><span class="math inline">P(Z ≤ \frac{22-22}{4}) - P(Z ≤
\frac{14-22}{4})</span></p>
<p><span class="math inline">P(Z ≤ 0) - P(Z ≤ -2) =</span>
scipy.stats.norm.cdf(0) - scipy.stats.norm.cdf(-2)</p></li>
</ol>
<p>Averaging area under the two distributions:</p>
<p><span class="math inline">\frac{1}{2}</span> (scipy.stats.norm.cdf(4)
- scipy.stats.norm.cdf(0) + scipy.stats.norm.cdf(0) -
scipy.stats.norm.cdf(-2)) = <strong>(scipy.stats.norm.cdf(4) -
scipy.stats.norm.cdf(-2)) / 2</strong></p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 15%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-9.5">Problem 9.5</h3>
<p>What is the approximate proportion of area under the <strong>combined
curve</strong> between <span class="math inline">\$14</span> and <span
class="math inline">\$22</span>? Choose the closest answer below.</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> 0.47</p></li>
<li><p><input type="radio" disabled="" /> 0.49</p></li>
<li><p><input type="radio" disabled="" /> 0.5</p></li>
<li><p><input type="radio" disabled="" /> 0.95</p></li>
<li><p><input type="radio" disabled="" /> 0.97</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading9_5">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse9_5" aria-expanded="true" aria-controls="collapse9_5">
Click to view the solution.
</button>
</h2>
<div id="collapse9_5" class="accordion-collapse collapse collapse"
aria-labelledby="heading9_5" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer</strong>: 0.49</p>
<p>We can approximate the total area by averaging the areas under the
individual cash and non-cash curves between <span class="math inline">\$14</span> and <span class="math inline">\$22</span>.</p>
<ol type="1">
<li>For cash: mean = $14, SD = $2.
<ul>
<li>$22 is 4 standard deviations (SD) from the mean of $14.</li>
<li>Half of the area from the mean to 4 SDs above the mean in a normal
distribution is approximately 50%.</li>
</ul></li>
<li>Non-cash: mean = $22, SD = $4.
<ul>
<li>$14 is 2 SD below the mean of $22.</li>
<li>The area within 2 SD from mean is 95%, so the area from $14 to the
mean (22) is half of 95%: 47.5%.</li>
</ul></li>
</ol>
<p>Averaging the two individual areas: <span class="math inline">\frac{0.5 + 0.475}{2} = 0.4875</span>, which is
closest to <strong>0.49</strong>.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 24%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="problem-10">Problem 10</h2>
<p><br></p>
<h3 id="problem-10.1">Problem 10.1</h3>
<p>Suppose the <code>bookstore</code> DataFrame has <span
class="math inline">10</span> unique genres, and we are given a sample
of <span class="math inline">350</span> books from that DataFrame.
Determine the maximum possible total variation distance (TVD) that could
occur between our sample’s genre distribution and the uniform
distribution where each genre occurs with equal probability. Your answer
should be a single number.</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading10_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse10_1" aria-expanded="true" aria-controls="collapse10_1">
Click to view the solution.
</button>
</h2>
<div id="collapse10_1" class="accordion-collapse collapse collapse"
aria-labelledby="heading10_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer</strong>: 0.9</p>
<p>To determine the maximum possible TVD, we consider the scenario where
all books belong to a single genre. This represents the maximum
deviation from the uniform distribution:</p>
<ul>
<li><strong>Uniform distribution probability per genre:</strong> <span class="math inline">0.1</span> (or 10%)</li>
<li><strong>Extreme case distribution:</strong> <span class="math inline">1</span> for one genre and <span class="math inline">0</span> for all others</li>
</ul>
<p><span class="math display">
TVD = \frac{1}{2} \left( |1 - 0.1| + 9 \times |0 - 0.1| \right) =
\frac{1}{2} (0.9 + 0.9) = 0.9
</span></p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 31%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-10.2">Problem 10.2</h3>
<p>True or False: If the sample instead had 700 books, then the maximum
possible TVD would <strong>increase</strong>.</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> True</p></li>
<li><p><input type="radio" disabled="" /> False</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading10_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse10_2" aria-expanded="true" aria-controls="collapse10_2">
Click to view the solution.
</button>
</h2>
<div id="collapse10_2" class="accordion-collapse collapse collapse"
aria-labelledby="heading10_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> False</p>
<p>The maximum possible TVD is based on proportions and not absolute
counts. Even if the sample size is increased, the proportions of maximum
skew (one genre dominating completely) do not change. Thus, the TVD
remains the same.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 71%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-10.3">Problem 10.3</h3>
<p>True or False: If the <code>bookstore</code> DataFrame had 11 genres
instead of 10, the maximum possible TVD would
<strong>increase</strong>.</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> True</p></li>
<li><p><input type="radio" disabled="" /> False</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading10_3">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse10_3" aria-expanded="true" aria-controls="collapse10_3">
Click to view the solution.
</button>
</h2>
<div id="collapse10_3" class="accordion-collapse collapse collapse"
aria-labelledby="heading10_3" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> True</p>
<p>With 11 genres, the uniform probability per genre decreases to about
<span class="math inline">0.0909</span> from <span class="math inline">0.1</span> with 10 genres. In the most skewed
scenario (one genre dominates):</p>
<p><span class="math display">
TVD = \frac{1}{2} \left( |1 - 0.0909| + 10 \times |0 - 0.0909| \right) =
\frac{1}{2} (0.9091 + 0.909) = 0.90905
</span></p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 66%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="problem-11">Problem 11</h2>
<p>Dhruv works at the bookstore, and his job involves pricing new books
that come in from the supplier. He prices new books based on the number
of pages they have. He does this using linear regression, which he
learned about in DSC 10.</p>
<p>To build his regression line, Dhruv gathers the following information
about the distinct books currently available at the bookstore:</p>
<ul>
<li><p>The correlation between price and number of pages is <span
class="math inline">0.6</span>.</p></li>
<li><p>The mean price of all books is $15, with a standard deviation of
$4.</p></li>
<li><p>The mean number of pages of all books is 500, with a standard
deviation of 200.</p></li>
</ul>
<p><br></p>
<h3 id="problem-11.1">Problem 11.1</h3>
<p>Which of the following statements about Dhruv’s regression line are
true? <strong>Select all that apply.</strong></p>
<ul class="task-list">
<li><p><input type="checkbox" disabled="" /> It goes through the point <span class="math inline">(500,
15).</span></p></li>
<li><p><input type="checkbox" disabled="" /> It goes through the point <span class="math inline">(200,
4).</span></p></li>
<li><p><input type="checkbox" disabled="" /> Its slope is equal to <span class="math inline">0.6</span>.</p></li>
<li><p><input type="checkbox" disabled="" /> Its <span class="math inline">y</span>-intercept is equal to <span class="math inline">9</span>.</p></li>
<li><p><input type="checkbox" disabled="" /> Its root mean square error is larger than the root mean square error
of any other line.</p></li>
<li><p><input type="checkbox" disabled="" /> All the books currently available at the bookstore fall on the
line.</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading11_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse11_1" aria-expanded="true" aria-controls="collapse11_1">
Click to view the solution.
</button>
</h2>
<div id="collapse11_1" class="accordion-collapse collapse collapse"
aria-labelledby="heading11_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> a, d</p>
<p>When performing linear regression analysis, the slope
(<code>m</code>) and intercept (<code>b</code>) of the regression line
can be calculated as follows:</p>
<p><span class="math display"> m = r \cdot \frac{\text{SD of }
y}{\text{SD of } x}  = 0.6 \times \left(\frac{4}{200}\right) = 0.012
</span></p>
<p><span class="math display"> b = (\text{mean of } y) - m \cdot
(\text{mean of } x) = 15 - 0.012 \times 500 = 9  </span></p>
<p>To predict the dependent variable (<span class="math inline">y_i</span>) based on the independent variable (<span class="math inline">x_i</span>): <span class="math display">
\text{predicted } y_i = 0.012 \cdot x_i + 9 </span></p>
<ol type="a">
<li><p><strong>True.</strong> The regression line will always pass
through the point (<span class="math inline">\bar{x}</span>, <span class="math inline">\bar{y}</span>) due to the way we calculate it,
which is <span class="math inline">(500, 15)</span> in this
case.</p></li>
<li><p><strong>False.</strong> <span class="math inline">y = 0.012 \cdot
200 + 9 = 2.4 + 9 = 11.4 \neq 4</span></p></li>
<li><p><strong>False.</strong> As calculated, the slope of the
regression line is <span class="math inline">0.012</span>, not <span class="math inline">0.6</span>. The correlation coefficient is not the
slope.</p></li>
<li><p><strong>True.</strong> The intercept, based on the mean values
and the calculated slope, is <span class="math inline">9</span>.</p></li>
<li><p><strong>False.</strong> The least squares regression line
minimizes the root mean square error (RMSE) compared to any other
possible regression lines.</p></li>
<li><p><strong>False.</strong> Regression provides a prediction or
estimation, not an exact accounting. Not all books will fall exactly on
the regression line due to the inherent variability and other
influencing factors not accounted for in the simple linear
model.</p></li>
</ol>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 80%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-11.2">Problem 11.2</h3>
<p>If <code>"The Martian"</code> has <span class="math inline">30</span>
more pages than <code>"The Simple Wild"</code>, and both books are
priced according to the regression line, how much more does
<code>"The Martian"</code> cost than <code>"The Simple Wild"</code>?
Give your answer as a number, in dollars and cents.</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading11_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse11_2" aria-expanded="true" aria-controls="collapse11_2">
Click to view the solution.
</button>
</h2>
<div id="collapse11_2" class="accordion-collapse collapse collapse"
aria-labelledby="heading11_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> 0.36</p>
<p>Given the regression equation(calculated in previous question): <span class="math display"> \text{predicted } y_i = 0.012 \cdot x_i + 9
</span></p>
<p>Assume:</p>
<ul>
<li><p><span class="math inline">x_i</span> for “The Simple Wild” is
<span class="math inline">x</span>.</p></li>
<li><p><span class="math inline">x_j</span> for “The Martian” is <span class="math inline">x + 30</span>.</p></li>
<li><p>Predicted price for “The Simple Wild” (<span class="math inline">y_i</span>): <span class="math display"> y_i = 0.012
\cdot x + 9 </span></p></li>
<li><p>Predicted price for “The Martian” (<span class="math inline">y_j</span>): <span class="math display"> y_j = 0.012
\cdot (x + 30) + 9 </span> <span class="math display"> y_j = 0.012 \cdot
x + 0.36 + 9 </span> <span class="math display"> y_j = 0.012 \cdot x +
9.36 </span></p></li>
</ul>
<p>The price of “The Martian” minus the price of “The Simple Wild”:
<span class="math display"> y_j - y_i = (0.012 \cdot x + 9.36) - (0.012
\cdot x + 9) = 9.36 - 9 = 0.36 </span></p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 39%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-11.3">Problem 11.3</h3>
<p>A new book added to the inventory is <code>"The Goldfinch"</code>,
which has <span class="math inline">700</span> pages. How much should
Dhruv charge customers for this book, according to the regression line
pricing model? Give your answer as a number, in dollars and cents.</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading11_3">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse11_3" aria-expanded="true" aria-controls="collapse11_3">
Click to view the solution.
</button>
</h2>
<div id="collapse11_3" class="accordion-collapse collapse collapse"
aria-labelledby="heading11_3" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> 17.4</p>
<p>Given the regression equation(calculated in (a)): <span class="math display"> \text{predicted } y_i = 0.012 \cdot x_i + 9
</span></p>
<p>“The Goldfinch” has 700 pages. Substitute into the regression
equation: <span class="math display"> y_i = 0.012 \cdot 700 + 9  = 8.4 +
9 = 17.4 </span></p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 51%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-11.4">Problem 11.4</h3>
<p>It turns out that Dhruv had an error in his regression line because
he had accidentally recorded the price of one book in the data set,
<code>"Roadside Picnic"</code>, as <span
class="math inline">-\$12</span> instead of <span
class="math inline">\$12</span>. He builds a new regression line using
the correct price for <code>"Roadside Picnic"</code> and he finds that
his new regression line has a smaller slope than before. What can we
conclude about the number of pages in <code>"Roadside Picnic"</code>
based on this information alone?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> <code>"Roadside Picnic"</code> has fewer than 500 pages.</p></li>
<li><p><input type="radio" disabled="" /> <code>"Roadside Picnic"</code> has exactly 500 pages.</p></li>
<li><p><input type="radio" disabled="" /> <code>"Roadside Picnic"</code> has more than 500 pages.</p></li>
<li><p><input type="radio" disabled="" /> Not enough information.</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading11_4">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse11_4" aria-expanded="true" aria-controls="collapse11_4">
Click to view the solution.
</button>
</h2>
<div id="collapse11_4" class="accordion-collapse collapse collapse"
aria-labelledby="heading11_4" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer</strong>: <code>"Roadside Picnic"</code> has fewer
than 500 pages.</p>
<p>The linear regression line has to pass through the point (500,
15).</p>
<ul>
<li><p>Fewer Than 500 Pages: If “Roadside Picnic” has fewer than 500
pages, then this point is toward the left side of the pivot point of the
regression line, and price -12 will drag the line down(towards the lower
left corner) more than 12 does, so the slope will decrease if price
changes from -12 to 12.<br/>
Plot for your reference:
</p><center><img src="../assets/images/fa24-final/solution11_2.png" width="800"/></center></li>
<li><p>Exactly 500 Pages: If the book has exactly 500 pages, which is
the mean or center of the data distribution, the incorrect price would
mainly influence the intercept rather than the slope. Correcting the
price would adjust the intercept but have a lesser effect on the
slope.</p></li>
<li><p>More Than 500 Pages: If “Roadside Picnic” has more than 500
pages, then it’s toward the right side of the regression line, and price
-12 will drag the line down(towards the lower right corner) more than 12
does, so correcting this error would increase the slope.<br/>
Plot for your reference:
</p><center><img src="../assets/images/fa24-final/solution11_1.png" width="800"/></center></li>
</ul>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 49%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-11.5">Problem 11.5</h3>
<p>Suppose that Dhruv originally based his regression line on a data set
which has a single row for each unique book sold at Bill’s Book Bonanza.
If instead, he had used a dataset with one row for each copy of a book
at the bookstore (and there are multiple copies of some books), would
his regression line have come out the same?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> Yes</p></li>
<li><p><input type="radio" disabled="" /> No</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading11_5">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse11_5" aria-expanded="true" aria-controls="collapse11_5">
Click to view the solution.
</button>
</h2>
<div id="collapse11_5" class="accordion-collapse collapse collapse"
aria-labelledby="heading11_5" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer</strong>: No</p>
<p>The regression line would not be the same due to the change in data
and the resulting impact on mean and standard deviation of the price and
pages.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 65%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-11.6">Problem 11.6</h3>
<p>Suppose Dhruv bootstraps his scatterplot 10,000 times and calculates
a regression line for each resample. It turns out that <span
class="math inline">95\%</span> of his bootstrapped slopes fall in the
interval <span class="math inline">[a, b]</span> and <span
class="math inline">95\%</span> of his bootstrapped intercepts fall in
the interval <span class="math inline">[c, d]</span>. Does this mean
that <span class="math inline">95\%</span> of his predicted prices for a
book with 500 pages fall in the interval <span
class="math inline">[500a+c, 500b+d]</span>?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> Yes</p></li>
<li><p><input type="radio" disabled="" /> No</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading11_6">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse11_6" aria-expanded="true" aria-controls="collapse11_6">
Click to view the solution.
</button>
</h2>
<div id="collapse11_6" class="accordion-collapse collapse collapse"
aria-labelledby="heading11_6" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer</strong>: No</p>
<p>95% of bootstrapped slopes and intercepts fall within specific
intervals does not imply that 95% of predicted prices for a book with
500 pages will also fall within the interval [500a + c, 500b + d].
Because the intervals for slopes and intercepts are calculated
independently, their combination does not account for the covariance
between these regression parameters or the error variance around
predictions. Additionally, combining slope and intercept independently
can result in regression lines that do not pass through the pivotal
point (mean(X), mean(Y)), making them unreliable for accurate
prediction.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 55%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="section"><span class="math display"> </span></h2>
<h4
id="feedback-find-an-error-still-confused-have-a-suggestion-let-us-know-here.">👋
Feedback: Find an error? Still confused? Have a suggestion?
<a href="https://forms.gle/WZ71FchnXU1K154d7">Let us know
here</u></a>.</h4>
<hr />
</body>
</html>
