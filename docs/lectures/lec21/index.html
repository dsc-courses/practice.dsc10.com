<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>Lecture 21 — Practice</title>
  <style>
    /* Default styles provided by pandoc.
    ** See https://pandoc.org/MANUAL.html#variables-for-html for config info.
    */
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    /* The extra [class] is a hack that increases specificity enough to
       override a similar rule in reveal.js */
    ul.task-list[class]{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      font-size: inherit;
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    html { -webkit-text-size-adjust: 100%; }
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      {   }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span.al { color: #ff0000; font-weight: bold; } /* Alert */
    code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
    code span.at { color: #7d9029; } /* Attribute */
    code span.bn { color: #40a070; } /* BaseN */
    code span.bu { color: #008000; } /* BuiltIn */
    code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #4070a0; } /* Char */
    code span.cn { color: #880000; } /* Constant */
    code span.co { color: #60a0b0; font-style: italic; } /* Comment */
    code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
    code span.do { color: #ba2121; font-style: italic; } /* Documentation */
    code span.dt { color: #902000; } /* DataType */
    code span.dv { color: #40a070; } /* DecVal */
    code span.er { color: #ff0000; font-weight: bold; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #40a070; } /* Float */
    code span.fu { color: #06287e; } /* Function */
    code span.im { color: #008000; font-weight: bold; } /* Import */
    code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
    code span.kw { color: #007020; font-weight: bold; } /* Keyword */
    code span.op { color: #666666; } /* Operator */
    code span.ot { color: #007020; } /* Other */
    code span.pp { color: #bc7a00; } /* Preprocessor */
    code span.sc { color: #4070a0; } /* SpecialChar */
    code span.ss { color: #bb6688; } /* SpecialString */
    code span.st { color: #4070a0; } /* String */
    code span.va { color: #19177c; } /* Variable */
    code span.vs { color: #4070a0; } /* VerbatimString */
    code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="../../assets/theme.css" />
  <script defer=""
  src="https://cdn.jsdelivr.net/npm/katex@latest/dist/katex.min.js"></script>
  <script>document.addEventListener("DOMContentLoaded", function () {
 var mathElements = document.getElementsByClassName("math");
 var macros = [];
 for (var i = 0; i < mathElements.length; i++) {
  var texText = mathElements[i].firstChild;
  if (mathElements[i].tagName == "SPAN") {
   katex.render(texText.data, mathElements[i], {
    displayMode: mathElements[i].classList.contains('display'),
    throwOnError: false,
    macros: macros,
    fleqn: false
   });
}}});
  </script>
  <link rel="stylesheet"
  href="https://cdn.jsdelivr.net/npm/katex@latest/dist/katex.min.css" />
</head>
<body>
<header id="title-block-header">
<h1 class="title">Lecture 21 — Practice</h1>
</header>
<p><link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
<!-- add after bootstrap.min.css -->
<link rel="stylesheet" href="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.css"/>
<!-- add after bootstrap.min.js or bootstrap.bundle.min.js -->
<script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script></p>
<!-- for difficulty gauges-->
<script src="https://cdn.plot.ly/plotly-2.16.1.min.js"></script>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-B947E6J6H4"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-B947E6J6H4');
</script>
<p><a href="../../index.html">← return to practice.dsc10.com</a></p>
<hr />
<h1 id="lecture-21-collected-practice-questions">Lecture 21 — Collected
Practice Questions</h1>
<p>Below are practice problems tagged for Lecture <strong>21</strong>
(rendered directly from the original exam/quiz sources).</p>
<hr />
<h2 id="problem-1">Problem 1</h2>
<p>At the San Diego Model Railroad Museum, there are different admission
prices for children, adults, and seniors. Over a period of time, as
tickets are sold, employees keep track of how many of each type of
ticket are sold. These ticket counts (in the order child, adult, senior)
are stored as follows.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>admissions_data <span class="op">=</span> np.array([<span class="dv">550</span>, <span class="dv">1550</span>, <span class="dv">400</span>])</span></code></pre></div>
<p><br></p>
<h3 id="problem-1.1">Problem 1.1</h3>
<p>Complete the code below so that it creates an array
<code>admissions_proportions</code> with the proportions of tickets sold
to each group (in the order child, adult, senior).</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> as_proportion(data):</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> __(a)__</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>admissions_proportions <span class="op">=</span> as_proportion(admissions_data)</span></code></pre></div>
<p>What goes in blank (a)?</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading1_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse1_1" aria-expanded="true" aria-controls="collapse1_1">
Click to view the solution.
</button>
</h2>
<div id="collapse1_1" class="accordion-collapse collapse"
aria-labelledby="heading1_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> <code>data/data.sum()</code></p>
<p>To calculate proportion for each group, we divide each value in the
array (tickets sold to each group) by the sum of all values (total
tickets sold). Remember values in an array can be processed as a
whole.</p>
<hr/>
<h5>Difficulty: ⭐️</h5>
<p>
</p>
<p>The average score on this problem was 95%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-1.2">Problem 1.2</h3>
<p>The museum employees have a model in mind for the proportions in
which they sell tickets to children, adults, and seniors. This model is
stored as follows.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>model <span class="op">=</span> np.array([<span class="fl">0.25</span>, <span class="fl">0.6</span>, <span class="fl">0.15</span>])</span></code></pre></div>
<p>We want to conduct a hypothesis test to determine whether the
admissions data we have is consistent with this model. Which of the
following is the null hypothesis for this test?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> Child, adult, and senior tickets might plausibly be purchased in
proportions 0.25, 0.6, and 0.15.</p></li>
<li><p><input type="radio" disabled="" /> Child, adult, and senior tickets are purchased in proportions 0.25,
0.6, and 0.15.</p></li>
<li><p><input type="radio" disabled="" /> Child, adult, and senior tickets might plausibly be purchased in
proportions other than 0.25, 0.6, and 0.15.</p></li>
<li><p><input type="radio" disabled="" /> Child, adult, and senior tickets, are purchased in proportions other
than 0.25, 0.6, and 0.15.</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading1_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse1_2" aria-expanded="true" aria-controls="collapse1_2">
Click to view the solution.
</button>
</h2>
<div id="collapse1_2" class="accordion-collapse collapse"
aria-labelledby="heading1_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> Child, adult, and senior tickets are
purchased in proportions 0.25, 0.6, and 0.15. (Option 2)</p>
<p>Recall, null hypothesis is the hypothesis that there is no
significant difference between specified populations, any observed
difference being due to sampling or experimental error. So, we assume
the distribution is the same as the model.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 88%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-1.3">Problem 1.3</h3>
<p>Which of the following test statistics could we use to test our
hypotheses? Select all that could work.</p>
<ul class="task-list">
<li><p><input type="checkbox" disabled="" /> sum of differences in proportions</p></li>
<li><p><input type="checkbox" disabled="" /> sum of squared differences in proportions</p></li>
<li><p><input type="checkbox" disabled="" /> mean of differences in proportions</p></li>
<li><p><input type="checkbox" disabled="" /> mean of squared differences in proportions</p></li>
<li><p><input type="checkbox" disabled="" /> none of the above</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading1_3">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse1_3" aria-expanded="true" aria-controls="collapse1_3">
Click to view the solution.
</button>
</h2>
<div id="collapse1_3" class="accordion-collapse collapse"
aria-labelledby="heading1_3" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> sum of squared differences in proportions,
mean of squared differences in proportions (Option 2, 4)</p>
<p>We need to use squared difference to avoid the case that large
positive and negative difference cancel out in the process of
calculating sum or mean, resulting in small sum of difference or mean of
difference that does not reflect the actual deviation. So, we eliminate
Option 1 and 3.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 77%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-1.4">Problem 1.4</h3>
<p>Below, we’ll perform the hypothesis test with a different test
statistic, the mean of the absolute differences in proportions.</p>
<p>Recall that the ticket counts we observed for children, adults, and
seniors are stored in the array
<code>admissions_data  = np.array([550, 1550, 400])</code>, and that our
model is <code>model = np.array([0.25, 0.6, 0.15])</code>.</p>
<p>For our hypothesis test to determine whether the admissions data is
consistent with our model, what is the observed value of the test
statistic? Give your answer as a number between 0 and 1, rounded to
three decimal places. (Suppose that the value you calculated is assigned
to the variable <code>observed_stat</code>, which you will use in later
questions.)</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading1_4">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse1_4" aria-expanded="true" aria-controls="collapse1_4">
Click to view the solution.
</button>
</h2>
<div id="collapse1_4" class="accordion-collapse collapse"
aria-labelledby="heading1_4" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> 0.02</p>
<p>We first calculate the proportion for each value in
<code>admissions_data</code> <span class="math display">\frac{550}{550+1550+400} = 0.22</span> <span class="math display">\frac{1550}{550+1550+400} = 0.62</span> <span class="math display">\frac{400}{550+1550+400} = 0.16</span> So, we have
the distribution of the <code>admissions_data</code></p>
<p>Then, we calculate the observed value of the test statistic (the mean
of the absolute differences in proportions) <span class="math display">\frac{|0.22-0.25|+|0.62-0.6|+|0.16-0.15|}{number\
of\ goups}</span> <span class="math display">=\frac{0.03+0.02+0.01}{3} =
0.02</span></p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 82%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-1.5">Problem 1.5</h3>
<p>Now, we want to simulate the test statistic 10,000 times under the
assumptions of the null hypothesis. Fill in the blanks below to complete
this simulation and calculate the p-value for our hypothesis test.
Assume that the variables <code>admissions_data</code>,
<code>admissions_proportions</code>, <code>model</code>, and
<code>observed_stat</code> are already defined as specified earlier in
the question.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>simulated_stats <span class="op">=</span> np.array([]) </span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i <span class="kw">in</span> np.arange(<span class="dv">10000</span>):</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>    simulated_proportions <span class="op">=</span> as_proportions(np.random.multinomial(__(a)__, __(b)__))</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>    simulated_stat <span class="op">=</span> __(c)__</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>    simulated_stats <span class="op">=</span> np.append(simulated_stats, simulated_stat)</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>p_value <span class="op">=</span> __(d)__</span></code></pre></div>
<p>What goes in blank (a)? What goes in blank (b)? What goes in blank
(c)? What goes in blank (d)?</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading1_5">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse1_5" aria-expanded="true" aria-controls="collapse1_5">
Click to view the solution.
</button>
</h2>
<div id="collapse1_5" class="accordion-collapse collapse"
aria-labelledby="heading1_5" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> (a) <code>admissions_data.sum()</code> (b)
<code>model</code> (c)
<code>np.abs(simulated_proportions - model).mean()</code> (d)
<code>np.count_nonzero(simulated_stats &gt;= observed_stat) / 10000</code></p>
<p>Recall, in <code>np.random.multinomial(n, [p_1, ..., p_k])</code>,
<code>n</code> is the number of experiments, and
<code>[p_1, ..., p_k]</code> is a sequence of probability. The method
returns an array of length k in which each element contains the number
of occurrences of an event, where the probability of the ith event is
<code>p_i</code>.</p>
<p>We want our <code>simulated_proportion</code> to have the same data
size as <code>admissions_data</code>, so we use
<code>admissions_data.sum()</code> in (a).</p>
<p>Since our null hypothesis is based on <code>model</code>, we simulate
based on distribution in <code>model</code>, so we have
<code>model</code> in (b).</p>
<p>In (c), we compute the mean of the absolute differences in
proportions. <code>np.abs(simulated_proportions - model)</code> gives us
a series of absolute differences, and <code>.mean()</code> computes the
mean of the absolute differences.</p>
<p>In (d), we calculate the <code>p_value</code>. Recall, the
<code>p_value</code> is the chance, under the null hypothesis, that the
test statistic is equal to the value that was observed in the data or is
even further in the direction of the alternative.
<code>np.count_nonzero(simulated_stats &gt;= observed_stat)</code> gives
us the number of <code>simulated_stats</code> greater than or equal to
the <code>observed_stat</code> in the 10000 times simulations, so we
need to divide it by <code>10000</code> to compute the proportion of
<code>simulated_stats</code> greater than or equal to the
<code>observed_stat</code>, and this gives us the
<code>p_value</code>.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 79%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-1.6">Problem 1.6</h3>
<p>True or False: the p-value represents the probability that the null
hypothesis is true.</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> True</p></li>
<li><p><input type="radio" disabled="" /> False</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading1_6">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse1_6" aria-expanded="true" aria-controls="collapse1_6">
Click to view the solution.
</button>
</h2>
<div id="collapse1_6" class="accordion-collapse collapse"
aria-labelledby="heading1_6" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> False</p>
<p>Recall, the p-value is the chance, under the null hypothesis, that
the test statistic is equal to the value that was observed in the data
or is even further in the direction of the alternative. It only gives us
the strength of evidence in favor of the null hypothesis, which is
different from “the probability that the null hypothesis is true”.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 64%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-1.7">Problem 1.7</h3>
<p>The new statistic that we used for this hypothesis test, the mean of
the absolute differences in proportions, is in fact closely related to
the total variation distance. Given two arrays of length three,
<code>array_1</code> and <code>array_2</code>, suppose we compute the
mean of the absolute differences in proportions between
<code>array_1</code> and <code>array_2</code> and store the result as
<code>madp</code>. What value would we have to multiply
<code>madp</code> by to obtain the total variation distance
<code>array_1</code> and <code>array_2</code>? Give your answer as a
number rounded to three decimal places.</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading1_7">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse1_7" aria-expanded="true" aria-controls="collapse1_7">
Click to view the solution.
</button>
</h2>
<div id="collapse1_7" class="accordion-collapse collapse"
aria-labelledby="heading1_7" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> 1.5</p>
<p>Recall, the total variation distance (TVD) is the sum of the absolute
differences in proportions, divided by 2. When we compute the mean of
the absolute differences in proportions, we are computing the sum of the
absolute differences in proportions, divided by the number of groups
(which is 3). Thus, to get TVD, we first multiply our current statistics
(the mean of the absolute differences in proportions) by 3, we get the
sum of the absolute differences in proportions. Then according to the
definition of TVD, we divide this value by 2. Thus, we have <span class="math inline">\text{current statistics}\cdot 3 / 2 = \text{current
statistics}\cdot 1.5</span>.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 65%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<p class="meta"><em>Source:</em> sp23-final — Q6</p>
<h2 id="problem-2">Problem 2</h2>
<p>Oren’s favorite bakery in San Diego is Wayfarer. After visiting
frequently, he decides to learn how to make croissants and baguettes
himself, and to do so, he books a trip to France.</p>
<p>Oren is interested in estimating the mean number of sunshine hours in
July across all 10,000+ cities in France. Using the 16 French cities in
<code>sun</code>, Oren constructs a 95% Central Limit Theorem
(CLT)-based confidence interval for the mean sunshine hours of all
cities in France. The interval is of the form <span
class="math inline">[L, R]</span>, where <span
class="math inline">L</span> and <span class="math inline">R</span> are
positive numbers.</p>
<p><br></p>
<h3 id="problem-2.1">Problem 2.1</h3>
<p>Which of the following expressions is equal to the standard deviation
of the number of sunshine hours of the 16 French cities in
<code>sun</code>?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> <span class="math inline">R - L</span></p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">\frac{R - L}{2}</span></p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">\frac{R - L}{4}</span></p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">R + L</span></p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">\frac{R + L}{2}</span></p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">\frac{R + L}{4}</span></p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading2_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse2_1" aria-expanded="true" aria-controls="collapse2_1">
Click to view the solution.
</button>
</h2>
<div id="collapse2_1" class="accordion-collapse collapse"
aria-labelledby="heading2_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer</strong>: <span class="math inline">R - L</span></p>
<p>Note that the 95% CI is of the form of the following:</p>
<p><span class="math display">[\text{Sample Mean} - 2 \cdot \text{SD of
Distribution of Possible Sample Means}, \text{Sample Mean} + 2 \cdot
\text{SD of Distribution of Possible Sample Means}]</span></p>
<p>This making its width <span class="math inline">4 \cdot \text{SD of
Distribution of Possible Sample Means}</span>. We can use the square
root law, the fact that we can use our sample’s SD as an estimate of our
population’s SD when creating a confidence interval, and the fact that
the sample size is 16, to re-write the width as:</p>
<p><span class="math display">
\begin{align*}
\text{width} &amp;= 4 \cdot \text{SD of Distribution of Possible Sample
Means} \\
&amp;= 4 \cdot \left(\frac{\text{Population SD}}{\sqrt{\text{Sample
Size}}}\right) \\
&amp;\approx 4 \cdot \left(\frac{\text{Sample SD}}{\sqrt{\text{Sample
Size}}}\right) \\
&amp;= 4 \cdot \left(\frac{\text{Sample SD}}{4}\right) \\
&amp;= \text{Sample SD}
\end{align*}
</span></p>
<p>Since <span class="math inline">\text{width} = \text{Sample
SD}</span>, and since <span class="math inline">\text{width} = R -
L</span>, we have that <span class="math inline">\text{Sample SD} = R -
L</span>.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 27%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<p><br></p>
<h3 id="problem-2.2">Problem 2.2</h3>
<p>True or False: There is a 95% chance that the interval <span
class="math inline">[L, R]</span> contains the mean number of sunshine
hours in July of all 16 French cities in <code>sun</code>.</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> True</p></li>
<li><p><input type="radio" disabled="" /> False</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading2_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse2_2" aria-expanded="true" aria-controls="collapse2_2">
Click to view the solution.
</button>
</h2>
<div id="collapse2_2" class="accordion-collapse collapse"
aria-labelledby="heading2_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer</strong>: False</p>
<p><span class="math inline">[L, R]</span> contains the sample mean for
sure, since it is centered at the sample mean. There is no probability
associated with this fact since neither <span class="math inline">[L,
R]</span> nor the sample mean are random (given that our sample has
already been drawn).</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 62%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-2.3">Problem 2.3</h3>
<p>True or False: If we collected 1,000 new samples of 16 French cities
and computed the mean of each sample, then about 95% of the new sample
means would be contained in <span class="math inline">[L, R]</span>.</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> True</p></li>
<li><p><input type="radio" disabled="" /> False</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading2_3">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse2_3" aria-expanded="true" aria-controls="collapse2_3">
Click to view the solution.
</button>
</h2>
<div id="collapse2_3" class="accordion-collapse collapse"
aria-labelledby="heading2_3" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer</strong>: False</p>
<p>It is true that if we collected many samples and used each one to
make a 95% confidence interval, about 95% of those confidence intervals
would contain the population mean. However, that’s not what this
statement is addressing. Instead, it’s asking whether the one interval
we created in particular, <span class="math inline">[L,R]</span>, would
contain 95% of other samples’ means. In general, there’s no guarantee of
the proportion of means of other samples that would fall in <span class="math inline">[L, R]</span>; for instance, it’s possible that the
sample that we used to create <span class="math inline">[L, R]</span>
was not a representative sample.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 42%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<p><br></p>
<h3 id="problem-2.4">Problem 2.4</h3>
<p>True or False: If we collected 1,000 new samples of 16 French cities
and created a 95% confidence interval using each one, then chose one of
the 1,000 new intervals at random, the chance that the randomly chosen
interval contains the mean sunshine hours in July across all cities in
France is approximately 95%.</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> True</p></li>
<li><p><input type="radio" disabled="" /> False</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading2_4">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse2_4" aria-expanded="true" aria-controls="collapse2_4">
Click to view the solution.
</button>
</h2>
<div id="collapse2_4" class="accordion-collapse collapse"
aria-labelledby="heading2_4" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer</strong>: True</p>
<p>It is true that if we collected many samples and used each one to
make a 95% confidence interval, about 95% of those confidence intervals
would contain the population mean, as we mentioned above. So, if we
picked one of those confidence intervals at random, there’s an
approximately 95% chance it would contain the population mean.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 57%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<p><br></p>
<h3 id="problem-2.5">Problem 2.5</h3>
<p>True or False: The interval <span class="math inline">[L, R]</span>
is centered at the mean number of sunshine hours in July across all
cities in France.</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> True</p></li>
<li><p><input type="radio" disabled="" /> False</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading2_5">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse2_5" aria-expanded="true" aria-controls="collapse2_5">
Click to view the solution.
</button>
</h2>
<div id="collapse2_5" class="accordion-collapse collapse"
aria-labelledby="heading2_5" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer</strong>: False</p>
<p>It is centered at our sample mean, which is the mean sunshine hours
in July across all cities in France in <code>sun</code>, but not
necessarily at the population mean. We don’t know where the population
mean is!</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 58%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<p>In addition to creating a 95% CLT-based confidence interval for the
mean sunshine hours of all cities in France, Oren would like to create a
72% bootstrap-based confidence interval for the mean sunshine hours of
all cities in France.</p>
<p>Oren resamples from the 16 French sunshine hours in <code>sun</code>
10,000 times and creates an array named <code>french_sunshine</code>
containing 10,000 resampled means. He wants to find the left and right
endpoints of his 72% confidence interval:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>    boot_left <span class="op">=</span> np.percentile(french_sunshine, __(a)__)</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>    boot_right <span class="op">=</span> np.percentile(french_sunshine, __(b)__)</span></code></pre></div>
<p><br></p>
<h3 id="problem-2.6">Problem 2.6</h3>
<p>Fill in the blanks so that <code>boot_left</code> and
<code>boot_right</code> evaluate to the left and right endpoints of a
72% confidence interval for the mean sunshine hours in July across all
cities in France.</p>
<p>What goes in blanks (a) and (b)?</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading2_6">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse2_6" aria-expanded="true" aria-controls="collapse2_6">
Click to view the solution.
</button>
</h2>
<div id="collapse2_6" class="accordion-collapse collapse"
aria-labelledby="heading2_6" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer</strong>: (a): 14, (b): 86</p>
<p>A 72% confidence interval is constructed by taking the middle 72% of
the distribution of resampled means. This means we need to exclude <span class="math inline">100\% - 72\% = 28\%</span> of values – the smallest
14% and the largest 14%. Blank (a), then, is 14, and blank (b) is <span class="math inline">100 - 14 = 86</span>.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 81%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<p>Suppose we are interested in testing the following pair of
hypotheses.</p>
<ul>
<li><p><strong>Null Hypothesis</strong>: The mean number of sunshine
hours of all cities in France in July is equal to 225.</p></li>
<li><p><strong>Alternative Hypothesis</strong>: The mean number of
sunshine hours of all cities in France in July is not equal to
225.</p></li>
</ul>
<p><br></p>
<h3 id="problem-2.7">Problem 2.7</h3>
<p>Suppose that when Oren uses <code>[boot_left, boot_right]</code>, his
72% bootstrap-based confidence interval, he fails to reject the null
hypothesis above. If that’s the case, then when using <span
class="math inline">[L, R]</span>, his 95% CLT-based confidence
interval, what is the conclusion of his hypothesis test?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> Reject the null</p></li>
<li><p><input type="radio" disabled="" /> Fail to reject the null</p></li>
<li><p><input type="radio" disabled="" /> Impossible to tell</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading2_7">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse2_7" aria-expanded="true" aria-controls="collapse2_7">
Click to view the solution.
</button>
</h2>
<div id="collapse2_7" class="accordion-collapse collapse"
aria-labelledby="heading2_7" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer</strong>: Impossible to tell</p>
<p>First, remember that we fail to reject the null whenever the
parameter stated in the null hypothesis (225 in this case) is in the
interval. So we’re told 225 is in the 72% bootstrapped interval. There’s
a possibility that the 72% bootstrapped confidence interval isn’t
completely contained within the 95% CLT interval, since the specific
interval we get back with bootstrapping depends on the random resamples
we get. What that means is that it’s possible for 225 to be in the 72%
bootstrapped interval but not the 95% CLT interval, and it’s also
possible for it to be in the 95% CLT interval. Therefore, given no other
information it’s impossible to tell.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 47%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<p><br></p>
<h3 id="problem-2.8">Problem 2.8</h3>
<p>Suppose that Oren also creates a 72% CLT-based confidence interval
for the mean sunshine hours of all cities in France in July using the
same 16 French cities in <code>sun</code> he started with. When using
his 72% CLT-based confidence interval, he fails to reject the null
hypothesis above. If that’s the case, then when using <span
class="math inline">[L, R]</span>, what is the conclusion of his
hypothesis test?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> Reject the null</p></li>
<li><p><input type="radio" disabled="" /> Fail to reject the null</p></li>
<li><p><input type="radio" disabled="" /> Impossible to tell</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading2_8">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse2_8" aria-expanded="true" aria-controls="collapse2_8">
Click to view the solution.
</button>
</h2>
<div id="collapse2_8" class="accordion-collapse collapse"
aria-labelledby="heading2_8" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer</strong>: Fail to reject the null</p>
<p>If 225 is in the 72% CLT interval, it must be in the 95% CLT
interval, since the two intervals are centered at the same location and
the 95% interval is just wider than the 72% interval. The main
difference between this part and the previous one is the fact that this
72% interval was made with the CLT, not via bootstrapping, even though
they’re likely to be similar.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 72%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<p><br></p>
<h3 id="problem-2.9">Problem 2.9</h3>
<p>True or False: The significance levels of both hypothesis tests
described in part (h) are equal.</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> True</p></li>
<li><p><input type="radio" disabled="" /> False</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading2_9">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse2_9" aria-expanded="true" aria-controls="collapse2_9">
Click to view the solution.
</button>
</h2>
<div id="collapse2_9" class="accordion-collapse collapse"
aria-labelledby="heading2_9" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer</strong>: False</p>
<p>When using a 72% confidence interval, the significance level,
i.e. p-value cutoff, is 28%. When using a 95% confidence interval, the
significance level is 5%.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 62%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<p class="meta"><em>Source:</em> sp24-final — Q10</p>
<h2 id="problem-3">Problem 3</h2>
<p>We want to use the data in <code>apts</code> to test the following
hypotheses:</p>
<ul>
<li><strong>Null Hypothesis:</strong> The rent of the apartments in UTC
and the rents of the apartments in other neighborhoods come from the
same distribution.</li>
<li><strong>Alternative Hypothesis:</strong> The rents of the apartments
in UTC are <strong>higher</strong> than the rents of the apartments in
other neighborhoods on average.</li>
</ul>
<p>While we could answer this question with a permutation test, in this
problem we will explore another way to test these hypotheses. Since this
is a question of whether two samples come from the same unknown
population distribution, we need to construct a “population” to sample
from. We will construct our “population” in the same way as we would for
a permutation test, except we will draw our sample differently. Instead
of shuffling, we will draw our two samples <strong>with
replacement</strong> from the constructed “population”. We will use as
our test statistic the difference in means between the two samples (in
the order <strong>UTC minus elsewhere</strong>).</p>
<p><br></p>
<h3 id="problem-3.1">Problem 3.1</h3>
<p>Suppose the data in <code>apts</code>, which has 800 rows, includes
85 apartments in UTC. Fill in the blanks below so that
<code>p_val</code> evaluates to the p-value for this hypothesis test,
which we will test according to the strategy outlined above.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>diffs <span class="op">=</span> np.array([])</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i <span class="kw">in</span> np.arange(<span class="dv">10000</span>):</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>    utc_sample_mean <span class="op">=</span> __(a)__</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>    elsewhere_sample_mean <span class="op">=</span> __(b)__</span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>    diffs <span class="op">=</span> np.append(diffs, utc_sample_mean <span class="op">-</span> elsewhere_sample_mean)</span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>observed_utc_mean <span class="op">=</span> __(c)__</span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>observed_elsewhere_mean <span class="op">=</span> __(d)__</span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>observed_diff <span class="op">=</span> observed_utc_mean <span class="op">-</span> observed_elsewhere_mean</span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a>p_val <span class="op">=</span> np.count_nonzero(diffs __(e)__ observed_diff) <span class="op">/</span> <span class="dv">10000</span></span></code></pre></div>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading3_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse3_1" aria-expanded="true" aria-controls="collapse3_1">
Click to view the solution.
</button>
</h2>
<div id="collapse3_1" class="accordion-collapse collapse"
aria-labelledby="heading3_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong></p>
<ul>
<li><ol type="a">
<li><code>apts.sample(85, replace=True).get("Rent").mean()</code></li>
</ol></li>
<li><ol start="2" type="a">
<li><code>apts.sample(715, replace=True).get("Rent").mean()</code></li>
</ol></li>
<li><ol start="3" type="a">
<li><code>apts[apts.get("neighborhood")=="UTC"].get("Rent").mean()</code></li>
</ol></li>
<li><ol start="4" type="a">
<li><code>apts[apts.get("neighborhood")!="UTC"].get("Rent").mean()</code></li>
</ol></li>
<li><ol start="5" type="a">
<li><code>&gt;=</code></li>
</ol></li>
</ul>
<p>For blanks (a) and (b), we can gather from context (hypothesis test
description, variable names, and being inside of a for loop) that this
portion of our code needs to repeatedly generate samples of size 85 (the
number of observations in our dataset that are from UTC) and size 715
(the number of observations in our dataset that are not from UTC). We
will then take the means of these samples and assign them to
<code>utc_sample_mean</code> and <code>elsewhere_sample_mean</code>. We
can generate these samples, with replacement, from the rows in our
dataframe, hinting that the correct code for blanks (a) and (b) are:
<code>apts.sample(85, replace=True).get("Rent").mean()</code> and
<code>apts.sample(715, replace=True).get("Rent").mean()</code>.</p>
<p>For blanks (c) and (d), this portion of the code needs to take our
original dataframe and gather the observed means for apartments from UTC
and apartments not from UTC. We can achieve this by querying our
dataframe, grabbing the rent column, and taking the mean. This implies
our correct code for blanks (c) and (d) are:
<code>apts[apts.get("neighborhood")=="UTC"].get("Rent").mean()</code>
and
<code>apts[apts.get("neighborhood")!="UTC"].get("Rent").mean()</code>.</p>
<p>For blank (e), we need to determine, based off of our null and
alternative hypotheses, how we should compare the differences in found
in our simulations against our observed difference. The alternative
indicates that that values of rent of apartments in UTC are
<strong>higher</strong> than the rent of other apartments in other
neighborhoods. Since the observed statistic is calculated by
<code>observed_utc_mean - observed_elsewhere_mean</code>, we want to use
<code>&gt;=</code> in (e) since greater values of <code>diff</code>
indicate that <code>observed_utc_mean</code> is greater than
<code>observed_elsewhere_mean</code> which is in the direction of the
alternative hypothesis.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 70%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-3.2">Problem 3.2</h3>
<p>Now suppose we tested the same hypothesses with a permutation test
using the same test statistic. Which of your answers above (part a)
would need to change? Select all that apply.</p>
<ul class="task-list">
<li><p><input type="checkbox" disabled="" /> blank (a)</p></li>
<li><p><input type="checkbox" disabled="" /> blank (b)</p></li>
<li><p><input type="checkbox" disabled="" /> blank (c)</p></li>
<li><p><input type="checkbox" disabled="" /> blank (d)</p></li>
<li><p><input type="checkbox" disabled="" /> blank (e)</p></li>
<li><p><input type="checkbox" disabled="" /> None of these.</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading3_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse3_2" aria-expanded="true" aria-controls="collapse3_2">
Click to view the solution.
</button>
</h2>
<div id="collapse3_2" class="accordion-collapse collapse"
aria-labelledby="heading3_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> Blanks (a) and (b) would need to change. For
a permutation test, we would shuffle the labels in our <code>apts</code>
dataset and find the <code>utc_sample_mean</code> and
<code>elsewhere_sample_mean</code> of this new shuffled dataset. Note
that this process is done <strong>without replacement</strong> and that
both of these sample means are calculated from <strong>the same shuffle
of our dataset</strong>.</p>
<p>As it currently stands, our code for blanks (a) and (b) do not
reflect this; the current process is <strong>sampling with
replacement</strong> from <strong>two different shuffles of our
dataset.</strong> So, blanks (a) and (b) must change.</p>
<hr/>
<h5>Difficulty: ⭐️</h5>
<p>
</p>
<p>The average score on this problem was 93%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-3.3">Problem 3.3</h3>
<p>Now suppose we test the following pair of hypotheses.</p>
<ul>
<li><strong>Null Hypothesis:</strong> The rents of the apartments in UTC
and the rents of the apartments in other neighborhoods come from the
same distribution.</li>
<li><strong>Alternative Hypothesis:</strong> The rents of the apartments
in UTC are <strong>different</strong> than the rents of the apartments
in other neighborhoods on average.</li>
</ul>
<p>Then we can test this pair of hypotheses by constructing a 95%
confidence interval for a parameter and checking if some particular
number, <span class="math inline">x</span>, falls in that confidence
interval. To do this:</p>
<ol type="i">
<li><p>What parameter should we construct a 95% confidence interval for?
Your answer should be a phrase or short sentence.</p></li>
<li><p>What is the value of <span class="math inline">x</span>? Your
answer should be a number.</p></li>
<li><p>Suppose <span class="math inline">x</span> is in the 95%
confidence interval we create. Select all valid conclusions
below.</p></li>
</ol>
<ul class="task-list">
<li><p><input type="checkbox" disabled="" /> We reject the null hypothesis at the 5% significance level.</p></li>
<li><p><input type="checkbox" disabled="" /> We reject the null hypothesis at the 1% significance level.</p></li>
<li><p><input type="checkbox" disabled="" /> We fail to reject the null hypothesis at the 5% significance
level.</p></li>
<li><p><input type="checkbox" disabled="" /> We fail to reject the null hypothesis at the 1% significance
level.</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading3_3">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse3_3" aria-expanded="true" aria-controls="collapse3_3">
Click to view the solution.
</button>
</h2>
<div id="collapse3_3" class="accordion-collapse collapse"
aria-labelledby="heading3_3" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong></p>
<ul>
<li>(i) The average rent of an apartment in UTC minus the average rent
of an apartment elsewhere, or vice versa.</li>
<li>(ii) 0.</li>
<li>(iii) 3rd and 4th options.</li>
</ul>
<p>For (i), we need to construct a confidence interval for a parameter
that allows us to make assessments about our null and alternative
hypotheses. Since these two hypotheses discuss whether or not there
exists a <strong>difference, on average</strong>, for rents of
apartments in UTC versus rents of apartments elsewhere, our parameter
should be: <strong>the difference in rent for apartments in UTC and
apartments elsewhere on average, or vice versa</strong> (The average
rent of an apartment in UTC minus the average rent of an apartment
elsewhere, or vice versa.)</p>
<p>For (ii), <span class="math inline">x</span> must be 0 because the
value zero holds special significance in our confidence interval; the
inclusion of zero within our confidence interval suggests that “there is
no difference between rent of apartments in UTC and apartments
elsewhere, on average”. Whether or not zero is included within our
confidence interval tells us whether we should fail to reject or reject
the null hypothesis.</p>
<p>For (iii), if <span class="math inline">x = 0</span> lies within our
95% confidence interval, it suggests that there is a sizable chance that
there is no difference between rent of apartments in UTC and apartments
elsewhere, on average, which is a conclusion in favor of our null
hypothesis; this means that any options which reject the null
hypothesis, such as the 1st and 2st options, are wrong. The 3rd option
(correctly) fails to the reject the null hypothesis at the 5%
significance level, which is exactly what a 95% confidence interval that
includes <span class="math inline">x = 0</span> would support. The 4th
option is also correct because any evidence weak enough to fail to
reject the null hypothesis at the 5% significance level will also fail
at a tighter, more rigorous significance level (such as 1%).</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 36%. </p>
<hr/>
<h5>Difficulty:
⭐️⭐️⭐️</h5>
<p>The average score on this problem was 53%.
</p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>The average score on this problem was
77%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="problem-4">Problem 4</h2>
<p>Let’s suppose there are 4 different types of shots a basketball
player can take – layups, midrange shots, threes, and free throws.</p>
<p>The DataFrame <code>breakdown</code> has 4 rows and 50 columns – one
row for each of the 4 shot types mentioned above, and one column for
each of 50 different players. Each column of <code>breakdown</code>
describes the distribution of shot types for a single player.</p>
<p>The first few columns of <code>breakdown</code> are shown below.</p>
<center><img src='../../assets/images/wi22-final/head-to-head.png' width=30%></center>
<p>For instance, 30% of Kelsey Plum’s shots are layups, 30% of her shots
are midrange shots, 20% of her shots are threes, and 20% of her shots
are free throws.</p>
<p><br></p>
<h3 id="problem-4.1">Problem 4.1</h3>
<p>Below, we’ve drawn an overlaid bar chart showing the shot
distributions of Kelsey Plum and Chiney Ogwumike, a player on the Los
Angeles Sparks.</p>
<center><img src='../../assets/images/wi22-final/tvd.png' width=50%></center>
<p><br></p>
<p>What is the <strong>total variation distance</strong> (TVD) between
Kelsey Plum’s shot distribution and Chiney Ogwumike’s shot distribution?
Give your answer as a <strong>proportion</strong> between 0 and 1 (not a
percentage) rounded to three decimal places.</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading4_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse4_1" aria-expanded="true" aria-controls="collapse4_1">
Click to view the solution.
</button>
</h2>
<div id="collapse4_1" class="accordion-collapse collapse"
aria-labelledby="heading4_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> 0.2</p>
<p>Recall, the TVD is the sum of the absolute differences in
proportions, divided by 2. The absolute differences in proportions for
each category are as follows:</p>
<ul>
<li>Free Throws: <span class="math inline">|0.05 - 0.2| =
0.15</span></li>
<li>Threes: <span class="math inline">|0.35 - 0.2| = 0.15</span></li>
<li>Midrange: <span class="math inline">|0.35 - 0.3| = 0.05</span></li>
<li>Layups: <span class="math inline">|0.25 - 0.3| = 0.05</span></li>
</ul>
<p>Then, we have</p>
<p><span class="math display">\text{TVD} = \frac{1}{2} (0.15 + 0.15 +
0.05 + 0.05) = 0.2</span></p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 84%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-4.2">Problem 4.2</h3>
<p>Recall, <code>breakdown</code> has information for 50 different
players. We want to find the player whose shot distribution is the
<strong>most similar to Kelsey Plum</strong>, i.e. has the lowest TVD
with Kelsey Plum’s shot distribution.</p>
<p>Fill in the blanks below so that <code>most_sim_player</code>
evaluates to the name of the player with the most similar shot
distribution to Kelsey Plum. Assume that the column named
<code>'Kelsey Plum'</code> is the first column in <code>breakdown</code>
(and again that <code>breakdown</code> has 50 columns total).</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>most_sim_player <span class="op">=</span> <span class="st">&#39;&#39;</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>lowest_tvd_so_far <span class="op">=</span> __(a)__</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>other_players <span class="op">=</span> np.array(breakdown.columns).take(__(b)__)</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> player <span class="kw">in</span> other_players:</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>    player_tvd <span class="op">=</span> tvd(breakdown.get(<span class="st">&#39;Kelsey Plum&#39;</span>),</span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>                     breakdown.get(player))</span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> player_tvd <span class="op">&lt;</span> lowest_tvd_so_far:</span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>        lowest_tvd_so_far <span class="op">=</span> player_tvd</span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>        __(c)__</span></code></pre></div>
<ol type="1">
<li>What goes in blank (a)?</li>
</ol>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> -1</p></li>
<li><p><input type="radio" disabled="" /> -0.5</p></li>
<li><p><input type="radio" disabled="" /> 0</p></li>
<li><p><input type="radio" disabled="" /> 0.5</p></li>
<li><p><input type="radio" disabled="" /> 1</p></li>
<li><p><input type="radio" disabled="" /> <code>np.array([])</code></p></li>
<li><p><input type="radio" disabled="" /> <code>''</code></p></li>
</ul>
<ol start="2" type="1">
<li><p>What goes in blank (b)?</p></li>
<li><p>What goes in blank (c)?</p></li>
</ol>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading4_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse4_2" aria-expanded="true" aria-controls="collapse4_2">
Click to view the solution.
</button>
</h2>
<div id="collapse4_2" class="accordion-collapse collapse"
aria-labelledby="heading4_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answers:</strong> 1, <code>np.arange(1, 50)</code>,
<code>most_sim_player = player</code></p>
<p>Let’s try and understand the code provided to us. It appears that
we’re looping over the names of all other players, each time computing
the TVD between Kelsey Plum’s shot distribution and that player’s shot
distribution. If the TVD calculated in an iteration of the
<code>for</code>-loop (<code>player_tvd</code>) is less than the
previous lowest TVD (<code>lowest_tvd_so_far</code>), the current player
(<code>player</code>) is now the most “similar” to Kelsey Plum, and so
we store their TVD and name (in <code>most_sim_player</code>).</p>
<p>Before the <code>for</code>-loop, we haven’t looked at any other
players, so we don’t have values to store in
<code>most_sim_player</code> and <code>lowest_tvd_so_far</code>. On the
first iteration of the <code>for</code>-loop, both of these values need
to be updated to reflect Kelsey Plum’s similarity with the first player
in <code>other_players</code>. This is because, if we’ve only looked at
one player, that player is the most similar to Kelsey Plum.
<code>most_sim_player</code> is already initialized as an empty string,
and we will specify how to “update” <code>most_sim_player</code> in
blank (c). For blank (a), we need to pick a value of
<code>lowest_tvd_so_far</code> that we can <strong>guarantee</strong>
will be updated on the first iteration of the <code>for</code>-loop.
Recall, TVDs range from 0 to 1, with 0 meaning “most similar” and 1
meaning “most different”. This means that no matter what, the TVD
between Kelsey Plum’s distribution and the first player’s distribution
will be less than 1*, and so if we initialize
<code>lowest_tvd_so_far</code> to 1 before the <code>for</code>-loop, we
know it will be updated on the first iteration.</p>
<ul>
<li>It’s possible that the TVD between Kelsey Plum’s shot distribution
and the first other player’s shot distribution is equal to 1, rather
than being less than 1. If that were to happen, our code would still
generate the correct answer, but <code>lowest_tvd_so_far</code> and
<code>most_sim_player</code> wouldn’t be updated on the first iteration.
Rather, they’d be updated on the first iteration where
<code>player_tvd</code> is strictly less than 1. (We’d expect that the
TVDs between all pairs of players are neither exactly 0 nor exactly 1,
so this is not a practical issue.) To avoid this issue entirely, we
could change <code>if player_tvd &lt; lowest_tvd_so_far</code> to
<code>if player_tvd &lt;= lowest_tvd_so_far</code>, which would make
sure that even if the first TVD is 1, both
<code>lowest_tvd_so_far</code> and <code>most_sim_player</code> are
updated on the first iteration.</li>
<li>Note that we could have initialized <code>lowest_tvd_so_far</code>
to a value larger than 1 as well. Suppose we initialized it to 55 (an
arbitrary positive integer). On the first iteration of the
<code>for</code>-loop, <code>player_tvd</code> will be less than 55, and
so <code>lowest_tvd_so_far</code> will be updated.</li>
</ul>
<p>Then, we need <code>other_players</code> to be an array containing
the names of all players other than Kelsey Plum, whose name is stored at
position 0 in <code>breakdown.columns</code>. We are told that there are
50 players total, i.e. that there are 50 columns in
<code>breakdown</code>. We want to <code>take</code> the elements in
<code>breakdown.columns</code> at positions 1, 2, 3, …, 49 (the last
element), and the call to <code>np.arange</code> that generates this
sequence of positions is <code>np.arange(1, 50)</code>. (Remember,
<code>np.arange(a, b)</code> does not include the second integer!)</p>
<p>In blank (c), as mentioned in the explanation for blank (a), we need
to update the value of <code>most_sim_player</code>. (Note that we only
arrive at this line if <code>player_tvd</code> is the lowest pairwise
TVD we’ve seen so far.) All this requires is
<code>most_sim_player = player</code>, since <code>player</code>
contains the name of the player who we are looking at in the current
iteration of the <code>for</code>-loop.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 70%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-4.3">Problem 4.3</h3>
<p>Let’s again consider the shot distributions of Kelsey Plum and Cheney
Ogwumike.</p>
<center><img src='../../assets/images/wi22-final/tvd.png' width=50%></center>
<p>We define the <strong>maximum squared distance</strong> (MSD) between
two categorical distributions as the <strong>largest squared difference
between the proportions of any category</strong>.</p>
<p>What is the MSD between Kelsey Plum’s shot distribution and Chiney
Ogwumike’s shot distribution? Give your answer as a
<strong>proportion</strong> between 0 and 1 (not a percentage) rounded
to three decimal places.</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading4_3">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse4_3" aria-expanded="true" aria-controls="collapse4_3">
Click to view the solution.
</button>
</h2>
<div id="collapse4_3" class="accordion-collapse collapse"
aria-labelledby="heading4_3" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> 0.023</p>
<p>Recall, in the solution to the first subpart of this problem, we
calculated the absolute differences between the proportions of each
category.</p>
<ul>
<li>Free Throws: <span class="math inline">|0.05 - 0.2| =
0.15</span></li>
<li>Threes: <span class="math inline">|0.35 - 0.2| = 0.15</span></li>
<li>Midrange: <span class="math inline">|0.35 - 0.3| = 0.05</span></li>
<li>Layups: <span class="math inline">|0.25 - 0.3| = 0.05</span></li>
</ul>
<p>The squared differences between the proportions of each category are
computed by squaring the results in the list above (e.g. for Free Throws
we’d have <span class="math inline">(0.05 - 0.2)^2 = 0.15^2</span>). To
find the maximum squared difference, then, all we need to do is find the
largest of <span class="math inline">0.15^2</span>, <span class="math inline">0.15^2</span>, <span class="math inline">0.05^2</span>, and <span class="math inline">0.05^2</span>. Since <span class="math inline">0.15
&gt; 0.05</span>, we have that the maximum squared distance is <span class="math inline">0.15^2 = 0.0225</span>, which rounds to <span class="math inline">0.023</span>.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 85%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-4.4">Problem 4.4</h3>
<p>For your convenience, we show the first few columns of
<code>breakdown</code> again below.</p>
<center><img src='../../assets/images/wi22-final/head-to-head.png' width=30%></center>
<p>In basketball:</p>
<ul>
<li>layups are worth 2 points,</li>
<li>midrange shots are worth 2 points,</li>
<li>threes are worth 3 points, and</li>
<li>free throws are worth 1 point</li>
</ul>
<p>Suppose that Kelsey Plum is guaranteed to shoot exactly 10 shots a
game. The type of each shot is drawn from the <code>'Kelsey Plum'</code>
column of <code>breakdown</code> (meaning that, for example, there is a
30% chance each shot is a layup).</p>
<p>Fill in the blanks below to complete the definition of the function
<code>simulate_points</code>, which simulates the number of points
Kelsey Plum scores in a single game. (<code>simulate_points</code>
should return a single number.)</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> simulate_points():</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>    shots <span class="op">=</span> np.random.multinomial(__(a)__, breakdown.get(<span class="st">&#39;Kelsey Plum&#39;</span>))</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>    possible_points <span class="op">=</span> np.array([<span class="dv">2</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">1</span>])</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> __(b)__</span></code></pre></div>
<ol type="1">
<li>What goes in blank (a)?</li>
<li>What goes in blank (b)?</li>
</ol>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading4_4">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse4_4" aria-expanded="true" aria-controls="collapse4_4">
Click to view the solution.
</button>
</h2>
<div id="collapse4_4" class="accordion-collapse collapse"
aria-labelledby="heading4_4" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answers:</strong> <code>10</code>,
<code>(shots * possible_points).sum()</code></p>
<p>To simulate the number of points Kelsey Plum scores in a single game,
we need to:</p>
<ol type="1">
<li>Simulate the number of shots she takes of each type (layups,
midranges, threes, free throws).</li>
<li>Using the simulated distribution in step 1, find the total number of
points she scores – specifically, add 2 for every layup, 2 for every
midrange, 3 for every three, and 1 for every free throw.</li>
</ol>
<p>To simulate the number of shots she takes of each type, we use
<code>np.random.multinomial</code>. This is because each shot,
independently of all other shots, has a 30% chance of being a layup, a
30% chance of being a midrange, and so on. What goes in blank (a) is the
number of shots she is taking in total; here, that is 10.
<code>shots</code> will be an array of length 4 containing the number of
shots of each type - for instance, <code>shots</code> may be
<code>np.array([3, 4, 2, 1])</code>, which would mean she took 3 layups,
4 midranges, 2 threes, and 1 free throw.</p>
<p>Now that we have <code>shots</code>, we need to factor in how many
points each type of shot is worth. This can be accomplished by
multiplying <code>shots</code> with <code>possible_points</code>, which
was already defined for us. Using the example where <code>shots</code>
is <code>np.array([3, 4, 2, 1])</code>,
<code>shots * possible_points</code> evaluates to
<code>np.array([6, 8, 6, 1])</code>, which would mean she scored 6
points from layups, 8 points from midranges, and so on. Then, to find
the total number of points she scored, we need to compute the sum of
this array, either using the <code>np.sum</code> function or
<code>.sum()</code> method. As such, the two correct answers for blank
(b) are <code>(shots * possible_points).sum()</code> and
<code>np.sum(shots * possible_points)</code>.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 84%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="problem-5">Problem 5</h2>
<p>Let’s suppose there are 4 different types of shots a basketball
player can take – layups, midrange shots, threes, and free throws.</p>
<p>The DataFrame <code>breakdown</code> has 4 rows and 50 columns – one
row for each of the 4 shot types mentioned above, and one column for
each of 50 different players. Each column of <code>breakdown</code>
describes the distribution of shot types for a single player.</p>
<p>The first few columns of <code>breakdown</code> are shown below.</p>
<center><img src='../../assets/images/wi22-final/head-to-head.png' width=30%></center>
<p>For instance, 30% of Kelsey Plum’s shots are layups, 30% of her shots
are midrange shots, 20% of her shots are threes, and 20% of her shots
are free throws.</p>
<p><br></p>
<h3 id="problem-5.1">Problem 5.1</h3>
<p>Below, we’ve drawn an overlaid bar chart showing the shot
distributions of Kelsey Plum and Chiney Ogwumike, a player on the Los
Angeles Sparks.</p>
<center><img src='../../assets/images/wi22-final/tvd.png' width=50%></center>
<p><br></p>
<p>What is the <strong>total variation distance</strong> (TVD) between
Kelsey Plum’s shot distribution and Chiney Ogwumike’s shot distribution?
Give your answer as a <strong>proportion</strong> between 0 and 1 (not a
percentage) rounded to three decimal places.</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading5_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse5_1" aria-expanded="true" aria-controls="collapse5_1">
Click to view the solution.
</button>
</h2>
<div id="collapse5_1" class="accordion-collapse collapse"
aria-labelledby="heading5_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> 0.2</p>
<p>Recall, the TVD is the sum of the absolute differences in
proportions, divided by 2. The absolute differences in proportions for
each category are as follows:</p>
<ul>
<li>Free Throws: <span class="math inline">|0.05 - 0.2| =
0.15</span></li>
<li>Threes: <span class="math inline">|0.35 - 0.2| = 0.15</span></li>
<li>Midrange: <span class="math inline">|0.35 - 0.3| = 0.05</span></li>
<li>Layups: <span class="math inline">|0.25 - 0.3| = 0.05</span></li>
</ul>
<p>Then, we have</p>
<p><span class="math display">\text{TVD} = \frac{1}{2} (0.15 + 0.15 +
0.05 + 0.05) = 0.2</span></p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 84%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-5.2">Problem 5.2</h3>
<p>Recall, <code>breakdown</code> has information for 50 different
players. We want to find the player whose shot distribution is the
<strong>most similar to Kelsey Plum</strong>, i.e. has the lowest TVD
with Kelsey Plum’s shot distribution.</p>
<p>Fill in the blanks below so that <code>most_sim_player</code>
evaluates to the name of the player with the most similar shot
distribution to Kelsey Plum. Assume that the column named
<code>'Kelsey Plum'</code> is the first column in <code>breakdown</code>
(and again that <code>breakdown</code> has 50 columns total).</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>most_sim_player <span class="op">=</span> <span class="st">&#39;&#39;</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>lowest_tvd_so_far <span class="op">=</span> __(a)__</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>other_players <span class="op">=</span> np.array(breakdown.columns).take(__(b)__)</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> player <span class="kw">in</span> other_players:</span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>    player_tvd <span class="op">=</span> tvd(breakdown.get(<span class="st">&#39;Kelsey Plum&#39;</span>),</span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>                     breakdown.get(player))</span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> player_tvd <span class="op">&lt;</span> lowest_tvd_so_far:</span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>        lowest_tvd_so_far <span class="op">=</span> player_tvd</span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a>        __(c)__</span></code></pre></div>
<ol type="1">
<li>What goes in blank (a)?</li>
</ol>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> -1</p></li>
<li><p><input type="radio" disabled="" /> -0.5</p></li>
<li><p><input type="radio" disabled="" /> 0</p></li>
<li><p><input type="radio" disabled="" /> 0.5</p></li>
<li><p><input type="radio" disabled="" /> 1</p></li>
<li><p><input type="radio" disabled="" /> <code>np.array([])</code></p></li>
<li><p><input type="radio" disabled="" /> <code>''</code></p></li>
</ul>
<ol start="2" type="1">
<li><p>What goes in blank (b)?</p></li>
<li><p>What goes in blank (c)?</p></li>
</ol>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading5_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse5_2" aria-expanded="true" aria-controls="collapse5_2">
Click to view the solution.
</button>
</h2>
<div id="collapse5_2" class="accordion-collapse collapse"
aria-labelledby="heading5_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answers:</strong> 1, <code>np.arange(1, 50)</code>,
<code>most_sim_player = player</code></p>
<p>Let’s try and understand the code provided to us. It appears that
we’re looping over the names of all other players, each time computing
the TVD between Kelsey Plum’s shot distribution and that player’s shot
distribution. If the TVD calculated in an iteration of the
<code>for</code>-loop (<code>player_tvd</code>) is less than the
previous lowest TVD (<code>lowest_tvd_so_far</code>), the current player
(<code>player</code>) is now the most “similar” to Kelsey Plum, and so
we store their TVD and name (in <code>most_sim_player</code>).</p>
<p>Before the <code>for</code>-loop, we haven’t looked at any other
players, so we don’t have values to store in
<code>most_sim_player</code> and <code>lowest_tvd_so_far</code>. On the
first iteration of the <code>for</code>-loop, both of these values need
to be updated to reflect Kelsey Plum’s similarity with the first player
in <code>other_players</code>. This is because, if we’ve only looked at
one player, that player is the most similar to Kelsey Plum.
<code>most_sim_player</code> is already initialized as an empty string,
and we will specify how to “update” <code>most_sim_player</code> in
blank (c). For blank (a), we need to pick a value of
<code>lowest_tvd_so_far</code> that we can <strong>guarantee</strong>
will be updated on the first iteration of the <code>for</code>-loop.
Recall, TVDs range from 0 to 1, with 0 meaning “most similar” and 1
meaning “most different”. This means that no matter what, the TVD
between Kelsey Plum’s distribution and the first player’s distribution
will be less than 1*, and so if we initialize
<code>lowest_tvd_so_far</code> to 1 before the <code>for</code>-loop, we
know it will be updated on the first iteration.</p>
<ul>
<li>It’s possible that the TVD between Kelsey Plum’s shot distribution
and the first other player’s shot distribution is equal to 1, rather
than being less than 1. If that were to happen, our code would still
generate the correct answer, but <code>lowest_tvd_so_far</code> and
<code>most_sim_player</code> wouldn’t be updated on the first iteration.
Rather, they’d be updated on the first iteration where
<code>player_tvd</code> is strictly less than 1. (We’d expect that the
TVDs between all pairs of players are neither exactly 0 nor exactly 1,
so this is not a practical issue.) To avoid this issue entirely, we
could change <code>if player_tvd &lt; lowest_tvd_so_far</code> to
<code>if player_tvd &lt;= lowest_tvd_so_far</code>, which would make
sure that even if the first TVD is 1, both
<code>lowest_tvd_so_far</code> and <code>most_sim_player</code> are
updated on the first iteration.</li>
<li>Note that we could have initialized <code>lowest_tvd_so_far</code>
to a value larger than 1 as well. Suppose we initialized it to 55 (an
arbitrary positive integer). On the first iteration of the
<code>for</code>-loop, <code>player_tvd</code> will be less than 55, and
so <code>lowest_tvd_so_far</code> will be updated.</li>
</ul>
<p>Then, we need <code>other_players</code> to be an array containing
the names of all players other than Kelsey Plum, whose name is stored at
position 0 in <code>breakdown.columns</code>. We are told that there are
50 players total, i.e. that there are 50 columns in
<code>breakdown</code>. We want to <code>take</code> the elements in
<code>breakdown.columns</code> at positions 1, 2, 3, …, 49 (the last
element), and the call to <code>np.arange</code> that generates this
sequence of positions is <code>np.arange(1, 50)</code>. (Remember,
<code>np.arange(a, b)</code> does not include the second integer!)</p>
<p>In blank (c), as mentioned in the explanation for blank (a), we need
to update the value of <code>most_sim_player</code>. (Note that we only
arrive at this line if <code>player_tvd</code> is the lowest pairwise
TVD we’ve seen so far.) All this requires is
<code>most_sim_player = player</code>, since <code>player</code>
contains the name of the player who we are looking at in the current
iteration of the <code>for</code>-loop.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 70%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-5.3">Problem 5.3</h3>
<p>Let’s again consider the shot distributions of Kelsey Plum and Cheney
Ogwumike.</p>
<center><img src='../../assets/images/wi22-final/tvd.png' width=50%></center>
<p>We define the <strong>maximum squared distance</strong> (MSD) between
two categorical distributions as the <strong>largest squared difference
between the proportions of any category</strong>.</p>
<p>What is the MSD between Kelsey Plum’s shot distribution and Chiney
Ogwumike’s shot distribution? Give your answer as a
<strong>proportion</strong> between 0 and 1 (not a percentage) rounded
to three decimal places.</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading5_3">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse5_3" aria-expanded="true" aria-controls="collapse5_3">
Click to view the solution.
</button>
</h2>
<div id="collapse5_3" class="accordion-collapse collapse"
aria-labelledby="heading5_3" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> 0.023</p>
<p>Recall, in the solution to the first subpart of this problem, we
calculated the absolute differences between the proportions of each
category.</p>
<ul>
<li>Free Throws: <span class="math inline">|0.05 - 0.2| =
0.15</span></li>
<li>Threes: <span class="math inline">|0.35 - 0.2| = 0.15</span></li>
<li>Midrange: <span class="math inline">|0.35 - 0.3| = 0.05</span></li>
<li>Layups: <span class="math inline">|0.25 - 0.3| = 0.05</span></li>
</ul>
<p>The squared differences between the proportions of each category are
computed by squaring the results in the list above (e.g. for Free Throws
we’d have <span class="math inline">(0.05 - 0.2)^2 = 0.15^2</span>). To
find the maximum squared difference, then, all we need to do is find the
largest of <span class="math inline">0.15^2</span>, <span class="math inline">0.15^2</span>, <span class="math inline">0.05^2</span>, and <span class="math inline">0.05^2</span>. Since <span class="math inline">0.15
&gt; 0.05</span>, we have that the maximum squared distance is <span class="math inline">0.15^2 = 0.0225</span>, which rounds to <span class="math inline">0.023</span>.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 85%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-5.4">Problem 5.4</h3>
<p>For your convenience, we show the first few columns of
<code>breakdown</code> again below.</p>
<center><img src='../../assets/images/wi22-final/head-to-head.png' width=30%></center>
<p>In basketball:</p>
<ul>
<li>layups are worth 2 points,</li>
<li>midrange shots are worth 2 points,</li>
<li>threes are worth 3 points, and</li>
<li>free throws are worth 1 point</li>
</ul>
<p>Suppose that Kelsey Plum is guaranteed to shoot exactly 10 shots a
game. The type of each shot is drawn from the <code>'Kelsey Plum'</code>
column of <code>breakdown</code> (meaning that, for example, there is a
30% chance each shot is a layup).</p>
<p>Fill in the blanks below to complete the definition of the function
<code>simulate_points</code>, which simulates the number of points
Kelsey Plum scores in a single game. (<code>simulate_points</code>
should return a single number.)</p>
<div class="sourceCode" id="cb10"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> simulate_points():</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>    shots <span class="op">=</span> np.random.multinomial(__(a)__, breakdown.get(<span class="st">&#39;Kelsey Plum&#39;</span>))</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>    possible_points <span class="op">=</span> np.array([<span class="dv">2</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">1</span>])</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> __(b)__</span></code></pre></div>
<ol type="1">
<li>What goes in blank (a)?</li>
<li>What goes in blank (b)?</li>
</ol>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading5_4">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse5_4" aria-expanded="true" aria-controls="collapse5_4">
Click to view the solution.
</button>
</h2>
<div id="collapse5_4" class="accordion-collapse collapse"
aria-labelledby="heading5_4" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answers:</strong> <code>10</code>,
<code>(shots * possible_points).sum()</code></p>
<p>To simulate the number of points Kelsey Plum scores in a single game,
we need to:</p>
<ol type="1">
<li>Simulate the number of shots she takes of each type (layups,
midranges, threes, free throws).</li>
<li>Using the simulated distribution in step 1, find the total number of
points she scores – specifically, add 2 for every layup, 2 for every
midrange, 3 for every three, and 1 for every free throw.</li>
</ol>
<p>To simulate the number of shots she takes of each type, we use
<code>np.random.multinomial</code>. This is because each shot,
independently of all other shots, has a 30% chance of being a layup, a
30% chance of being a midrange, and so on. What goes in blank (a) is the
number of shots she is taking in total; here, that is 10.
<code>shots</code> will be an array of length 4 containing the number of
shots of each type - for instance, <code>shots</code> may be
<code>np.array([3, 4, 2, 1])</code>, which would mean she took 3 layups,
4 midranges, 2 threes, and 1 free throw.</p>
<p>Now that we have <code>shots</code>, we need to factor in how many
points each type of shot is worth. This can be accomplished by
multiplying <code>shots</code> with <code>possible_points</code>, which
was already defined for us. Using the example where <code>shots</code>
is <code>np.array([3, 4, 2, 1])</code>,
<code>shots * possible_points</code> evaluates to
<code>np.array([6, 8, 6, 1])</code>, which would mean she scored 6
points from layups, 8 points from midranges, and so on. Then, to find
the total number of points she scored, we need to compute the sum of
this array, either using the <code>np.sum</code> function or
<code>.sum()</code> method. As such, the two correct answers for blank
(b) are <code>(shots * possible_points).sum()</code> and
<code>np.sum(shots * possible_points)</code>.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 84%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-5.5">Problem 5.5</h3>
<p>True or False: If we call <code>simulate_points()</code> 10,000 times
and plot a histogram of the results, the distribution will look roughly
normal.</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> True</p></li>
<li><p><input type="radio" disabled="" /> False</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading5_5">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse5_5" aria-expanded="true" aria-controls="collapse5_5">
Click to view the solution.
</button>
</h2>
<div id="collapse5_5" class="accordion-collapse collapse"
aria-labelledby="heading5_5" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer: </strong> True</p>
<p>The answer is True because of the Central Limit Theorem. Recall, the
CLT states that no matter what the population distribution looks like,
if you take many repeated samples with replacement, the distribution of
the sample means and sample sums will be roughly normal.
<code>simulate_points()</code> returns the sum of a sample of size 10
drawn with replacement from a population, and so if we generate many
sample sums, the distribution of those sample sums will be roughly
normal.</p>
<p>The distribution we are drawing from is the one below.</p>
<center>
<table class="table" style="width:60%">
<thead>
<tr>
<th scope="col">Type</th>
<th scope="col">Points</th>
<th scope="col">Probability</th>
</tr>
</thead>
<tbody>
<tr>
<th scope="row">Layups</th>
<td>2</td>
<td>0.3</td>
</tr>
<tr>
<th scope="row">Midrange</th>
<td>2</td>
<td>0.3</td>
</tr>
<tr>
<th scope="row">Threes</th>
<td>3</td>
<td>0.2</td>
</tr>
<tr>
<th scope="row">Free Throws</th>
<td>1</td>
<td>0.2</td>
</tr>
</tbody>
</table>
</center>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 78%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
</body>
</html>
