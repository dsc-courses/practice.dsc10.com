<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>Lecture 20 — Practice</title>
  <style>
    /* Default styles provided by pandoc.
    ** See https://pandoc.org/MANUAL.html#variables-for-html for config info.
    */
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    /* The extra [class] is a hack that increases specificity enough to
       override a similar rule in reveal.js */
    ul.task-list[class]{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      font-size: inherit;
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    html { -webkit-text-size-adjust: 100%; }
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      {   }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span.al { color: #ff0000; font-weight: bold; } /* Alert */
    code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
    code span.at { color: #7d9029; } /* Attribute */
    code span.bn { color: #40a070; } /* BaseN */
    code span.bu { color: #008000; } /* BuiltIn */
    code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #4070a0; } /* Char */
    code span.cn { color: #880000; } /* Constant */
    code span.co { color: #60a0b0; font-style: italic; } /* Comment */
    code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
    code span.do { color: #ba2121; font-style: italic; } /* Documentation */
    code span.dt { color: #902000; } /* DataType */
    code span.dv { color: #40a070; } /* DecVal */
    code span.er { color: #ff0000; font-weight: bold; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #40a070; } /* Float */
    code span.fu { color: #06287e; } /* Function */
    code span.im { color: #008000; font-weight: bold; } /* Import */
    code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
    code span.kw { color: #007020; font-weight: bold; } /* Keyword */
    code span.op { color: #666666; } /* Operator */
    code span.ot { color: #007020; } /* Other */
    code span.pp { color: #bc7a00; } /* Preprocessor */
    code span.sc { color: #4070a0; } /* SpecialChar */
    code span.ss { color: #bb6688; } /* SpecialString */
    code span.st { color: #4070a0; } /* String */
    code span.va { color: #19177c; } /* Variable */
    code span.vs { color: #4070a0; } /* VerbatimString */
    code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="../../assets/theme.css" />
  <script defer=""
  src="https://cdn.jsdelivr.net/npm/katex@latest/dist/katex.min.js"></script>
  <script>document.addEventListener("DOMContentLoaded", function () {
 var mathElements = document.getElementsByClassName("math");
 var macros = [];
 for (var i = 0; i < mathElements.length; i++) {
  var texText = mathElements[i].firstChild;
  if (mathElements[i].tagName == "SPAN") {
   katex.render(texText.data, mathElements[i], {
    displayMode: mathElements[i].classList.contains('display'),
    throwOnError: false,
    macros: macros,
    fleqn: false
   });
}}});
  </script>
  <link rel="stylesheet"
  href="https://cdn.jsdelivr.net/npm/katex@latest/dist/katex.min.css" />
</head>
<body>
<header id="title-block-header">
<h1 class="title">Lecture 20 — Practice</h1>
</header>
<p><link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
<!-- add after bootstrap.min.css -->
<link rel="stylesheet" href="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.css"/>
<!-- add after bootstrap.min.js or bootstrap.bundle.min.js -->
<script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script></p>
<!-- for difficulty gauges-->
<script src="https://cdn.plot.ly/plotly-2.16.1.min.js"></script>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-B947E6J6H4"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-B947E6J6H4');
</script>
<p><a href="../../index.html">← return to practice.dsc10.com</a></p>
<hr />
<h1 id="lecture-20-collected-practice-questions">Lecture 20 — Collected
Practice Questions</h1>
<p>Below are practice problems tagged for Lecture <strong>20</strong>
(rendered directly from the original exam/quiz sources).</p>
<hr />
<h2 id="problem-1">Problem 1</h2>
<p>The table below shows the average amount of revenue from different
sources for art museums in 2003 and 2013.</p>
<center><img src='../../assets/images/fa21-final/means.png' width=20%></center>
<p><br></p>
<p>What is the total variation distance between the distribution of
revenue sources in 2003 and the distribution of revenue sources in 2013?
Give your answer as a proportion (i.e. a decimal between 0 and 1),
<strong>not</strong> a percentage. Round your answer to three decimal
places.</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse1" aria-expanded="true" aria-controls="collapse1">
Click to view the solution.
</button>
</h2>
<div id="collapse1" class="accordion-collapse collapse"
aria-labelledby="heading1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> 0.19</p>
<p>Recall, the total variation distance (TVD) is the sum of the absolute
differences in proportions, divided by 2. The absolute differences in
proportions for each source are as follows:</p>
<ul>
<li>Admissions: <span class="math inline">|0.15 - 0.24| =
0.09</span></li>
<li>Restaurants and Catering: <span class="math inline">|0.09 - 0.12| =
0.03</span></li>
<li>Store: <span class="math inline">|0.52 - 0.33| = 0.19</span></li>
<li>Other: <span class="math inline">|0.24 - 0.31| = 0.07</span></li>
</ul>
<p>Then, we have</p>
<p><span class="math display">\text{TVD} = \frac{1}{2} (0.09 + 0.03 +
0.19 + 0.07) = 0.19</span></p>
<hr/>
<h5>Difficulty: ⭐️</h5>
<p>
</p>
<p>The average score on this problem was 95%.</p>
</div>
</div>
</div>
</div>
<hr />
<h2 id="problem-2">Problem 2</h2>
<p>The table below shows the average amount of revenue from different
sources for art museums in 2003 and 2013.</p>
<center><img src='../../assets/images/fa21-final/means.png' width=20%></center>
<p><br></p>
<h3 id="problem-2.1">Problem 2.1</h3>
<p>What is the total variation distance between the distribution of
revenue sources in 2003 and the distribution of revenue sources in 2013?
Give your answer as a proportion (i.e. a decimal between 0 and 1),
<strong>not</strong> a percentage. Round your answer to three decimal
places.</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading2_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse2_1" aria-expanded="true" aria-controls="collapse2_1">
Click to view the solution.
</button>
</h2>
<div id="collapse2_1" class="accordion-collapse collapse"
aria-labelledby="heading2_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> 0.19</p>
<p>Recall, the total variation distance (TVD) is the sum of the absolute
differences in proportions, divided by 2. The absolute differences in
proportions for each source are as follows:</p>
<ul>
<li>Admissions: <span class="math inline">|0.15 - 0.24| =
0.09</span></li>
<li>Restaurants and Catering: <span class="math inline">|0.09 - 0.12| =
0.03</span></li>
<li>Store: <span class="math inline">|0.52 - 0.33| = 0.19</span></li>
<li>Other: <span class="math inline">|0.24 - 0.31| = 0.07</span></li>
</ul>
<p>Then, we have</p>
<p><span class="math display">\text{TVD} = \frac{1}{2} (0.09 + 0.03 +
0.19 + 0.07) = 0.19</span></p>
<hr/>
<h5>Difficulty: ⭐️</h5>
<p>
</p>
<p>The average score on this problem was 95%.</p>
</div>
</div>
</div>
</div>
<p><br> <br></p>
<h3 id="problem-2.2">Problem 2.2</h3>
<p>Which type of visualization would be best suited for comparing the
two distributions in the table?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> Scatter plot</p></li>
<li><p><input type="radio" disabled="" /> Line plot</p></li>
<li><p><input type="radio" disabled="" /> Overlaid histogram</p></li>
<li><p><input type="radio" disabled="" /> Overlaid bar chart</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading2_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse2_2" aria-expanded="true" aria-controls="collapse2_2">
Click to view the solution.
</button>
</h2>
<div id="collapse2_2" class="accordion-collapse collapse"
aria-labelledby="heading2_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> Overlaid bar chart</p>
<p>A <strong>scatter plot</strong> visualizes the relationship between
two numerical variables. In this problem, we only have to visualize the
distribution of a categorical variable.</p>
<p>A <strong>line plot</strong> shows trends in numerical variables over
time. In this problem, we only have categorical variables. Moreover,
when it says over time, it is suitable for plotting change in multiple
years (e.g. 2001, 2002, 2003, … , 2013), or even with data of days. In
this question, we only want to compare the distribution of 2003 and
2013, this makes the line plot not useful. In addition, if you try to
draw a line plot for this question, you will find the line plot fails to
visualize distribution (e.g. the idea of 15%, 9%, 52%, and 24% add up to
100%).</p>
<p>An overlaid graph is useful in this question since this visualizes
comparison between the two distributions.</p>
<p>However, an <strong>overlaid histogram</strong> is not useful in this
problem. The key reason is the differences between a histogram and a bar
chart.</p>
<p>Bar Chart: Space between the bars; 1 categorical axis, 1 numerical
axis; order does not matter<br/>
Histogram: No space between the bars; intervals on axis; 2 numerical
axes; order matters</p>
<p>In the question, we are plotting 2003 and 2013 distributions of four
categories (Admissions, Restaurants and Catering, Store, and Other).
Thus, an <strong>overlaid bar chart</strong> is more appropriate.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 74%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-2.3">Problem 2.3</h3>
<p><span style="color:red"><b>Note: This problem is out of scope; it
covers material no longer included in the course.</b></span></p>
<p>Notably, there was an economic recession in 2008-2009. Which of the
following can we conclude was an effect of the recession?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> The increase in revenue from admissions, as more people were visiting
museums.</p></li>
<li><p><input type="radio" disabled="" /> The decline in revenue from museum stores, as people had less money
to spend.</p></li>
<li><p><input type="radio" disabled="" /> The decline in total revenue, as fewer people were visiting
museums.</p></li>
<li><p><input type="radio" disabled="" /> None of the above</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading2_3">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse2_3" aria-expanded="true" aria-controls="collapse2_3">
Click to view the solution.
</button>
</h2>
<div id="collapse2_3" class="accordion-collapse collapse"
aria-labelledby="heading2_3" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> None of the above</p>
<p>Since we are only given the distribution of the revenue, and have no
information about the amount of revenue in 2003 and 2013, we cannot
conclude how the revenue has changed from 2003 to 2013 after the
recession.</p>
<p>For instance, if the total revenue in 2003 was 100 billion USD and
the total revenue in 2013 was 50 billion USD, revenue from admissions in
2003 was 100 * 15% = 15 billion USD, and revenue from admissions in 2003
was 50 * 24% = 12 billion USD. In this case, we will have 15 &gt; 12,
the revenue from admissions has declined rather than increased (As
stated by ‘The increase in revenue from admissions, as more people were
visiting museums.’). Similarly, since we don’t know the total revenue in
2003 and 2013, we cannot conclude ‘The decline in revenue from museum
stores, as people had less money to spend.’ or ‘The decline in total
revenue, as fewer people were visiting museums.’</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 72%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<p class="meta"><em>Source:</em> fa22-final — Q2</p>
<h2 id="problem-3">Problem 3</h2>
<p>For each application in <code>apps</code>, we want to assign an age
category based on the value in the <code>"age"</code> column, according
to the table below.</p>
<center>
<table class="table" style="width:30%">
  <thead>
    <tr>
      <th scope="col"><code>"age"</code></th>
      <th scope="col">age category</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th scope="row">under 25</th>
      <td><code>"young adult"</code></td>
    </tr>
    <tr>
      <th scope="row">at least 25, but less than 50</th>
      <td><code>"middle aged"</code></td>
    </tr>
    <tr>
      <th scope="row">at least 50, but less than 75</th>
      <td><code>"older adult"</code></td>
    </tr>
    <tr>
      <th scope="row">75 or over</th>
      <td><code>"elderly"</code></td>
    </tr>
  </tbody>
</table>
</center>
<div class="sourceCode" id="cb1"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>cat_names <span class="op">=</span> [<span class="st">&quot;young adult&quot;</span>, <span class="st">&quot;middle aged&quot;</span>, <span class="st">&quot;older adult&quot;</span>, <span class="st">&quot;elderly&quot;</span>]</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> age_to_bin(one_age):</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>    <span class="co">&#39;&#39;&#39;Returns the age category corresponding to one_age.&#39;&#39;&#39;</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>    one_age <span class="op">=</span> __(a)__</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>    bin_pos <span class="op">=</span> __(b)__</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> cat_names[bin_pos]</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>binned_ages <span class="op">=</span> __(c)__</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>apps_cat <span class="op">=</span> apps.assign(age_category <span class="op">=</span> binned_ages)</span></code></pre></div>
<p><br></p>
<h3 id="problem-3.1">Problem 3.1</h3>
<p>Which of the following is a correct way to fill in blanks (a) and
(b)?</p>
<center>
<table class="table" style="width:50%">
  <thead>
    <tr>
      <th scope="col"></th>
      <th scope="col">Blank (a)</th>
      <th scope="col">Blank (b)</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th scope="row">Option 1</th>
      <td><code>75 - one_age</code></td>
      <td><code>round(one_age / 25)</code></td>
    </tr>
    <tr>
      <th scope="row">Option 2</th>
      <td><code>min(75, one_age)</code></td>
      <td><code>one_age / 25</code></td>
    </tr>
    <tr>
      <th scope="row">Option 3</th>
      <td><code>75 - one_age</code></td>
      <td><code>int(one_age / 25)</code></td>
    </tr>
    <tr>
      <th scope="row">Option 4</th>
      <td><code>min(75, one_age)</code></td>
      <td><code>int(one_age / 25)</code></td>
    </tr>
    <tr>
      <th scope="row">Option 5</th>
      <td><code>min(74, one_age)</code></td>
      <td><code>round(one_age / 25)</code></td>
    </tr>
  </tbody>
</table>
</center>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> Option 1</p></li>
<li><p><input type="radio" disabled="" /> Option 2</p></li>
<li><p><input type="radio" disabled="" /> Option 3</p></li>
<li><p><input type="radio" disabled="" /> Option 4</p></li>
<li><p><input type="radio" disabled="" /> Option 5</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading3_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse3_1" aria-expanded="true" aria-controls="collapse3_1">
Click to view the solution.
</button>
</h2>
<div id="collapse3_1" class="accordion-collapse collapse"
aria-labelledby="heading3_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> Option 4</p>
<p>The line <code>one_age = min(75, one_age)</code> either leaves
<code>one_age</code> alone or sets it equal to 75 if the age was higher
than 75, which means anyone over age 75 is considered to be 75 years old
for the purposes of classifying them into age categories. From the
return statement, we know we need our value for <code>bin_pos</code> to
be either 0, 1 ,2 or 3 since <code>cat_names</code> has a length of 4.
When we divide <code>one_age</code> by 25, we get a decimal number that
represents how many times 25 fits into <code>one_age</code>. We want to
round this number <em>down</em> to get the number of whole copies of 25
that fit into <code>one_age</code>. If that value is 0, it means the
person is a <code>"young adult"</code>, if that value is 1, it means
they are <code>"middle aged"</code>, and so on. The rounding down
behavior that we want is accomplished by
<code>int(one_age/25)</code>.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 76%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<p><br></p>
<h3 id="problem-3.2">Problem 3.2</h3>
<p>Which of the following is a correct way to fill in blank (c)?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> <code>age to bin(apps.get("age"))</code></p></li>
<li><p><input type="radio" disabled="" /> <code>apps.get("age").apply(age to bin)</code></p></li>
<li><p><input type="radio" disabled="" /> <code>apps.get("age").age to bin()</code></p></li>
<li><p><input type="radio" disabled="" /> <code>apps.get("age").apply(age to bin(one age))</code></p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading3_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse3_2" aria-expanded="true" aria-controls="collapse3_2">
Click to view the solution.
</button>
</h2>
<div id="collapse3_2" class="accordion-collapse collapse"
aria-labelledby="heading3_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer: </strong>
<code>apps.get("age").apply(age to bin)</code></p>
<p>We want our result to be a Series because the next line in the code
assigns it to a DataFrame. We also need to use the <code>.apply()</code>
method to apply our function to the entirety of the <code>"age"</code>
column. The <code>.apply()</code> method only takes in the name of a
function and not its variables, as it treats the entries of the column
as the variables directly.</p>
<hr/>
<h5>Difficulty: ⭐️</h5>
<p>
</p>
<p>The average score on this problem was 96%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<p><br></p>
<h3 id="problem-3.3">Problem 3.3</h3>
<p>Which of the following is a correct alternate implementation of the
age to bin function? Select all that apply.</p>
<p>Option 1:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> age_to_bin(one_age):</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>    bin_pos <span class="op">=</span> <span class="dv">3</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> one_age <span class="op">&lt;</span> <span class="dv">25</span>:</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>        bin_pos <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> one_age <span class="op">&lt;</span> <span class="dv">50</span>:</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>        bin_pos <span class="op">=</span> <span class="dv">1</span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> one_age <span class="op">&lt;</span> <span class="dv">75</span>:</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>        bin_pos <span class="op">=</span> <span class="dv">2</span></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> cat_names[bin_pos]</span></code></pre></div>
<p>Option 2:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> age_to_bin(one_age):</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>    bin_pos <span class="op">=</span> <span class="dv">3</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> one_age <span class="op">&lt;</span> <span class="dv">75</span>:</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>        bin_pos <span class="op">=</span> <span class="dv">2</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> one_age <span class="op">&lt;</span> <span class="dv">50</span>:</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>        bin_pos <span class="op">=</span> <span class="dv">1</span></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> one_age <span class="op">&lt;</span> <span class="dv">25</span>:</span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>        bin_pos <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> cat_names[bin_pos]</span></code></pre></div>
<p>Option 3:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> age_to_bin(one_age):</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>    bin_pos <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> cutoff <span class="kw">in</span> np.arange(<span class="dv">25</span>, <span class="dv">100</span>, <span class="dv">25</span>):</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> one_age <span class="op">&gt;=</span> cutoff:</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>            bin_pos <span class="op">=</span> bin_pos <span class="op">+</span> <span class="dv">1</span> </span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> cat_names[bin_pos]</span></code></pre></div>
<p>Option 4:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> age_to_bin(one_age):</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>    bin_pos <span class="op">=</span> <span class="op">-</span><span class="dv">1</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> cutoff <span class="kw">in</span> np.arange(<span class="dv">0</span>, <span class="dv">100</span>, <span class="dv">25</span>):</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> one_age <span class="op">&gt;=</span> cutoff:</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>            bin_pos <span class="op">=</span> bin_pos <span class="op">+</span> <span class="dv">1</span> </span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> cat_names[bin_pos]</span></code></pre></div>
<ul class="task-list">
<li><p><input type="checkbox" disabled="" /> Option 1</p></li>
<li><p><input type="checkbox" disabled="" /> Option 2</p></li>
<li><p><input type="checkbox" disabled="" /> Option 3</p></li>
<li><p><input type="checkbox" disabled="" /> Option 4</p></li>
<li><p><input type="checkbox" disabled="" /> None of the above.</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading3_3">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse3_3" aria-expanded="true" aria-controls="collapse3_3">
Click to view the solution.
</button>
</h2>
<div id="collapse3_3" class="accordion-collapse collapse"
aria-labelledby="heading3_3" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer: </strong> Option 2 and Option 3</p>
<p>Option 1 doesn’t work for inputs less than 25. For example, on an
input of 10, every condition is satsified, so <code>bin_pos</code> will
be set to 0, then 1, then 2, meaning the function will return
<code>"older adult"</code> instead of <code>"young adult"</code>.</p>
<p>Option 2 reverses the order of the conditions, which ensures that
even when a number satisfies many conditions, the last one it satisfies
determines the correct <code>bin_pos</code>. For example, 27 would
satisfy the first 2 conditions but not the last one, and the function
would return <code>"middle aged"</code> as expected.</p>
<p>In option 3, <code>np.arange(25, 100, 25)</code> produces
<code>np.array([25,50,75])</code>. The <code>if</code> condition checks
the whether the age is at least 25, then 50, then 75. For every time
that it is, it adds to <code>bin_pos</code>, otherwise it keeps
<code>bin_pos</code>. At the end, <code>bin_pos</code> represents the
number of these values that the age is greater than or equal to, which
correctly determines the age category.</p>
<p>Option 4 is equivalent to option 3 except for two things. First,
<code>bin_pos</code> starts at -1, but since 0 is included in the set of
<code>cutoff</code> values, the first time through the loop will set
<code>bin_pos</code> to 0, as in Option 3. This change doesn’t affect
the behavior of the funtion. The other change, however, is that the
<code>return</code> statement is inside the <code>for</code>-loop, which
does change the behavior of the function dramatically. Now the
<code>for</code>-loop will only run once, checking whether the age is at
least 0 and then returning immediately. Since ages are always at least
0, this function will return <code>"young adult"</code> on every input,
which is clearly incorrect.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 62%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-3.4">Problem 3.4</h3>
<p>We want to determine the number of <code>"middle aged"</code>
applicants whose applications were denied. Fill in the blank below so
that <code>count</code> evaluates to that number.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> apps_cat.________.reset_index()</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>count <span class="op">=</span> df[(df.get(<span class="st">&quot;age_category&quot;</span>) <span class="op">==</span> <span class="st">&quot;middle aged&quot;</span>) <span class="op">&amp;</span> </span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>           (df.get(<span class="st">&quot;status&quot;</span>) <span class="op">==</span> <span class="st">&quot;denied&quot;</span>)].get(<span class="st">&quot;income&quot;</span>).iloc[<span class="dv">0</span>]</span></code></pre></div>
<p>What goes in the blank?</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading3_4">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse3_4" aria-expanded="true" aria-controls="collapse3_4">
Click to view the solution.
</button>
</h2>
<div id="collapse3_4" class="accordion-collapse collapse"
aria-labelledby="heading3_4" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer: </strong>
<code>groupby(["age_category", "status"]).count()</code></p>
<p>We can tell by the line in which <code>count</code> is defined that
<code>df</code> needs to have columns called
<code>"age category"</code>, <code>"status"</code>, and
<code>"income"</code> with one row such that the values in these columns
are <code>"middle aged"</code>, <code>"denied"</code>, and the number of
such applicants, respectively. Since there is one row corresponding to a
possible combination of values for <code>"age category"</code> and
<code>"status"</code>, this suggests we need to group by the pair of
columns, since <code>.groupby</code> produces a DataFrame with one row
for each possible combination of values in the columns we are grouping
by. Since we want to know how many individuals have this combination of
values for <code>"age category"</code> and <code>"status"</code>, we
should use <code>.count()</code> as the aggregation method. Another clue
to to use <code>.groupby</code> is the presence of
<code>.reset_index()</code> which is needed to query based on columns
called <code>"age category"</code> and <code>"status"</code>.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 78%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-3.5">Problem 3.5</h3>
<p>The total variation distance between the distributions of
<code>"age category"</code> for approved applications and denied
applications is 0.4.</p>
<p>One of the visualizations below shows the distributions of
<code>"age category"</code> for approved applications and denied
applications. Which visualization is it?</p>
<center><img src='../../assets/images/fa22-final/four_tvds_B.jpg' width=50%></center>
<p><br></p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading3_5">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse3_5" aria-expanded="true" aria-controls="collapse3_5">
Click to view the solution.
</button>
</h2>
<div id="collapse3_5" class="accordion-collapse collapse"
aria-labelledby="heading3_5" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer: </strong> Option 2</p>
<p>TVD represents the total overrepresentation of one distrubtion,
summed across all categories. To find the TVD visually, we can estimate
how much each bar for approved applications extends beyond the
corresponding bar for denied applications in each bar chart.</p>
<p>In Option 1, the approved bar extends beyond the denied bar only in
the <code>"young adult"</code> category, and by 0.2, so the TVD for
Option 1 is 0.2. In Option 2, the approved bar extends beyond the denied
bar only in the <code>"older adult"</code> category, and by 0.4, so the
TVD for Option 2 is 0.4. In Option 3, the approved bar extends beyond
the denied bar in <code>"elderly"</code> by 0.2 and in
<code>"young adult"</code> by 0.4, for a TVD of 0.6. In Option 4, the
approved bar extends beyond the denied bar in
<code>"young adult only"</code> by 0.2, for a TVD of 0.2.</p>
<p>Note that even without knowing the exact lengths of the bars in
Option 2, we can still conclude that Option 2 is correct by process of
elimination, since it’s the only one whose TVD appears close to 0.4</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 60%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<p class="meta"><em>Source:</em> fa23-final — Q6</p>
<h2 id="problem-4">Problem 4</h2>
<p>Aaron wants to explore the discrepancy in fraud rates between
<code>"discover"</code> transactions and <code>"mastercard"</code>
transactions. To do so, he creates the DataFrame <code>ds_mc</code>,
which only contains the rows in <code>txn</code> corresponding to
<code>"mastercard"</code> or <code>"discover"</code> transactions.</p>
<p>After he creates <code>ds_mc</code>, Aaron groups <code>ds_mc</code>
on the <code>"card"</code> column using two different aggregation
methods. The relevant columns in the resulting DataFrames are shown
below.</p>
<center><img src='../../assets/images/fa23-final/ds_mc.png' width=800></center>
<p><br></p>
<p>Aaron decides to perform a test of the following pair of
hypotheses:</p>
<ul>
<li><p><strong>Null Hypothesis</strong>: The proportion of fraudulent
<code>"mastercard"</code> transactions is <strong>the same as</strong>
the proportion of fraudulent <code>"discover"</code>
transactions.</p></li>
<li><p><strong>Alternative Hypothesis</strong>: The proportion of
fraudulent <code>"mastercard"</code> transactions is <strong>less
than</strong> the proportion of fraudulent <code>"discover"</code>
transactions.</p></li>
</ul>
<p>As his test statistic, Aaron chooses the <strong>difference in
proportion of transactions that are fraudulent</strong>, in the order
<code>"mastercard"</code> minus <code>"discover"</code>.</p>
<p><br></p>
<h3 id="problem-4.1">Problem 4.1</h3>
<p>What type of statistical test is Aaron performing?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> Standard hypothesis test</p></li>
<li><p><input type="radio" disabled="" /> Permutation test</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading4_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse4_1" aria-expanded="true" aria-controls="collapse4_1">
Click to view the solution.
</button>
</h2>
<div id="collapse4_1" class="accordion-collapse collapse"
aria-labelledby="heading4_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> Permutation test</p>
<p>Permutation tests are used to ascertain whether two samples were
drawn from the same population. Hypothesis testing is used when we have
a single sample and a known population, and want to determine whether
the sample appears to have been drawn from that population. Here, we
have two samples (<code>“mastercard”</code> and <code>“discover”</code>)
and no known population distribution, so a permutation test is the
appropriate test.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 49%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-4.2">Problem 4.2</h3>
<p>What is the value of the observed statistic? Give your answer either
as an exact decimal or simplified fraction.</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading4_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse4_2" aria-expanded="true" aria-controls="collapse4_2">
Click to view the solution.
</button>
</h2>
<div id="collapse4_2" class="accordion-collapse collapse"
aria-labelledby="heading4_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> <span class="math inline">0.02</span></p>
<p>We simply take the difference in fraudulent proportion of
<code>"mastercard"</code> transactions and fraudulent proportion of
discover transactions. There are 4,000 fraudulent
<code>"mastercard"</code> transactions and 40,000 total
<code>"mastercard"</code> transactions, making this proportion for
<code>"mastercard"</code>. Similarly, the proportion of fraudulent
<code>"discover"</code> transactions is <span class="math inline">\frac{160}{2000}</span>. Simplifying these
fractions, the difference between them is <span class="math inline">\frac{1}{10} - \frac{8}{100} = 0.1 - 0.08 =
0.02</span>.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 86%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<p>The empirical distribution of Aaron’s chosen test statistic is shown
below.</p>
<center><img src='../../assets/images/fa23-final/null-hyp-dist.png' width=800></center>
<p><br></p>
<h3 id="problem-4.3">Problem 4.3</h3>
<p>Which of the following is closest to the p-value of Aaron’s test?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> 0.001</p></li>
<li><p><input type="radio" disabled="" /> 0.37</p></li>
<li><p><input type="radio" disabled="" /> 0.63</p></li>
<li><p><input type="radio" disabled="" /> 0.94</p></li>
<li><p><input type="radio" disabled="" /> 0.999</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading4_3">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse4_3" aria-expanded="true" aria-controls="collapse4_3">
Click to view the solution.
</button>
</h2>
<div id="collapse4_3" class="accordion-collapse collapse"
aria-labelledby="heading4_3" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> 0.999</p>
<p>Informally, the p-value is the area of the histogram at or past the
observed statistic, further in the direction of the alternative
hypothesis. In this case, the alternative hypothesis is that the
<code>"mastercard"</code> proportion is less than the discover
proportion, and our test statistic is computed in the order
<code>"mastercard"</code> minus <code>"discover"</code>, so low
(negative) values correspond to the alternative. This means when
calculating the p-value, we look at the area to the left of 0.02 (the
observed value). We see that essentially all of the test statistics fall
to the left of this value, so the p-value should be closest to
0.999.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 54%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-4.4">Problem 4.4</h3>
<p>What is the conclusion of Aaron’s test?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> The proportion of fraudulent <code>"mastercard"</code> transactions
is <strong>less than</strong> the proportion of fraudulent
<code>"discover"</code> transactions.</p></li>
<li><p><input type="radio" disabled="" /> The proportion of fraudulent <code>"mastercard"</code> transactions
is <strong>greater than</strong> the proportion of fraudulent
<code>"discover"</code> transactions.</p></li>
<li><p><input type="radio" disabled="" /> The test results are inconclusive.</p></li>
<li><p><input type="radio" disabled="" /> None of the above.</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading4_4">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse4_4" aria-expanded="true" aria-controls="collapse4_4">
Click to view the solution.
</button>
</h2>
<div id="collapse4_4" class="accordion-collapse collapse"
aria-labelledby="heading4_4" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> None of the above</p>
<ul>
<li>Option A: Since the p-value was so high, it’s unlikely that the
proportion of fraudulent <code>"mastercard"</code> transactions is less
than the proportion of fraudulent <code>"discover"</code> transactions,
so we cannot conclude A.</li>
<li>Option B: The test does not allow us to conclude this, because it
was not one of the hypotheses. All we can say is that we don’t think the
alternative hypothesis is true - we can’t say whether any other
statement is true.</li>
<li>Option C: The test did give us valuable information about the
difference in fraud rates: we failed to reject the null hypothesis. So,
the test is conclusive, making option C incorrect. Therefore, option D
(none of the above) is correct.</li>
</ul>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 44%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<p>Aaron now decides to test a slightly different pair of
hypotheses.</p>
<ul>
<li><p><strong>Null Hypothesis</strong>: The proportion of fraudulent
<code>"mastercard"</code> transactions is <strong>the same as</strong>
the proportion of fraudulent <code>"discover"</code>
transactions.</p></li>
<li><p><strong>Alternative Hypothesis</strong>: The proportion of
fraudulent <code>"mastercard"</code> transactions is <strong>greater
than</strong> the proportion of fraudulent <code>"discover"</code>
transactions.</p></li>
</ul>
<p>He uses the same test statistic as before.</p>
<p><br></p>
<h3 id="problem-4.5">Problem 4.5</h3>
<p>Which of the following is closest to the p-value of Aaron’s new
test?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> 0.001</p></li>
<li><p><input type="radio" disabled="" /> 0.06</p></li>
<li><p><input type="radio" disabled="" /> 0.37</p></li>
<li><p><input type="radio" disabled="" /> 0.63</p></li>
<li><p><input type="radio" disabled="" /> 0.94</p></li>
<li><p><input type="radio" disabled="" /> 0.999</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading4_5">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse4_5" aria-expanded="true" aria-controls="collapse4_5">
Click to view the solution.
</button>
</h2>
<div id="collapse4_5" class="accordion-collapse collapse"
aria-labelledby="heading4_5" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> 0.001</p>
<p>Now, we have switched the alternative hypothesis to “
<code>"mastercard"</code> fraud rate is greater than
<code>"discover"</code> fraud rate”, whereas before our alternative
hypothesis was that the <code>"mastercard"</code> fraud rate was less
than <code>"discover"</code>’s fraud rate. We have not changed the way
we calculate the test statistic (<code>"mastercard"</code> minus
<code>"discover"</code>), so now large values of the test statistic
correspond to the alternative hypothesis. So, the area of interest is
the area to the right of 0.02, which is very small, close to 0.001. Note
that this is one minus the p-value we computed before.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 65%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<p class="meta"><em>Source:</em> fa23-final — Q7</p>
<h2 id="problem-5">Problem 5</h2>
<p>Jason is interested in exploring the relationship between the browser
and payment method used for a transaction. To do so, he uses
<code>txn</code> to create create three tables, each of which contain
the distribution of browsers used for credit card transactions and the
distribution of browsers used for debit card transactions, but with
different combinations of browsers combined in a single category in each
table.</p>
<center><img src='../../assets/images/fa23-final/q7_tables.png' width=400></center>
<p><br></p>
<!-- | **Browser** | **Credit** | **Debit** |
|:--------|:------:|:-----:|
| Chrome  |   ?    |   ?   |
| Safari  |   ?    |   ?   |
| Firefox |   ?    |   ?   |
| Edge    |   ?    |   ?   |
| Other   |   ?    |   ?   |

**Table 2:**

| **Browser** | **Credit** | **Debit** |
|:------------|:----------:|:---------:|
| Chrome      |     ?      |     ?     |
| Safari      |     ?      |     ?     |
| Firefox     |     ?      |     ?     |
| Edge        |     ?      |     ?     |
| Other       |     ?      |     ?     |


**Table 3:**

| **Browser**               | **Credit** | **Debit** |
|:--------------------------|:----------:|:---------:|
| Chrome                    |     ?      |     ?     |
| Safari, Firefox, or Edge |     ?      |     ?     |
| Other                     |     ?      |     ?     | -->
<p>Jason calculates the total variation distance (TVD) between the two
distributions in each of his three tables, but he does not record which
TVD goes with which table. He computed TVDs of 0.14, 0.36, and 0.38.</p>
<p><br></p>
<h3 id="problem-5.1">Problem 5.1</h3>
<p>In which table do the two distributions have a TVD of 0.14?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> Table 1</p></li>
<li><p><input type="radio" disabled="" /> Table 2</p></li>
<li><p><input type="radio" disabled="" /> Table 3</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading5_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse5_1" aria-expanded="true" aria-controls="collapse5_1">
Click to view the solution.
</button>
</h2>
<div id="collapse5_1" class="accordion-collapse collapse"
aria-labelledby="heading5_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> Table 3</p>
<p>Without values in any of the tables, there’s no way to do this
problem computationally. We are told that the three TVDs come out to
0.14, 0.36, and 0.38. The exact numbers are not important but their
relative order is. The key to this problem is noticing that when we
combine two categories into one, the TVD can only decrease, it cannot
increase. One way to see this is to think about combining categories
repeatedly until there’s just one category. Then both distributions must
have a value of 1 in that category so they are identical distributions
with the smallest possible TVD of 0. As we collapse categories, we can
only decrease the TVD. This tells us that Table 1 has the largest TVD,
then Table 2 has the middle TVD, and Table 3 has the smallest, since
each time we are combining categories and shrinking the TVD.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 77%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-5.2">Problem 5.2</h3>
<p>In which table do the two distributions have a TVD of 0.36?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> Table 1</p></li>
<li><p><input type="radio" disabled="" /> Table 2</p></li>
<li><p><input type="radio" disabled="" /> Table 3</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading5_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse5_2" aria-expanded="true" aria-controls="collapse5_2">
Click to view the solution.
</button>
</h2>
<div id="collapse5_2" class="accordion-collapse collapse"
aria-labelledby="heading5_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> Table 2</p>
<p>See the solution to 7.1.</p>
<hr/>
<h5>Difficulty: ⭐️</h5>
<p>
</p>
<p>The average score on this problem was 97%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-5.3">Problem 5.3</h3>
<p>In which table do the two distributions have a TVD of 0.38?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> Table 1</p></li>
<li><p><input type="radio" disabled="" /> Table 2</p></li>
<li><p><input type="radio" disabled="" /> Table 3</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading5_3">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse5_3" aria-expanded="true" aria-controls="collapse5_3">
Click to view the solution.
</button>
</h2>
<div id="collapse5_3" class="accordion-collapse collapse"
aria-labelledby="heading5_3" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> Table 1</p>
<p>See the solution to 7.1. </p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>The average
score on this problem was 77%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<p class="meta"><em>Source:</em> fa24-final — Q7</p>
<h2 id="problem-6">Problem 6</h2>
<p>Hargen is an employee at Bill’s Book Bonanza who tends to work
weekend shifts. He thinks that Fridays, Saturdays, and Sundays are
busier than other days, and he proposes the following probability
distribution of sales by day:</p>
<div class="center">
<table>
<thead>
<tr>
<th style="text-align: left;">Sunday</th>
<th style="text-align: left;">Monday</th>
<th style="text-align: left;">Tuesday</th>
<th style="text-align: left;">Wednesday</th>
<th style="text-align: left;">Thursday</th>
<th style="text-align: left;">Friday</th>
<th style="text-align: left;">Saturday</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;"><span class="math inline">0.2</span></td>
<td style="text-align: left;"><span class="math inline">0.1</span></td>
<td style="text-align: left;"><span class="math inline">0.1</span></td>
<td style="text-align: left;"><span class="math inline">0.1</span></td>
<td style="text-align: left;"><span class="math inline">0.1</span></td>
<td style="text-align: left;"><span class="math inline">0.2</span></td>
<td style="text-align: left;"><span class="math inline">0.2</span></td>
</tr>
</tbody>
</table>
</div>
<p>Let’s use the data in <code>sales</code> to determine whether
Hargen’s proposed model could be correct by doing a hypothesis test. The
hypotheses are:</p>
<ul>
<li><p><strong>Null Hypothesis</strong>: Sales at the bookstore are
randomly drawn from Hargen’s proposed distribution of days.</p></li>
<li><p><strong>Alternative Hypothesis</strong>: Sales at the bookstore
are not randomly drawn from Hargen’s proposed distribution of
days.</p></li>
</ul>
<p><br></p>
<h3 id="problem-6.1">Problem 6.1</h3>
<p>Which of the following test statistics could be used to test the
given hypothesis? <strong>Select all that apply.</strong></p>
<ul class="task-list">
<li><p><input type="checkbox" disabled="" /> The absolute difference between the proportion of books sold on
Saturday and the proposed proportion of books sold on Saturday (<span class="math inline">0.2</span>).</p></li>
<li><p><input type="checkbox" disabled="" /> The sum of the differences in proportions between the distribution of
books sold by day and Hargen’s proposed distribution.</p></li>
<li><p><input type="checkbox" disabled="" /> The sum of the squared differences in proportions between the
distribution of books sold by day and Hargen’s proposed
distribution.</p></li>
<li><p><input type="checkbox" disabled="" /> One half of the sum of the absolute differences in proportions
between the distribution of books sold by day and Hargen’s proposed
distribution.</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading6_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse6_1" aria-expanded="true" aria-controls="collapse6_1">
Click to view the solution.
</button>
</h2>
<div id="collapse6_1" class="accordion-collapse collapse"
aria-labelledby="heading6_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer</strong>:</p>
<ul>
<li>The sum of the squared differences in proportions between the
distribution of books sold by day and Hargen’s proposed
distribution.</li>
<li>One half of the sum of the absolute differences in proportions
between the distribution of books sold by day and Hargen’s proposed
distribution.</li>
</ul>
<p>Let’s look at each of the options:</p>
<ul>
<li>Option 1: Incorrect. It is only comparing one day instead of the
entire distribution. This is insufficient to tell if two distributions
are similar. For example, they could have similar Saturday proportions,
but very different proportions for all other days of the week.</li>
<li>Option 2: Incorrect. Positive and negative differences will cancel
out. Since both distributions sum to 1, their difference will sum to 0.
This means this statsistic tells us nothing about how similar the two
distributions are, since the result will be 0 every time.</li>
<li>Option 3: Correct. Squaring the difference avoids the issue of
positive and negative differences canceling out.</li>
<li>Option 4: Correct. Absolute difference also avoids the issue of
positive and negative differences canceling out. Furthermore, this is
the definition of Total Variation Distance (TVD), which is a common
statistic for comparing categorical distributions.</li>
</ul>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 74%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<p>We will use as our test statistic <strong>the mean of the absolute
differences in proportions between the distribution of books sold by day
and Hargen’s proposed distribution.</strong></p>
<p><br></p>
<h3 id="problem-6.2">Problem 6.2</h3>
<p>Suppose the observed distribution of books sold by day was as
follows. Calculate the observed statistic in this case.</p>
<div class="center">
<table>
<thead>
<tr>
<th style="text-align: left;">Sunday</th>
<th style="text-align: left;">Monday</th>
<th style="text-align: left;">Tuesday</th>
<th style="text-align: left;">Wednesday</th>
<th style="text-align: left;">Thursday</th>
<th style="text-align: left;">Friday</th>
<th style="text-align: left;">Saturday</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;"><span class="math inline">0.34</span></td>
<td style="text-align: left;"><span class="math inline">0.13</span></td>
<td style="text-align: left;"><span class="math inline">0.06</span></td>
<td style="text-align: left;"><span class="math inline">0.07</span></td>
<td style="text-align: left;"><span class="math inline">0.08</span></td>
<td style="text-align: left;"><span class="math inline">0.08</span></td>
<td style="text-align: left;"><span class="math inline">0.24</span></td>
</tr>
</tbody>
</table>
</div>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading6_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse6_2" aria-expanded="true" aria-controls="collapse6_2">
Click to view the solution.
</button>
</h2>
<div id="collapse6_2" class="accordion-collapse collapse"
aria-labelledby="heading6_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer</strong>: 0.06</p>
<p><span class="math display">\begin{align*}
\text{mean abs diff} &amp;= \frac{|0.34 - 0.2| + |0.13 - 0.1| + |0.06 -
0.1| + |0.07 - 0.1| + |0.08 - 0.1| + |0.08 - 0.2| + |0.24 - 0.2|}{7}\\
&amp;= \frac{0.14 + 0.03 + 0.04 + 0.03 + 0.02 + 0.12 + 0.04}{7}\\
&amp;= \frac{0.42}{7} \\
&amp;= 0.06
\end{align*}</span></p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 69%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-6.3">Problem 6.3</h3>
<p>Let’s determine the actual value of the observed statistic based on
the data in <code>sales</code>. Assume that we have already defined a
function called <code>find_day</code> that returns the day of the week
for a given <code>"date"</code>. For example,
<code>find_day("Saturday, December 7, 2024")</code> evaluates to
<code>"Saturday"</code>. Fill in the blanks below so that the variable
<code>obs</code> evaluates to the observed statistic.</p>
<pre><code># in alphabetical order: Fri, Mon, Sat, Sun, Thurs, Tues, Wed
hargen = np.array([0.2, 0.1, 0.2, 0.2, 0.1, 0.1, 0.1]) 
prop = (sales.assign(day_of_week = __(a)__)
             .groupby(__(b)__).__(c)__.get(&quot;ISBN&quot;) / sales.shape[0])
obs = __(d)__</code></pre>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading6_3">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse6_3" aria-expanded="true" aria-controls="collapse6_3">
Click to view the solution.
</button>
</h2>
<div id="collapse6_3" class="accordion-collapse collapse"
aria-labelledby="heading6_3" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p>(a). <strong>Answer</strong>:
<code>sales.get("date").apply(find_day)</code></p>
<p>In this blank, we want to create a Series that contains days of the
week, such as <code>"Saturday"</code>, to be assigned to a column named
<code>day_of_week</code> in <code>sales</code>. We take the
<code>"date"</code> column in <code>sales</code> and apply the function
<code>find_day</code> to each of the date in the column.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 77%.</p>
<p>(b). <strong>Answer</strong>: <code>"day_of_week"</code></p>
<p>We want to group the <code>sales</code> DataFrame by the
<code>day_of_week</code> column that was created in blank (a) to collect
together all rows corresponding to the same day of the week.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 84%.</p>
<p>(c). <strong>Answer</strong>: <code>count()</code></p>
<p>We want to count how many sales occured on each day of the week, or,
how many rows are in <code>sales</code> that belong to each day, so we
use <code>count()</code> after grouping by <code>day_of_week</code>.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 71%.</p>
<p>(d). <strong>Answer</strong>:
<code>(np.abs(prop - hargen)).mean()</code></p>
<p>We first take one column that contains the count of rows for each day
of the week, indexed by the days in alphabetical order after the
groupby. We then divide this column by the total number of rows to get
proportions. We want to compute the statistic that we’ve chosen, the
mean of absolute differences in proportions between the observed and
Hargen’s proposed distribution. Since the order of the days already
match (both in alphabetical order), we can simply subtract one from the
other to get the difference in proportions. We then turn the differences
into absolute differences with <code>np.abs</code> and get the mean
using <code>.mean()</code>.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 59%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-6.4">Problem 6.4</h3>
<p>To conduct the hypothesis test, we’ll need to generate thousands of
simulated day-of-the-week distributions. What will we do with all these
simulated distributions?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> Use them to determine whether Hargen’s proposed distribution looks
like a typical simulated distribution.</p></li>
<li><p><input type="radio" disabled="" /> Use them to determine whether the observed distribution of books sold
by day looks like a typical simulated distribution.</p></li>
<li><p><input type="radio" disabled="" /> Use them to determine whether Hargen’s proposed distribution looks
like a typical observed distribution of books sold by day.</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading6_4">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse6_4" aria-expanded="true" aria-controls="collapse6_4">
Click to view the solution.
</button>
</h2>
<div id="collapse6_4" class="accordion-collapse collapse"
aria-labelledby="heading6_4" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer</strong>: Use them to determine whether the observed
distribution of books sold by day looks like a typical simulated
distribution.</p>
<p>For hypothesis testing, we simulate based on the null distribution,
which is the distribution that Hargen proposed. For each of the
simulated distribution of proportions , we calculate the statistic we
chose. After many simulations, we have calculated thousands of these
statistics, each between one simulated distribution and Hargen’s
proposed distribution. Lastly, we compare the observed statistic with
the statistics from the simulations to see whether <strong>the observed
distribution of books sold by day looks like a typical simulated
distribution.</strong></p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 28%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-6.5">Problem 6.5</h3>
<p>In each iteration of the simulation, we need to collect a sample of
size <code>sales.shape[0]</code> from which distribution?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> Hargen’s proposed distribution.</p></li>
<li><p><input type="radio" disabled="" /> The distribution of data in <code>sales</code> by day of the
week.</p></li>
<li><p><input type="radio" disabled="" /> Our original sample’s distribution.</p></li>
<li><p><input type="radio" disabled="" /> The distribution of possible sample means.</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading6_5">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse6_5" aria-expanded="true" aria-controls="collapse6_5">
Click to view the solution.
</button>
</h2>
<div id="collapse6_5" class="accordion-collapse collapse"
aria-labelledby="heading6_5" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer</strong>: Hargen’s proposed distribution.</p>
<p>For hypothesis testing, we simulate based on the null distribution,
which is the distribution that Hargen proposed.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 26%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-6.6">Problem 6.6</h3>
<p>Suppose that <code>obs</code> comes out to be in the 98th percentile
of simulated test statistics. Using the standard p-value cutoff of 0.05,
what would Hargen conclude about his original model?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> It is likely correct.</p></li>
<li><p><input type="radio" disabled="" /> It is plausible.</p></li>
<li><p><input type="radio" disabled="" /> It is likely wrong.</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading6_6">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse6_6" aria-expanded="true" aria-controls="collapse6_6">
Click to view the solution.
</button>
</h2>
<div id="collapse6_6" class="accordion-collapse collapse"
aria-labelledby="heading6_6" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer</strong>: It is likely wrong.</p>
<p>Using the standard p-value cutoff of 0.05, we say that the observed
distribution is not like a typical simulated distribution under Hargen’s
proposed distribution if it falls below 2.5th percentile of above 97.5th
percentile. In this case, 98th percentile is above 97.5th percentile, so
we say that Hargen’s proposed distribution is likely wrong.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 63%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<p class="meta"><em>Source:</em> fa24-final — Q10</p>
<h2 id="problem-7">Problem 7</h2>
<p><br></p>
<h3 id="problem-7.1">Problem 7.1</h3>
<p>Suppose the <code>bookstore</code> DataFrame has <span
class="math inline">10</span> unique genres, and we are given a sample
of <span class="math inline">350</span> books from that DataFrame.
Determine the maximum possible total variation distance (TVD) that could
occur between our sample’s genre distribution and the uniform
distribution where each genre occurs with equal probability. Your answer
should be a single number.</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading7_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse7_1" aria-expanded="true" aria-controls="collapse7_1">
Click to view the solution.
</button>
</h2>
<div id="collapse7_1" class="accordion-collapse collapse"
aria-labelledby="heading7_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer</strong>: 0.9</p>
<p>To determine the maximum possible TVD, we consider the scenario where
all books belong to a single genre. This represents the maximum
deviation from the uniform distribution:</p>
<ul>
<li><strong>Uniform distribution:</strong> <span class="math inline">0.1</span> probability for all genres</li>
<li><strong>Single genre distribution:</strong> <span class="math inline">1</span> probability for one genre and <span class="math inline">0</span> probability for all others</li>
</ul>
<p><span class="math display">
TVD = \frac{1}{2} \left( |1 - 0.1| + 9 \times |0 - 0.1| \right) =
\frac{1}{2} (0.9 + 0.9) = 0.9
</span></p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 31%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-7.2">Problem 7.2</h3>
<p>True or False: If the sample instead had 700 books, then the maximum
possible TVD would <strong>increase</strong>.</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> True</p></li>
<li><p><input type="radio" disabled="" /> False</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading7_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse7_2" aria-expanded="true" aria-controls="collapse7_2">
Click to view the solution.
</button>
</h2>
<div id="collapse7_2" class="accordion-collapse collapse"
aria-labelledby="heading7_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> False</p>
<p>The maximum possible TVD is based on proportions and not absolute
counts. Even if the sample size is increased, the TVD would remain the
same.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 71%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-7.3">Problem 7.3</h3>
<p>True or False: If the <code>bookstore</code> DataFrame had 11 genres
instead of 10, the maximum possible TVD would
<strong>increase</strong>.</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> True</p></li>
<li><p><input type="radio" disabled="" /> False</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading7_3">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse7_3" aria-expanded="true" aria-controls="collapse7_3">
Click to view the solution.
</button>
</h2>
<div id="collapse7_3" class="accordion-collapse collapse"
aria-labelledby="heading7_3" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> True</p>
<p>With 11 genres, the uniform probability per genre decreases to <span class="math inline">\frac{1}{11}</span> instead of <span class="math inline">\frac{1}{10}</span> with 10 genres. In the extreme
scenario where one genre dominates, the TVD is now bigger.</p>
<p><span class="math display">
TVD = \frac{1}{2} \left( |1 - \frac{1}{11}| + 10 \times |0 -
\frac{1}{11}| \right) = \frac{1}{2} (\frac{10}{11} + \frac{10}{11}) =
\frac{10}{11}
</span></p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 66%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="problem-8">Problem 8</h2>
<p>For this question, let’s think of the data in <code>app_data</code>
as a random sample of all IKEA purchases and use it to test the
following hypotheses.</p>
<p><strong>Null Hypothesis</strong>: IKEA sells an equal amount of beds
(category <code>'bed'</code>) and outdoor furniture (category
<code>'outdoor'</code>).</p>
<p><strong>Alternative Hypothesis</strong>: IKEA sells more beds than
outdoor furniture.</p>
<p>The DataFrame <code>app_data</code> contains 5000 rows, which form
our sample. Of these 5000 products,</p>
<ul>
<li>1000 are beds,</li>
<li>1500 are outdoor furniture, and</li>
<li>2500 are in another category.</li>
</ul>
<p><br></p>
<h3 id="problem-8.1">Problem 8.1</h3>
<p>Which of the following <strong>could</strong> be used as the test
statistic for this hypothesis test? Select all that apply.</p>
<ul class="task-list">
<li><p><input type="checkbox" disabled="" /> Among 2500 beds and outdoor furniture items, the absolute difference
between the proportion of beds and the proportion of outdoor
furniture.</p></li>
<li><p><input type="checkbox" disabled="" /> Among 2500 beds and outdoor furniture items, the proportion of
beds.</p></li>
<li><p><input type="checkbox" disabled="" /> Among 2500 beds and outdoor furniture items, the number of beds.</p></li>
<li><p><input type="checkbox" disabled="" /> Among 2500 beds and outdoor furniture items, the number of beds plus
the number of outdoor furniture items.</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading8_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse8_1" aria-expanded="true" aria-controls="collapse8_1">
Click to view the solution.
</button>
</h2>
<div id="collapse8_1" class="accordion-collapse collapse"
aria-labelledby="heading8_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer: </strong> Among 2500 beds and outdoor furniture
items, the proportion of beds. <br/> Among 2500 beds and outdoor
furniture items, the number of beds.</p>
<p>Our test statistic needs to be able to distinguish between the two
hypotheses. The first option does not do this, because it includes an
absolute value. If the absolute difference between the proportion of
beds and the proportion of outdoor furniture were large, it could be
because IKEA sells more beds than outdoor furniture, but it could also
be because IKEA sells more outdoor furniture than beds.</p>
<p>The second option is a valid test statistic, because if the
proportion of beds is large, that suggests that the alternative
hypothesis may be true.</p>
<p>Similarly, the third option works because if the number of beds (out
of 2500) is large, that suggests that the alternative hypothesis may be
true.</p>
<p>The fourth option is invalid because out of 2500 beds and outdoor
furniture items, the number of beds plus the number of outdoor furniture
items is always 2500. So the value of this statistic is constant
regardless of whether the alternative hypothesis is true, which means it
does not help you distinguish between the two hypotheses.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 78%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-8.2">Problem 8.2</h3>
<p>Let’s do a hypothesis test with the following test statistic: among
2500 beds and outdoor furniture items, the proportion of outdoor
furniture minus the proportion of beds.</p>
<p>Complete the code below to calculate the observed value of the test
statistic and save the result as <code>obs_diff</code>.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>    outdoor <span class="op">=</span> (app_data.get(<span class="st">&#39;category&#39;</span>)<span class="op">==</span><span class="st">&#39;outdoor&#39;</span>) </span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>    bed <span class="op">=</span> (app_data.get(<span class="st">&#39;category&#39;</span>)<span class="op">==</span><span class="st">&#39;bed&#39;</span>)</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>    obs_diff <span class="op">=</span> ( ___(a)___ <span class="op">-</span> ___(b)___ ) <span class="op">/</span> ___(c)___</span></code></pre></div>
<p>The table below contains several Python expressions. Choose the
correct expression to fill in each of the three blanks. Three
expressions will be used, and two will be unused.</p>
<center><img src='../../assets/images/sp22-final/q8-table.jpg' width=50%></center>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading8_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse8_2" aria-expanded="true" aria-controls="collapse8_2">
Click to view the solution.
</button>
</h2>
<div id="collapse8_2" class="accordion-collapse collapse"
aria-labelledby="heading8_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer: </strong> Reading the table from top to bottom, the
five expressions should be used in the following blanks: None, (b), (a),
(c), None.</p>
<p>The correct way to define <code>obs_diff</code> is</p>
<div id="cb1" class="sourceCode">
<pre class="sourceCode py"><code class="sourceCode python"><span id="cb1-1"><a aria-hidden="true" href="#cb1-1" tabindex="-1"></a>    outdoor <span class="op">=</span> (app_data.get(<span class="st">'category'</span>)<span class="op">==</span><span class="st">'outdoor'</span>) </span>
<span id="cb1-2"><a aria-hidden="true" href="#cb1-2" tabindex="-1"></a>    bed <span class="op">=</span> (app_data.get(<span class="st">'category'</span>)<span class="op">==</span><span class="st">'bed'</span>)</span>
<span id="cb1-3"><a aria-hidden="true" href="#cb1-3" tabindex="-1"></a>    obs_diff <span class="op">=</span> (app_data[outdoor].shape[<span class="dv">0</span>] <span class="op">-</span> app_data[bed].shape[<span class="dv">0</span>]) <span class="op">/</span> app_data[outdoor <span class="op">|</span> bed].shape[<span class="dv">0</span>]</span></code></pre>
</div>
<p>The first provided line of code defines a boolean Series called
<code>outdoor</code> with a value of <code>True</code> corresponding to
each outdoor furniture item in <code>app_data</code>. Using this as the
condition in a query results in a DataFrame of outdoor furniture items,
and using <code>.shape[0]</code> on this DataFrame gives the number of
outdoor furniture items. So <code>app_data[outdoor].shape[0]</code>
represents the number of outdoor furniture items in
<code>app_data</code>. Similarly, <code>app_data[bed].shape[0]</code>
represents the number of beds in <code>app_data</code>. Likewise,
<code>app_data[outdoor | bed].shape[0]</code> represents the total
number of outdoor furniture items and beds in <code>app_data</code>.
Notice that we need to use an <em>or</em> condition (<code>|</code>) to
get a DataFrame that contains both outdoor furniture and beds.</p>
<p>We are told that the test statistic should be the proportion of
outdoor furniture minus the proportion of beds. Translating this
directly into code, this means the test statistic should be calculated
as</p>
<div id="cb2" class="sourceCode">
<pre class="sourceCode py"><code class="sourceCode python"><span id="cb2-1"><a aria-hidden="true" href="#cb2-1" tabindex="-1"></a>    obs_diff <span class="op">=</span> app_data[outdoor].shape[<span class="dv">0</span>]<span class="op">/</span>app_data[outdoor <span class="op">|</span> bed].shape[<span class="dv">0</span>] <span class="op">-</span> app_data[bed].shape[<span class="dv">0</span>]) <span class="op">/</span> app_data[outdoor <span class="op">|</span> bed].shape[<span class="dv">0</span>]</span></code></pre>
</div>
<p>Since this is a difference of two fractions with the same
denominator, we can equivalently subtract the numerators first, then
divide by the common denominator, using the mathematical fact <span class="math display">\frac{a}{c} - \frac{b}{c} =
\frac{a-b}{c}.</span></p>
<p>This yields the answer</p>
<div id="cb3" class="sourceCode">
<pre class="sourceCode py"><code class="sourceCode python"><span id="cb3-1"><a aria-hidden="true" href="#cb3-1" tabindex="-1"></a>    obs_diff <span class="op">=</span> (app_data[outdoor].shape[<span class="dv">0</span>] <span class="op">-</span> app_data[bed].shape[<span class="dv">0</span>]) <span class="op">/</span> app_data[outdoor <span class="op">|</span> bed].shape[<span class="dv">0</span>]</span></code></pre>
</div>
<p>Notice that this is the <em>observed</em> value of the test statistic
because it’s based on the real-life data in the <code>app_data</code>
DataFrame, not simulated data.</p>
<hr/>
<h5>Difficulty: ⭐️</h5>
<p>
</p>
<p>The average score on this problem was 90%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-8.3">Problem 8.3</h3>
<p>Suppose we generate 10,000 simulated values of the test statistic
according to the null model and store them in an array called
<code>simulated_diffs</code>. Complete the code below to calculate the
p-value for the hypothesis test.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>    np.count_nonzero(simulated_diffs _________ obs_diff)<span class="op">/</span><span class="dv">10000</span></span></code></pre></div>
<p>What goes in the blank?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> <code>&lt;</code></p></li>
<li><p><input type="radio" disabled="" /> <code>&lt;=</code></p></li>
<li><p><input type="radio" disabled="" /> <code>&gt;</code></p></li>
<li><p><input type="radio" disabled="" /> <code>&gt;=</code></p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading8_3">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse8_3" aria-expanded="true" aria-controls="collapse8_3">
Click to view the solution.
</button>
</h2>
<div id="collapse8_3" class="accordion-collapse collapse"
aria-labelledby="heading8_3" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer: </strong> <code>&lt;=</code></p>
<p>To answer this question, we need to know whether small values or
large values of the test statistic indicate the alternative hypothesis.
The alternative hypothesis is that IKEA sells more beds than outdoor
furniture. Since we’re calculating the proportion of outdoor furniture
minus the proportion of beds, this difference will be small (negative)
if the alternative hypothesis is true. Larger (positive) values of the
test statistic mean that IKEA sells more outdoor furniture than beds. A
value near 0 means they sell beds and outdoor furniture equally.</p>
<p>The p-value is defined as the proportion of simulated test statistics
that are equal to the observed value or more extreme, where extreme
means in the direction of the alternative. In this case, since small
values of the test statistic indicate the alternative hypothesis, the
correct answer is <code>&lt;=</code>.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 43%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="problem-9">Problem 9</h2>
<p>For this question, let’s think of the data in <code>app_data</code>
as a random sample of all IKEA purchases and use it to test the
following hypotheses.</p>
<p><strong>Null Hypothesis</strong>: IKEA sells an equal amount of beds
(category <code>'bed'</code>) and outdoor furniture (category
<code>'outdoor'</code>).</p>
<p><strong>Alternative Hypothesis</strong>: IKEA sells more beds than
outdoor furniture.</p>
<p>The DataFrame <code>app_data</code> contains 5000 rows, which form
our sample. Of these 5000 products,</p>
<ul>
<li>1000 are beds,</li>
<li>1500 are outdoor furniture, and</li>
<li>2500 are in another category.</li>
</ul>
<p><br></p>
<h3 id="problem-9.1">Problem 9.1</h3>
<p>Which of the following <strong>could</strong> be used as the test
statistic for this hypothesis test? Select all that apply.</p>
<ul class="task-list">
<li><p><input type="checkbox" disabled="" /> Among 2500 beds and outdoor furniture items, the absolute difference
between the proportion of beds and the proportion of outdoor
furniture.</p></li>
<li><p><input type="checkbox" disabled="" /> Among 2500 beds and outdoor furniture items, the proportion of
beds.</p></li>
<li><p><input type="checkbox" disabled="" /> Among 2500 beds and outdoor furniture items, the number of beds.</p></li>
<li><p><input type="checkbox" disabled="" /> Among 2500 beds and outdoor furniture items, the number of beds plus
the number of outdoor furniture items.</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading9_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse9_1" aria-expanded="true" aria-controls="collapse9_1">
Click to view the solution.
</button>
</h2>
<div id="collapse9_1" class="accordion-collapse collapse"
aria-labelledby="heading9_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer: </strong> Among 2500 beds and outdoor furniture
items, the proportion of beds. <br/> Among 2500 beds and outdoor
furniture items, the number of beds.</p>
<p>Our test statistic needs to be able to distinguish between the two
hypotheses. The first option does not do this, because it includes an
absolute value. If the absolute difference between the proportion of
beds and the proportion of outdoor furniture were large, it could be
because IKEA sells more beds than outdoor furniture, but it could also
be because IKEA sells more outdoor furniture than beds.</p>
<p>The second option is a valid test statistic, because if the
proportion of beds is large, that suggests that the alternative
hypothesis may be true.</p>
<p>Similarly, the third option works because if the number of beds (out
of 2500) is large, that suggests that the alternative hypothesis may be
true.</p>
<p>The fourth option is invalid because out of 2500 beds and outdoor
furniture items, the number of beds plus the number of outdoor furniture
items is always 2500. So the value of this statistic is constant
regardless of whether the alternative hypothesis is true, which means it
does not help you distinguish between the two hypotheses.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 78%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-9.2">Problem 9.2</h3>
<p>Let’s do a hypothesis test with the following test statistic: among
2500 beds and outdoor furniture items, the proportion of outdoor
furniture minus the proportion of beds.</p>
<p>Complete the code below to calculate the observed value of the test
statistic and save the result as <code>obs_diff</code>.</p>
<div class="sourceCode" id="cb10"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>    outdoor <span class="op">=</span> (app_data.get(<span class="st">&#39;category&#39;</span>)<span class="op">==</span><span class="st">&#39;outdoor&#39;</span>) </span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>    bed <span class="op">=</span> (app_data.get(<span class="st">&#39;category&#39;</span>)<span class="op">==</span><span class="st">&#39;bed&#39;</span>)</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>    obs_diff <span class="op">=</span> ( ___(a)___ <span class="op">-</span> ___(b)___ ) <span class="op">/</span> ___(c)___</span></code></pre></div>
<p>The table below contains several Python expressions. Choose the
correct expression to fill in each of the three blanks. Three
expressions will be used, and two will be unused.</p>
<center><img src='../../assets/images/sp22-final/q8-table.jpg' width=50%></center>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading9_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse9_2" aria-expanded="true" aria-controls="collapse9_2">
Click to view the solution.
</button>
</h2>
<div id="collapse9_2" class="accordion-collapse collapse"
aria-labelledby="heading9_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer: </strong> Reading the table from top to bottom, the
five expressions should be used in the following blanks: None, (b), (a),
(c), None.</p>
<p>The correct way to define <code>obs_diff</code> is</p>
<div id="cb1" class="sourceCode">
<pre class="sourceCode py"><code class="sourceCode python"><span id="cb1-1"><a aria-hidden="true" href="#cb1-1" tabindex="-1"></a>    outdoor <span class="op">=</span> (app_data.get(<span class="st">'category'</span>)<span class="op">==</span><span class="st">'outdoor'</span>) </span>
<span id="cb1-2"><a aria-hidden="true" href="#cb1-2" tabindex="-1"></a>    bed <span class="op">=</span> (app_data.get(<span class="st">'category'</span>)<span class="op">==</span><span class="st">'bed'</span>)</span>
<span id="cb1-3"><a aria-hidden="true" href="#cb1-3" tabindex="-1"></a>    obs_diff <span class="op">=</span> (app_data[outdoor].shape[<span class="dv">0</span>] <span class="op">-</span> app_data[bed].shape[<span class="dv">0</span>]) <span class="op">/</span> app_data[outdoor <span class="op">|</span> bed].shape[<span class="dv">0</span>]</span></code></pre>
</div>
<p>The first provided line of code defines a boolean Series called
<code>outdoor</code> with a value of <code>True</code> corresponding to
each outdoor furniture item in <code>app_data</code>. Using this as the
condition in a query results in a DataFrame of outdoor furniture items,
and using <code>.shape[0]</code> on this DataFrame gives the number of
outdoor furniture items. So <code>app_data[outdoor].shape[0]</code>
represents the number of outdoor furniture items in
<code>app_data</code>. Similarly, <code>app_data[bed].shape[0]</code>
represents the number of beds in <code>app_data</code>. Likewise,
<code>app_data[outdoor | bed].shape[0]</code> represents the total
number of outdoor furniture items and beds in <code>app_data</code>.
Notice that we need to use an <em>or</em> condition (<code>|</code>) to
get a DataFrame that contains both outdoor furniture and beds.</p>
<p>We are told that the test statistic should be the proportion of
outdoor furniture minus the proportion of beds. Translating this
directly into code, this means the test statistic should be calculated
as</p>
<div id="cb2" class="sourceCode">
<pre class="sourceCode py"><code class="sourceCode python"><span id="cb2-1"><a aria-hidden="true" href="#cb2-1" tabindex="-1"></a>    obs_diff <span class="op">=</span> app_data[outdoor].shape[<span class="dv">0</span>]<span class="op">/</span>app_data[outdoor <span class="op">|</span> bed].shape[<span class="dv">0</span>] <span class="op">-</span> app_data[bed].shape[<span class="dv">0</span>]) <span class="op">/</span> app_data[outdoor <span class="op">|</span> bed].shape[<span class="dv">0</span>]</span></code></pre>
</div>
<p>Since this is a difference of two fractions with the same
denominator, we can equivalently subtract the numerators first, then
divide by the common denominator, using the mathematical fact <span class="math display">\frac{a}{c} - \frac{b}{c} =
\frac{a-b}{c}.</span></p>
<p>This yields the answer</p>
<div id="cb3" class="sourceCode">
<pre class="sourceCode py"><code class="sourceCode python"><span id="cb3-1"><a aria-hidden="true" href="#cb3-1" tabindex="-1"></a>    obs_diff <span class="op">=</span> (app_data[outdoor].shape[<span class="dv">0</span>] <span class="op">-</span> app_data[bed].shape[<span class="dv">0</span>]) <span class="op">/</span> app_data[outdoor <span class="op">|</span> bed].shape[<span class="dv">0</span>]</span></code></pre>
</div>
<p>Notice that this is the <em>observed</em> value of the test statistic
because it’s based on the real-life data in the <code>app_data</code>
DataFrame, not simulated data.</p>
<hr/>
<h5>Difficulty: ⭐️</h5>
<p>
</p>
<p>The average score on this problem was 90%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-9.3">Problem 9.3</h3>
<p>Which of the following is a valid way to generate one value of the
test statistic according to the null model? Select all that apply.</p>
<p>Way 1:</p>
<div class="sourceCode" id="cb11"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>multi <span class="op">=</span> np.random.multinomial(<span class="dv">2500</span>, [<span class="fl">0.5</span>,<span class="fl">0.5</span>]) </span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>(multi[<span class="dv">0</span>] <span class="op">-</span> multi[<span class="dv">1</span>])<span class="op">/</span><span class="dv">2500</span></span></code></pre></div>
<p>Way 2:</p>
<div class="sourceCode" id="cb12"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>outdoor <span class="op">=</span> np.random.multinomial(<span class="dv">2500</span>, [<span class="fl">0.5</span>,<span class="fl">0.5</span>])[<span class="dv">0</span>]<span class="op">/</span><span class="dv">2500</span> </span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>bed <span class="op">=</span> np.random.multinomial(<span class="dv">2500</span>, [<span class="fl">0.5</span>,<span class="fl">0.5</span>])[<span class="dv">1</span>]<span class="op">/</span><span class="dv">2500</span> </span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>outdoor <span class="op">-</span> bed </span></code></pre></div>
<p>Way 3:</p>
<div class="sourceCode" id="cb13"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>choice <span class="op">=</span> np.random.choice([<span class="dv">0</span>, <span class="dv">1</span>], <span class="dv">2500</span>, replace<span class="op">=</span><span class="va">True</span>) </span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>choice_sum <span class="op">=</span> choice.<span class="bu">sum</span>() </span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>(choice_sum <span class="op">-</span> (<span class="dv">2500</span> <span class="op">-</span> choice_sum))<span class="op">/</span><span class="dv">2500</span></span></code></pre></div>
<p>Way 4:</p>
<div class="sourceCode" id="cb14"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>choice <span class="op">=</span> np.random.choice([<span class="st">&#39;bed&#39;</span>, <span class="st">&#39;outdoor&#39;</span>], <span class="dv">2500</span>, replace<span class="op">=</span><span class="va">True</span>) </span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>bed <span class="op">=</span> np.count_nonzero(choice<span class="op">==</span><span class="st">&#39;bed&#39;</span>)</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>outdoor <span class="op">=</span> np.count_nonzero(choice<span class="op">==</span><span class="st">&#39;outdoor&#39;</span>)</span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>outdoor<span class="op">/</span><span class="dv">2500</span> <span class="op">-</span> bed<span class="op">/</span><span class="dv">2500</span></span></code></pre></div>
<p>Way 5:</p>
<div class="sourceCode" id="cb15"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>outdoor <span class="op">=</span> (app_data.get(<span class="st">&#39;category&#39;</span>)<span class="op">==</span><span class="st">&#39;outdoor&#39;</span>) </span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>bed <span class="op">=</span> (app_data.get(<span class="st">&#39;category&#39;</span>)<span class="op">==</span><span class="st">&#39;bed&#39;</span>)</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>samp <span class="op">=</span> app_data[outdoor<span class="op">|</span>bed].sample(<span class="dv">2500</span>, replace<span class="op">=</span><span class="va">True</span>) </span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>samp[samp.get(<span class="st">&#39;category&#39;</span>)<span class="op">==</span><span class="st">&#39;outdoor&#39;</span>].shape[<span class="dv">0</span>]<span class="op">/</span><span class="dv">2500</span> <span class="op">-</span>  samp[samp.get(<span class="st">&#39;category&#39;</span>)<span class="op">==</span><span class="st">&#39;bed&#39;</span>].shape[<span class="dv">0</span>]<span class="op">/</span><span class="dv">2500</span>)</span></code></pre></div>
<p>Way 6:</p>
<div class="sourceCode" id="cb16"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>outdoor <span class="op">=</span> (app_data.get(<span class="st">&#39;category&#39;</span>)<span class="op">==</span><span class="st">&#39;outdoor&#39;</span>) </span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>bed <span class="op">=</span> (app_data.get(<span class="st">&#39;category&#39;</span>)<span class="op">==</span><span class="st">&#39;bed&#39;</span>)</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>samp <span class="op">=</span> (app_data[outdoor<span class="op">|</span>bed].groupby(<span class="st">&#39;category&#39;</span>).count().reset_index().sample(<span class="dv">2500</span>, replace<span class="op">=</span><span class="va">True</span>))    </span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>samp[samp.get(<span class="st">&#39;category&#39;</span>)<span class="op">==</span><span class="st">&#39;outdoor&#39;</span>].shape[<span class="dv">0</span>]<span class="op">/</span><span class="dv">2500</span> <span class="op">-</span> samp[samp.get(<span class="st">&#39;category&#39;</span>)<span class="op">==</span><span class="st">&#39;bed&#39;</span>].shape[<span class="dv">0</span>]<span class="op">/</span><span class="dv">2500</span></span></code></pre></div>
<ul class="task-list">
<li><p><input type="checkbox" disabled="" /> Way 1</p></li>
<li><p><input type="checkbox" disabled="" /> Way 2</p></li>
<li><p><input type="checkbox" disabled="" /> Way 3</p></li>
<li><p><input type="checkbox" disabled="" /> Way 4</p></li>
<li><p><input type="checkbox" disabled="" /> Way 5</p></li>
<li><p><input type="checkbox" disabled="" /> Way 6</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading9_3">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse9_3" aria-expanded="true" aria-controls="collapse9_3">
Click to view the solution.
</button>
</h2>
<div id="collapse9_3" class="accordion-collapse collapse"
aria-labelledby="heading9_3" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer: </strong> Way 1, Way 3, Way 4, Way 6</p>
<p>Let’s consider each way in order.</p>
<p>Way 1 is a correct solution. This code begins by defining a variable
<code>multi</code> which will evaluate to an array with two elements
representing the number of items in each of the two categories, after
2500 items are drawn randomly from the two categories, with each
category being equally likely. In this case, our categories are beds and
outdoor furniture, and the null hypothesis says that each category is
equally likely, so this describes our scenario accurately. We can
interpret <code>multi[0]</code> as the number of outdoor furniture items
and <code>multi[1]</code> as the number of beds when we draw 2500 of
these items with equal probability. Using the same mathematical fact
from the solution to Problem 8.2, we can calculate the difference in
proportions as the difference in number divided by the total, so it is
correct to calculate the test statistic as
<code>(multi[0] - multi[1])/2500</code>.</p>
<p>Way 2 is an incorrect solution. Way 2 is based on a similar idea as
Way 1, except it calls <code>np.random.multinomial</code> twice, which
corresponds to two separate random processes of selecting 2500 items,
each of which is equally likely to be a bed or an outdoor furniture
item. However, is not guaranteed that the number of outdoor furniture
items in the first random selection plus the number of beds in the
second random selection totals 2500. Way 2 calculates the proportion of
outdoor furniture items in one random selection minus the proportion of
beds in another. What we want to do instead is calculate the difference
between the proportion of outdoor furniture and beds in a single random
draw.</p>
<p>Way 3 is a correct solution. Way 3 does the random selection of items
in a different way, using <code>np.random.choice</code>. Way 3 creates a
variable called <code>choice</code> which is an array of 2500 values.
Each value is chosen from the list <code>[0,1]</code> with each of the
two list elements being equally likely to be chosen. Of course, since we
are choosing 2500 items from a list of size 2, we must allow
replacements. We can interpret the elements of <code>choice</code> by
thinking of each 1 as an outdoor furniture item and each 0 as a bed. By
doing so, this random selection process matches up with the assumptions
of the null hypothesis. Then the sum of the elements of
<code>choice</code> represents the total number of outdoor furniture
items, which the code saves as the variable <code>choice_sum</code>.
Since there are 2500 beds and outdoor furniture items in total,
<code>2500 - choice_sum</code> represents the total number of beds.
Therefore, the test statistic here is correctly calculated as the number
of outdoor furniture items minus the number of beds, all divided by the
total number of items, which is 2500.</p>
<p>Way 4 is a correct solution. Way 4 is similar to Way 3, except
instead of using 0s and 1s, it uses the strings <code>'bed'</code> and
<code>'outdoor'</code> in the <code>choice</code> array, so the
interpretation is even more direct. Another difference is the way the
number of beds and number of outdoor furniture items is calculated. It
uses <code>np.count_nonzero</code> instead of sum, which wouldn’t make
sense with strings. This solution calculates the proportion of outdoor
furniture minus the proportion of beds directly.</p>
<p>Way 5 is an incorrect solution. As described in the solution to
Problem 8.2, <code>app_data[outdoor|bed]</code> is a DataFrame
containing just the outdoor furniture items and the beds from
<code>app_data</code>. Based on the given information, we know
<code>app_data[outdoor|bed]</code> has 2500 rows, 1000 of which
correspond to beds and 1500 of which correspond to furniture items. This
code defines a variable <code>samp</code> that comes from sampling this
DataFrame 2500 times with replacement. This means that each row of
<code>samp</code> is equally likely to be any of the 2500 rows of
<code>app_data[outdoor|bed]</code>. The fraction of these rows that are
beds is <span class="math inline">1000/2500 = 2/5</span> and the
fraction of these rows that are outdoor furniture items is <span class="math inline">1500/2500 = 3/5</span>. This means the random
process of selecting rows randomly such that each row is equally likely
does not make each item equally likely to be a bed or outdoor furniture
item. Therefore, this approach does not align with the assumptions of
the null hypothesis.</p>
<p>Way 6 is a correct solution. Way 6 essentially modifies Way 5 to make
beds and outdoor furniture items equally likely to be selected in the
random sample. As in Way 5, the code involves the DataFrame
<code>app_data[outdoor|bed]</code> which contains 1000 beds and 1500
outdoor furniture items. Then this DataFrame is grouped by
<code>'category'</code> which results in a DataFrame indexed by
<code>'category'</code>, which will have only two rows, since there are
only two values of <code>'category'</code>, either
<code>'outdoor'</code> or <code>'bed'</code>. The aggregation function
<code>.count()</code> is irrelevant here. When the index is reset,
<code>'category'</code> becomes a column. Now, randomly sampling from
this two-row grouped DataFrame such that each row is equally likely to
be selected <em>does</em> correspond to choosing items such that each
item is equally likely to be a bed or outdoor furniture item. The last
line simply calculates the proportion of outdoor furniture items minus
the proportion of beds in our random sample drawn according to the null
model.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 59%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-9.4">Problem 9.4</h3>
<p>Suppose we generate 10,000 simulated values of the test statistic
according to the null model and store them in an array called
<code>simulated_diffs</code>. Complete the code below to calculate the
p-value for the hypothesis test.</p>
<div class="sourceCode" id="cb17"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>    np.count_nonzero(simulated_diffs _________ obs_diff)<span class="op">/</span><span class="dv">10000</span></span></code></pre></div>
<p>What goes in the blank?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> <code>&lt;</code></p></li>
<li><p><input type="radio" disabled="" /> <code>&lt;=</code></p></li>
<li><p><input type="radio" disabled="" /> <code>&gt;</code></p></li>
<li><p><input type="radio" disabled="" /> <code>&gt;=</code></p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading9_4">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse9_4" aria-expanded="true" aria-controls="collapse9_4">
Click to view the solution.
</button>
</h2>
<div id="collapse9_4" class="accordion-collapse collapse"
aria-labelledby="heading9_4" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer: </strong> <code>&lt;=</code></p>
<p>To answer this question, we need to know whether small values or
large values of the test statistic indicate the alternative hypothesis.
The alternative hypothesis is that IKEA sells more beds than outdoor
furniture. Since we’re calculating the proportion of outdoor furniture
minus the proportion of beds, this difference will be small (negative)
if the alternative hypothesis is true. Larger (positive) values of the
test statistic mean that IKEA sells more outdoor furniture than beds. A
value near 0 means they sell beds and outdoor furniture equally.</p>
<p>The p-value is defined as the proportion of simulated test statistics
that are equal to the observed value or more extreme, where extreme
means in the direction of the alternative. In this case, since small
values of the test statistic indicate the alternative hypothesis, the
correct answer is <code>&lt;=</code>.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 43%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="problem-10">Problem 10</h2>
<p>There are 52 IKEA locations in the United States, and there are 50
states.</p>
<p>Which of the following describes how to calculate the total variation
distance between the distribution of IKEA locations by state and the
uniform distribution?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> For each IKEA location, take the absolute difference between 1/50 and
the number of IKEAs in the same state divided by the total number of
IKEA locations. Sum these values across all locations and divide by
two.</p></li>
<li><p><input type="radio" disabled="" /> For each IKEA location, take the absolute difference between the
number of IKEAs in the same state and the average number of IKEAs in
each state. Sum these values across all locations and divide by two.</p></li>
<li><p><input type="radio" disabled="" /> For each state, take the absolute difference between 1/50 and the
number of IKEAs in that state divided by the total number of IKEA
locations. Sum these values across all states and divide by two.</p></li>
<li><p><input type="radio" disabled="" /> For each state, take the absolute difference between the number of
IKEAs in that state and the average number of IKEAs in each state. Sum
these values across all states and divide by two.</p></li>
<li><p><input type="radio" disabled="" /> None of the above.</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading10">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse10" aria-expanded="true" aria-controls="collapse10">
Click to view the solution.
</button>
</h2>
<div id="collapse10" class="accordion-collapse collapse"
aria-labelledby="heading10" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer: </strong> For each state, take the absolute
difference between 1/50 and the number of IKEAs in that state divided by
the total number of IKEA locations. Sum these values across all states
and divide by two.</p>
<p>We’re looking at the distribution across states. Since there are 50
states, the uniform distribution would correspond to having a fraction
of 1/50 of the IKEA locations in each state. We can picture this as a
sequence with 50 entries that are all the same: <span class="math display">(1/50, 1/50, 1/50, 1/50, \dots)</span></p>
<p>We want to compare this to the actual distribution of IKEAs across
states, which we can think of as a sequence with 50 entries,
representing the 50 states, but where each entry is the proportion of
IKEA locations in a given state. For example, maybe the distribution
starts out like this: <span class="math display">(3/52, 1/52, 0/52,
1/52, \dots)</span> We can interpret each entry as the number of IKEAs
in a state divided by the total number of IKEA locations. Note that this
has nothing to do with the average number of IKEA locations in each
state, which is 52/50.</p>
<p>The way we take the TVD of two distributions is to subtract the
distributions, take the absolute value, sum up the values, and divide by
2. Since the entries represent states, this process aligns with the
given answer.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 30%.</p>
</div>
</div>
</div>
</div>
<hr />
<p class="meta"><em>Source:</em> sp23-final — Q5</p>
<h2 id="problem-11">Problem 11</h2>
<p>In some cities, the number of sunshine hours per month is relatively
consistent throughout the year. São Paulo, Brazil is one such city; in
all months of the year, the number of sunshine hours per month is
somewhere between 139 and 173. New York City’s, on the other hand,
ranges from 139 to 268.</p>
<p>Gina and Abel, both San Diego natives, are interested in assessing
how “consistent" the number of sunshine hours per month in San Diego
appear to be. Specifically, they’d like to test the following
hypotheses:</p>
<ul>
<li><p><strong>Null Hypothesis</strong>: The number of sunshine hours
per month in San Diego is drawn from the uniform distribution, <span
class="math inline">\left[\frac{1}{12}, \frac{1}{12}, ...,
\frac{1}{12}\right]</span>. (In other words, the number of sunshine
hours per month in San Diego is equal in all 12 months of the
year.)</p></li>
<li><p><strong>Alternative Hypothesis</strong>: The number of sunshine
hours per month in San Diego is not drawn from the uniform
distribution.</p></li>
</ul>
<p>As their test statistic, Gina and Abel choose the total variation
distance. To simulate samples under the null, they will sample from a
categorical distribution with 12 categories — January, February, and so
on, through December — each of which have an equal probability of being
chosen.</p>
<p><br></p>
<h3 id="problem-11.1">Problem 11.1</h3>
<p>In order to run their hypothesis test, Gina and Abel need a way to
calculate their test statistic. Below is an incomplete implementation of
a function that computes the TVD between two arrays of length 12, each
of which represent a categorical distribution.</p>
<div class="sourceCode" id="cb18"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> calculate_tvd(dist1, dist2):</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> np.mean(np.<span class="bu">abs</span>(dist1 <span class="op">-</span> dist2)) <span class="op">*</span> ____</span></code></pre></div>
<p>Fill in the blank so that <code>calculate_tvd</code> works as
intended.</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> <code>1 / 6</code></p></li>
<li><p><input type="radio" disabled="" /> <code>1 / 3</code></p></li>
<li><p><input type="radio" disabled="" /> <code>1 / 2</code></p></li>
<li><p><input type="radio" disabled="" /> <code>2</code></p></li>
<li><p><input type="radio" disabled="" /> <code>3</code></p></li>
<li><p><input type="radio" disabled="" /> <code>6</code></p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading11_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse11_1" aria-expanded="true" aria-controls="collapse11_1">
Click to view the solution.
</button>
</h2>
<div id="collapse11_1" class="accordion-collapse collapse"
aria-labelledby="heading11_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer</strong>: <code>6</code></p>
<p>The TVD is the sum of the absolute differences in proportions,
divided by 2. In the code to the left of the blank, we’ve computed the
mean of the absolute differences in proportions, which is the same as
the sum of the absolute differences in proportions, divided by 12 (since
<code>len(dist1)</code> is <code>12</code>). To correct the fact that we
divided by 12, we multiply by 6, so that we’re only dividing by 2.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 17%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<p><strong>Moving forward, assume that <code>calculate_tvd</code> works
correctly.</strong></p>
<p>Now, complete the implementation of the function
<code>uniform_test</code>, which takes in an array
<code>observed_counts</code> of length 12 containing the number of
sunshine hours each month in a city and returns the p-value for the
hypothesis test stated at the start of the question.</p>
<div class="sourceCode" id="cb19"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> uniform_test(observed_counts):</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>        <span class="co"># The values in observed_counts are counts, not proportions!</span></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>        total_count <span class="op">=</span> observed_counts.<span class="bu">sum</span>()</span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>        uniform_dist <span class="op">=</span> __(b)__</span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>        tvds <span class="op">=</span> np.array([])</span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> i <span class="kw">in</span> np.arange(<span class="dv">10000</span>):</span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a>            simulated <span class="op">=</span> __(c)__</span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a>            tvd <span class="op">=</span> calculate_tvd(simulated, __(d)__)</span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a>            tvds <span class="op">=</span> np.append(tvds, tvd)</span>
<span id="cb19-10"><a href="#cb19-10" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> np.mean(tvds __(e)__ calculate_tvd(uniform_dist, __(f)__))</span></code></pre></div>
<p><br></p>
<h3 id="problem-11.2">Problem 11.2</h3>
<p>What goes in blank (b)? <em>(Hint: The function
<code>np.ones(k)</code> returns an array of length <code>k</code> in
which all elements are <code>1</code>.)</em></p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading11_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse11_2" aria-expanded="true" aria-controls="collapse11_2">
Click to view the solution.
</button>
</h2>
<div id="collapse11_2" class="accordion-collapse collapse"
aria-labelledby="heading11_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer</strong>: <code>np.ones(12) / 12</code></p>
<p><code>uniform_dist</code> needs to be the same as the uniform
distribution provided in the null hypothesis, <span class="math inline">\left[\frac{1}{12}, \frac{1}{12}, ...,
\frac{1}{12}\right]</span>.</p>
<p>In code, this is an array of length 12 in which each element is equal
to <span class="math inline">1 / 12</span>. <code>np.ones(12)</code>
creates an array of length 12 in which each value is <code>1</code>; for
each value to be <code>1 / 12</code>, we divide <code>np.ones(12)</code>
by <code>12</code>.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 66%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<p><br></p>
<h3 id="problem-11.3">Problem 11.3</h3>
<p>What goes in blank (c)?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> <code>np.random.multinomial(12, uniform_dist)</code></p></li>
<li><p><input type="radio" disabled="" /> <code>np.random.multinomial(12, uniform_dist) / 12</code></p></li>
<li><p><input type="radio" disabled="" /> <code>np.random.multinomial(12, uniform_dist) / total_count</code></p></li>
<li><p><input type="radio" disabled="" /> <code>np.random.multinomial(total_count, uniform_dist)</code></p></li>
<li><p><input type="radio" disabled="" /> <code>np.random.multinomial(total_count, uniform_dist) / 12</code></p></li>
<li><p><input type="radio" disabled="" /> <code>np.random.multinomial(total_count, uniform_dist) / total_count</code></p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading11_3">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse11_3" aria-expanded="true" aria-controls="collapse11_3">
Click to view the solution.
</button>
</h2>
<div id="collapse11_3" class="accordion-collapse collapse"
aria-labelledby="heading11_3" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer</strong>:
<code>np.random.multinomial(total_count, uniform_dist) / total_count</code></p>
<p>The idea here is to repeatedly generate an array of proportions that
results from distributing <code>total_count</code> hours across the 12
months in a way that each month is equally likely to be chosen. Each
time we generate such an array, we’ll determine its TVD from the uniform
distribution; doing this repeatedly gives us an empirical distribution
of the TVD under the assumption the null hypothesis is true.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 21%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<p><br></p>
<h3 id="problem-11.4">Problem 11.4</h3>
<p>What goes in blank (d)?</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading11_4">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse11_4" aria-expanded="true" aria-controls="collapse11_4">
Click to view the solution.
</button>
</h2>
<div id="collapse11_4" class="accordion-collapse collapse"
aria-labelledby="heading11_4" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer</strong>: <code>uniform_dist</code></p>
<p>As mentioned above:</p>
<blockquote>
<p>Each time we generate such an array, we’ll determine its TVD from the
<strong>uniform distribution</strong>; doing this repeatedly gives us an
empirical distribution of the TVD under the assumption the null
hypothesis is true.</p>
</blockquote>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 54%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<p><br></p>
<h3 id="problem-11.5">Problem 11.5</h3>
<p>What goes in blank (e)?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> <code>&gt;</code></p></li>
<li><p><input type="radio" disabled="" /> <code>&gt;=</code></p></li>
<li><p><input type="radio" disabled="" /> <code>&lt;</code></p></li>
<li><p><input type="radio" disabled="" /> <code>&lt;=</code></p></li>
<li><p><input type="radio" disabled="" /> <code>==</code></p></li>
<li><p><input type="radio" disabled="" /> <code>!=</code></p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading11_5">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse11_5" aria-expanded="true" aria-controls="collapse11_5">
Click to view the solution.
</button>
</h2>
<div id="collapse11_5" class="accordion-collapse collapse"
aria-labelledby="heading11_5" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer</strong>: <code>&gt;=</code></p>
<p>The purpose of the last line of code is to compute the p-value for
the hypothesis test. Recall, the p-value of a hypothesis test is the
proportion of simulated test statistics that are as or more extreme than
the observed test statistic, under the assumption the null hypothesis is
true. In this context, “as extreme or more extreme” means the simulated
TVD is <strong>greater than or equal to</strong> the observed TVD (since
larger TVDs mean “more different”).</p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 77%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-11.6">Problem 11.6</h3>
<p>What goes in blank (f)?</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading11_6">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse11_6" aria-expanded="true" aria-controls="collapse11_6">
Click to view the solution.
</button>
</h2>
<div id="collapse11_6" class="accordion-collapse collapse"
aria-labelledby="heading11_6" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer</strong>: <code>observed_counts / total_count</code>
or <code>observed_counts / observed_counts.sum()</code></p>
<p>Blank (f) needs to contain the observed distribution of sunshine
hours (as an array of proportions) that we compare against the uniform
distribution to calculate the observed TVD. This observed TVD is then
compared with the distribution of simulated TVDs to calculate the
p-value. The observed counts are converted to proportions by dividing by
the total count so that the observed distribution is on the same scale
as the simulated and expected uniform distributions, which are also in
proportions.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 27%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<p class="meta"><em>Source:</em> sp23-final — Q10</p>
<h2 id="problem-12">Problem 12</h2>
<p>Costin, a San Francisco native, will be back in San Francisco over
the summer, and is curious as to whether it is true that about <span
class="math inline">\frac{3}{4}</span> of days in San Francisco are
sunny.</p>
<p>Fast forward to the end of September: Costin counted that of the 30
days in September, 27 were sunny in San Francisco. To test his theory,
Costin came up with two pairs of hypotheses.</p>
<p>Pair 1:</p>
<ul>
<li><p><strong>Null Hypothesis</strong>: The probability that it is
sunny on any given day in September in San Francisco is <span
class="math inline">\frac{3}{4}</span>, independent of all other
days.</p></li>
<li><p><strong>Alternative Hypothesis</strong>: The probability that it
is sunny on any given day in September in San Francisco is
<strong>not</strong> <span
class="math inline">\frac{3}{4}</span>.</p></li>
</ul>
<p>Pair 2:</p>
<ul>
<li><p><strong>Null Hypothesis</strong>: The probability that it is
sunny on any given day in September in San Francisco is <span
class="math inline">\frac{3}{4}</span>, independent of all other
days.</p></li>
<li><p><strong>Alternative Hypothesis</strong>: The probability that it
is sunny on any given day in September in San Francisco is
<strong>greater than</strong> <span
class="math inline">\frac{3}{4}</span>.</p></li>
</ul>
<p>For each test statistic below, choose whether the test statistic
could be used to test Pair 1, Pair 2, both, or neither. Assume that all
days are either sunny or cloudy, and that we cannot perform two-tailed
hypothesis tests. (If you don’t know what those are, you don’t need
to!)</p>
<p><br></p>
<h3 id="problem-12.1">Problem 12.1</h3>
<p>The difference between the number of sunny days and number of cloudy
days</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> Pair 1</p></li>
<li><p><input type="radio" disabled="" /> Pair 2</p></li>
<li><p><input type="radio" disabled="" /> Both</p></li>
<li><p><input type="radio" disabled="" /> Neither</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading12_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse12_1" aria-expanded="true" aria-controls="collapse12_1">
Click to view the solution.
</button>
</h2>
<div id="collapse12_1" class="accordion-collapse collapse"
aria-labelledby="heading12_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer</strong>: Pair 2</p>
<p>The test statistic provided is the difference between the number of
sunny days and cloudy days in a sample of 30 days. Since each day is
either sunny or cloudy, the number of cloudy days is just 30 - the
number of sunny days. This means we can re-write our test statistic as
follows:</p>
<p><span class="math display">\begin{align*} &amp;\text{number of sunny
days} - \text{number of cloudy days} \\ &amp;= \text{number of sunny
days} - (30 - \text{number of sunny days}) \\ &amp;= 2 \cdot
\text{number of sunny days} - 30 \\ &amp;=
2 \cdot (\text{number of sunny days} - 15) \end{align*}</span></p>
<p>The more sunny days there are in our sample of 30 days, the larger
this test statistic will be. (Specifically, if there are more sunny days
than cloudy days, this will be positive; if there’s an equal number of
sunny and cloudy days, this will be 0, and if there are more cloudy
days, this will be negative.)</p>
<p>Now, let’s look at each pair of hypotheses.</p>
<p><strong>Pair 1</strong>:<br/>
</p>
<p>Pair 1’s alternative hypothesis is that the probability of a sunny
day is not <span class="math inline">\frac{3}{4}</span>, which includes
both greater than and less than <span class="math inline">\frac{3}{4}</span>.</p>
<p>To test this pair of hypotheses, we need a test statistic that is
<strong>large</strong> when the number of sunny days is far from <span class="math inline">\frac{3}{4}</span> (evidence for the alternative
hypothesis) and <strong>small</strong> when the number of sunny days is
close to <span class="math inline">\frac{3}{4}</span> (evidence for the
null hypothesis). (It would also be acceptable to design a test
statistic that is small when the number of sunny days is far from <span class="math inline">\frac{3}{4}</span> and large when it’s close to
<span class="math inline">\frac{3}{4}</span>, but the first option we’ve
outlined is a bit more natural.)</p>
<p>Our chosen test statistic, <span class="math inline">2 \cdot
(\text{number of sunny days} - 15)</span>, doesn’t work this way; both
very large values and very small values indicate that the proportion of
sunny days is far from <span class="math inline">\frac{3}{4}</span>, and
since we can’t use two-tailed tests, we can’t use our test statistic for
this pair.</p>
<p><strong>Pair 2</strong>:<br/>
</p>
<p>Pair 2’s alternative hypothesis is that the probability of a sunny
day greater than <span class="math inline">\frac{3}{4}</span>.</p>
<p>Since our test statistic is large when the number of sunny days is
large (evidence for the alternative hypothesis) and is small when the
number of sunny days is small (evidence for the null hypothesis), we can
use our test statistic to test this pair of hypotheses. The key
difference between Pair 1 and Pair 2 is that Pair 2’s alternative
hypothesis has a direction – it says that the probability that it is
sunny on any given day is <strong>greater than</strong> <span class="math inline">\frac{3}{4}</span>, rather than just “not” <span class="math inline">\frac{3}{4}</span>.</p>
<p>Thus, we can use this test statistic to test Pair 2, but not Pair
1.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 28%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<p><br></p>
<h3 id="problem-12.2">Problem 12.2</h3>
<p>The absolute difference between the number of sunny days and number
of cloudy days</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> Pair 1</p></li>
<li><p><input type="radio" disabled="" /> Pair 2</p></li>
<li><p><input type="radio" disabled="" /> Both</p></li>
<li><p><input type="radio" disabled="" /> Neither</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading12_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse12_2" aria-expanded="true" aria-controls="collapse12_2">
Click to view the solution.
</button>
</h2>
<div id="collapse12_2" class="accordion-collapse collapse"
aria-labelledby="heading12_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer</strong>: Neither</p>
<p>The test statistic here is the absolute value of the test statistic
in the first part. Since we were able to re-write the test statistic in
the first part as <span class="math inline">2 \cdot (\text{number of
sunny days} - 15)</span>, our test statistic here is <span class="math inline">|2 \cdot (\text{number of sunny days} - 15)|</span>,
or, since <span class="math inline">2</span> already non-negative,</p>
<p><span class="math display">2 \cdot | \text{number of sunny days} - 15
|</span></p>
<p>This test statistic is large when the number of sunny days is far
from 15, i.e. when the number of sunny days and number of cloudy days
are far apart, or when the proportion of sunny days is far from <span class="math inline">\frac{1}{2}</span>. However, the null hypothesis
we’re testing here is not that the proportion of sunny days is <span class="math inline">\frac{1}{2}</span>, but that the proportion of sunny
days is <span class="math inline">\frac{3}{4}</span>.</p>
<p>A large value of this test statistic will tell us the proportion of
sunny days is far from <span class="math inline">\frac{1}{2}</span>, but
it may or may not be far from <span class="math inline">\frac{3}{4}</span>. For instance, when <span class="math inline">\text{number of sunny days} = 7</span>, then our
test statistic is <span class="math inline">2 \cdot | 7 - 15 | =
16</span>. When <span class="math inline">\text{number of sunny days} =
23</span>, our test statistic is also 16. However, in the first case,
the proportion of sunny days is just under <span class="math inline">\frac{1}{4}</span> (far from <span class="math inline">\frac{3}{4}</span>), while in the second case the
proportion of sunny days is just above <span class="math inline">\frac{3}{4}</span>.</p>
<p>In both pairs of hypotheses, this test statistic isn’t set up such
that large values point to one hypothesis and small values point to the
other, so it can’t be used to test either pair.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 25%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<p><br></p>
<h3 id="problem-12.3">Problem 12.3</h3>
<p>The difference between the proportion of sunny days and <span
class="math inline">\frac{1}{4}</span></p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> Pair 1</p></li>
<li><p><input type="radio" disabled="" /> Pair 2</p></li>
<li><p><input type="radio" disabled="" /> Both</p></li>
<li><p><input type="radio" disabled="" /> Neither</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading12_3">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse12_3" aria-expanded="true" aria-controls="collapse12_3">
Click to view the solution.
</button>
</h2>
<div id="collapse12_3" class="accordion-collapse collapse"
aria-labelledby="heading12_3" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer</strong>: Pair 2</p>
<p>The test statistic here is the difference between the proportion of
sunny days and <span class="math inline">\frac{1}{4}</span>. This means
if <span class="math inline">p</span> is the proportion of sunny days,
the test statistic is <span class="math inline">p - \frac{1}{4}</span>.
<strong>This test statistic is large when the proportion of sunny days
is large and small when the proportion of sunny days is small.</strong>
(The fact that we’re subtracting by <span class="math inline">\frac{1}{4}</span> doesn’t change this pattern – all
it does is shift both the empirical distribution of the test statistic
and our observed statistic <span class="math inline">\frac{1}{4}</span>
of a unit to the left on the <span class="math inline">x</span>-axis.)</p>
<p>As such, this test statistic behaves the same as the test statistic
from the first part – both test statistics are large when the number of
sunny days is large (evidence for the alternative hypothesis) and small
when the number of sunny days is small (evidence for the null
hypothesis). This means that, like in the first part, we can use this
test statistic to test Pair 2, but not Pair 1.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 24%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<p><br></p>
<h3 id="problem-12.4">Problem 12.4</h3>
<p>The absolute difference between the proportion of cloudy days and
<span class="math inline">\frac{1}{4}</span></p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> Pair 1</p></li>
<li><p><input type="radio" disabled="" /> Pair 2</p></li>
<li><p><input type="radio" disabled="" /> Both</p></li>
<li><p><input type="radio" disabled="" /> Neither</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading12_4">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse12_4" aria-expanded="true" aria-controls="collapse12_4">
Click to view the solution.
</button>
</h2>
<div id="collapse12_4" class="accordion-collapse collapse"
aria-labelledby="heading12_4" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer</strong>: Pair 1</p>
<p>The test statistic here is the absolute difference between the
proportion of cloudy days and <span class="math inline">\frac{1}{4}</span>. Let <span class="math inline">q</span> be the proportion of cloudy days. The test
statistic is <span class="math inline">|q - \frac{1}{4}|</span>. The
null hypothesis for both pairs states that the probability of a sunny
day is <span class="math inline">\frac{3}{4}</span>, which implies the
probability of a cloudy day is <span class="math inline">\frac{1}{4}</span> (since all days are either sunny
or cloudy).</p>
<p>This test statistic is large when the proportion of cloudy days is
far from <span class="math inline">\frac{1}{4}</span> and small when the
proportion of cloudy days is close to <span class="math inline">\frac{1}{4}</span>.</p>
<p>Since <strong>Pair 1</strong>’s alternative hypothesis is just that
the proportion of cloudy days is not <span class="math inline">\frac{1}{4}</span>, we can use this test statistic
to test it! Large values of this test statistic point to the alternative
hypothesis and small values point to the null.</p>
<p>On the other hand, <strong>Pair 2</strong>’s alternative hypothesis
is that the proportion of sunny days is greater than <span class="math inline">\frac{3}{4}</span>, which is the same as the
proportion of cloudy days being less than <span class="math inline">\frac{1}{4}</span>. The issue here is that our test
statistic doesn’t involve a direction – a large value implies that the
proportion of cloudy days is far from <span class="math inline">\frac{1}{4}</span>, but we don’t know if that means
that there were fewer cloudy days than <span class="math inline">\frac{1}{4}</span> (evidence for Pair 2’s
alternative hypothesis) or more cloudy days than <span class="math inline">\frac{1}{4}</span> (evidence for Pair 2’s null
hypothesis). Since, for Pair 2, this test statistic isn’t set up such
that large values point to one hypothesis and small values point to the
other, we can’t use this test statistic to test Pair 2.</p>
<p>Therefore, we can use this test statistic to test Pair 1, but not
Pair 2.</p>
<p><strong><em>Aside:</em></strong> This test statistic is equivalent to
the absolute difference between the proportion of sunny days and <span class="math inline">\frac{3}{4}</span>. Try and prove this fact!</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 46%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<p class="meta"><em>Source:</em> sp24-final — Q16</p>
<h2 id="problem-13">Problem 13</h2>
<p>The table below shows the proportion of apartments of each type in
each of three neighborhoods. Note that each column sums to 1.</p>
<table>
<thead>
<tr>
<th style="text-align: left;"><strong>Type</strong></th>
<th style="text-align: center;"><strong>North Park</strong></th>
<th style="text-align: center;"><strong>Chula Vista</strong></th>
<th style="text-align: center;"><strong>La Jolla</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">Studio</td>
<td style="text-align: center;">0.30</td>
<td style="text-align: center;">0.15</td>
<td style="text-align: center;">0.40</td>
</tr>
<tr>
<td style="text-align: left;">One bedroom</td>
<td style="text-align: center;">0.40</td>
<td style="text-align: center;">0.35</td>
<td style="text-align: center;">0.30</td>
</tr>
<tr>
<td style="text-align: left;">Two bedroom</td>
<td style="text-align: center;">0.20</td>
<td style="text-align: center;">0.25</td>
<td style="text-align: center;">0.15</td>
</tr>
<tr>
<td style="text-align: left;">Three bedroom</td>
<td style="text-align: center;">0.10</td>
<td style="text-align: center;">0.25</td>
<td style="text-align: center;">0.15</td>
</tr>
</tbody>
</table>
<p><br></p>
<h3 id="problem-13.1">Problem 13.1</h3>
<p>Find the total variation distance (TVD) between North Park and Chula
Vista. Give your answer as an exact decimal.</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading13_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse13_1" aria-expanded="true" aria-controls="collapse13_1">
Click to view the solution.
</button>
</h2>
<div id="collapse13_1" class="accordion-collapse collapse"
aria-labelledby="heading13_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> <span class="math inline">0.2</span></p>
<p>To find the TVD, we take the absolute differences between North Park
and Chula Vista for all rows, sum them, then cut the result in half.</p>
<p><span class="math display">\dfrac{|0.3 - 0.15| + |0.4 - 0.35| + |0.2
- 0.25| + |0.1 - 0.25|}{2} = \dfrac{0.15 + 0.05 + 0.05 + 0.15}{2} =
\dfrac{0.4}{2} = 0.2</span></p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 72%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-13.2">Problem 13.2</h3>
<p>Which pair of neighborhoods is most similar in terms of types of
housing, as measured by TVD?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> North Park and Chula Vista</p></li>
<li><p><input type="radio" disabled="" /> North Park and La Jolla</p></li>
<li><p><input type="radio" disabled="" /> Chula Vista and La Jolla</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading13_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse13_2" aria-expanded="true" aria-controls="collapse13_2">
Click to view the solution.
</button>
</h2>
<div id="collapse13_2" class="accordion-collapse collapse"
aria-labelledby="heading13_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> North Park and La Jolla</p>
<p>The TVD between North Park and La Jolla is the lowest between all
pairs of two of these three neighborhoods:</p>
<p><br/></p>
<table>
<thead>
<tr>
<th style="text-align: left;"><strong>Pair</strong></th>
<th style="text-align: center;"><strong>TVD</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">North Park and Chula Vista</td>
<td style="text-align: center;">0.2</td>
</tr>
<tr>
<td style="text-align: left;">North Park and La Jolla</td>
<td style="text-align: center;">0.15</td>
</tr>
<tr>
<td style="text-align: left;">Chula Vista and La Jolla</td>
<td style="text-align: center;">0.25</td>
</tr>
</tbody>
</table>
<p><br/></p>
<p>This implies that the distributions of apartment types for North Park
and La Jolla are the most similar.</p>
<hr/>
<h5>Difficulty: ⭐️</h5>
<p>
</p>
<p>The average score on this problem was 94%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-13.3">Problem 13.3</h3>
<p>25% of apartments in Little Italy are one bedroom apartments. Based
on this information, what is the minimum and maximum possible TVD
between North Park and Little Italy? Give your answers as exact
decimals.</p>
<center>Minimum: ______ Maximum: ______</center>
<p><br></p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading13_3">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse13_3" aria-expanded="true" aria-controls="collapse13_3">
Click to view the solution.
</button>
</h2>
<div id="collapse13_3" class="accordion-collapse collapse"
aria-labelledby="heading13_3" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong></p>
<ul>
<li>Minimum: <span class="math inline">0.15</span></li>
<li>Maximum: <span class="math inline">0.65</span></li>
</ul>
<p>The minimum TVD is 0.15 because:</p>
<ul>
<li>One-Bedroom Apartments for North Park and Little Italy already have
a gap of <span class="math inline">|0.4 - 0.25| = 0.15</span></li>
<li><strong>A best-possible configuration</strong> of the remaining
<span class="math inline">0.75</span> of the Little Italy distribution
(Studio: <span class="math inline">0.3</span>, Two Bed: <span class="math inline">0.2</span>, Three Bed: <span class="math inline">0.25</span>) produces an additional <span class="math inline">|0.3 - 0.3| + |0.2 - 0.2| + |0.1 - 0.25| =
0.15</span> error against North Park.</li>
<li>The TVD of this optimal scenario is <span class="math inline">\frac{0.15 + 0.15}{2} = 0.15</span>.</li>
</ul>
<p>The maximum TVD is 0.65 because:</p>
<ul>
<li>One-Bedroom Apartments for North Park and Little Italy already have
a gap of <span class="math inline">|0.4 - 0.25| = 0.15</span></li>
<li><strong>The worst-possible configuration</strong> of the remaining
<span class="math inline">0.75</span> of the Little Italy distribution
(Studio: <span class="math inline">0.0</span>, Two Bed: <span class="math inline">0.0</span>, Three Bed: <span class="math inline">0.75</span>) produces an additional <span class="math inline">|0.3 - 0| + |0.2 - 0| + |0.1 - 0.75| = 1.15</span>
error against North Park.</li>
<li>The TVD of this worst scenario is <span class="math inline">\frac{0.15 + 1.15}{2} = 0.65</span>.</li>
</ul>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 49%. </p>
<hr/>
<h5>Difficulty:
⭐️⭐️⭐️⭐️</h5>
<p>The average score on this problem was 33%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="problem-14">Problem 14</h2>
<p>Every year, the American Kennel Club holds a Photo Contest for dogs.
Eric wants to know whether <strong>toy dogs win disproportionately more
often than other kinds of dogs.</strong> He has collected a sample of
500 dogs that have won the Photo Contest. In his sample, 200 dogs were
toy dogs.</p>
<p>Eric also knows the distribution of dog kinds in the population:</p>
<center><img src='../../assets/images/su22-final/q6_df.png' width=60%></center>
<p><br></p>
<h3 id="problem-14.1">Problem 14.1</h3>
<p>Select all correct statements of the null hypothesis.</p>
<ul class="task-list">
<li><p><input type="checkbox" disabled="" /> The distribution of dogs in the sample is the same as the
distribution in the population. Any difference is due to chance.</p></li>
<li><p><input type="checkbox" disabled="" /> Every dog in the sample was drawn uniformly at random without
replacement from the population.</p></li>
<li><p><input type="checkbox" disabled="" /> The number of toy dogs that win is the same as the number of toy dogs
in the population.</p></li>
<li><p><input type="checkbox" disabled="" /> The proportion of toy dogs that win is the same as the proportion of
toy dogs in the population.</p></li>
<li><p><input type="checkbox" disabled="" /> The proportion of toy dogs that win is 0.3.</p></li>
<li><p><input type="checkbox" disabled="" /> The proportion of toy dogs that win is 0.5.</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading14_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse14_1" aria-expanded="true" aria-controls="collapse14_1">
Click to view the solution.
</button>
</h2>
<div id="collapse14_1" class="accordion-collapse collapse"
aria-labelledby="heading14_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer: </strong> Options 4 &amp; 5</p>
<p>A null hypothesis is the hypothesis that there is no significant
difference between specified populations, any observed difference being
due to sampling or experimental error. Let’s consider what a potential
null hypothesis might look like. A potential null hypothesis would be
that there is no difference between the win proportion of toy dogs
compared to the proportion of toy dogs in the population.</p>
<ul>
<li><p>Option 1: We’re not really looking at the distribution of dogs in
our sample vs. dogs in our population, rather, we’re looking at whether
toy dogs win more than other dogs. In other words, the only factors
we’re really consdiering are the proportion of toy dogs to normal dogs,
as well as the win percentages of toy dogs to normal dogs; and so the
distribution of the population doesn’t really matter. Furthermore, this
option makes no reference to win rate of toy dogs.</p></li>
<li><p>Option 2: This isn’t really even a null hypothesis, but rather
more of a description of a test procedure. This option also makes no
attempt to reference to win rate of toy dogs.</p></li>
<li><p>Option 3: This statement doesn’t really make sense in that it is
illogical to compare the raw number of toy dogs wins to the number of
toy dogs in the population, because the number of toy dogs is always at
least the number of toy dogs that win.</p></li>
<li><p>Option 4: This statement is in line with the null
hypothesis.</p></li>
<li><p>Option 5: This statement is another potential null hypothesis
since the proportion of toy dogs in the population is 0.3.</p></li>
<li><p>Option 6: This statement, although similar to Option 5, would not
be a null hypothesis because 0.5 has no relevance to any of the relevant
proportions. While it’s true that if the proportion of of toy dogs that
win is over 0.5, we could maybe infer that toy dogs win the majority of
the times; however, the question is not to determine whether toy dogs
win most of the times, but rather if toy dogs win a disproportionately
high number of times relative to its population size.</p></li>
</ul>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 83%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-14.2">Problem 14.2</h3>
<p>Select the correct statement of the alternative hypothesis.</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> The model in the null hypothesis underestimates how often toy dogs
win.</p></li>
<li><p><input type="radio" disabled="" /> The model in the null hypothesis overestimates how often toy dogs
win.</p></li>
<li><p><input type="radio" disabled="" /> The distribution of dog kinds in the sample is not the same as the
population.</p></li>
<li><p><input type="radio" disabled="" /> The data were not drawn at random from the population.</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading14_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse14_2" aria-expanded="true" aria-controls="collapse14_2">
Click to view the solution.
</button>
</h2>
<div id="collapse14_2" class="accordion-collapse collapse"
aria-labelledby="heading14_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer: </strong> Option 1</p>
<p>The alternative hypothesis is the hypothesis we’re trying to support,
which in this case is that toy dogs happen to win more than other
dogs.</p>
<ul>
<li><p>Option 1: This is in line with our alternative hypothesis, since
proving that the null hypothesis underestimates how often toy dogs win
means that toy dogs win more than other dogs.</p></li>
<li><p>Option 2: This is the opposite of what we’re trying to
prove.</p></li>
<li><p>Option 3: We don’t really care too much about the distribution of
dog kinds, since that doesn’t help us determine toy dog win rates
compared to other dogs.</p></li>
<li><p>Option 4: Again, we don’t care whether all dogs are chosen
according to the probabilities in the null model, instead we care
specifically about toy dogs.</p></li>
</ul>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 67%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-14.3">Problem 14.3</h3>
<p>Select all the test statistics that Eric can use to conduct his
hypothesis.</p>
<ul class="task-list">
<li><p><input type="checkbox" disabled="" /> The proportion of toy dogs in his sample.</p></li>
<li><p><input type="checkbox" disabled="" /> The number of toy dogs in his sample.</p></li>
<li><p><input type="checkbox" disabled="" /> The absolute difference of the sample proportion of toy dogs and
0.3.</p></li>
<li><p><input type="checkbox" disabled="" /> The absolute difference of the sample proportion of toy dogs and
0.5.</p></li>
<li><p><input type="checkbox" disabled="" /> The TVD between his sample and the population.</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading14_3">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse14_3" aria-expanded="true" aria-controls="collapse14_3">
Click to view the solution.
</button>
</h2>
<div id="collapse14_3" class="accordion-collapse collapse"
aria-labelledby="heading14_3" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer: </strong> Option 1 and Option 2</p>
<ul>
<li><p>Option 1: This option is correct. According to our null
hypothesis, we’re trying to compare the proportion of toy dogs win rates
to the proportion of toy dogs. Thus taking the proportion of toy dogs in
Eric’s sample is a perfectly valid test statistic.</p></li>
<li><p>Option 2: This option is correct. Since the sample size is fixed
at 500, so kowning the count is equivalent to knowing the
proportion.</p></li>
<li><p>Option 3: This option is incorrect. The absolute difference of
the sample proportion of toy dogs and 0.3 doesn’t help us because the
absolute difference won’t tell us whether or not the sample proportion
of toy dogs is lower than 0.3 or higher than 0.3.</p></li>
<li><p>Option 4: This option is incorrect for the same reasoning as
above, but also 0.5 isn’t a relevant number anyways.</p></li>
<li><p>Option 5: This option is incorrect because TVD measures distance
between two categorical distributions, and here we only care about one
particular category (not all categories) being the same.</p></li>
</ul>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 70%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-14.4">Problem 14.4</h3>
<p>Eric decides on this test statistic: the proportion of toy dogs minus
the proportion of non-toy dogs. What is the observed value of the test
statistic?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> -0.4</p></li>
<li><p><input type="radio" disabled="" /> -0.2</p></li>
<li><p><input type="radio" disabled="" /> 0</p></li>
<li><p><input type="radio" disabled="" /> 0.2</p></li>
<li><p><input type="radio" disabled="" /> 0.4</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading14_4">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse14_4" aria-expanded="true" aria-controls="collapse14_4">
Click to view the solution.
</button>
</h2>
<div id="collapse14_4" class="accordion-collapse collapse"
aria-labelledby="heading14_4" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer: </strong> -0.2</p>
<p>For our given sample, the proportion of toy dogs is <span class="math inline">\frac{200}{500}=0.4</span> and the proportion of
non-toy dogs is <span class="math inline">\frac{500-200}{500}=0.6</span>, so <span class="math inline">0.4 - 0.6 = -0.2</span>.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 74%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-14.5">Problem 14.5</h3>
<p>Which snippets of code correctly compute Eric’s test statistic on one
simulated sample under the null hypothesis? Select all that apply. The
result must be stored in the variable <code>stat</code>. Below are the 5
snippets</p>
<p>Snippet 1:</p>
<div class="sourceCode" id="cb20"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>a <span class="op">=</span> np.random.choice([<span class="fl">0.3</span>, <span class="fl">0.7</span>])</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>b <span class="op">=</span> np.random.choice([<span class="fl">0.3</span>, <span class="fl">0.7</span>])</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>stat <span class="op">=</span> a <span class="op">-</span> b</span></code></pre></div>
<p>Snippet 2:</p>
<div class="sourceCode" id="cb21"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>a <span class="op">=</span> np.random.choice([<span class="fl">0.1</span>, <span class="fl">0.2</span>, <span class="fl">0.3</span>, <span class="fl">0.2</span>, <span class="fl">0.15</span>, <span class="fl">0.05</span>])</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>stat <span class="op">=</span> a <span class="op">-</span> (<span class="dv">1</span> <span class="op">-</span> a)</span></code></pre></div>
<p>Snippet 3:</p>
<div class="sourceCode" id="cb22"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>a <span class="op">=</span> np.random.multinomial(<span class="dv">500</span>, [<span class="fl">0.1</span>, <span class="fl">0.2</span>, <span class="fl">0.3</span>, <span class="fl">0.2</span>, <span class="fl">0.15</span>, <span class="fl">0.05</span>]) <span class="op">/</span> <span class="dv">500</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>stat <span class="op">=</span> a[<span class="dv">2</span>] <span class="op">-</span> (<span class="dv">1</span> <span class="op">-</span> a[<span class="dv">2</span>])</span></code></pre></div>
<p>Snippet 4:</p>
<div class="sourceCode" id="cb23"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>a <span class="op">=</span> np.random.multinomial(<span class="dv">500</span>, [<span class="fl">0.3</span>, <span class="fl">0.7</span>]) <span class="op">/</span> <span class="dv">500</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>stat <span class="op">=</span> a[<span class="dv">0</span>] <span class="op">-</span> (<span class="dv">1</span> <span class="op">-</span> a[<span class="dv">0</span>])</span></code></pre></div>
<p>Snippet 5:</p>
<div class="sourceCode" id="cb24"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>a <span class="op">=</span> df.sample(<span class="dv">500</span>, replace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>b <span class="op">=</span> a[a.get(<span class="st">&quot;kind&quot;</span>) <span class="op">==</span> <span class="st">&quot;toy&quot;</span>].shape[<span class="dv">0</span>] <span class="op">/</span> <span class="dv">500</span></span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>stat <span class="op">=</span> b <span class="op">-</span> (<span class="dv">1</span> <span class="op">-</span> b)</span></code></pre></div>
<ul class="task-list">
<li><p><input type="checkbox" disabled="" /> Snippet 1</p></li>
<li><p><input type="checkbox" disabled="" /> Snippet 2</p></li>
<li><p><input type="checkbox" disabled="" /> Snippet 3</p></li>
<li><p><input type="checkbox" disabled="" /> Snippet 4</p></li>
<li><p><input type="checkbox" disabled="" /> Snippet 5</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading14_5">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse14_5" aria-expanded="true" aria-controls="collapse14_5">
Click to view the solution.
</button>
</h2>
<div id="collapse14_5" class="accordion-collapse collapse"
aria-labelledby="heading14_5" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer: </strong> Snippet 3 &amp; Snippet 4</p>
<ul>
<li><p>Snippet 1: This is incorrect because
<code>np.random.choice()</code> only chooses values that are either 0.3
or 0.7 which is simply just wrong.</p></li>
<li><p>Snippet 2: This is wrong because <code>np.random.choice()</code>
only chooses from the values within the list. From a sanity check it’s
not hard to realize that <code>a</code> should be able to take on more
values than the ones in the list.</p></li>
<li><p>Snippet 3: This option is correct. Recall, in
<code>np.random.multinomial(n, [p_1, ..., p_k])</code>, <code>n</code>
is the number of experiments, and <code>[p_1, ..., p_k]</code> is a
sequence of probability. The method returns an array of length k in
which each element contains the number of occurrences of an event, where
the probability of the ith event is <code>p_i</code>. In this snippet,
<code>np.random.multinomial(500, [0.1, 0.2, 0.3, 0.2, 0.15, 0.05])</code>
generates a array of length 6
(<code>len([0.1, 0.2, 0.3, 0.2, 0.15, 0.05])</code>) that contains the
number of occurrences of each kinds of dogs according to the given
distribution (the population distribution). We divide the first line by
500 to convert the number of counts in our resulting array into
proportions. To access the proportion of toy dogs in our sample, we take
the entry with the probability ditribution value of 0.3, which is the
third entry in the array or <code>a[2]</code>. To calculate our test
statistic we take the proportion of toy dogs minus the proportion of
non-toy dogs or <code>a[2] - (1 - a[2])</code></p></li>
<li><p>Snippet 4: This option is correct. This approach is similar to
the one above except we’re only considering the probability distribution
of toy dogs vs non-toy dogs, which is what we wanted in the first place.
The rest of the steps are similar to the ones above.</p></li>
<li><p>Snippet 5: Note that <code>df</code> is simple just a dataframe
containing information of the dogs, and may or may not reflect the
population distribution of dogs that participate in the photo
contest.</p></li>
</ul>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 72%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-14.6">Problem 14.6</h3>
<p>After simulating, Eric has an array called <code>sim</code> that
stores his simulated test statistics, and a variable called
<code>obs</code> that stores his observed test statistic.</p>
<p>What should go in the blank to compute the p-value?</p>
<div class="sourceCode" id="cb25"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>np.mean(sim _______ obs)</span></code></pre></div>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> <code>&lt;</code></p></li>
<li><p><input type="radio" disabled="" /> <code>&lt;=</code></p></li>
<li><p><input type="radio" disabled="" /> <code>==</code></p></li>
<li><p><input type="radio" disabled="" /> <code>&gt;=</code></p></li>
<li><p><input type="radio" disabled="" /> <code>&gt;</code></p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading14_6">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse14_6" aria-expanded="true" aria-controls="collapse14_6">
Click to view the solution.
</button>
</h2>
<div id="collapse14_6" class="accordion-collapse collapse"
aria-labelledby="heading14_6" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer: </strong> Option 4: <code>&gt;=</code></p>
<p>Note that to calculate the p-value we look for test statistics that
are equal to the observed statistic or even further in the direction of
the alternative. In this case, if the proportion of the population of
toy dogs compared to the rest of the dog population was higher than
observed, we’d get a value larger than 0.2, and thus we use
<code>&gt;=</code>.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 66%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-14.7">Problem 14.7</h3>
<p>Eric’s p-value is 0.03. If his p-value cutoff is 0.01, what does he
conclude?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> He rejects the null in favor of the alternative.</p></li>
<li><p><input type="radio" disabled="" /> He accepts the null.</p></li>
<li><p><input type="radio" disabled="" /> He accepts the aleternative.</p></li>
<li><p><input type="radio" disabled="" /> He fails to reject the null.</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading14_7">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse14_7" aria-expanded="true" aria-controls="collapse14_7">
Click to view the solution.
</button>
</h2>
<div id="collapse14_7" class="accordion-collapse collapse"
aria-labelledby="heading14_7" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer: </strong> Option 4: He fails to reject the null</p>
<ul>
<li><p>Option 1: Note that since our p-value was greater than 0.01, we
fail to reject the null.</p></li>
<li><p>Option 2: We can never “accept” the null hypothesis.</p></li>
<li><p>Option 3: We didn’t accept the alternative since we failed to
reject the null.</p></li>
<li><p>Option 4: This option is correct because our p-value was larger
than our cutoff.</p></li>
</ul>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 86%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<p class="meta"><em>Source:</em> su24-final — Q7</p>
<h2 id="problem-15">Problem 15</h2>
<p>You are analyzing the data in <code>stages</code> to see which
countries winners come from.</p>
<p>You categorize the countries into four groups: France, Italy,
Belgium, and Other. After performing some analysis, you find that the
observed distribution of countries of origin for Tour de France stage
winners is <span class="math inline">[0.3, 0.2, 0.1, 0.4]</span>;
i.e. 30% of stage winners are French, 20% Italian, etc. Based on census
information, the expected population distribution is <span
class="math inline">[0.07, 0.06, 0.01, 0.86]</span>; that is, France’s
total population is 7% of the sum of the populations of all countries
participating in the Tour, Italy’s is 6%, etc.</p>
<p>You conduct a hypothesis test with the following hypotheses:</p>
<ul>
<li><strong>Null Hypothesis</strong>: The distribution of countries of
origin for Tour de France stage winners is equivalent to the
distribution of the populations of the countries participating in the
Tour de France. Any observed difference is due to chance.</li>
<li><strong>Alternative Hypothesis</strong>: The distribution of
countries of origin for Tour de France stage winners is different from
the distribution of the populations of the countries participating in
the Tour de France.</li>
</ul>
<p><br></p>
<h3 id="problem-15.1">Problem 15.1</h3>
<p>Which of the following test statistics are appropriate for this
hypothesis test? Select all that apply.</p>
<ul class="task-list">
<li><p><input type="checkbox" disabled="" /> The absolute difference between the expected proportion of French
stage winners and the observed proportion of French stage winners.</p></li>
<li><p><input type="checkbox" disabled="" /> The sum of the differences between the expected population
distribution and the observed distribution of stage winners.</p></li>
<li><p><input type="checkbox" disabled="" /> The absolute difference between the number of French stage winners
and the number of Italian stage winners.</p></li>
<li><p><input type="checkbox" disabled="" /> The sum of the absolute differences between the expected population
distribution and the observed distribution of stage winners.</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading15_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse15_1" aria-expanded="true" aria-controls="collapse15_1">
Click to view the solution.
</button>
</h2>
<div id="collapse15_1" class="accordion-collapse collapse"
aria-labelledby="heading15_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> Option 1 and Option 4</p>
<ul>
<li>Option 1 is correct. The absolute difference between the expected
proportion of French stage winners and the observed proportion of French
stage winners gives the magnitude of the difference in distributions
making this a valid test statistic.</li>
<li>Option 2 is incorrect. The sum of the differences between the
expected population distribution and the observed distribution of stage
winners is not a valid test statistic since it indicates a direction to
the difference when we only want to know whether these distributions are
different.</li>
<li>Option 3 is incorrect. The absolute difference between the number of
French stage winners and the number of Italian stage winners is not a
valid test statistic since the numbers in each population can be
different and thus the difference in numbers is not a fair
comparison.</li>
<li>Option 4 is correct. The sum of the absolute differences between the
expected population distribution and the observed distribution of stage
winners gives magnitude but does not indicate direction making this a
valid test statistic.</li>
</ul>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 80%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<p><strong>For the rest of this question, assume that we will be using
the Total Variation Distance as our test statistic.</strong></p>
<p><br></p>
<h3 id="problem-15.2">Problem 15.2</h3>
<p>Complete the implementation of the <code>simulate</code> and
<code>calculate_test_stat</code> functions so that the code below
successfully simulates 10,000 test statistics.</p>
<div class="sourceCode" id="cb26"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>expected_dist <span class="op">=</span> [<span class="fl">0.07</span>, <span class="fl">0.06</span>, <span class="fl">0.01</span>, <span class="fl">0.86</span>]</span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>observed_dist <span class="op">=</span> [<span class="fl">0.3</span>, <span class="fl">0.2</span>, <span class="fl">0.1</span>, <span class="fl">0.4</span>]</span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> simulate(__(i)__):</span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a>    simulated_winners <span class="op">=</span> np.random.__(ii)__(<span class="dv">100</span>, __(iii)__)</span>
<span id="cb26-7"><a href="#cb26-7" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> simulated_winners <span class="op">/</span> <span class="dv">100</span></span>
<span id="cb26-8"><a href="#cb26-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-9"><a href="#cb26-9" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> calculate_test_stat(__(iv)__, __(v)__):</span>
<span id="cb26-10"><a href="#cb26-10" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> __(vi)__</span>
<span id="cb26-11"><a href="#cb26-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-12"><a href="#cb26-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-13"><a href="#cb26-13" aria-hidden="true" tabindex="-1"></a>observed_stat <span class="op">=</span> calculate_test_stat(observed_dist, expected_dist)</span>
<span id="cb26-14"><a href="#cb26-14" aria-hidden="true" tabindex="-1"></a>simulated_stats <span class="op">=</span> np.array([])</span>
<span id="cb26-15"><a href="#cb26-15" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i <span class="kw">in</span> np.arange(<span class="dv">10000</span>):</span>
<span id="cb26-16"><a href="#cb26-16" aria-hidden="true" tabindex="-1"></a>    simulated_dist <span class="op">=</span> simulate(expected_dist)</span>
<span id="cb26-17"><a href="#cb26-17" aria-hidden="true" tabindex="-1"></a>    simulated_stat <span class="op">=</span> calculate_test_stat(simulated_dist, expected_dist)</span>
<span id="cb26-18"><a href="#cb26-18" aria-hidden="true" tabindex="-1"></a>    simulated_stats <span class="op">=</span> np.append(simulated_stats, simulated_stat)</span></code></pre></div>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading15_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse15_2" aria-expanded="true" aria-controls="collapse15_2">
Click to view the solution.
</button>
</h2>
<div id="collapse15_2" class="accordion-collapse collapse"
aria-labelledby="heading15_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong></p>
<ul>
<li><strong>(i):</strong> <code>expected_dist</code></li>
<li><strong>(ii):</strong> <code>multinomial</code></li>
<li><strong>(iii):</strong> <code>expected_dist</code></li>
<li><strong>(iv):</strong> <code>simulated_dist</code></li>
<li><strong>(v):</strong> <code>expected_dist</code> (or swapped with
above)</li>
<li><strong>(vi):</strong>
<code>np.abs(simulated dist - expected dist).sum() / 2</code></li>
</ul>
<p>When performing a simulation, we simulated based on the expectation.
Thus, the argument for the simulate function <strong>(i)</strong> should
be the <code>expected_dist</code> array.</p>
<p>In this function, we simulate winners based on the expected
distribution. So, we want to use <code>np.random.multinomial</code> in
<strong>(ii)</strong> which will take in the number of experiments and
expected distribution, ie <code>expected_dist</code> in
<strong>(iii)</strong>, which is an array of the probabilities for each
of the outcomes.</p>
<p>We are using the total variation distance as the test statistic. The
Total Variation Distance (TVD) of two categorical distributions is the
sum of the absolute differences of their proportions, all divided by 2.
Thus, the arguments of the <code>calculate_test_stat</code> function
should be the <code>simulated_distribution</code> in
<strong>(iv)</strong> and the <code>expected_distribution</code> in
<strong>(v)</strong> (or swapped).</p>
<p>In this function, we need to return the TVD which can be calculated
as follows:
<code>np.abs(simulated dist - expected dist).sum() / 2</code> in
<strong>(vi)</strong>.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 89%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-15.3">Problem 15.3</h3>
<p>Fill in the blank in the following code so that <code>p_value</code>
evaluates to the correct p-value for this hypothesis test:</p>
<div class="sourceCode" id="cb27"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>    p_value <span class="op">=</span> np.mean(simulated_stats ___ observed_statistic)</span></code></pre></div>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> &gt;</p></li>
<li><p><input type="radio" disabled="" /> &gt;=</p></li>
<li><p><input type="radio" disabled="" /> &lt;</p></li>
<li><p><input type="radio" disabled="" /> &lt;=</p></li>
<li><p><input type="radio" disabled="" /> =</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading15_3">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse15_3" aria-expanded="true" aria-controls="collapse15_3">
Click to view the solution.
</button>
</h2>
<div id="collapse15_3" class="accordion-collapse collapse"
aria-labelledby="heading15_3" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> &gt;=</p>
<p>Recall the p-value is the probability of seeing a result equal to or
more extreme than the observed value under the null hypothesis. Since
the TVD is our test statistic where greater values indicate a result
more extreme that means we want to use <span class="math inline">&gt;=</span> in the blank to check whether the
simulated statistic is equal to or more extreme than the observed
statistic.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 80%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="problem-16">Problem 16</h2>
<p>ESPN (a large sports news network) states that the Las Vegas Aces
have a 60% chance of winning their upcoming game. You’re curious as to
how they came up with this estimate, and you decide to conduct a
hypothesis test for the following hypotheses:</p>
<ul>
<li><p><strong>Null Hypothesis:</strong> The Las Vegas Aces win each
game with a probability of 60%.</p></li>
<li><p><strong>Alternative Hypothesis:</strong> The Las Vegas Aces win
each game with a probability <strong>above</strong> 60%.</p></li>
</ul>
<p>In both hypotheses, we are assuming that each game is independent of
all other games.</p>
<p>In the 2021 season, the Las Vegas Aces <strong>won 22</strong> of
their games and <strong>lost 9</strong> of their games.</p>
<p><br></p>
<h3 id="problem-16.1">Problem 16.1</h3>
<p>Below, we have provided the code necessary to conduct the hypothesis
test described above.</p>
<div class="sourceCode" id="cb28"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>stats <span class="op">=</span> np.array([])</span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i <span class="kw">in</span> np.arange(<span class="dv">10000</span>):</span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>    sim <span class="op">=</span> np.random.multinomial(<span class="dv">31</span>, [<span class="fl">0.6</span>, <span class="fl">0.4</span>])</span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a>    stat <span class="op">=</span> fn(sim)</span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a>    stats <span class="op">=</span> np.append(stats, stat)</span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a>win_p_value <span class="op">=</span> np.count_nonzero(stats <span class="op">&gt;=</span> fn([<span class="dv">22</span>, <span class="dv">9</span>])) <span class="op">/</span> <span class="dv">10000</span></span></code></pre></div>
<p><code>fn</code> is a <strong>function</strong> that computes a test
statistic, given a list or array <code>arr</code> of two elements (the
first of which is the number of wins, and the second of which is the
number of losses). You can assume that neither element of
<code>arr</code> is equal to 0.</p>
<p>Below, we define 5 possible test statistics <code>fn</code>.</p>
<p><strong>Option 1:</strong></p>
<div class="sourceCode" id="cb29"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> fn(arr):</span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> arr[<span class="dv">0</span>] <span class="op">/</span> arr[<span class="dv">1</span>]</span></code></pre></div>
<p><strong>Option 2:</strong></p>
<div class="sourceCode" id="cb30"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> fn(arr):</span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> arr[<span class="dv">0</span>]</span></code></pre></div>
<p><strong>Option 3:</strong></p>
<div class="sourceCode" id="cb31"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> fn(arr):</span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> np.<span class="bu">abs</span>(arr[<span class="dv">0</span>] <span class="op">-</span> arr[<span class="dv">1</span>])</span></code></pre></div>
<p><strong>Option 4:</strong></p>
<div class="sourceCode" id="cb32"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> fn(arr):</span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> arr[<span class="dv">0</span>] <span class="op">-</span> arr[<span class="dv">1</span>]</span></code></pre></div>
<p><strong>Option 5:</strong></p>
<div class="sourceCode" id="cb33"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> fn(arr):</span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> arr[<span class="dv">1</span>] <span class="op">-</span> arr[<span class="dv">0</span>]</span></code></pre></div>
<p>Which of the above functions <code>fn</code> would be valid test
statistics for this hypothesis test and p-value calculation?
<strong>Select all that apply.</strong></p>
<ul class="task-list">
<li><p><input type="checkbox" disabled="" /> Option 1</p></li>
<li><p><input type="checkbox" disabled="" /> Option 2</p></li>
<li><p><input type="checkbox" disabled="" /> Option 3</p></li>
<li><p><input type="checkbox" disabled="" /> Option 4</p></li>
<li><p><input type="checkbox" disabled="" /> Option 5</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading16_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse16_1" aria-expanded="true" aria-controls="collapse16_1">
Click to view the solution.
</button>
</h2>
<div id="collapse16_1" class="accordion-collapse collapse"
aria-labelledby="heading16_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> Options 1, 2, and 4</p>
<p>In the code provided to us, <code>stats</code> is an array containing
10,000 p-values generated by the function <code>fn</code> (note that we
are appending <code>stat</code> to <code>stats</code>, and in the line
before that we have <code>stat = fn(sim)</code>). In the very last line
of the code provided, we have:</p>
<div id="cb1" class="sourceCode">
<pre class="sourceCode py"><code class="sourceCode python"><span id="cb1-1"><a aria-hidden="true" href="#cb1-1" tabindex="-1"></a>win_p_value <span class="op">=</span> np.count_nonzero(stats <span class="op">&gt;=</span> fn([<span class="dv">22</span>, <span class="dv">9</span>])) <span class="op">/</span> <span class="dv">10000</span></span></code></pre>
</div>
<p>If we look closely, we see that we are computing the p-value by
computing the proportion of simulated test statistics that were
<strong>greater than or equal to (<code>&gt;=</code>) the observed
statistic</strong>. Since a p-value is computed as the proportion of
simulated test statistics that were <strong>as or more extreme than the
observed statistic</strong>, here it must mean that “big” test
statistics are more extreme.</p>
<p>Remember, the direction that is “extreme” is determined by our
alternative hypothesis. Here, the alternative hypothesis is that the Las
Vegas Aces win each game with a probability above 60%. As such, the test
statistic(s) we choose <strong>must be large when the probability that
the Aces win a game is high</strong>, and small when the probability
that the Aces win a game is low. With this all in mind, we can take a
look at the 5 options, <strong>remembering that <code>arr[0]</code> is
the number of simulated wins and <code>arr[1]</code> is the number of
simulated losses in a season of 31 games</strong>. This means that when
the Aces win more than they lose, <code>arr[0] &gt; arr[1]</code>, and
when they lose more than they win, <code>arr[0] &lt; arr[1]</code>.</p>
<ul>
<li><strong>Option 1:</strong> Here, our test statistic is the ratio of
wins to losses, i.e. <code>arr[0] / arr[1]</code>. If the Aces win a
lot, the numerator will be larger than the denominator, so this ratio
will be large. If the Aces lose a lot, the numerator will be smaller
than the denominator, and so this ratio will be small. This is what we
want!</li>
<li><strong>Option 2:</strong> Here, our test statistic is the number of
wins, i.e. <code>arr[0]</code>. If the Aces win a lot, this number will
be large, and if the Aces lose a lot, this number will be small. This is
what we want!</li>
<li><strong>Option 3:</strong> Here, our test statistic is the absolute
value of the number of wins minus the number of losses,
i.e. <code>np.abs(arr[0] - arr[1])</code>. If the Aces win a lot, then
<code>arr[0] - arr[1]</code> will be large, and so will
<code>np.abs(arr[0] - arr[1])</code>. This seems fine.
<strong>However</strong>, if the Aces lose a lot, then
<code>arr[0] - arr[1]</code> will be small (negative), but
<code>np.abs(arr[0] - arr[1])</code> will still be large and positive.
This test statistic doesn’t allow us to <strong>differentiate</strong>
when the Aces win a lot or lose a lot, so we can’t use it as a test
statistic for our alternative hypothesis.</li>
<li><strong>Option 4:</strong> From the explanation of Option 3, we know
that when the Aces win a lot, <code>arr[0] - arr[1]</code> is large.
Furthermore, when the Aces lose a lot, <code>arr[0] - arr[1]</code> is
small (negative numbers are small in this context). This works!</li>
<li><strong>Option 5:</strong> <code>arr[1] - arr[0]</code> is the
opposite of <code>arr[0] - arr[1]</code> in Option 4. When the Aces win
a lot, <code>arr[1] - arr[0]</code> is small (negative), and when the
Aces lose a lot, <code>arr[1] - arr[0]</code> is large (positive). This
is the opposite of what we want, so Option 5 does not work.</li>
</ul>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 77%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-16.2">Problem 16.2</h3>
<p>The empirical distribution of one of the 5 test statistics presented
in the previous subpart is shown below. To draw the histogram, we used
the argument <code>bins=np.arange(-10, 25)</code>.</p>
<center><img src='../../assets/images/wi22-final/test-stat-dist.png' width=50%></center>
<p>Which test statistic does the above empirical distribution belong
to?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> Option 1</p></li>
<li><p><input type="radio" disabled="" /> Option 2</p></li>
<li><p><input type="radio" disabled="" /> Option 3</p></li>
<li><p><input type="radio" disabled="" /> Option 4</p></li>
<li><p><input type="radio" disabled="" /> Option 5</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading16_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse16_2" aria-expanded="true" aria-controls="collapse16_2">
Click to view the solution.
</button>
</h2>
<div id="collapse16_2" class="accordion-collapse collapse"
aria-labelledby="heading16_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> Option 4</p>
<p>The distribution visualized in the histogram has the following unique
values: -9, -7, -5, -3, …, 17, 19, 21, 23. Crucially, the test statistic
whose distribution we’ve visualized can both be positive and negative.
Right off the bat, we can eliminate Options 1, 2, and 3:</p>
<ul>
<li><strong>Option 1</strong>: Invalid. Option 1 is computed by dividing
the number of wins (<code>arr[0]</code>) by the number of losses
(<code>arr[1]</code>), and that quotient will always be a non-negative
number.</li>
<li><strong>Option 2:</strong> Invalid, since the number of wins
(<code>arr[0]</code>) will always be a non-negative number.</li>
<li><strong>Option 3:</strong> Invalid, since the absolute value of any
real number (<code>np.abs(arr[0] - arr[1])</code>, in this case) will
always be a non-negative number.</li>
</ul>
<p>Now, we must decide between Option 4, whose test statistic is “wins
minus losses” (<code>arr[0] - arr[1]</code>), and Option 5, whose test
statistic is “losses minus wins” (<code>arr[1] - arr[0]</code>).</p>
<p>First, let’s recap <em>how</em> we’re simulating. In the code
provided in the previous subpart, we have the line
<code>sim = np.random.multinomial(31, [0.6, 0.4])</code>. Each time we
run this line, <code>sim</code> will be set to an array with two
elements, the first of which we interpret as the number of simulated
wins and the second of which we interpret as the number of simulated
losses in a 31 game season. The first number in <code>sim</code> will
usually be larger than the second number in <code>sim</code>, since the
chance of a win (0.6) is larger than the chance of a loss (0.4). As
such, When we compute <code>fn(sim)</code> in the following line, the
difference between the wins and losses should typically be positive.</p>
<p>Back to our distribution. Note that the distribution provided in this
subpart is <strong>centered</strong> at a positive number, around 7.
Since the difference between wins and losses will typically be positive,
it appears that we’ve visualized the distribution of the difference
between wins and losses (Option 4). If we instead visualized the
difference between losses and wins, the distribution should be centered
at a negative number, but that’s not the case.</p>
<p>As such, the correct answer is Option 4.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 86%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-16.3">Problem 16.3</h3>
<p>Consider the function <code>fn_plus</code> defined below.</p>
<div class="sourceCode" id="cb34"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> fn_plus(arr):</span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> fn(arr) <span class="op">+</span> <span class="dv">31</span></span></code></pre></div>
<p><strong>True or False:</strong> If <code>fn</code> is a valid test
statistic for the hypothesis test and p-value calculation presented at
the start of the problem, then <code>fn_plus</code> is also a valid test
statistic for the hypothesis test and p-value calculation presented at
the start of the problem.</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> True</p></li>
<li><p><input type="radio" disabled="" /> False</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading16_3">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse16_3" aria-expanded="true" aria-controls="collapse16_3">
Click to view the solution.
</button>
</h2>
<div id="collapse16_3" class="accordion-collapse collapse"
aria-labelledby="heading16_3" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> True</p>
<p>All <code>fn_plus</code> is doing is adding 31 to the output of
<code>fn</code>. If we think in terms of pictures, the <em>shape</em> of
the distribution of <code>fn_plus</code> looks the same as the
distribution of <code>fn</code>, just moved to the right by 31 units.
Since the distribution’s shape is no different, the proportion of
simulated test statistics that are greater than the observed test
statistic is no different either, and so the p-value we calculate with
<code>fn_plus</code> is the same as the one we calculate with
<code>fn</code>.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 73%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-16.4">Problem 16.4</h3>
<p>Below, we present the same code that is given at the start of the
problem. (Remember to keep the data description from the top of the exam
open in another tab!)</p>
<div class="sourceCode" id="cb35"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a>stats <span class="op">=</span> np.array([])</span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i <span class="kw">in</span> np.arange(<span class="dv">10000</span>):</span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a>    sim <span class="op">=</span> np.random.multinomial(<span class="dv">31</span>, [<span class="fl">0.6</span>, <span class="fl">0.4</span>])</span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a>    stat <span class="op">=</span> fn(sim)</span>
<span id="cb35-5"><a href="#cb35-5" aria-hidden="true" tabindex="-1"></a>    stats <span class="op">=</span> np.append(stats, stat)</span>
<span id="cb35-6"><a href="#cb35-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-7"><a href="#cb35-7" aria-hidden="true" tabindex="-1"></a>win_p_value <span class="op">=</span> np.count_nonzero(stats <span class="op">&gt;=</span> fn([<span class="dv">22</span>, <span class="dv">9</span>])) <span class="op">/</span> <span class="dv">10000</span></span></code></pre></div>
<p>Below are four possible replacements for the line
<code>sim = np.random.multinomial(31, [0.6, 0.4])</code>.</p>
<p><strong>Option 1:</strong></p>
<div class="sourceCode" id="cb36"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> with_rep():</span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a>    won <span class="op">=</span> plum.get(<span class="st">&#39;Won&#39;</span>)</span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> np.count_nonzero(np.random.choice(won, <span class="dv">31</span>, replace<span class="op">=</span><span class="va">True</span>))</span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-5"><a href="#cb36-5" aria-hidden="true" tabindex="-1"></a>sim <span class="op">=</span> [with_rep(), <span class="dv">31</span> <span class="op">-</span> with_rep()]</span></code></pre></div>
<p><strong>Option 2:</strong></p>
<div class="sourceCode" id="cb37"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> with_rep():</span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>    won <span class="op">=</span> plum.get(<span class="st">&#39;Won&#39;</span>)</span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> np.count_nonzero(np.random.choice(won, <span class="dv">31</span>, replace<span class="op">=</span><span class="va">True</span>))</span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-5"><a href="#cb37-5" aria-hidden="true" tabindex="-1"></a>w <span class="op">=</span> with_rep()</span>
<span id="cb37-6"><a href="#cb37-6" aria-hidden="true" tabindex="-1"></a>sim <span class="op">=</span> [w, <span class="dv">31</span> <span class="op">-</span> w]</span></code></pre></div>
<p><strong>Option 3:</strong></p>
<div class="sourceCode" id="cb38"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> without_rep():</span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>    won <span class="op">=</span> plum.get(<span class="st">&#39;Won&#39;</span>)</span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> np.count_nonzero(np.random.choice(won, <span class="dv">31</span>, replace<span class="op">=</span><span class="va">False</span>))</span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-5"><a href="#cb38-5" aria-hidden="true" tabindex="-1"></a>sim <span class="op">=</span> [without_rep(), <span class="dv">31</span> <span class="op">-</span> without_rep()]</span></code></pre></div>
<p><strong>Option 4:</strong></p>
<div class="sourceCode" id="cb39"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> perm():</span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>    won <span class="op">=</span> plum.get(<span class="st">&#39;Won&#39;</span>)</span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> np.count_nonzero(np.random.permutation(won))</span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-5"><a href="#cb39-5" aria-hidden="true" tabindex="-1"></a>w <span class="op">=</span> perm()</span>
<span id="cb39-6"><a href="#cb39-6" aria-hidden="true" tabindex="-1"></a>sim <span class="op">=</span> [w, <span class="dv">31</span> <span class="op">-</span> w]</span></code></pre></div>
<p>Which of the above four options could we replace the line
<code>sim = np.random.multinomial(plum.shape[0], [0.6, 0.4])</code> with
and still perform a valid hypothesis test for the hypotheses stated at
the start of the problem?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> Option 1</p></li>
<li><p><input type="radio" disabled="" /> Option 2</p></li>
<li><p><input type="radio" disabled="" /> Option 3</p></li>
<li><p><input type="radio" disabled="" /> Option 4</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading16_4">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse16_4" aria-expanded="true" aria-controls="collapse16_4">
Click to view the solution.
</button>
</h2>
<div id="collapse16_4" class="accordion-collapse collapse"
aria-labelledby="heading16_4" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> Option 2</p>
<p>The line
<code>sim = np.random.multinomial(plum.shape[0], [0.6, 0.4])</code>
assigns <code>sim</code> to an array containing two numbers such
that:</p>
<ul>
<li>The numbers are randomly chosen each time the line is run</li>
<li>The numbers always add up to 31</li>
</ul>
<p>We need to select an option that also creates such an array (or list,
in this case). Note that <code>won = plum.get('Won')</code>, a line that
is common to all four options, assigns <code>won</code> to a Series with
31 elements, each of which is either <code>True</code> or
<code>False</code> (corresponding to the wins and losses that the Las
Vegas Aces earned in their season).</p>
<p>Let’s take a look at the line
<code>np.count_nonzero(np.random.choice(won, 31, replace=True))</code>,
common to the first two options. Here, we are randomly selecting 31
elements from the Series <code>won</code>, with replacement, and
counting the number of <code>True</code>s (since with
<code>np.count_nonzero</code>, <code>False</code> is counted as
<code>0</code>). Since we are making our selections with replacement,
each selected element has a <span class="math inline">\frac{22}{31}</span> chance of being
<code>True</code> and a <span class="math inline">\frac{9}{31}</span>
chance of being <code>False</code> (since <code>won</code> has 22
<code>True</code>s and 9 <code>False</code>s). As such,
<code>np.count_nonzero(np.random.choice(won, 31, replace=True))</code>
can be any integer between 0 and 31, inclusive.</p>
<p>Note that if we select without replacement
(<code>replace=False</code>) as Option 3 would like us to, then all 31
selected elements would be the same as the 31 elements in
<code>won</code>. As a result,
<code>np.random.choice(won, 31, replace=False)</code> will always have
22 <code>True</code>s, just like <code>won</code>, and
<code>np.count_nonzero(np.random.choice(won, 31, replace=True))</code>
will always return 22. That’s not random, and so that’s not quite what
we’re looking for.</p>
<p>With this all in mind, let’s look at the four options.</p>
<ul>
<li><strong>Option 1:</strong> Here, each time we call
<code>with_rep()</code>, we get a random number between 0 and 31
(inclusive), corresponding to the (random) number of simulated wins.
Then, we are assigning <code>sim</code> to be
<code>[with_rep(), 31 - with_rep()]</code>. However, it’s not guaranteed
that the two calls to <code>with_rep</code> return the same number of
wins, so it’s not guaranteed that <code>sum(sim)</code> is 31. Option 1,
then, is invalid.</li>
<li><strong>Option 2:</strong> Correct, as we’ll explain below.</li>
<li><strong>Option 3:</strong> As mentioned above, Option 3 uses
<code>replace=False</code>, and so <code>without_rep()</code> is always
22 and <code>sim</code> is always <code>[22, 9]</code>. The outcome is
not random.</li>
<li><strong>Option 4:</strong> Here, <code>perm()</code> always returns
the same number, 22. This is because all we are doing is shuffling the
entries in the <code>won</code> Series, but we aren’t changing the
number of wins (<code>True</code>s) and losses (<code>False</code>s). As
a result, <code>w</code> is always 22 and <code>sim</code> is always
<code>[22, 9]</code>, making this non-random, just like in Option
3.</li>
</ul>
<p>By the process of elimination, <strong>Option 2</strong> must be the
correct choice. It is similar to Option 1, but it only calls
<code>with_rep</code> once and “saves” the result to the name
<code>w</code>. As a result, <code>w</code> is random, and
<code>w</code> and <code>31 - w</code> are guaranteed to sum to 31.</p>
<p><strong>⚠️ Note:</strong> It turns out that none of these options run
a valid hypothesis test, since the null hypothesis was that the Las
Vegas Aces win 60% of their games but none of these simulation
strategies use 60% anywhere (instead, they use the observation that the
Aces actually won 22 games). However, this subpart was about the
sampling strategies themselves, so this mistake from our end doesn’t
invalidate the problem.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 70%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-16.5">Problem 16.5</h3>
<p>Consider again the four options presented in the previous
subpart.</p>
<p>In which of the four options is it <strong>guaranteed</strong> that
<code>sum(sim)</code> evaluates to 31? <strong>Select all that
apply.</strong></p>
<ul class="task-list">
<li><p><input type="checkbox" disabled="" /> Option 1</p></li>
<li><p><input type="checkbox" disabled="" /> Option 2</p></li>
<li><p><input type="checkbox" disabled="" /> Option 3</p></li>
<li><p><input type="checkbox" disabled="" /> Option 4</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading16_5">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse16_5" aria-expanded="true" aria-controls="collapse16_5">
Click to view the solution.
</button>
</h2>
<div id="collapse16_5" class="accordion-collapse collapse"
aria-labelledby="heading16_5" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answers:</strong> Options 2, 3, and 4</p>
<ul>
<li><strong>Option 1:</strong> As explained in the solution to the
previous subpart, if the two calls to <code>with_rep</code> evaluate to
different numbers (entirely possible, since it is random), then
<code>sum(sim)</code> will not be 31.</li>
<li><strong>Option 2:</strong> Here, <code>sim</code> is defined in
terms of some <code>w</code>. Specifically, <code>w</code> is some
number between 0 and 31 and <code>sim</code> is
<code>[w, 31 - w]</code>, so <code>sum(sim)</code> is the same as
<code>w + 31 - w</code>, which is always 31.</li>
<li><strong>Option 3:</strong> In Option 3, <code>sim</code> is always
<code>[22, 9]</code>, and <code>sum(sim)</code> is always 31.</li>
<li><strong>Option 4:</strong> Same as Option 3.</li>
</ul>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 72%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="problem-17">Problem 17</h2>
<p>ESPN (a large sports news network) states that the Las Vegas Aces
have a 60% chance of winning their upcoming game. You’re curious as to
how they came up with this estimate, and you decide to conduct a
hypothesis test for the following hypotheses:</p>
<ul>
<li><p><strong>Null Hypothesis:</strong> The Las Vegas Aces win each
game with a probability of 60%.</p></li>
<li><p><strong>Alternative Hypothesis:</strong> The Las Vegas Aces win
each game with a probability <strong>above</strong> 60%.</p></li>
</ul>
<p>In both hypotheses, we are assuming that each game is independent of
all other games.</p>
<p>In the 2021 season, the Las Vegas Aces <strong>won 22</strong> of
their games and <strong>lost 9</strong> of their games.</p>
<p><br></p>
<h3 id="problem-17.1">Problem 17.1</h3>
<p>Below, we have provided the code necessary to conduct the hypothesis
test described above.</p>
<div class="sourceCode" id="cb40"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a>stats <span class="op">=</span> np.array([])</span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i <span class="kw">in</span> np.arange(<span class="dv">10000</span>):</span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a>    sim <span class="op">=</span> np.random.multinomial(<span class="dv">31</span>, [<span class="fl">0.6</span>, <span class="fl">0.4</span>])</span>
<span id="cb40-4"><a href="#cb40-4" aria-hidden="true" tabindex="-1"></a>    stat <span class="op">=</span> fn(sim)</span>
<span id="cb40-5"><a href="#cb40-5" aria-hidden="true" tabindex="-1"></a>    stats <span class="op">=</span> np.append(stats, stat)</span>
<span id="cb40-6"><a href="#cb40-6" aria-hidden="true" tabindex="-1"></a>win_p_value <span class="op">=</span> np.count_nonzero(stats <span class="op">&gt;=</span> fn([<span class="dv">22</span>, <span class="dv">9</span>])) <span class="op">/</span> <span class="dv">10000</span></span></code></pre></div>
<p><code>fn</code> is a <strong>function</strong> that computes a test
statistic, given a list or array <code>arr</code> of two elements (the
first of which is the number of wins, and the second of which is the
number of losses). You can assume that neither element of
<code>arr</code> is equal to 0.</p>
<p>Below, we define 5 possible test statistics <code>fn</code>.</p>
<p><strong>Option 1:</strong></p>
<div class="sourceCode" id="cb41"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> fn(arr):</span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> arr[<span class="dv">0</span>] <span class="op">/</span> arr[<span class="dv">1</span>]</span></code></pre></div>
<p><strong>Option 2:</strong></p>
<div class="sourceCode" id="cb42"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> fn(arr):</span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> arr[<span class="dv">0</span>]</span></code></pre></div>
<p><strong>Option 3:</strong></p>
<div class="sourceCode" id="cb43"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> fn(arr):</span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> np.<span class="bu">abs</span>(arr[<span class="dv">0</span>] <span class="op">-</span> arr[<span class="dv">1</span>])</span></code></pre></div>
<p><strong>Option 4:</strong></p>
<div class="sourceCode" id="cb44"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> fn(arr):</span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> arr[<span class="dv">0</span>] <span class="op">-</span> arr[<span class="dv">1</span>]</span></code></pre></div>
<p><strong>Option 5:</strong></p>
<div class="sourceCode" id="cb45"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> fn(arr):</span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> arr[<span class="dv">1</span>] <span class="op">-</span> arr[<span class="dv">0</span>]</span></code></pre></div>
<p>Which of the above functions <code>fn</code> would be valid test
statistics for this hypothesis test and p-value calculation?
<strong>Select all that apply.</strong></p>
<ul class="task-list">
<li><p><input type="checkbox" disabled="" /> Option 1</p></li>
<li><p><input type="checkbox" disabled="" /> Option 2</p></li>
<li><p><input type="checkbox" disabled="" /> Option 3</p></li>
<li><p><input type="checkbox" disabled="" /> Option 4</p></li>
<li><p><input type="checkbox" disabled="" /> Option 5</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading17_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse17_1" aria-expanded="true" aria-controls="collapse17_1">
Click to view the solution.
</button>
</h2>
<div id="collapse17_1" class="accordion-collapse collapse"
aria-labelledby="heading17_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> Options 1, 2, and 4</p>
<p>In the code provided to us, <code>stats</code> is an array containing
10,000 p-values generated by the function <code>fn</code> (note that we
are appending <code>stat</code> to <code>stats</code>, and in the line
before that we have <code>stat = fn(sim)</code>). In the very last line
of the code provided, we have:</p>
<div id="cb1" class="sourceCode">
<pre class="sourceCode py"><code class="sourceCode python"><span id="cb1-1"><a aria-hidden="true" href="#cb1-1" tabindex="-1"></a>win_p_value <span class="op">=</span> np.count_nonzero(stats <span class="op">&gt;=</span> fn([<span class="dv">22</span>, <span class="dv">9</span>])) <span class="op">/</span> <span class="dv">10000</span></span></code></pre>
</div>
<p>If we look closely, we see that we are computing the p-value by
computing the proportion of simulated test statistics that were
<strong>greater than or equal to (<code>&gt;=</code>) the observed
statistic</strong>. Since a p-value is computed as the proportion of
simulated test statistics that were <strong>as or more extreme than the
observed statistic</strong>, here it must mean that “big” test
statistics are more extreme.</p>
<p>Remember, the direction that is “extreme” is determined by our
alternative hypothesis. Here, the alternative hypothesis is that the Las
Vegas Aces win each game with a probability above 60%. As such, the test
statistic(s) we choose <strong>must be large when the probability that
the Aces win a game is high</strong>, and small when the probability
that the Aces win a game is low. With this all in mind, we can take a
look at the 5 options, <strong>remembering that <code>arr[0]</code> is
the number of simulated wins and <code>arr[1]</code> is the number of
simulated losses in a season of 31 games</strong>. This means that when
the Aces win more than they lose, <code>arr[0] &gt; arr[1]</code>, and
when they lose more than they win, <code>arr[0] &lt; arr[1]</code>.</p>
<ul>
<li><strong>Option 1:</strong> Here, our test statistic is the ratio of
wins to losses, i.e. <code>arr[0] / arr[1]</code>. If the Aces win a
lot, the numerator will be larger than the denominator, so this ratio
will be large. If the Aces lose a lot, the numerator will be smaller
than the denominator, and so this ratio will be small. This is what we
want!</li>
<li><strong>Option 2:</strong> Here, our test statistic is the number of
wins, i.e. <code>arr[0]</code>. If the Aces win a lot, this number will
be large, and if the Aces lose a lot, this number will be small. This is
what we want!</li>
<li><strong>Option 3:</strong> Here, our test statistic is the absolute
value of the number of wins minus the number of losses,
i.e. <code>np.abs(arr[0] - arr[1])</code>. If the Aces win a lot, then
<code>arr[0] - arr[1]</code> will be large, and so will
<code>np.abs(arr[0] - arr[1])</code>. This seems fine.
<strong>However</strong>, if the Aces lose a lot, then
<code>arr[0] - arr[1]</code> will be small (negative), but
<code>np.abs(arr[0] - arr[1])</code> will still be large and positive.
This test statistic doesn’t allow us to <strong>differentiate</strong>
when the Aces win a lot or lose a lot, so we can’t use it as a test
statistic for our alternative hypothesis.</li>
<li><strong>Option 4:</strong> From the explanation of Option 3, we know
that when the Aces win a lot, <code>arr[0] - arr[1]</code> is large.
Furthermore, when the Aces lose a lot, <code>arr[0] - arr[1]</code> is
small (negative numbers are small in this context). This works!</li>
<li><strong>Option 5:</strong> <code>arr[1] - arr[0]</code> is the
opposite of <code>arr[0] - arr[1]</code> in Option 4. When the Aces win
a lot, <code>arr[1] - arr[0]</code> is small (negative), and when the
Aces lose a lot, <code>arr[1] - arr[0]</code> is large (positive). This
is the opposite of what we want, so Option 5 does not work.</li>
</ul>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 77%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-17.2">Problem 17.2</h3>
<p>The empirical distribution of one of the 5 test statistics presented
in the previous subpart is shown below. To draw the histogram, we used
the argument <code>bins=np.arange(-10, 25)</code>.</p>
<center><img src='../../assets/images/wi22-final/test-stat-dist.png' width=50%></center>
<p>Which test statistic does the above empirical distribution belong
to?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> Option 1</p></li>
<li><p><input type="radio" disabled="" /> Option 2</p></li>
<li><p><input type="radio" disabled="" /> Option 3</p></li>
<li><p><input type="radio" disabled="" /> Option 4</p></li>
<li><p><input type="radio" disabled="" /> Option 5</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading17_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse17_2" aria-expanded="true" aria-controls="collapse17_2">
Click to view the solution.
</button>
</h2>
<div id="collapse17_2" class="accordion-collapse collapse"
aria-labelledby="heading17_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> Option 4</p>
<p>The distribution visualized in the histogram has the following unique
values: -9, -7, -5, -3, …, 17, 19, 21, 23. Crucially, the test statistic
whose distribution we’ve visualized can both be positive and negative.
Right off the bat, we can eliminate Options 1, 2, and 3:</p>
<ul>
<li><strong>Option 1</strong>: Invalid. Option 1 is computed by dividing
the number of wins (<code>arr[0]</code>) by the number of losses
(<code>arr[1]</code>), and that quotient will always be a non-negative
number.</li>
<li><strong>Option 2:</strong> Invalid, since the number of wins
(<code>arr[0]</code>) will always be a non-negative number.</li>
<li><strong>Option 3:</strong> Invalid, since the absolute value of any
real number (<code>np.abs(arr[0] - arr[1])</code>, in this case) will
always be a non-negative number.</li>
</ul>
<p>Now, we must decide between Option 4, whose test statistic is “wins
minus losses” (<code>arr[0] - arr[1]</code>), and Option 5, whose test
statistic is “losses minus wins” (<code>arr[1] - arr[0]</code>).</p>
<p>First, let’s recap <em>how</em> we’re simulating. In the code
provided in the previous subpart, we have the line
<code>sim = np.random.multinomial(31, [0.6, 0.4])</code>. Each time we
run this line, <code>sim</code> will be set to an array with two
elements, the first of which we interpret as the number of simulated
wins and the second of which we interpret as the number of simulated
losses in a 31 game season. The first number in <code>sim</code> will
usually be larger than the second number in <code>sim</code>, since the
chance of a win (0.6) is larger than the chance of a loss (0.4). As
such, When we compute <code>fn(sim)</code> in the following line, the
difference between the wins and losses should typically be positive.</p>
<p>Back to our distribution. Note that the distribution provided in this
subpart is <strong>centered</strong> at a positive number, around 7.
Since the difference between wins and losses will typically be positive,
it appears that we’ve visualized the distribution of the difference
between wins and losses (Option 4). If we instead visualized the
difference between losses and wins, the distribution should be centered
at a negative number, but that’s not the case.</p>
<p>As such, the correct answer is Option 4.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 86%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-17.3">Problem 17.3</h3>
<p>Consider the function <code>fn_plus</code> defined below.</p>
<div class="sourceCode" id="cb46"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> fn_plus(arr):</span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> fn(arr) <span class="op">+</span> <span class="dv">31</span></span></code></pre></div>
<p><strong>True or False:</strong> If <code>fn</code> is a valid test
statistic for the hypothesis test and p-value calculation presented at
the start of the problem, then <code>fn_plus</code> is also a valid test
statistic for the hypothesis test and p-value calculation presented at
the start of the problem.</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> True</p></li>
<li><p><input type="radio" disabled="" /> False</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading17_3">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse17_3" aria-expanded="true" aria-controls="collapse17_3">
Click to view the solution.
</button>
</h2>
<div id="collapse17_3" class="accordion-collapse collapse"
aria-labelledby="heading17_3" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> True</p>
<p>All <code>fn_plus</code> is doing is adding 31 to the output of
<code>fn</code>. If we think in terms of pictures, the <em>shape</em> of
the distribution of <code>fn_plus</code> looks the same as the
distribution of <code>fn</code>, just moved to the right by 31 units.
Since the distribution’s shape is no different, the proportion of
simulated test statistics that are greater than the observed test
statistic is no different either, and so the p-value we calculate with
<code>fn_plus</code> is the same as the one we calculate with
<code>fn</code>.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 73%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-17.4">Problem 17.4</h3>
<p>Below, we present the same code that is given at the start of the
problem.</p>
<div class="sourceCode" id="cb47"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a>stats <span class="op">=</span> np.array([])</span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i <span class="kw">in</span> np.arange(<span class="dv">10000</span>):</span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a>    sim <span class="op">=</span> np.random.multinomial(<span class="dv">31</span>, [<span class="fl">0.6</span>, <span class="fl">0.4</span>])</span>
<span id="cb47-4"><a href="#cb47-4" aria-hidden="true" tabindex="-1"></a>    stat <span class="op">=</span> fn(sim)</span>
<span id="cb47-5"><a href="#cb47-5" aria-hidden="true" tabindex="-1"></a>    stats <span class="op">=</span> np.append(stats, stat)</span>
<span id="cb47-6"><a href="#cb47-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-7"><a href="#cb47-7" aria-hidden="true" tabindex="-1"></a>win_p_value <span class="op">=</span> np.count_nonzero(stats <span class="op">&gt;=</span> fn([<span class="dv">22</span>, <span class="dv">9</span>])) <span class="op">/</span> <span class="dv">10000</span></span></code></pre></div>
<p>Below are four possible replacements for the line
<code>sim = np.random.multinomial(31, [0.6, 0.4])</code>.</p>
<p><strong>Option 1:</strong></p>
<div class="sourceCode" id="cb48"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> with_rep():</span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a>    won <span class="op">=</span> plum.get(<span class="st">&#39;Won&#39;</span>)</span>
<span id="cb48-3"><a href="#cb48-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> np.count_nonzero(np.random.choice(won, <span class="dv">31</span>, replace<span class="op">=</span><span class="va">True</span>))</span>
<span id="cb48-4"><a href="#cb48-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-5"><a href="#cb48-5" aria-hidden="true" tabindex="-1"></a>sim <span class="op">=</span> [with_rep(), <span class="dv">31</span> <span class="op">-</span> with_rep()]</span></code></pre></div>
<p><strong>Option 2:</strong></p>
<div class="sourceCode" id="cb49"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> with_rep():</span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a>    won <span class="op">=</span> plum.get(<span class="st">&#39;Won&#39;</span>)</span>
<span id="cb49-3"><a href="#cb49-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> np.count_nonzero(np.random.choice(won, <span class="dv">31</span>, replace<span class="op">=</span><span class="va">True</span>))</span>
<span id="cb49-4"><a href="#cb49-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-5"><a href="#cb49-5" aria-hidden="true" tabindex="-1"></a>w <span class="op">=</span> with_rep()</span>
<span id="cb49-6"><a href="#cb49-6" aria-hidden="true" tabindex="-1"></a>sim <span class="op">=</span> [w, <span class="dv">31</span> <span class="op">-</span> w]</span></code></pre></div>
<p><strong>Option 3:</strong></p>
<div class="sourceCode" id="cb50"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> without_rep():</span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a>    won <span class="op">=</span> plum.get(<span class="st">&#39;Won&#39;</span>)</span>
<span id="cb50-3"><a href="#cb50-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> np.count_nonzero(np.random.choice(won, <span class="dv">31</span>, replace<span class="op">=</span><span class="va">False</span>))</span>
<span id="cb50-4"><a href="#cb50-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-5"><a href="#cb50-5" aria-hidden="true" tabindex="-1"></a>sim <span class="op">=</span> [without_rep(), <span class="dv">31</span> <span class="op">-</span> without_rep()]</span></code></pre></div>
<p><strong>Option 4:</strong></p>
<div class="sourceCode" id="cb51"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> perm():</span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a>    won <span class="op">=</span> plum.get(<span class="st">&#39;Won&#39;</span>)</span>
<span id="cb51-3"><a href="#cb51-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> np.count_nonzero(np.random.permutation(won))</span>
<span id="cb51-4"><a href="#cb51-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-5"><a href="#cb51-5" aria-hidden="true" tabindex="-1"></a>w <span class="op">=</span> perm()</span>
<span id="cb51-6"><a href="#cb51-6" aria-hidden="true" tabindex="-1"></a>sim <span class="op">=</span> [w, <span class="dv">31</span> <span class="op">-</span> w]</span></code></pre></div>
<p>Which of the above four options could we replace the line
<code>sim = np.random.multinomial(plum.shape[0], [0.6, 0.4])</code> with
and still perform a valid hypothesis test for the hypotheses stated at
the start of the problem?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> Option 1</p></li>
<li><p><input type="radio" disabled="" /> Option 2</p></li>
<li><p><input type="radio" disabled="" /> Option 3</p></li>
<li><p><input type="radio" disabled="" /> Option 4</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading17_4">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse17_4" aria-expanded="true" aria-controls="collapse17_4">
Click to view the solution.
</button>
</h2>
<div id="collapse17_4" class="accordion-collapse collapse"
aria-labelledby="heading17_4" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> Option 2</p>
<p>The line
<code>sim = np.random.multinomial(plum.shape[0], [0.6, 0.4])</code>
assigns <code>sim</code> to an array containing two numbers such
that:</p>
<ul>
<li>The numbers are randomly chosen each time the line is run</li>
<li>The numbers always add up to 31</li>
</ul>
<p>We need to select an option that also creates such an array (or list,
in this case). Note that <code>won = plum.get('Won')</code>, a line that
is common to all four options, assigns <code>won</code> to a Series with
31 elements, each of which is either <code>True</code> or
<code>False</code> (corresponding to the wins and losses that the Las
Vegas Aces earned in their season).</p>
<p>Let’s take a look at the line
<code>np.count_nonzero(np.random.choice(won, 31, replace=True))</code>,
common to the first two options. Here, we are randomly selecting 31
elements from the Series <code>won</code>, with replacement, and
counting the number of <code>True</code>s (since with
<code>np.count_nonzero</code>, <code>False</code> is counted as
<code>0</code>). Since we are making our selections with replacement,
each selected element has a <span class="math inline">\frac{22}{31}</span> chance of being
<code>True</code> and a <span class="math inline">\frac{9}{31}</span>
chance of being <code>False</code> (since <code>won</code> has 22
<code>True</code>s and 9 <code>False</code>s). As such,
<code>np.count_nonzero(np.random.choice(won, 31, replace=True))</code>
can be any integer between 0 and 31, inclusive.</p>
<p>Note that if we select without replacement
(<code>replace=False</code>) as Option 3 would like us to, then all 31
selected elements would be the same as the 31 elements in
<code>won</code>. As a result,
<code>np.random.choice(won, 31, replace=False)</code> will always have
22 <code>True</code>s, just like <code>won</code>, and
<code>np.count_nonzero(np.random.choice(won, 31, replace=True))</code>
will always return 22. That’s not random, and so that’s not quite what
we’re looking for.</p>
<p>With this all in mind, let’s look at the four options.</p>
<ul>
<li><strong>Option 1:</strong> Here, each time we call
<code>with_rep()</code>, we get a random number between 0 and 31
(inclusive), corresponding to the (random) number of simulated wins.
Then, we are assigning <code>sim</code> to be
<code>[with_rep(), 31 - with_rep()]</code>. However, it’s not guaranteed
that the two calls to <code>with_rep</code> return the same number of
wins, so it’s not guaranteed that <code>sum(sim)</code> is 31. Option 1,
then, is invalid.</li>
<li><strong>Option 2:</strong> Correct, as we’ll explain below.</li>
<li><strong>Option 3:</strong> As mentioned above, Option 3 uses
<code>replace=False</code>, and so <code>without_rep()</code> is always
22 and <code>sim</code> is always <code>[22, 9]</code>. The outcome is
not random.</li>
<li><strong>Option 4:</strong> Here, <code>perm()</code> always returns
the same number, 22. This is because all we are doing is shuffling the
entries in the <code>won</code> Series, but we aren’t changing the
number of wins (<code>True</code>s) and losses (<code>False</code>s). As
a result, <code>w</code> is always 22 and <code>sim</code> is always
<code>[22, 9]</code>, making this non-random, just like in Option
3.</li>
</ul>
<p>By the process of elimination, <strong>Option 2</strong> must be the
correct choice. It is similar to Option 1, but it only calls
<code>with_rep</code> once and “saves” the result to the name
<code>w</code>. As a result, <code>w</code> is random, and
<code>w</code> and <code>31 - w</code> are guaranteed to sum to 31.</p>
<p><strong>⚠️ Note:</strong> It turns out that none of these options run
a valid hypothesis test, since the null hypothesis was that the Las
Vegas Aces win 60% of their games but none of these simulation
strategies use 60% anywhere (instead, they use the observation that the
Aces actually won 22 games). However, this subpart was about the
sampling strategies themselves, so this mistake from our end doesn’t
invalidate the problem.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 70%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-17.5">Problem 17.5</h3>
<p>Consider again the four options presented in the previous
subpart.</p>
<p>In which of the four options is it <strong>guaranteed</strong> that
<code>sum(sim)</code> evaluates to 31? <strong>Select all that
apply.</strong></p>
<ul class="task-list">
<li><p><input type="checkbox" disabled="" /> Option 1</p></li>
<li><p><input type="checkbox" disabled="" /> Option 2</p></li>
<li><p><input type="checkbox" disabled="" /> Option 3</p></li>
<li><p><input type="checkbox" disabled="" /> Option 4</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading17_5">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse17_5" aria-expanded="true" aria-controls="collapse17_5">
Click to view the solution.
</button>
</h2>
<div id="collapse17_5" class="accordion-collapse collapse"
aria-labelledby="heading17_5" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answers:</strong> Options 2, 3, and 4</p>
<ul>
<li><strong>Option 1:</strong> As explained in the solution to the
previous subpart, if the two calls to <code>with_rep</code> evaluate to
different numbers (entirely possible, since it is random), then
<code>sum(sim)</code> will not be 31.</li>
<li><strong>Option 2:</strong> Here, <code>sim</code> is defined in
terms of some <code>w</code>. Specifically, <code>w</code> is some
number between 0 and 31 and <code>sim</code> is
<code>[w, 31 - w]</code>, so <code>sum(sim)</code> is the same as
<code>w + 31 - w</code>, which is always 31.</li>
<li><strong>Option 3:</strong> In Option 3, <code>sim</code> is always
<code>[22, 9]</code>, and <code>sum(sim)</code> is always 31.</li>
<li><strong>Option 4:</strong> Same as Option 3.</li>
</ul>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 72%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="problem-18">Problem 18</h2>
<p>We collect data on the play times of 100 games of <em>Chutes and
Ladders</em> (sometimes known as <em>Snakes and Ladders</em>).</p>
<p><br></p>
<h3 id="problem-18.1">Problem 18.1</h3>
<p>We use our collected data to construct a 95% CLT-based confidence
interval for the average play time of a game of <em>Chutes and
Ladders</em>. This 95% confidence interval is [26.47, 28.47]. For the
100 games for which we collected data, what is the mean and standard
deviation of the play times?</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading18_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse18_1" aria-expanded="true" aria-controls="collapse18_1">
Click to view the solution.
</button>
</h2>
<div id="collapse18_1" class="accordion-collapse collapse"
aria-labelledby="heading18_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> mean = 27.47 and SD = 5</p>
<p>One of the key properties of the normal distribution is that about
95% of values lie within 2 standard deviations of the mean. The Central
Limit Theorem states that the distribution of the sample mean is roughly
normal, which means that to create this CLT-based 95% confidence
interval, we used the 2 standard deviations rule.</p>
<p>What we’re given, then, is the following:</p>
<p><span class="math display">\begin{align*} \text{Sample Mean} + 2
\cdot \text{SD of Distribution of Possible Sample Means} &amp;= 28.47 \\
\text{Sample Mean} - 2 \cdot \text{SD of Distribution of Possible Sample
Means} &amp;= 26.47 \end{align*}</span></p>
<p>The sample mean is halfway between 26.47 and 28.47, which is 27.47.
Substituting this into the first equation gives us</p>
<p><span class="math display">\begin{align*}27.47 + 2 \cdot \text{SD of
Distribution of Possible Sample Means} &amp;= 28.47\\2 \cdot \text{SD of
Distribution of Possible Sample Means} &amp;= 1 \\ \text{Distribution of
Possible Sample Means} &amp;= 0.5\end{align*}</span></p>
<p>It can be tempting to conclude that the sample standard deviation is
0.5, but it’s not – the SD of the sample mean’s distribution is 0.5.
Remember, the SD of the sample mean’s distribution is given by the
square root law:</p>
<p><span class="math display">\text{SD of Distribution of Possible
Sample Means} = \frac{\text{Population SD}}{\sqrt{\text{Sample Size}}}
\approx \frac{\text{Sample SD}}{\sqrt{\text{Sample Size}}}</span></p>
<p>We don’t know the population SD, so we’ve used the sample SD as an
estimate. As such, we have that</p>
<p><span class="math display">\text{SD of Distribution of Possible
Sample Means} = 0.5 = \frac{\text{Sample SD}}{\sqrt{\text{Sample Size}}}
= \frac{\text{Sample SD}}{\sqrt{100}}</span></p>
<p>So, <span class="math inline">\text{Sample SD} = 0.5 \cdot \sqrt{100}
= 0.5 \cdot 10 = 5</span>.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 64%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-18.2">Problem 18.2</h3>
<p>Does the CLT say that the distribution of play times of the 100 games
is roughly normal?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> Yes</p></li>
<li><p><input type="radio" disabled="" /> No</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading18_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse18_2" aria-expanded="true" aria-controls="collapse18_2">
Click to view the solution.
</button>
</h2>
<div id="collapse18_2" class="accordion-collapse collapse"
aria-labelledby="heading18_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> No</p>
<p>The Central Limit Theorem states that the distribution of the sample
mean or the sample sum is roughly normal. The distribution of play times
is a sample of size 100 drawn from the population of play times; the
Central Limit Theorem doesn’t say anything about a population or any one
sample.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 45%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<p class="meta"><em>Source:</em> wi23-final — Q16</p>
<h2 id="problem-19">Problem 19</h2>
<p>We collect data on the play times of 100 games of <em>Chutes and
Ladders</em> (sometimes known as <em>Snakes and Ladders</em>) and want
to use this data to perform a hypothesis test.</p>
<p><br></p>
<h3 id="problem-19.1">Problem 19.1</h3>
<p>Which of the following pairs of hypotheses can we test using this
data?</p>
<p>Option 1: <strong>Null Hypothesis:</strong> In a random sample of
Chutes and Ladders games, the average play time is 30 minutes.
<strong>Alternative Hypothesis:</strong> In a random sample of Chutes
and Ladders games, the average play time is not 30 minutes.</p>
<p>Option 2: <strong>Null Hypothesis:</strong> In a random sample of
Chutes and Ladders games, the average play time is not 30 minutes.
<strong>Alternative Hypothesis:</strong> In a random sample of Chutes
and Ladders games, the average play time is 30 minutes</p>
<p>Option 3: <strong>Null Hypothesis:</strong> A game of Chutes and
Ladders takes, on average, 30 minutes to play. <strong>Alternative
Hypothesis:</strong> A game of Chutes and Ladders does not take, on
average, 30 minutes to play.</p>
<p>Option 4: <strong>Null Hypothesis:</strong> A game of Chutes and
Ladders does not take, on average, 30 minutes to play.
<strong>Alternative Hypothesis:</strong> A game of Chutes and Ladders
takes, on average, 30 minutes to play.</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> Option 1</p></li>
<li><p><input type="radio" disabled="" /> Option 2</p></li>
<li><p><input type="radio" disabled="" /> Option 3</p></li>
<li><p><input type="radio" disabled="" /> Option 4</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading19_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse19_1" aria-expanded="true" aria-controls="collapse19_1">
Click to view the solution.
</button>
</h2>
<div id="collapse19_1" class="accordion-collapse collapse"
aria-labelledby="heading19_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> Option 3</p>
<p><strong>Option 3:</strong> is the correct answer because the Null
Hypothesis can be applicable to the real world, and thus simulated, and
has the test statistic “equal” to our prediction of 30 minutes. The
Alternative Hypothesis is also correctly different from the Null
Hypothesis by saying the test statistic is “not equal” to our prediction
of 30 minutes.</p>
<p><strong>Option 1:</strong> We want the Null Hypothesis or Alternative
Hypothesis to be applicable to the real world, which means that by
having the start “In a random sample…” we are discrediting this in the
real world.</p>
<p><strong>Option 2:</strong> Like Option 1, we want the Null Hypothesis
or Alternative Hypothesis to be applicable to the real world, which
means that by having the start “In a random sample…” we are discrediting
this in the real world.</p>
<p><strong>Option 4:</strong> This answer is wrong because the Null
Hypothesis should be focused on figuring out the positive test
statistic, in this case average. In other words, let <code>u</code> be
the average time to play <em>Chutes and Ladders</em> and let
<code>u&lt;sub&gt;0&lt;\sub&gt;</code> be 30 minutes. The Null
Hypothesis should be <code>u</code> =
<code>u&lt;sub&gt;0&lt;\sub&gt;</code> and the Alternative Hypothesis
should be something different, in this case: <code>u</code> !=
<code>u&lt;sub&gt;0&lt;\sub&gt;</code>.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 65%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-19.2">Problem 19.2</h3>
<p>We use our collected data to construct a 95% CLT-based confidence
interval for the average play time of a game of <em>Chutes and
Ladders</em>. This 95% confidence interval is [26.47, 28.47]. For the
100 games for which we collected data, what is the mean and standard
deviation of the play times?</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading19_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse19_2" aria-expanded="true" aria-controls="collapse19_2">
Click to view the solution.
</button>
</h2>
<div id="collapse19_2" class="accordion-collapse collapse"
aria-labelledby="heading19_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> mean = 27.47 and SD = 5</p>
<p>One of the key properties of the normal distribution is that about
95% of values lie within 2 standard deviations of the mean. The Central
Limit Theorem states that the distribution of the sample mean is roughly
normal, which means that to create this CLT-based 95% confidence
interval, we used the 2 standard deviations rule.</p>
<p>What we’re given, then, is the following:</p>
<p><span class="math display">\begin{align*} \text{Sample Mean} + 2
\cdot \text{SD of Distribution of Possible Sample Means} &amp;= 28.47 \\
\text{Sample Mean} - 2 \cdot \text{SD of Distribution of Possible Sample
Means} &amp;= 26.47 \end{align*}</span></p>
<p>The sample mean is halfway between 26.47 and 28.47, which is 27.47.
Substituting this into the first equation gives us</p>
<p><span class="math display">\begin{align*}27.47 + 2 \cdot \text{SD of
Distribution of Possible Sample Means} &amp;= 28.47\\2 \cdot \text{SD of
Distribution of Possible Sample Means} &amp;= 1 \\ \text{Distribution of
Possible Sample Means} &amp;= 0.5\end{align*}</span></p>
<p>It can be tempting to conclude that the sample standard deviation is
0.5, but it’s not – the SD of the sample mean’s distribution is 0.5.
Remember, the SD of the sample mean’s distribution is given by the
square root law:</p>
<p><span class="math display">\text{SD of Distribution of Possible
Sample Means} = \frac{\text{Population SD}}{\sqrt{\text{Sample Size}}}
\approx \frac{\text{Sample SD}}{\sqrt{\text{Sample Size}}}</span></p>
<p>We don’t know the population SD, so we’ve used the sample SD as an
estimate. As such, we have that</p>
<p><span class="math display">\text{SD of Distribution of Possible
Sample Means} = 0.5 = \frac{\text{Sample SD}}{\sqrt{\text{Sample Size}}}
= \frac{\text{Sample SD}}{\sqrt{100}}</span></p>
<p>So, <span class="math inline">\text{Sample SD} = 0.5 \cdot \sqrt{100}
= 0.5 \cdot 10 = 5</span>.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 64%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-19.3">Problem 19.3</h3>
<p>Does the CLT say that the distribution of play times of the 100 games
is roughly normal?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> Yes</p></li>
<li><p><input type="radio" disabled="" /> No</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading19_3">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse19_3" aria-expanded="true" aria-controls="collapse19_3">
Click to view the solution.
</button>
</h2>
<div id="collapse19_3" class="accordion-collapse collapse"
aria-labelledby="heading19_3" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> No</p>
<p>The Central Limit Theorem states that the distribution of the sample
mean or the sample sum is roughly normal. The distribution of play times
is a sample of size 100 drawn from the population of play times; the
Central Limit Theorem doesn’t say anything about a population or any one
sample.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 45%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-19.4">Problem 19.4</h3>
<p>Of the two hypotheses you selected in part (a), which one is better
supported by the data?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> Null Hypothesis</p></li>
<li><p><input type="radio" disabled="" /> Alternative Hypothesis</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading19_4">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse19_4" aria-expanded="true" aria-controls="collapse19_4">
Click to view the solution.
</button>
</h2>
<div id="collapse19_4" class="accordion-collapse collapse"
aria-labelledby="heading19_4" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> Alternative Hypothesis</p>
<p>To test the null hypothesis, we check whether 30 is in the confidence
interval we constructed. 30 is not between 26.47 and 28.47, so we reject
the null hypothesis that the average play time is 30 minutes.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 87%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<p class="meta"><em>Source:</em> wi24-final — Q11</p>
<h2 id="problem-20">Problem 20</h2>
<p>Aladár Gerevich is a Hungarian fencer who is one of only two men to
win Olympic medals 28 years apart. He earned 10 Olympic medals in total
throughout his career: 7 gold, 1 silver, and 2 bronze. The table below
shows the distribution of medal types for Aladár Gerevich, as well as a
few other athletes who also earned 10 Olympic medals.</p>
<center><img src='../../assets/images/wi24-final/q11_table.png' width=400></center>
<!-- ::: center
  **Athlete**              **Gold**   **Silver**   **Bronze**
  ----------------------- ---------- ------------ ------------
  Aladár Gerevich            0.7         0.1          0.2
  Katie Ledecky              0.7         0.3           0
  Alexander Dityatin         0.3         0.6          0.1
  Franziska van Almsick       0          0.4          0.6
::: -->
<p><br></p>
<h3 id="problem-20.1">Problem 20.1</h3>
<p>Which type of data visualization is most appropriate to compare two
athlete’s medal distributions?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> overlaid histogram</p></li>
<li><p><input type="radio" disabled="" /> overlaid bar chart</p></li>
<li><p><input type="radio" disabled="" /> overlaid line plot</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading20_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse20_1" aria-expanded="true" aria-controls="collapse20_1">
Click to view the solution.
</button>
</h2>
<div id="collapse20_1" class="accordion-collapse collapse"
aria-labelledby="heading20_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> overlaid bar chart</p>
<p>Here, we are plotting the data of 2 athletes, comparing the medal
distributions. Gold, silver, and bronze medals are categorical
variables, while the proportion of these won is a quantitative value. A
bar chart is the only kind of plot that involves categorical data with
quantitative data. Since there are 2 athletes, the most appropriate plot
is an overlaid bar chart. The overlapping bars would help compare the
difference in their distributions.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 73%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-20.2">Problem 20.2</h3>
<p>Among the other athletes in the table above, whose medal distribution
has the largest total variation distance (TVD) to Aladár Gerevich’s
distribution?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> Katie Ledecky</p></li>
<li><p><input type="radio" disabled="" /> Alexander Dityatin</p></li>
<li><p><input type="radio" disabled="" /> Franziska van Almsick</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading20_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse20_2" aria-expanded="true" aria-controls="collapse20_2">
Click to view the solution.
</button>
</h2>
<div id="collapse20_2" class="accordion-collapse collapse"
aria-labelledby="heading20_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> Franziska van Almsick</p>
<p>The Total Variation Distance (TVD) of two categorical distributions
is the sum of the absolute differences of their proportions, all divided
by 2. We can apply the TVD formula to these distributions: The TVD
between Katie Ledecky and Aladar Gerevich is given by <span class="math inline">\frac{1}{2} \cdot (|0.7 - 0.7| + |0.1 - 0.3| + |0.2
- 0|) = \frac{0.4}{2} = 0.2</span>. The TVD between Alexander Dityatin
and Aladar Gerevich is given by <span class="math inline">\frac{1}{2}
\cdot (|0.7 - 0.3| + |0.1 - 0.6| + |0.2 - 0.1|) = \frac{1}{2} =
0.5</span>. And finally, the TVD between Franziska van Almsick and
Aladar Gerevich is given by <span class="math inline">\frac{1}{2} \cdot
(|0.7 - 0| + |0.1 - 0.4| + |0.2 - 0.6|) = \frac{1.4}{2} = 0.7</span>.
So, Franziska van Almsick has the largest TVD to Gerevich’s
distribution.</p>
<hr/>
<h5>Difficulty: ⭐️</h5>
<p>
</p>
<p>The average score on this problem was 92%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-20.3">Problem 20.3</h3>
<p>Suppose Pallavi earns 10 Olympic medals in such a way that the TVD
between Pallavi’s medal distribution and Aladár Gerevich’s medal
distribution is as large as possible. What is Pallavi’s medal
distribution?
<center><img src='../../assets/images/wi24-final/q11c_table.png' width=400></center></p>
<!-- ::: center
  **Athlete**        **Gold**   **Silver**   **Bronze**
  ----------------- ---------- ------------ ------------
  Aladár Gerevich      0.7         0.1          0.2
  Pallavi              $x$         $y$          $z$
::: -->
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading20_3">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse20_3" aria-expanded="true" aria-controls="collapse20_3">
Click to view the solution.
</button>
</h2>
<div id="collapse20_3" class="accordion-collapse collapse"
aria-labelledby="heading20_3" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> x=0, y=1, z=0</p>
<p>Intuitively, can maximize the TVD between the distributions by
putting all of Pallavi’s medals in the category which Gerevich won the
least of, so x = 0, y = 1, z = 0. Moving any of these medals to another
category would decrease the TVD, since that would mean that all of
Pallavi’s medal proportions would get closer to Gerevich’s (Silver is
decreasing, getting closer, and Gold and Bronze are increasing, which
makes them closer as well).</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 72%.</p>
</div>
</div>
</div>
</div>
<p><br> <br></p>
<h3 id="problem-20.4">Problem 20.4</h3>
<p>More generally, suppose <code>medal_dist</code> is an array of length
three representing an athlete’s medal distribution. Which of the
following expressions gives the maximum possible TVD between
<code>medal_dist</code> and any other distribution?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> <code>medal_dist.max()</code></p></li>
<li><p><input type="radio" disabled="" /> <code>medal_dist.min()</code></p></li>
<li><p><input type="radio" disabled="" /> <code>1 - medal_dist.max()</code></p></li>
<li><p><input type="radio" disabled="" /> <code>1 - medal_dist.min()</code></p></li>
<li><p><input type="radio" disabled="" /> <code>np.abs(1 - medal_dist).sum()/2</code></p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading20_4">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse20_4" aria-expanded="true" aria-controls="collapse20_4">
Click to view the solution.
</button>
</h2>
<div id="collapse20_4" class="accordion-collapse collapse"
aria-labelledby="heading20_4" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> <code>1 - medal_dist.min()</code></p>
<p>Similar to part c, we know that the TVD is maximized by placing all
the medals of competitor A into the category in which competitor B has
the lowest proportion of medals. If we place all of competitor A’s
medals into this bin, the difference between the two distributions for
this variable will be <code>1 - medal_dist.min()</code> In the other
bins, competitor A has no medals (making all their values 0), and
competitor B has the remainder of their medals, which is
<code>1 - medal_dist.min()</code>. So, in total, the TVD is given by
<span class="math inline">\frac{1}{2} \cdot 2 \cdot</span>
<code>1 - medal_dist.min()</code> =
<code>1 - medal_dist.min()</code>.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 56%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<p class="meta"><em>Source:</em> wi25-final — Q7</p>
<h2 id="problem-21">Problem 21</h2>
<p>Professor Minerva McGonagall, head of Gryffindor, may also be
awarding house points unfairly. For this question, we’ll assume that all
four of the houses contain the same number of students, and we’ll
investigate whether McGonagall awards points equally to all four
houses.</p>
<p>Below is the distribution of points that Professor McGonagall awarded
during the last academic year.</p>
<center><img src='../../assets/images/wi25-final/points.png' width=400></center>
<p>You want to test the following hypotheses:</p>
<ul>
<li><p><strong>Null Hypothesis</strong>: The distribution of points
awarded by Professor McGonagall is uniform across all of the
houses.</p></li>
<li><p><strong>Alternative Hypothesis</strong>: The distribution of
points awarded by Professor McGonagall is not uniform across all of the
houses.</p></li>
</ul>
<p><br></p>
<h3 id="problem-21.1">Problem 21.1</h3>
<p>Which of the following test statistics is appropriate for this
hypothesis test? Select all that apply.</p>
<ul class="task-list">
<li><p><input type="checkbox" disabled="" /> The absolute difference between the number of points awarded to
Gryffindor and the proposed proportion of points awarded to
Gryffindor.</p></li>
<li><p><input type="checkbox" disabled="" /> The difference between the number of points awarded to the house with
the most points and the house with the least points.</p></li>
<li><p><input type="checkbox" disabled="" /> The sum of the squared differences in proportions between
McGonagall’s distribution and <code>[0.5, 0.5, 0.5, 0.5]</code>.</p></li>
<li><p><input type="checkbox" disabled="" /> The sum of the differences in proportions between McGonagall’s
distribution and <code>[0.25, 0.25, 0.25, 0.25]</code>.</p></li>
<li><p><input type="checkbox" disabled="" /> The sum of the squared differences in proportions between
McGonagall’s distribution and <code>[0.25, 0.25, 0.25, 0.25]</code>.</p></li>
<li><p><input type="checkbox" disabled="" /> None of the above.</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading21_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse21_1" aria-expanded="true" aria-controls="collapse21_1">
Click to view the solution.
</button>
</h2>
<div id="collapse21_1" class="accordion-collapse collapse"
aria-labelledby="heading21_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> Option 2 and 5.</p>
<p>This problem is trying to find test statistics that can be used to
distinguish when the data is better supported by the alternative. Since
the alternative hypothesis simply states “is not uniform across all of
the houses”, it is not crucial to look for individual differences
between houses but rather the general relationship of points awarded to
all houses.</p>
<p><strong>Option 1:</strong> This option only tells us information
about Gryffindor but doesn’t tell us anything about inequalities between
other houses. For example,e if Gryffindor received 25% of the points and
Slytherin received the other 75% of the points we would not be able to
tell this apart from the case when all houses received 25% of the
points.</p>
<p><strong>Option 2:</strong> When the points are distributed normally
we would expect that all the houses receive about the same amount and
therefore the difference of points would be near 0. However, if one
house is gaining more points than the rest of the houses then the number
of points between the top and lowest house we be greater than 0.
Therefore we are “measuring” the alternative.</p>
<p><strong>Option 3:</strong> This test statistic measures the sum of
the squared differences in proportions between McGonagall’s distribution
and <code>[0.5, 0.5, 0.5, 0.5]</code>. However,
<code>[0.5, 0.5, 0.5, 0.5]</code> does not represent a valid probability
distribution because the total sum exceeds 1. As a result, this test
statistic is not meaningful in assessing whether the point distribution
is uniform across houses.</p>
<p><strong>Option 4:</strong> When we measure the sum of the
differences, the information on “how close” the data is to the
alternative can be unseen. For example, a distribution of
<code>[0.25, 0.25, 0.25, 0.25]</code> is what we’d expect under the null
and a distribution of <code>[0.0, 0.5, 0.0, 0.5]</code> would support
the alternative. However, using this test statistic we would see a
result of 0 therefore not differentiating them.</p>
<p><strong>Option 5:</strong> Under the null hypothesis
<code>[0.25, 0.25, 0.25, 0.25]</code> is the “expected” distribution.
Additionally, since the alternative hypothesis states that McGongall’s
assignments are not uniform (aka is the distribution of points
non-uniform), a house supports the alternative if its points are
significantly less than <strong><em>or</em></strong> greater than 0.25.
Squaring the differences allows the test statistic to be greater in
either case and therefore would be a valid statistic.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 78%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<center><img src='../../assets/images/wi25-final/points.png' width=400></center>
<p>For the rest of this problem, we will use the following test
statistic:</p>
<div class="center">
<p><strong>The sum of the absolute differences in proportions between
McGonagall’s distribution and
<code>[0.25, 0.25, 0.25, 0.25]</code>.</strong></p>
</div>
<p><br></p>
<h3 id="problem-21.2">Problem 21.2</h3>
<p>Choose the correct way to implement the function
<code>calculate_test_stat</code>, which takes in two distributions as
arrays and returns the value of this test statistic.</p>
<pre><code>    def calculate_test_stat(dist_1, dist_2):
        return _____</code></pre>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> <code>np.abs(sum(dist_1 - dist_2))</code>.</p></li>
<li><p><input type="radio" disabled="" /> <code>abs(sum(dist_1 - dist_2))</code>.</p></li>
<li><p><input type="radio" disabled="" /> <code>sum(np.abs(dist_1 - dist_2))</code>.</p></li>
<li><p><input type="radio" disabled="" /> <code>sum(abs(dist_1 - dist_2))</code>.</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading21_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse21_2" aria-expanded="true" aria-controls="collapse21_2">
Click to view the solution.
</button>
</h2>
<div id="collapse21_2" class="accordion-collapse collapse"
aria-labelledby="heading21_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong>
<code>sum(np.abs(dist_1 - dist_2))</code></p>
<p>A valid test statistic in this problem would find how far
<code>dist_1</code> differs from <code>dist_2</code>. Since we’re
looking at <a href="https://dsc-courses.github.io/bpd-reference/docs/statistical-inference/permutation_test/#code-example-absolute-difference">“how
different”</a>) the distributions are, we need to take the absolute
value (aka a measure of distance/difference) and then add them up.
<code>np.abs()</code> needs to be used over <code>abs()</code> because
<code>dist_1</code> and <code>dist_2</code> are <strong>arrays</strong>
and the built-in function <code>abs</code> only works for individual
numbers.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 84%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-21.3">Problem 21.3</h3>
<p>(10 pts) Fill in the blanks in the code below so that
<code>simulated_ts</code> is an array containing 10,000 simulated values
of the test statistic under the null. Note that your answer to blank
<code>(c)</code> is <strong>used in more than one place</strong> in the
code.</p>
<pre><code>    mc_gon = np.arange(__(a)__) # Careful: np.arange, not np.array!
    null = np.array([0.25, 0.25, 0.25, 0.25])
    observed_ts = calculate_test_stat(__(b)__)

    simulated_ts = np.array([])

    for i in np.arange(10000):
        sim = np.random.multinomial(__(c)__, __(d)__) / __(c)__
        one_simulated_ts = calculate_test_stat(__(e)__)
        simulated_ts = np.append(simulated_ts, one_simulated_ts)</code></pre>
<p>What goes in blank (a)?</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading21_3">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse21_3" aria-expanded="true" aria-controls="collapse21_3">
Click to view the solution.
</button>
</h2>
<div id="collapse21_3" class="accordion-collapse collapse"
aria-labelledby="heading21_3" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> 0.1, 0.5, 0.1 (or equivalent)</p>
<p>Based on the distribution shown in the bar chart above, we want our
resulting array to contain the proportions
<code>[0.4, 0.2, 0.3, 0.1]</code> (40/100 for Gryffindor, 20/100 for
Hufflepuff, 30/100 for Ravenclaw, and 10/100 for Slytherin). Note that
the order of these proportions does not matter because: 1) we are
calculating the absolute difference between each value and the null
proportion (0.25), and 2) we will sum all the differences together.</p>
<p>Since these proportions are incrementally increasing, we can use
<code>np.arange()</code> to construct <code>mc_gon</code>. There are
multiple correct approaches to this problem, as long as the resulting
array contains all four proportions. Some alternative correct approaches
include: - <code>np.arange(0.4, 0.0, -0.1)</code> -
<code>np.arange(0.1, 0.41, 0.1)</code> (The middle argument can be any
value greater than 0.4 and less than or equal to 0.5)</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 57%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-21.4">Problem 21.4</h3>
<p>What goes in blank (b)?</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading21_4">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse21_4" aria-expanded="true" aria-controls="collapse21_4">
Click to view the solution.
</button>
</h2>
<div id="collapse21_4" class="accordion-collapse collapse"
aria-labelledby="heading21_4" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> <code>null</code>, <code>mc_gon</code></p>
<p>Note that the order of <code>mc_gon</code> and <code>null</code> does
not matter, as <code>calculate_test_stat</code> calculates the absolute
difference between the two.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 78%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-21.5">Problem 21.5</h3>
<p>What goes in blank (c)?</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading21_5">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse21_5" aria-expanded="true" aria-controls="collapse21_5">
Click to view the solution.
</button>
</h2>
<div id="collapse21_5" class="accordion-collapse collapse"
aria-labelledby="heading21_5" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> 100</p>
<p>Blank (c) represents the total number of trials in each simulated
sample. Using 100 ensures that each sample is large enough to
approximate the expected proportions while maintaining computational
efficiency. Additionally, (c) is used to divide all values, converting
counts into proportions.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 48%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-21.6">Problem 21.6</h3>
<p>What goes in blank (d)?</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading21_6">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse21_6" aria-expanded="true" aria-controls="collapse21_6">
Click to view the solution.
</button>
</h2>
<div id="collapse21_6" class="accordion-collapse collapse"
aria-labelledby="heading21_6" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> <code>null</code></p>
<p>Blank (d) is null because each simulated sample is generated under
the null hypothesis. This means the probabilities used in
<code>np.random.multinomial</code> should match the expected proportions
from the null distribution.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 77%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-21.7">Problem 21.7</h3>
<p>What goes in blank (e)?</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading21_7">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse21_7" aria-expanded="true" aria-controls="collapse21_7">
Click to view the solution.
</button>
</h2>
<div id="collapse21_7" class="accordion-collapse collapse"
aria-labelledby="heading21_7" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> <code>sim</code>, <code>null</code></p>
<p>Note that the order of <code>null</code> and <code>sim</code> does
not matter, as <code>calculate_test_stat</code> calculates the absolute
difference between the two.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 67%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-21.8">Problem 21.8</h3>
<p>Fill in the blank so that <code>reject_null</code> evaluates to
<code>True</code> if we reject the null hypothesis at the <span
class="math inline">0.05</span> significance level, and
<code>False</code> otherwise.</p>
<pre><code>    reject_null = __(f)__</code></pre>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading21_8">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse21_8" aria-expanded="true" aria-controls="collapse21_8">
Click to view the solution.
</button>
</h2>
<div id="collapse21_8" class="accordion-collapse collapse"
aria-labelledby="heading21_8" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong>
<code>(simulated_ts &gt;= observed_ts).mean() &lt;= 0.05</code></p>
<p><code>reject_null</code> should evaluate to a boolean statement
therefore we must test whether our <a href="https://dsc-courses.github.io/bpd-reference/docs/statistical-inference/p_value/">p-value</a>)
is less than or equal to 0.05. Taking the mean of
<code>(simulated_ts &gt;= observed_ts)</code> tells us the proportion of
simulated test statistics that are equal to the value that was observed
in the data or is even further in the direction of the alternative.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 64%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-21.9">Problem 21.9</h3>
<p>Your friend performs the same hypothesis test as you, but uses the
total variation distance (TVD) as their test statistic instead of the
one described in the problem. Which of the following statements is
true?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> Your friend’s simulated statistics will be larger than yours, because
TVD accounts for the magnitude <em>and</em> direction of the differences
in proportions.</p></li>
<li><p><input type="radio" disabled="" /> Your friend’s simulated statistics will be larger than yours, but
<strong>not</strong> because it accounts for the magnitude and direction
of the differences in proportions.</p></li>
<li><p><input type="radio" disabled="" /> Your friend’s simulated statistics will be smaller than yours,
because TVD accounts for the magnitude <em>and</em> direction of the
differences in proportions.</p></li>
<li><p><input type="radio" disabled="" /> Your friend’s simulated statistics will be smaller than yours, but
<strong>not</strong> because it accounts for the magnitude and direction
of the differences in proportions.</p></li>
<li><p><input type="radio" disabled="" /> There is no relationship between the statistic you used and the
statistic your friend used (TVD).</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading21_9">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse21_9" aria-expanded="true" aria-controls="collapse21_9">
Click to view the solution.
</button>
</h2>
<div id="collapse21_9" class="accordion-collapse collapse"
aria-labelledby="heading21_9" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> Option 4.</p>
<p><a href="https://dsc-courses.github.io/bpd-reference/docs/statistical-inference/obs_and_test_stats/#3-total-variation-distance-tvd">TVD</a>)
is calculated by taking the sum of the absolute differences of two
proportions, all divided by 2. Therefore the only difference between TVD
and our test statistic is the fact that TVD is divided by 2 (which would
make it smaller). Meaning that the reason it is smaller is
<strong>not</strong> related to magnitude or direction.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 63%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
</body>
</html>
