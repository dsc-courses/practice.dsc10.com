<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>Lecture 12 — Practice</title>
  <style>
    /* Default styles provided by pandoc.
    ** See https://pandoc.org/MANUAL.html#variables-for-html for config info.
    */
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    /* The extra [class] is a hack that increases specificity enough to
       override a similar rule in reveal.js */
    ul.task-list[class]{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      font-size: inherit;
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    html { -webkit-text-size-adjust: 100%; }
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      {   }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span.al { color: #ff0000; font-weight: bold; } /* Alert */
    code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
    code span.at { color: #7d9029; } /* Attribute */
    code span.bn { color: #40a070; } /* BaseN */
    code span.bu { color: #008000; } /* BuiltIn */
    code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #4070a0; } /* Char */
    code span.cn { color: #880000; } /* Constant */
    code span.co { color: #60a0b0; font-style: italic; } /* Comment */
    code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
    code span.do { color: #ba2121; font-style: italic; } /* Documentation */
    code span.dt { color: #902000; } /* DataType */
    code span.dv { color: #40a070; } /* DecVal */
    code span.er { color: #ff0000; font-weight: bold; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #40a070; } /* Float */
    code span.fu { color: #06287e; } /* Function */
    code span.im { color: #008000; font-weight: bold; } /* Import */
    code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
    code span.kw { color: #007020; font-weight: bold; } /* Keyword */
    code span.op { color: #666666; } /* Operator */
    code span.ot { color: #007020; } /* Other */
    code span.pp { color: #bc7a00; } /* Preprocessor */
    code span.sc { color: #4070a0; } /* SpecialChar */
    code span.ss { color: #bb6688; } /* SpecialString */
    code span.st { color: #4070a0; } /* String */
    code span.va { color: #19177c; } /* Variable */
    code span.vs { color: #4070a0; } /* VerbatimString */
    code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="../../assets/theme.css" />
  <script defer=""
  src="https://cdn.jsdelivr.net/npm/katex@latest/dist/katex.min.js"></script>
  <script>document.addEventListener("DOMContentLoaded", function () {
 var mathElements = document.getElementsByClassName("math");
 var macros = [];
 for (var i = 0; i < mathElements.length; i++) {
  var texText = mathElements[i].firstChild;
  if (mathElements[i].tagName == "SPAN") {
   katex.render(texText.data, mathElements[i], {
    displayMode: mathElements[i].classList.contains('display'),
    throwOnError: false,
    macros: macros,
    fleqn: false
   });
}}});
  </script>
  <link rel="stylesheet"
  href="https://cdn.jsdelivr.net/npm/katex@latest/dist/katex.min.css" />
</head>
<body>
<header id="title-block-header">
<h1 class="title">Lecture 12 — Practice</h1>
</header>
<p><link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
<!-- add after bootstrap.min.css -->
<link rel="stylesheet" href="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.css"/>
<!-- add after bootstrap.min.js or bootstrap.bundle.min.js -->
<script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script></p>
<!-- for difficulty gauges-->
<script src="https://cdn.plot.ly/plotly-2.16.1.min.js"></script>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-B947E6J6H4"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-B947E6J6H4');
</script>
<p><a href="../../index.html">← return to practice.dsc10.com</a></p>
<hr />
<h1 id="lecture-12-collected-practice-questions">Lecture 12 — Collected
Practice Questions</h1>
<p>Below are practice problems tagged for Lecture <strong>12</strong>
(rendered directly from the original exam/quiz sources).</p>
<hr />
<h2 id="problem-1">Problem 1</h2>
<p>King Triton has boarded a Southwest flight. For in-flight
refreshments, Southwest serves four types of cookies – chocolate chip,
gingerbread, oatmeal, and peanut butter.</p>
<p>The flight attendant comes to King Triton with a box containing 10
cookies:</p>
<ul>
<li>4 chocolate chip</li>
<li>3 gingerbread</li>
<li>2 oatmeal, and</li>
<li>1 peanut butter</li>
</ul>
<p>The flight attendant tells King Triton to grab 2 cookies out of the
box without looking.</p>
<p>Fill in the blanks below to implement a simulation that estimates the
probability that both of King Triton’s selected cookies are the
same.</p>
<div class="sourceCode" id="cb1"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># &#39;cho&#39; stands for chocolate chip, &#39;gin&#39; stands for gingerbread,</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="co"># &#39;oat&#39; stands for oatmeal, and &#39;pea&#39; stands for peanut butter.</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>cookie_box <span class="op">=</span> np.array([<span class="st">&#39;cho&#39;</span>, <span class="st">&#39;cho&#39;</span>, <span class="st">&#39;cho&#39;</span>, <span class="st">&#39;cho&#39;</span>, <span class="st">&#39;gin&#39;</span>, </span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>                       <span class="st">&#39;gin&#39;</span>, <span class="st">&#39;gin&#39;</span>, <span class="st">&#39;oat&#39;</span>, <span class="st">&#39;oat&#39;</span>, <span class="st">&#39;pea&#39;</span>])</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>repetitions <span class="op">=</span> <span class="dv">10000</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>prob_both_same <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i <span class="kw">in</span> np.arange(repetitions):</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>    grab <span class="op">=</span> np.random.choice(__(a)__)</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> __(b)__:</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>        prob_both_same <span class="op">=</span> prob_both_same <span class="op">+</span> <span class="dv">1</span></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>prob_both_same <span class="op">=</span> __(c)__</span></code></pre></div>
<p><br></p>
<h3 id="problem-1.1">Problem 1.1</h3>
<p>What goes in blank (a)?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> <code>cookie_box, repetitions, replace=False</code></p></li>
<li><p><input type="radio" disabled="" /> <code>cookie_box, 2, replace=True</code></p></li>
<li><p><input type="radio" disabled="" /> <code>cookie_box, 2, replace=False</code></p></li>
<li><p><input type="radio" disabled="" /> <code>cookie_box, 2</code></p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading1_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse1_1" aria-expanded="true" aria-controls="collapse1_1">
Click to view the solution.
</button>
</h2>
<div id="collapse1_1" class="accordion-collapse collapse"
aria-labelledby="heading1_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong>
<code>cookie_box, 2, replace=False</code></p>
<p>We are told that King Triton grabs two cookies out of the box without
looking. Since this is a random choice, we use the function
<code>np.random.choice</code> to simulate this. The first input to this
function is a sequence of values to choose from. We already have an
array of values to choose from in the variable <code>cookie_box</code>.
Calling <code>np.random.choice(cookie_box)</code> would select one
cookie from the cookie box, but we want to select two, so we use an
optional second parameter to specify the number of items to randomly
select. Finally, we should consider whether we want to select with or
without replacement. Since <code>cookie_box</code> contains individual
cookies and King Triton is selecting two of them, he cannot choose the
same exact cookie twice. This means we should sample without
replacement, by specifying <code>replace=False</code>. Note that
omitting the <code>replace</code> parameter would use the default option
of sampling with replacement.</p>
<hr/>
<h5>Difficulty: ⭐️</h5>
<p>
</p>
<p>The average score on this problem was 92%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-1.2">Problem 1.2</h3>
<p>What goes in blank (b)?</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading1_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse1_2" aria-expanded="true" aria-controls="collapse1_2">
Click to view the solution.
</button>
</h2>
<div id="collapse1_2" class="accordion-collapse collapse"
aria-labelledby="heading1_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> <code>grab[0] == grab[1]</code></p>
<p>The idea of a simulation is to do some random process many times. We
can use the results to approximate a probability by counting up the
number of times some event occurred, and dividing that by the number of
times we did the random process. Here, the random process is selecting
two cookies from the cookie box, and we are doing this 10,000 times. The
approximate probability will be the number of times in which both
cookies are the same divided by 10,000. So we need to count up the
number of times that both randomly selected cookies are the same. We do
this by having an accumulator variable that starts out at 0 and gets
incremented, or increased by 1, every time both cookies are the same.
The code has such a variable, called <code>prob_both_same</code>, that
is initialized to 0 and gets incremented when some condition is met.</p>
<p>We need to fill in the condition, which is that both randomly
selected cookies are the same. We’ve already randomly selected the
cookies and stored the results in <code>grab</code>, which is an array
of length 2 that comes from the output of a call to
<code>np.random.choice</code>. To check if both elements of the
<code>grab</code> array are the same, we access the individual elements
using brackets with the position number, and compare using the
<code>==</code> symbol to check equality. Note that at the end of the
<code>for</code> loop, the variable <code>prob_both_same</code> will
contain a count of the number of trials out of 10,000 in which both of
King Triton’s cookies were the same flavor.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 79%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-1.3">Problem 1.3</h3>
<p>What goes in blank (c)?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> <code>prob_both_same / repetitions</code></p></li>
<li><p><input type="radio" disabled="" /> <code>prob_both_same / 2</code></p></li>
<li><p><input type="radio" disabled="" /> <code>np.mean(prob_both_same)</code></p></li>
<li><p><input type="radio" disabled="" /> <code>prob_both_same.mean()</code></p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading1_3">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse1_3" aria-expanded="true" aria-controls="collapse1_3">
Click to view the solution.
</button>
</h2>
<div id="collapse1_3" class="accordion-collapse collapse"
aria-labelledby="heading1_3" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong>
<code>prob_both_same / repetitions</code></p>
<p>After the <code>for</code> loop, <code>prob_both_same</code> contains
the number of trials out of 10,000 in which both of King Triton’s
cookies were the same flavor. We’d like it to represent the approximate
probability of both cookies being the same flavor, so we need to divide
the current value by the total number of trials, 10,000. Since this
value is stored in the variable <code>repetitions</code>, we can divide
<code>prob_both_same</code> by <code>repetitions</code>.</p>
<hr/>
<h5>Difficulty: ⭐️</h5>
<p>
</p>
<p>The average score on this problem was 93%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<p class="meta"><em>Source:</em> fa22-midterm — Q8</p>
<h2 id="problem-2">Problem 2</h2>
<p>TritonTrucks is an EV startup run by UCSD alumni. Their signature EV,
the TritonTruck, has a subpar battery (the engineers didn’t pay
attention in their Chemistry courses).</p>
<p>A new TritonTruck’s battery needs to be replaced after 500 days,
unless it fails first, in which case it needs to be replaced
immediately. On any given day, the probability that a given
TritonTruck’s battery fails is 0.02, independent of all other days.</p>
<p>Fill in the blanks so that
<code>average_days_until_replacement</code> is an estimate of the
<strong>average number of days a new TritonTruck’s battery lasts without
needing to be replaced</strong>.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> days_until_replacement(daily_conditions):</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>    days <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> i <span class="kw">in</span> __(a)__:</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> daily_conditions[i] <span class="op">==</span> <span class="va">True</span>:</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>            __(b)__</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>        <span class="cf">else</span>:</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>            <span class="cf">return</span> days</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> days</span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>total <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>repetitions <span class="op">=</span> <span class="dv">10000</span></span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i <span class="kw">in</span> np.arange(repetitions):</span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a>    <span class="co"># The first element of the first argument to np.random.choice is</span></span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a>    <span class="co"># chosen with probability 0.98</span></span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a>    daily_conditions <span class="op">=</span> np.random.choice(__(c)__, <span class="dv">500</span>, p<span class="op">=</span>[<span class="fl">0.98</span>, <span class="fl">0.02</span>])</span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a>    total <span class="op">=</span> total <span class="op">+</span> days_until_replacement(daily_conditions)</span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a>average_days_until_replacement <span class="op">=</span> total <span class="op">/</span> repetitions</span></code></pre></div>
<p>What goes in blanks (a), (b), and (c)?</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse2" aria-expanded="true" aria-controls="collapse2">
Click to view the solution.
</button>
</h2>
<div id="collapse2" class="accordion-collapse collapse"
aria-labelledby="heading2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong></p>
<ul>
<li>Blank (a): <code>np.arange(len(daily_conditions))</code></li>
<li>Blank (b): <code>days = days + 1</code></li>
<li>Blank (c): <code>[True, False]</code></li>
</ul>
<p>At a high-level, here’s how this code block works:</p>
<ul>
<li><code>daily_conditions</code> is an array of length 500, in each
each element is <code>True</code> with probability 0.98 and
<code>False</code> with probability 0.02. Each element of
<code>daily_conditions</code> is meant to represent whether or not the
given TritonTruck’s battery failed on that day. For instance, if the
first four elements of <code>daily_conditions</code> are
<code>[True, True, False, True, ...]</code>, it means the battery was
fine the first two days, but failed on the third day.</li>
<li>The function <code>days_until_replacement</code> takes in
<code>daily_conditions</code> and returns the number of days until the
battery failed for the first time. In other words, it returns the number
of elements before the first <code>False</code> in
<code>daily_conditions</code>. In the example above, where the first
four elements of <code>daily_conditions</code> are
<code>[True, True, False, True, ...]</code>,
<code>days_until_replacement</code> would return 2, since the battery
lasted 2 days until it needed to be replaced. It doesn’t matter what is
in <code>daily_conditions</code> after the first
<code>False</code>.</li>
</ul>
<p>With that in mind, let’s fill in the pieces.</p>
<ul>
<li><p>Blank (a): We need to loop over all elements in
<code>daily_conditions</code>. There are two ways to do this, in theory
– by looping over the elements themselves
(e.g. <code>for cond in daily_conditions</code>) or their positions
(e.g. <code>for i in np.arange(len(daily_conditions))</code>). However,
here we <em>must</em> loop over their positions, because the body of
<code>days_until_replacement</code> uses
<code>daily_conditions[i]</code>, which only makes sense if
<code>i</code> is the position of an element in
<code>daily_conditions</code>. Since <code>daily_conditions</code> has
500 elements, the possible positions are 0, 1, 2, …, 499. Since
<code>len(daily_conditions)</code> is 500, both
<code>np.arange(len(daily_conditions))</code> and
<code>np.arange(500)</code> yield the same correct result here.</p></li>
<li><p>Blank (b): <code>days</code> is the “counter” variable that is
being used to keep track of the number of days the battery lasted before
failing. If <code>daily_conditions[i]</code> is <code>True</code>, it
means that the battery lasted another day without failing, and so 1
needs to be added to <code>days</code>. As such, the correct answer here
is <code>days = days + 1</code> (or <code>days += 1</code>). (If
<code>daily_conditions[i]</code> is <code>False</code>, then the battery
has failed, and so we return the number of days until the first
failure.)</p></li>
<li><p>Blank (c): This must be <code>[True, False]</code>, as mentioned
above. There are other valid answers too, including
<code>np.array([True, False])</code> and <code>[1, 0]</code>.</p></li>
</ul>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 56%.</p>
</div>
</div>
</div>
</div>
<hr />
<p class="meta"><em>Source:</em> fa23-midterm — Q8</p>
<h2 id="problem-3">Problem 3</h2>
<p>After the family reunion, Family Y gets together with nine other
families to play a game. All ten families (which we’ll number 1 through
10) have a composition of <code>"2a3c"</code>. Within each family, the
three children are labeled <code>"oldest"</code>, <code>"middle"</code>,
or <code>"youngest"</code>.</p>
<p>In this game, the numbers 1 through 10, representing the ten
families, are placed into a hat. Then, <strong>five times</strong>, they
draw a number from the hat, write it down on a piece of paper, and place
it back into the hat. If a family’s number is written down on the paper
at least twice, then two of the three children in that family are
randomly selected to win a prize. The same child cannot be selected to
win a prize twice.</p>
<p>Chiachan is the middle child in Family 4. He writes a simulation,
which is partially provided on the next page. Fill in the blanks so that
after running the simulation,</p>
<ul>
<li><p><code>np.count_nonzero(outcomes == "Outcome Q") / repetitions</code>
gives an estimate of the probability that Chiachan wins a
prize.</p></li>
<li><p><code>np.count_nonzero(outcomes == "Outcome R") / repetitions</code>
gives an estimate of the probability that both of Chiachan’s siblings
win a prize, but Chiachan does not.</p></li>
<li><p><code>np.count_nonzero(outcomes == "Outcome S") / repetitions</code>
gives an estimate of the probability that nobody from Chiachan’s family
wins a prize.</p></li>
</ul>
<!-- -->
<pre><code>ages = np.array([&quot;oldest&quot;, &quot;middle&quot;, &quot;youngest&quot;])
outcomes = np.array([])
repetitions = 10000
for i in np.arange(repetitions):
    fams = np.random.choice(np.arange(1, 11), 5, ____(a)____)
    if ____(b)____:
        children = np.random.choice(ages, 2, ____(c)____)
        if not &quot;middle&quot; in children:
            outcomes = np.append(outcomes, ____(d)____)
        else:
            outcomes = np.append(outcomes, ____(e)____)
    else:
        outcomes = np.append(outcomes, ____(f)____)</code></pre>
<p><br></p>
<h3 id="problem-3.1">Problem 3.1</h3>
<p>What goes in blank (a)?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> <code>replace=True</code></p></li>
<li><p><input type="radio" disabled="" /> <code>replace=False</code></p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading3_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse3_1" aria-expanded="true" aria-controls="collapse3_1">
Click to view the solution.
</button>
</h2>
<div id="collapse3_1" class="accordion-collapse collapse"
aria-labelledby="heading3_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> <code>replace=True</code></p>
<p>A family can be selected more than once, as indicated by “placing the
number back into the hat” in the problem statement. Therefore we use
<code>replace=True</code> to allow for the same family to get picked
more than once.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 88%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-3.2">Problem 3.2</h3>
<p>What goes in blank (b)?</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading3_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse3_2" aria-expanded="true" aria-controls="collapse3_2">
Click to view the solution.
</button>
</h2>
<div id="collapse3_2" class="accordion-collapse collapse"
aria-labelledby="heading3_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong>
<code>np.count_nonzero(fams == 4) &gt;= 2</code> or equivalent</p>
<p>Notice that inside the body of the <code>if</code> statement, the
first line defines a variable <code>children</code> which selects two
children from among <code>ages</code>. We are told in the problem
statement that if a family’s number is written down on the paper at
least twice, then two of the three children in that family are randomly
selected to win a prize. Therefore, the condition that we want to check
in the <code>if</code> statement should correspond to Chiachan’s family
number (4) being written down on the paper at least twice.</p>
<p>When we compare the entire <code>fams</code> array to the value 4
using <code>fams == 4</code>, the result is an array of
<code>True</code> or <code>False</code> values, where each
<code>True</code> represents an instance of Chiachan’s family being
chosen. Then <code>np.count_nonzero(fams == 4)</code> evaluates to the
number of <code>True</code>s, because in Python, <code>True</code> is 1
and <code>False</code> is 0. That is,
<code>np.count_nonzero(fams == 4)</code> represents the number of times
Chichan’s family is selected, and so our condition is
<code>np.count_nonzero(fams == 4) &gt;= 2</code>.</p>
<p>There are many equivalent ways to write this same condition,
including <code>np.count_nonzero(fams == 4) &gt; 1</code> and
<code>(fams == 4).sum() &gt;= 2</code>.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 17%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-3.3">Problem 3.3</h3>
<p>What goes in blank (c)?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> <code>replace=True</code></p></li>
<li><p><input type="radio" disabled="" /> <code>replace=False</code></p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading3_3">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse3_3" aria-expanded="true" aria-controls="collapse3_3">
Click to view the solution.
</button>
</h2>
<div id="collapse3_3" class="accordion-collapse collapse"
aria-labelledby="heading3_3" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> <code>replace=False</code></p>
<p>A child cannot win a prize twice, so we remove them from the pool
after being selected.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 86%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-3.4">Problem 3.4</h3>
<p>What goes in blank (d)?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> <code>"Outcome Q"</code></p></li>
<li><p><input type="radio" disabled="" /> <code>"Outcome R"</code></p></li>
<li><p><input type="radio" disabled="" /> <code>"Outcome S"</code></p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading3_4">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse3_4" aria-expanded="true" aria-controls="collapse3_4">
Click to view the solution.
</button>
</h2>
<div id="collapse3_4" class="accordion-collapse collapse"
aria-labelledby="heading3_4" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> <code>"Outcome R"</code></p>
<p>Chiachan is the middle child in the family, and recall that each
outcome corresponds to either Chiachan winning
(<code>"Outcome Q"</code>), Chiachan not winning but his siblings
winning (<code>"Outcome R"</code>), or nobody in his family winning
(<code>"Outcome S"</code>).</p>
<p>This condition checks the negation of the middle child being
selected, which evaluates to <code>True</code> when Chiachan’s siblings
win but he doesn’t, so we append <code>"Outcome R"</code> to the
<code>outcomes</code> array in this case.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 76%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-3.5">Problem 3.5</h3>
<p>What goes in blank (e)?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> <code>"Outcome Q"</code></p></li>
<li><p><input type="radio" disabled="" /> <code>"Outcome R"</code></p></li>
<li><p><input type="radio" disabled="" /> <code>"Outcome S"</code></p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading3_5">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse3_5" aria-expanded="true" aria-controls="collapse3_5">
Click to view the solution.
</button>
</h2>
<div id="collapse3_5" class="accordion-collapse collapse"
aria-labelledby="heading3_5" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> <code>"Outcome Q"</code></p>
<p>Chiachan is the middle child in the family, and recall that each
outcome corresponds to either Chiachan winning
(<code>"Outcome Q"</code>), Chiachan not winning but his siblings
winning (<code>"Outcome R"</code>), or nobody in his family winning
(<code>"Outcome S"</code>).</p>
<p>This condition corresponds to the middle child being selected, so we
append <code>"Outcome Q"</code> to the <code>outcomes</code> array in
this case. </p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>The average score on this
problem was 75%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-3.6">Problem 3.6</h3>
<p>What goes in blank (f)?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> <code>"Outcome Q"</code></p></li>
<li><p><input type="radio" disabled="" /> <code>"Outcome R"</code></p></li>
<li><p><input type="radio" disabled="" /> <code>"Outcome S"</code></p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading3_6">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse3_6" aria-expanded="true" aria-controls="collapse3_6">
Click to view the solution.
</button>
</h2>
<div id="collapse3_6" class="accordion-collapse collapse"
aria-labelledby="heading3_6" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> <code>"Outcome S"</code></p>
<p>Chiachan is the middle child in the family, and recall that each
outcome corresponds to either Chiachan winning
(<code>"Outcome Q"</code>), Chiachan not winning but his siblings
winning (<code>"Outcome R"</code>), or nobody in his family winning
(<code>"Outcome S"</code>).</p>
<p>This condition is that Chichan’s family was not selected two or more
times, which means nobody in his family will win a prize, so we append
<code>"Outcome S"</code> to the <code>outcomes</code> array in this
case.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 80%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<p class="meta"><em>Source:</em> fa24-midterm — Q3</p>
<h2 id="problem-4">Problem 4</h2>
<p>Consider the code below.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>street <span class="op">=</span> treats.get(<span class="st">&quot;address&quot;</span>).<span class="bu">str</span>.contains(<span class="st">&quot;Street&quot;</span>)</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>sour <span class="op">=</span> treats.get(<span class="st">&quot;candy&quot;</span>).<span class="bu">str</span>.contains(<span class="st">&quot;Sour&quot;</span>)</span></code></pre></div>
<p><br></p>
<h3 id="problem-4.1">Problem 4.1</h3>
<p>What is the data type of <code>street</code>?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> <code>int</code></p></li>
<li><p><input type="radio" disabled="" /> <code>bool</code></p></li>
<li><p><input type="radio" disabled="" /> <code>str</code></p></li>
<li><p><input type="radio" disabled="" /> Series</p></li>
<li><p><input type="radio" disabled="" /> DataFrame</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading4_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse4_1" aria-expanded="true" aria-controls="collapse4_1">
Click to view the solution.
</button>
</h2>
<div id="collapse4_1" class="accordion-collapse collapse"
aria-labelledby="heading4_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer</strong>: Series</p>
<p>.str.contains works in a series and returns a series of booleans.
Each entry is <code>True</code> if it contains a certain string or
<code>False</code> otherwise. So the answer is <code>street</code> has
the Series data type. </p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>The average score
on this problem was 75%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-4.2">Problem 4.2</h3>
<p>What does the following expression evaluate to? Write your answer
<strong>exactly</strong> how the output would appear in Python.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>np.count_nonzero(street <span class="op">&amp;</span> sour) <span class="op">&gt;</span> sour.<span class="bu">sum</span>()</span></code></pre></div>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading4_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse4_2" aria-expanded="true" aria-controls="collapse4_2">
Click to view the solution.
</button>
</h2>
<div id="collapse4_2" class="accordion-collapse collapse"
aria-labelledby="heading4_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer</strong>: <code>False</code></p>
<p><code>np.count_nonzero(street &amp; sour)</code> counts the number of
rows that contains the word “Street” in the <code>address</code> column
AND also contains the word “Sour” in <code>candy</code>.
<code>sour.sum()</code> sums up all the trues and falses, effectively
making it a count of rows that contain the word “Sour” in
<code>candy</code>. Even if we don’t know the full dataframe, we should
be able to figure out that the number of rows that satisfy the condition
of both <code>Street</code> AND <code>Sour</code> should be lower than
or equal to the number of rows that satisfy <code>Sour</code> by itself.
Therefore, it’s impossible for
<code>np.count_nonzero(street &amp; sour) &gt; sour.sum()</code> to be
<code>True</code> so the answer is <code>False</code>.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 59%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<p class="meta"><em>Source:</em> fa24-midterm — Q7</p>
<h2 id="problem-5">Problem 5</h2>
<p>Suppose you visit another house and their candy bowl is composed of 2
Twix, 3 Rolos, 1 Snickers, 3 M&amp;Ms, and 1 KitKat. You do the same as
before and take 3 candies from the bowl at random.</p>
<p>Fill in the blanks in the code below so that
<code>prob_all_same</code> evaluates to an estimate of the probability
that you get three of the same type of candy.</p>
<pre><code>    candy_bowl = np.array([&quot;Twix&quot;, &quot;Twix&quot;, &quot;Rolo&quot;, &quot;Rolo&quot;, &quot;Rolo&quot;, &quot;Snickers&quot;, &quot;M&amp;M&quot;, &quot;M&amp;M&quot;, &quot;M&amp;M&quot;, &quot;KitKat&quot;])

    repetitions = 10000
    prob_all_same = 0
    for i in np.arange(repetitions):
        grab = np.random.choice(___(a)___)
        if ___(b)___:
            prob_all_same = prob_all_same + 1
    prob_all_same = ___(c)___</code></pre>
<p><br></p>
<h3 id="problem-5.1">Problem 5.1</h3>
<p>What goes in blank (a)?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> <code>candy_bowl, len(candy_bowl), replace=False</code></p></li>
<li><p><input type="radio" disabled="" /> <code>candy_bowl, 3, replace=False</code></p></li>
<li><p><input type="radio" disabled="" /> <code>candy_bowl, 3, replace=True</code></p></li>
<li><p><input type="radio" disabled="" /> <code>candy_bowl, repetitions, replace=True</code></p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading5_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse5_1" aria-expanded="true" aria-controls="collapse5_1">
Click to view the solution.
</button>
</h2>
<div id="collapse5_1" class="accordion-collapse collapse"
aria-labelledby="heading5_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer</strong>:
<code>candy_bowl, 3, replace=False</code></p>
<p>The question asks us to “take 3 candies from the bowl at random.” In
this part, we need to sample 3 candies at random using
<code>np.random.choice</code>. Now, we evaluate each option one by one
as follows:</p>
<ul>
<li><p><code>candy_bowl, len(candy_bowl), replace=False</code>: The code
tries to sample all candies without replacement. However, we are asked
to only sample three candies, not all.</p></li>
<li><p><code>candy_bowl, 3, replace=False</code>: The code samples three
candies without replacement, which matches the description. This option
is correct.</p></li>
<li><p><code>candy_bowl, 3, replace=True</code>: The code samples three
candies from the bowl with replacement. Under this setting, the same
candy can be selected multiple times in a single grab, which is not
realistic.</p></li>
<li><p><code>candy_bowl, repetitions, replace=True</code>: This option
attempts to sample <code>repetitions</code> (10,000) candies in a single
grab. We are asked to sample three candies per iteration of the loop,
not thousands.</p></li>
</ul>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 88%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-5.2">Problem 5.2</h3>
<p>What goes in blank (b)?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> <code>grab[0] == "Rolo" and grab[1] == "Rolo" and grab[2] == "Rolo"</code></p></li>
<li><p><input type="radio" disabled="" /> <code>grab[0] == grab[1] and grab[0] == grab[2]</code></p></li>
<li><p><input type="radio" disabled="" /> <code>grab[0] == grab[1] or grab[0] == grab[2]</code></p></li>
<li><p><input type="radio" disabled="" /> <code>grab == "Rolo" | grab == "M&amp;M"</code></p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading5_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse5_2" aria-expanded="true" aria-controls="collapse5_2">
Click to view the solution.
</button>
</h2>
<div id="collapse5_2" class="accordion-collapse collapse"
aria-labelledby="heading5_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer</strong>:
<code>grab[0] == grab[1] and grab[0] == grab[2]</code></p>
<p>Here, we need condition that checks if all three candies selected in
the grab are the same. We now analyze each option as follows:</p>
<ul>
<li><p><code>grab[0] == "Rolo" and grab[1] == "Rolo" and grab[2] == "Rolo"</code>:
This condition explicitly checks if all three candies are “Rolo”. While
it ensures that the three candies are the same, it only works for “Rolo”
and not for other types of candy in the bowl (e.g., “Twix,”
“M&amp;M”).</p></li>
<li><p><code>grab[0] == grab[1] and grab[0] == grab[2]</code>: This
condition checks if the first candy (grab[0]) is the same as the second
(grab[1]) and the third (grab[2]). If all three candies are the same
type (regardless of which type), this condition will evaluate to True.
Otherwise, the expression will evaluate to False, which is what we need.
The option is correct.</p></li>
<li><p><code>grab[0] == grab[1] or grab[0] == grab[2]</code>: This
condition checks if the first candy (grab[0]) matches either the second
(grab[1]) or the third (grab[2]). It does not require all three candies
to be the same. For example, if grab = [“Twix”, “Twix”, “M&amp;M”], this
condition would incorrectly evaluate to True.</p></li>
<li><p><code>grab == "Rolo" | grab == "M&amp;M"</code>: This condition
is syntactically invalid. It tries to compare the grab list (which
contains three elements) with two strings (“Rolo” and “M&amp;M”) using a
bitwise OR (|), not to mention that it does not check if three candies
are the same.</p></li>
</ul>
<hr/>
<h5>Difficulty: ⭐️</h5>
<p>
</p>
<p>The average score on this problem was 92%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-5.3">Problem 5.3</h3>
<p>What goes in blank (c)?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> <code>prob_all_same.mean()</code></p></li>
<li><p><input type="radio" disabled="" /> <code>prob_all_same / len(candy_bowl)</code></p></li>
<li><p><input type="radio" disabled="" /> <code>prob_all_same / repetitions</code></p></li>
<li><p><input type="radio" disabled="" /> <code>prob_all_same / 3</code></p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading5_3">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse5_3" aria-expanded="true" aria-controls="collapse5_3">
Click to view the solution.
</button>
</h2>
<div id="collapse5_3" class="accordion-collapse collapse"
aria-labelledby="heading5_3" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer</strong>: <code>prob_all_same / repetitions</code></p>
<p>To calculate the estimated probability of drawing three candies of
the same type, we divide the total number of successes
(<code>prob_all_same</code>, which counts the instances where all three
candies are identical) by the total number of iterations
(<code>repetitions</code>).</p>
<p>The option <code>prob_all_same.mean()</code> is incorrect because
<code>prob_all_same</code> is an integer that accumulates the count of
successful trials, not an array or list that supports the
<code>.mean()</code> method. Similarly, dividing by
<code>len(candy_bowl)</code> or <code>3</code> is incorrect, as neither
represents the total number of iterations. Therefore, using these values
as the denominator would not provide an accurate probability
estimate.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 86%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="problem-6">Problem 6</h2>
<p>The fine print of the Sun God festival website says “Ticket does not
guarantee entry. Venue subject to capacity restrictions.” RIMAC field,
where the 2022 festival will be held, has a capacity of 20,000 people.
Let’s say that UCSD distributes 21,000 tickets to Sun God 2022 because
prior data shows that 5% of tickets distributed are never actually
redeemed. Let’s suppose that each person with a ticket this year has a
5% chance of not attending (independently of all others). What is the
probability that at least one student who has a ticket cannot get in due
to the capacity restriction? Fill in the blanks in the code below so
that <code>prob_angry_student</code> evaluates to an approximation of
this probability.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>num_angry <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> rep <span class="kw">in</span> np.arange(<span class="dv">10000</span>):</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>    <span class="co"># randomly choose 21000 elements from [True, False] such that </span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>    <span class="co"># True has probability 0.95, False has probability 0.05</span></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>    attending <span class="op">=</span> np.random.choice([<span class="va">True</span>, <span class="va">False</span>], <span class="dv">21000</span>, p<span class="op">=</span>[<span class="fl">0.95</span>, <span class="fl">0.05</span>])</span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> __(a)__:</span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>        __(b)__</span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>prob_angry_student <span class="op">=</span> __(c)__</span></code></pre></div>
<p><br></p>
<h3 id="problem-6.1">Problem 6.1</h3>
<p>What goes in the <strong>first</strong> blank?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> <code>np.count_nonzero(attending) == 20001</code></p></li>
<li><p><input type="radio" disabled="" /> <code>attending[20000] == False</code></p></li>
<li><p><input type="radio" disabled="" /> <code>attending.sum() &gt; 20000</code></p></li>
<li><p><input type="radio" disabled="" /> <code>np.count_nonzero(attending) &gt; num_angry</code></p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading6_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse6_1" aria-expanded="true" aria-controls="collapse6_1">
Click to view the solution.
</button>
</h2>
<div id="collapse6_1" class="accordion-collapse collapse"
aria-labelledby="heading6_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer: </strong> <code>attending.sum() &gt; 20000</code></p>
<p>Let’s look at the variable <code>attending</code>. Since we’re
choosing 21,000 elements from the list <code>[True, False]</code> and
there are 21,000 tickets distributed, this code is randomly determining
whether each ticket holder will actually attend the festival. There’s a
95% chance of each ticket holder attending, which is reflected in the
<code>p=[0.95, 0.05]</code> argument. Remember that
<code>np.random.choice</code> returns an array of random choices, which
in this case means it will contain 21,000 elements, each of which is
<code>True</code> or <code>False</code>.</p>
<p>We want to figure out the probability of at least one ticket holder
showing up and not being admitted. Another way to say this is we want to
find the probability that more than 20,000 ticket holders show up to
attend the festival. The way we approximate a probability through
simulation is we repeat a process many times and see how often some
event occured. The event we’re interested in this case is that more than
20,000 ticket holders came to Sun God. Since we have an array of
<code>True</code> and <code>False</code> values corresponding to whether
each ticket holder actually came, we just need to determine if there are
more than 20,000 <code>True</code> values in the <code>attending</code>
array.</p>
<p>There are several ways to count the number of <code>True</code>
values in a Boolean array. One way is to sum the array since in Python
<code>True</code> counts as 1 and <code>False</code> counts as 0.
Therefore, <code>attending.sum() &gt; 20000</code> is the condition we
need to check here.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 67%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-6.2">Problem 6.2</h3>
<p>What goes in the <strong>second</strong> blank?</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading6_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse6_2" aria-expanded="true" aria-controls="collapse6_2">
Click to view the solution.
</button>
</h2>
<div id="collapse6_2" class="accordion-collapse collapse"
aria-labelledby="heading6_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer: </strong> <code>num_angry = num_angry + 1</code></p>
<p>Remember our goal in simulation is to repeat a process many times to
see how often some event occurs. The repetition comes from the
<code>for</code> loop which runs 10,000 times. Each time, we are
simulating the process of 21,000 students each randomly deciding whether
to show up to Sun God or not. We want to know, out of these 10,000
trials, how frequently more than 20,000 of the students will show up. So
when this happens, we want to record that it happened. The standard way
to do that is to keep a counter variable that starts at 0 and gets
incremented, or increased by one, each time we had more than 20,000
attendees in our simulation.</p>
<p>The framework to do this is already set up because a variable called
<code>num_angry</code> is initialized to 0 before the <code>for</code>
loop. This variable is our counter variable, meant to count the number
of trials, out of 10,000, that resulted in at least one student being
angry because they showed up to Sun God with a ticket and were denied
entrance. So all we need to do when there are more than 20,000
<code>True</code> values in the <code>attending</code> array is
increment this counter by one via the code
<code>num_angry = num_angry + 1</code>, sometimes abbreviated as
<code>num_angry += 1</code>.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 59%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-6.3">Problem 6.3</h3>
<p>What goes in the <strong>third</strong> blank?</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading6_3">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse6_3" aria-expanded="true" aria-controls="collapse6_3">
Click to view the solution.
</button>
</h2>
<div id="collapse6_3" class="accordion-collapse collapse"
aria-labelledby="heading6_3" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer: </strong> <code>num_angry/10000</code></p>
<p>To calculate the approximate probability, all we need to do is divide
the number of trials in which a student was angry by the total number of
trials, which is 10,000.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 68%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<p class="meta"><em>Source:</em> sp23-final — Q9</p>
<h2 id="problem-7">Problem 7</h2>
<p>Suhani’s passport is currently being renewed, and so she can’t join
those on international summer vacations. However, her last final exam is
today, and so she decides to road trip through California this week
while everyone else takes their finals.</p>
<p>The chances that it is sunny this Monday and Tuesday, in various
cities in California, are given below. The event that it is sunny on
Tuesday in Los Angeles depends on the event that it is sunny on Monday
in Los Angeles, but other than that, all other events in the table are
independent of one another.</p>
<center><img src='../../assets/images/sp23-final/probs-table.png' width=500></center>
<p><br></p>
<h3 id="problem-7.1">Problem 7.1</h3>
<p>What is the probability that it is not sunny in San Diego on Monday
and not sunny in San Diego on Tuesday? Give your answer as a
<strong>positive integer percentage</strong> between 0% and 100%.</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading7_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse7_1" aria-expanded="true" aria-controls="collapse7_1">
Click to view the solution.
</button>
</h2>
<div id="collapse7_1" class="accordion-collapse collapse"
aria-labelledby="heading7_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer</strong>: 18%</p>
<ul>
<li><p>The probability it is not sunny in San Diego on Monday is <span class="math inline">1 - \frac{7}{10} = \frac{3}{10}</span>.</p></li>
<li><p>The probability it is not sunny in San Diego on Tuesday is <span class="math inline">1 - \frac{2}{5} = \frac{3}{5}</span>.</p></li>
</ul>
<p>Since we’re told these events are independent, the probability of
both occurring is</p>
<p><span class="math display">\frac{3}{10} \cdot \frac{3}{5} =
\frac{9}{50} = \frac{18}{100} = 18\%</span></p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 80%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<p><br></p>
<h3 id="problem-7.2">Problem 7.2</h3>
<p>What is the probability that it is sunny in at least one of the three
cities on Monday?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> <span class="math inline">3\%</span></p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">31.5\%</span></p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">40\%</span></p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">68.5\%</span></p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">75\%</span></p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">97\%</span></p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading7_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse7_2" aria-expanded="true" aria-controls="collapse7_2">
Click to view the solution.
</button>
</h2>
<div id="collapse7_2" class="accordion-collapse collapse"
aria-labelledby="heading7_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer</strong>: <span class="math inline">97\%</span></p>
<p>The event that it is sunny in at least one of the three cities on
Monday is the complement of the event that it is not sunny in all three
cities on Monday. The probability it is not sunny in all three cities on
Monday is</p>
<p><span class="math display">\big(1 - \frac{7}{10}\big) \cdot \big(1 -
\frac{3}{5}\big) \cdot \big(1 - \frac{3}{4}\big) = \frac{3}{10} \cdot
\frac{2}{5} \cdot \frac{1}{4} = \frac{6}{200} = \frac{3}{100} =
0.03</span><br/>
</p>
<p>So, the probability that it is sunny in at least one of the three
cities on Monday is <span class="math inline">1 - 0.03 = 0.97 =
97\%</span>.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 65%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<p><br></p>
<h3 id="problem-7.3">Problem 7.3</h3>
<p>What is the probability that it is sunny in Los Angeles on
Tuesday?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> <span class="math inline">15\%</span></p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">22.5\%</span></p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">40\%</span></p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">45\%</span></p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">60\%</span></p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">88.8\%</span></p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading7_3">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse7_3" aria-expanded="true" aria-controls="collapse7_3">
Click to view the solution.
</button>
</h2>
<div id="collapse7_3" class="accordion-collapse collapse"
aria-labelledby="heading7_3" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer</strong>: <span class="math inline">60\%</span></p>
<p>The event that it is sunny in Los Angeles on Tuesday can happen in
two ways:</p>
<ul>
<li><p>Case 1: It is sunny in Los Angeles on Tuesday and on
Monday.</p></li>
<li><p>Case 2: It is sunny in Los Angeles on Tuesday but not on
Monday.</p></li>
</ul>
<p>We need to consider these cases separately given the conditions in
the table. The probability of the first case is <span class="math display">\begin{align*} P(\text{sunny Monday and sunny
Tuesday}) &amp;= P(\text{sunny Monday}) \cdot P(\text{sunny Tuesday
given sunny Monday}) \\ &amp;= \frac{3}{5} \cdot \frac{3}{4} \\ &amp;=
\frac{9}{20} \end{align*}</span></p>
<p>The probability of the second case is <span class="math display">\begin{align*} P(\text{not sunny Monday and sunny
Tuesday}) &amp;= P(\text{not sunny Monday}) \cdot P(\text{sunny Tuesday
given not sunny Monday}) \\ &amp;= \frac{2}{5} \cdot \frac{3}{8} \\
&amp;= \frac{3}{20} \end{align*}</span></p>
<p>Since Case 1 and Case 2 are mutually exclusive — that is, they can’t
both occur at the same time — the probability of either one occurring is
<span class="math inline">\frac{9}{20} + \frac{3}{20} = \frac{12}{20} =
60\%</span>.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 64%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<p><br></p>
<h3 id="problem-7.4">Problem 7.4</h3>
<p>Fill in the blanks so that <code>exactly_two</code> evaluates to the
probability that exactly two of San Diego, Los Angeles, and San
Francisco are sunny on Monday.</p>
<p><em>Hint: If <code>arr</code> is an array, then
<code>np.prod(arr)</code> is the product of the elements in
<code>arr</code>.</em></p>
<div class="sourceCode" id="cb8"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>    monday <span class="op">=</span> np.array([<span class="dv">7</span> <span class="op">/</span> <span class="dv">10</span>, <span class="dv">3</span> <span class="op">/</span> <span class="dv">5</span>, <span class="dv">3</span> <span class="op">/</span> <span class="dv">4</span>]) <span class="co"># Taken from the table.</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>    exactly_two <span class="op">=</span> __(a)__</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> i <span class="kw">in</span> np.arange(<span class="dv">3</span>):</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>        exactly_two <span class="op">=</span> exactly_two <span class="op">+</span> np.prod(monday) <span class="op">*</span> __(b)__</span></code></pre></div>
<p>What goes in blank (a)?</p>
<p>What goes in blank (b)?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> <code>monday[i]</code></p></li>
<li><p><input type="radio" disabled="" /> <code>1 - monday[i]</code></p></li>
<li><p><input type="radio" disabled="" /> <code>1 / monday[i]</code></p></li>
<li><p><input type="radio" disabled="" /> <code>monday[i] / (1 - monday[i])</code></p></li>
<li><p><input type="radio" disabled="" /> <code>(1 - monday[i]) / monday[i]</code></p></li>
<li><p><input type="radio" disabled="" /> <code>1 / (1 - monday[i])</code></p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading7_4">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse7_4" aria-expanded="true" aria-controls="collapse7_4">
Click to view the solution.
</button>
</h2>
<div id="collapse7_4" class="accordion-collapse collapse"
aria-labelledby="heading7_4" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer</strong>: (a): <code>0</code>, (b):
<code>(1 - monday[i]) / monday[i]</code></p>
<p><strong>What goes in blank (a)?</strong> <code>0</code></p>
<p>In the <code>for</code>-loop we add the probabilities of the three
different cases, so <code>exactly_two</code> needs to start from 0.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 47%.</p>
<p><br/><br/></p>
<p><strong>What goes in blank (b)?</strong>
<code>(1 - monday[i]) / monday[i]</code></p>
<p>In the context of this problem, where we want to find the probability
that exactly two out of the three cities (San Diego, Los Angeles, and
San Francisco) are sunny on Monday, we need to consider each possible
combination where two cities are sunny and one is not. This is done by
multiplying the probabilities of two cities being sunny with the
probability of the third city not having sunshine and adding up all of
the results.</p>
<p>In the code above, <code>np.prod(monday)</code> calculates the
probability of all three cities (San Diego, Los Angeles, and San
Francisco) being sunny. However, since we’re interested in the case
where exactly two cities are sunny, we need to adjust this calculation
to account for one of the three cities not being sunny in turn. This
adjustment is achieved by the term
<code>(1-monday[i]) / monday[i]</code>. Let’s break down this small
piece of code together:</p>
<ul>
<li><p><code>1 - monday[i]</code>: This part calculates the probability
of the <code>i</code>th city not being sunny. For each iteration of the
loop, it represents the chance that one specific city (either San Diego,
Los Angeles, or San Francisco, depending on the iteration) is not sunny.
This is essential because, for exactly two cities to be sunny, one city
must not be sunny.</p></li>
<li><p><code>monday[i]</code>: This part represents the original
probability of the <code>i</code>th city being sunny, which is included
in the <code>np.prod(monday)</code> calculation.</p></li>
<li><p><code>(1-monday[i]) / monday[i]</code>: By dividing the
probability of the city not being sunny by the probability of it being
sunny, we’re effectively replacing the <code>i</code>th city’s sunny
probability in the original product <code>np.prod(monday)</code> with
its not sunny probability. This adjusts the total probability to reflect
the scenario where the other two cities are sunny, and the
<code>i</code>th city is not.</p></li>
</ul>
<p>By adding all possible combinations, it provide the probability that
exactly two out of San Diego, Los Angeles, and San Francisco are sunny
on a given Monday.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 36%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<p class="meta"><em>Source:</em> sp23-midterm — Q8</p>
<h2 id="problem-8">Problem 8</h2>
<p>We’d like to select three students at random from the entire class to
win extra credit (not really). When doing so, we want to guarantee that
the same student cannot be selected twice, since it wouldn’t really be
fair to give a student double extra credit.</p>
<p>Fill in the blanks below so that <code>prob_all_unique</code> is an
estimate of the probability that all three students selected are in
different majors.</p>
<p><em>Hint: The function <code>np.unique</code>, when called on an
array, returns an array with just one copy of each unique element in the
input. For example, if <code>vals</code> contains the values
<code>1, 2, 2, 3, 3, 4</code>, <code>np.unique(vals)</code> contains the
values <code>1, 2, 3, 4</code>.</em></p>
<div class="sourceCode" id="cb9"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>    unique_majors <span class="op">=</span> np.array([])</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> i <span class="kw">in</span> np.arange(<span class="dv">10000</span>):</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>        group <span class="op">=</span> np.random.choice(survey.get(<span class="st">&quot;Major&quot;</span>), <span class="dv">3</span>, __(a)__)</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>        __(b)__ <span class="op">=</span> np.append(unique_majors, <span class="bu">len</span>(__(c)__))</span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>    prob_all_unique <span class="op">=</span> __(d)__</span></code></pre></div>
<p><br></p>
<h3 id="problem-8.1">Problem 8.1</h3>
<p>What goes in blank (a)?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> <code>replace=True</code></p></li>
<li><p><input type="radio" disabled="" /> <code>replace=False</code></p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading8_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse8_1" aria-expanded="true" aria-controls="collapse8_1">
Click to view the solution.
</button>
</h2>
<div id="collapse8_1" class="accordion-collapse collapse"
aria-labelledby="heading8_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer</strong>: <code>replace=False</code></p>
<p>Since we want to guarantee that the same student cannot be selected
twice, we should sample without replacement.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 77%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<p><br></p>
<h3 id="problem-8.2">Problem 8.2</h3>
<p>What goes in blank (b)?</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading8_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse8_2" aria-expanded="true" aria-controls="collapse8_2">
Click to view the solution.
</button>
</h2>
<div id="collapse8_2" class="accordion-collapse collapse"
aria-labelledby="heading8_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Aswer</strong>: <code>unique_majors</code></p>
<p><code>unique_majors</code> is the array we initialized before running
our <code>for</code>-loop to keep track of our results. We’re already
given that the first argument to <code>np.append</code> is
<code>unique_majors</code>, meaning that in each iteration of the
<code>for</code>-loop we’re creating a new array by adding a new element
to the end of <code>unique_majors</code>; to save this new array, we
need to re-assign it to <code>unique_majors</code>.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 65%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<p><br></p>
<h3 id="problem-8.3">Problem 8.3</h3>
<p>What goes in blank (c)?</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading8_3">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse8_3" aria-expanded="true" aria-controls="collapse8_3">
Click to view the solution.
</button>
</h2>
<div id="collapse8_3" class="accordion-collapse collapse"
aria-labelledby="heading8_3" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer</strong>: <code>np.unique(group)</code></p>
<p>In each iteration of our <code>for</code>-loop, we’re interested in
finding the number of unique majors among the 3 students who were
selected. We can tell that this is what we’re meant to store in
<code>unique_majors</code> by looking at the options in the next
subpart, which involve checking the proportion of times that the values
in <code>unique_majors</code> is 3.</p>
<p>The majors of the 3 randomly selected students are stored in
<code>group</code>, and <code>np.unique(group)</code> is an array with
the unique values in <code>group</code>. Then,
<code>len(np.unique(group))</code> is the number of unique majors in the
group of 3 students selected.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 45%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-8.4">Problem 8.4</h3>
<p>What could go in blank (d)? Select all that apply. At least one
option is correct; blank answers will receive no credit.</p>
<ul class="task-list">
<li><p><input type="checkbox" disabled="" /> <code>(unique_majors &gt; 2).mean()</code></p></li>
<li><p><input type="checkbox" disabled="" /> <code>(unique_majors.sum() &gt; 2).mean()</code></p></li>
<li><p><input type="checkbox" disabled="" /> <code>np.count_nonzero(unique_majors &gt; 2).sum() / len(unique_majors &gt; 2)</code></p></li>
<li><p><input type="checkbox" disabled="" /> <code>1 - np.count_nonzero(unique_majors != 3).mean()</code></p></li>
<li><p><input type="checkbox" disabled="" /> <code>unique_majors.mean() - 3 == 0</code></p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading8_4">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse8_4" aria-expanded="true" aria-controls="collapse8_4">
Click to view the solution.
</button>
</h2>
<div id="collapse8_4" class="accordion-collapse collapse"
aria-labelledby="heading8_4" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer</strong>: Option 1 only</p>
<p>Let’s break down the code we have so far:</p>
<ul>
<li>An empty array named <code>unique_majors</code> is initialized to
store the number of unique majors in each iteration of the
simulation.</li>
<li>The simulation runs 10,000 times, and in every iteration: Three
majors are selected at random from the survey dataset without
replacement. This ensures that the same item is not chosen more than
once within a single iteration. The <code>np.unique</code> function is
employed to identify the number of unique majors among the selected
three. The result is then appended to the <code>unique_majors</code>
array.</li>
<li>Following the simulation, the objective is to determine the fraction
of iterations in which all three selected majors were unique. Since the
maximum number of unique majors that can be selected in a group of three
is 3, the code checks the fraction of times the
<code>unique_majors</code> array contains a value greater than 2.</li>
</ul>
<p>Let’s look at each option more carefully.</p>
<ul>
<li><strong>Option 1</strong>:
<code>(unique_majors &gt; 2).mean()</code> will create a Boolean array
where each value in <code>unique_majors</code> is checked if it’s
greater than 2. In other words, it’ll return <code>True</code> for each
3 and <code>False</code> otherwise. Taking the mean of this Boolean
array will give the proportion of <code>True</code> values, which
corresponds to the probability that all 3 students selected are in
different majors.</li>
<li><strong>Option 2</strong>: <code>(unique_majors.sum() &gt; 2)</code>
will generate a single Boolean value (either <code>True</code> or
<code>False</code>) since you’re summing up all values in the
<code>unique_majors</code> array and then checking if the sum is greater
than 2. This is not what you want. <code>.mean()</code> on a single
Boolean value will raise an error because you can’t compute the mean of
a single Boolean.</li>
<li><strong>Option 3</strong>:
<code>np.count_nonzero(unique_majors &gt; 2).sum() / len(unique_majors &gt; 2)</code>
would work without the <code>.sum()</code>.
<code>unique_majors &gt; 2</code> results in a Boolean array where each
value is <code>True</code> if the respective simulation yielded 3 unique
majors and <code>False</code> otherwise. <code>np.count_nonzero()</code>
counts the number of <code>True</code> values in the array, which
corresponds to the number of simulations where all 3 students had unique
majors. This returns a single integer value representing the count. The
<code>.sum()</code> method is meant for collections (like arrays or
lists) to sum their elements. Since <code>np.count_nonzero</code>
returns a single integer, calling <code>.sum()</code> on it will result
in an AttributeError because individual numbers do not have a sum
method. <code>len(unique_majors &gt; 2)</code> calculates the length of
the Boolean array, which is equal to 10,000 (the total number of
simulations). Because of the attempt to call <code>.sum()</code> on an
integer value, the code will raise an error and won’t produce the
desired result.</li>
<li><strong>Option 4</strong>:
<code>np.count_nonzero(unique_majors != 3)</code> counts the number of
trials where not all 3 students had different majors. When you call
<code>.mean()</code> on an integer value, which is what
<code>np.count_nonzero</code> returns, it’s going to raise an
error.</li>
<li><strong>Option 5</strong>:
<code>unique_majors.mean() - 3 == 0</code> is trying to check if the
mean of <code>unique_majors</code> is 3. This line of code will return
<code>True</code> or <code>False</code>, and this isn’t the right
approach for calculating the estimated probability.</li>
</ul>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 56%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<p class="meta"><em>Source:</em> sp24-midterm — Q5</p>
<h2 id="problem-9">Problem 9</h2>
<p>Arya’s phone number has an interesting property: after the area code
(the first three digits), the remaining seven numbers of his phone
number consist of only two distinct digits.</p>
<p>Recall from the previous question that when the monkey dials a phone
number, each digit it selects is equally likely to be any of the digits
<span class="math inline">0</span> through <span
class="math inline">9</span>. Further, when the cat is dialing a phone
number, it makes sure to only use each digit once.</p>
<p>You’re interested in estimating the probability that a phone number
dialed by the monkey or the cat has exactly two distinct digits after
the area code, like Arya’s phone number. You write the following code,
which you plan to use for both the monkey and cat scenarios.</p>
<div class="sourceCode" id="cb10"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>    digits <span class="op">=</span> np.arange(<span class="dv">10</span>)</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>    property_count <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>    num_trials <span class="op">=</span> <span class="dv">10000</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> i <span class="kw">in</span> np.arange(num_trials):</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>        after_area_code <span class="op">=</span> __(x)__</span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>        num_distinct <span class="op">=</span> <span class="bu">len</span>(np.unique(after_area_code))</span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> __(y)__:</span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>            property_count <span class="op">=</span> property_count <span class="op">+</span> <span class="dv">1</span></span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a>    probability_estimate <span class="op">=</span> property_count <span class="op">/</span> num_trials</span></code></pre></div>
<p><br></p>
<h3 id="problem-9.1">Problem 9.1</h3>
<p>First, you want to estimate the probability that the
<strong>monkey</strong> randomly generates a number with only 2 distinct
digits after the area code. What code should be used to fill in blank
<code>(x)</code>?</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading9_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse9_1" aria-expanded="true" aria-controls="collapse9_1">
Click to view the solution.
</button>
</h2>
<div id="collapse9_1" class="accordion-collapse collapse"
aria-labelledby="heading9_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong>
<code>np.random.choice(digits, 7, replace = True)</code> or
<code>np.random.choice(digits, 7)</code></p>
<p>The code simulates the monkey dialing seven digits where each digit
is selected randomly from the digits 0 through 9, and digits can repeat
<code>(replace = True)</code>. </p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>The
average score on this problem was 50%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-9.2">Problem 9.2</h3>
<p>Next, you want to estimate the probability that the
<strong>cat</strong> randomly generates a number with only 2 distinct
digits after the area code. What code should be used to fill in blank
<code>(x)</code>?</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading9_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse9_2" aria-expanded="true" aria-controls="collapse9_2">
Click to view the solution.
</button>
</h2>
<div id="collapse9_2" class="accordion-collapse collapse"
aria-labelledby="heading9_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong>
<code>np.random.choice(digits, 7, replace = False)</code></p>
<p>The code simulates random dialing by a cat without replacement
<code>(replace = False)</code>. Each digit from 0 to 9 is used only
once. </p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>The average score on this
problem was 52%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-9.3">Problem 9.3</h3>
<p>In either case, whether you’re simulating the monkey or the cat, what
should be used to fill in blank <code>(y)</code>?</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading9_3">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse9_3" aria-expanded="true" aria-controls="collapse9_3">
Click to view the solution.
</button>
</h2>
<div id="collapse9_3" class="accordion-collapse collapse"
aria-labelledby="heading9_3" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> <code>num_distinct == 2</code></p>
<p>This part of the code checks if the number of unique digits in the
dialed number is exactly two. </p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>The
average score on this problem was 52%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-9.4">Problem 9.4</h3>
<p>When you are simulating the <strong>cat</strong>, what will the value
of <code>probability_estimate</code> be after the code executes?</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading9_4">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse9_4" aria-expanded="true" aria-controls="collapse9_4">
Click to view the solution.
</button>
</h2>
<div id="collapse9_4" class="accordion-collapse collapse"
aria-labelledby="heading9_4" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> <span class="math inline">0</span></p>
<p>Since the cat dials each digit without replacement, it’s impossible
for the dialed number to contain only two distinct digits (as it would
need to repeat some digits to achieve this). Thus, no trial will meet
the condition <code>num_distinct == 2</code>, resulting in a
property_count of 0 and therefore a probability_estimate of 0.
</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>The average score on this problem was
53%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<p class="meta"><em>Source:</em> sp25-midterm — Q7</p>
<h2 id="problem-10">Problem 10</h2>
<p>The announcement of the tariffs affected many products, one of which
was the Nintendo Switch 2, a new video game console. Due to the tariffs,
preorders of the Nintendo Switch 2 were put on hold so pricing could be
reconsidered. In this problem, we’ll imagine a scenario in which
Nintendo used this delay period to drum up excitement for their new
product.</p>
<p>Suppose Nintendo arranges a contest to give away <code>k</code> of
their new Switch 2 consoles. The contest is open to anyone and
<code>n</code> people participate, with <code>n &gt; k</code>. Everyone
has an equal chance of winning, and nobody can win more than once. Jason
and Ray both enter the contest, and they want to estimate the
probability that they <strong>both win</strong>.</p>
<p><br></p>
<h3 id="problem-10.1">Problem 10.1</h3>
<p>Fill in the blanks in the function <code>giveaway</code> so that it
returns an estimate of the probability that Jason and Ray both win a
Switch 2, when there are <code>n</code> participants and <code>k</code>
prizes.</p>
<div class="sourceCode" id="cb11"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>    <span class="dv">1</span> <span class="kw">def</span> giveaway(n, k):</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>    <span class="dv">2</span>     count <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>    <span class="dv">3</span>     <span class="cf">for</span> i <span class="kw">in</span> np.arange(<span class="dv">10000</span>):</span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>    <span class="dv">4</span>         winners <span class="op">=</span> np.random.choice(___(a)___)</span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>    <span class="dv">5</span>         <span class="cf">if</span> ___(b)___:</span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>    <span class="dv">6</span>             count <span class="op">=</span> count <span class="op">+</span> <span class="dv">1</span></span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>    <span class="dv">7</span>     <span class="cf">return</span> ___(c)___</span></code></pre></div>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading10_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse10_1" aria-expanded="true" aria-controls="collapse10_1">
Click to view the solution.
</button>
</h2>
<div id="collapse10_1" class="accordion-collapse collapse"
aria-labelledby="heading10_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer (a):</strong>
<code>np.arange(n), k, replace=False</code></p>
<p>This makes sure that exactly k winners are chosen randomly from n
participants without replacement, since no person can win more than
once.</p>
<p><strong>Answer (b):</strong>
<code>0 in winners and 1 in winners</code> (can be any two numbers)</p>
<p>Assuming Jason and Ray are represented by IDs 0 and 1, this checks
whether both of them are in the list of winners for that trial. However,
because we never specify what number Jason and Ray are, you could use
any two numbers (ie: <code>1 in winners and 2 in winners</code>)</p>
<p><strong>Answer (c):</strong> <code>count/10000</code></p>
<p>This computes the estimated probability as the fraction of trials
where both Jason and Ray won out of 10,000 simulations.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 32%.</p>
</div>
</div>
</div>
</div>
<p><br> <br></p>
<h3 id="problem-10.2">Problem 10.2</h3>
<p>If you implement <code>giveaway</code> correctly, what should
<code>giveaway(100, 100)</code> evaluate to?</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading10_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse10_2" aria-expanded="true" aria-controls="collapse10_2">
Click to view the solution.
</button>
</h2>
<div id="collapse10_2" class="accordion-collapse collapse"
aria-labelledby="heading10_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> <code>1.0</code></p>
<p>Since k is equal to n, everyone wins by default, meaning Jason and
Ray will always be among the winners.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 55%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-10.3">Problem 10.3</h3>
<p>Suppose you modify the <code>giveaway</code> function as follows:</p>
<ul>
<li><p>Change line 2 to <code>results = np.array([])</code>.</p></li>
<li><p>Change line 6 to
<code>results = np.append(results, "WIN!")</code>.</p></li>
<li><p>Leave lines 1, 3, 4, and 5 unchanged, including your code in
blanks <code>(a)</code> and <code>(b)</code>.</p></li>
</ul>
<p>Which of the following could be used to fill in blank
<code>(c)</code>? Select all that apply.</p>
<ul class="task-list">
<li><p><input type="checkbox" disabled="" /> <code>len(results)/10000</code></p></li>
<li><p><input type="checkbox" disabled="" /> <code>(results == "WIN!").sum()</code></p></li>
<li><p><input type="checkbox" disabled="" /> <code>(results == "WIN!").mean()</code></p></li>
<li><p><input type="checkbox" disabled="" /> <code>np.count_nonzero(results)</code></p></li>
<li><p><input type="checkbox" disabled="" /> <code>np.random.choice(results)</code></p></li>
<li><p><input type="checkbox" disabled="" /> None of the above.</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading10_3">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse10_3" aria-expanded="true" aria-controls="collapse10_3">
Click to view the solution.
</button>
</h2>
<div id="collapse10_3" class="accordion-collapse collapse"
aria-labelledby="heading10_3" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> <code>len(results)/10000</code> and
<code>(results == "WIN!").mean()</code></p>
<ul>
<li><p><code>len(results)/10000</code> calculates the proportion of
trials that resulted in “WIN!”, which gives the probability.</p></li>
<li><p><code>(results == "WIN!").mean()</code> works too because
<code>(results == "WIN!")</code> gives a boolean array of True/False,
and .mean() calculates the proportion of True values, which again gives
the estimated probability.</p></li>
<li><p><code>(results == "WIN!").sum()</code>: This counts the number of
“WIN!” results but does not divide by 10000, so it gives a raw count,
not a probability.</p></li>
<li><p><code>np.count_nonzero(results)</code>: This counts all non empty
entries, but since results contains only “WIN!” strings, this is just
len(results) and is equivalent to the raw count of wins, not the
probability.</p></li>
<li><p><code>np.random.choice(results)</code>: This randomly picks an
element from results. It is unrelated to calculating a probability and
makes no sense in this context.</p></li>
</ul>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 55%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<p class="meta"><em>Source:</em> su24-final — Q2</p>
<h2 id="problem-11">Problem 11</h2>
<p>Suppose we run the following code to simulate the winners of the Tour
de France.</p>
<div class="sourceCode" id="cb12"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>    evenepoel_wins <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>    vingegaard_wins <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>    pogacar_wins <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> i <span class="kw">in</span> np.arange(<span class="dv">4</span>):</span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>        result <span class="op">=</span> np.random.multinomial(<span class="dv">1</span>, [<span class="fl">0.3</span>, <span class="fl">0.3</span>, <span class="fl">0.4</span>])</span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> result[<span class="dv">0</span>] <span class="op">==</span> <span class="dv">1</span>:</span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a>            evenepoel_wins <span class="op">=</span> evenepoel_wins <span class="op">+</span> <span class="dv">1</span></span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a>        <span class="cf">elif</span> result[<span class="dv">1</span>] <span class="op">==</span> <span class="dv">1</span>:</span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a>            vingegaard_wins <span class="op">=</span> vingegaard_wins <span class="op">+</span> <span class="dv">1</span></span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a>        <span class="cf">elif</span> result[<span class="dv">2</span>] <span class="op">==</span> <span class="dv">1</span>:</span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true" tabindex="-1"></a>            pogacar_wins <span class="op">=</span> pogacar_wins <span class="op">+</span> <span class="dv">1</span></span></code></pre></div>
<p><br></p>
<h3 id="problem-11.1">Problem 11.1</h3>
<p>What is the probability that <code>pogacar_wins</code> is equal to 4
when the code finishes running? Do not simplify your answer.</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading11_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse11_1" aria-expanded="true" aria-controls="collapse11_1">
Click to view the solution.
</button>
</h2>
<div id="collapse11_1" class="accordion-collapse collapse"
aria-labelledby="heading11_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> <span class="math inline">0.4 ^ 4</span></p>
<ul>
<li>The code runs a loop 4 times, simulating the outcome of each
iteration using
<code>np.random.multinomial(1, [0.3, 0.3, 0.4])</code>.</li>
<li>The probability that <code>pogacar</code> wins in a single iteration
is 0.4 (the third entry in the probability vector
<code>[0.3, 0.3, 0.4]</code>).</li>
<li>To win all 4 iterations, <code>pogacar</code> must win
<strong>independently</strong> in each iteration.</li>
<li>Since the trials are independent, the probability is calculated as:
<strong>0.4 * 0.4 * 0.4 * 0.4 = <span class="math inline">0.4 ^
4</span></strong></li>
</ul>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 88%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-11.2">Problem 11.2</h3>
<p>What is the probability that <code>evenepoel_wins</code> is at least
1 when the code finishes running? Do not simplify your answer.</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading11_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse11_2" aria-expanded="true" aria-controls="collapse11_2">
Click to view the solution.
</button>
</h2>
<div id="collapse11_2" class="accordion-collapse collapse"
aria-labelledby="heading11_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> <span class="math inline">1 - 0.7 ^
4</span></p>
<ul>
<li>The probability that <code>evenepoel</code> wins in a single
iteration is 0.3 (the first entry in the probability vector
<code>[0.3, 0.3, 0.4]</code>).</li>
<li>The complement of “at least 1 win” is “no wins at all.” To calculate
the complement:
<ul>
<li>The probability that <code>evenepoel</code> <strong>does not
win</strong> in a single iteration is: 1 - 0.3 = 0.7</li>
<li>For <code>evenepoel</code> to win no iterations across all 4 loops,
they must <strong>fail to win independently</strong> in each iteration:
<strong>0.7 * 0.7 * 0.7 * 0.7 = <span class="math inline">0.7 ^
4</span></strong></li>
</ul></li>
<li>The probability that <code>evenepoel_wins</code> is at least 1 is
then: <span class="math inline">1 - 0.7 ^ 4</span></li>
</ul>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 83%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<p class="meta"><em>Source:</em> su24-midterm — Q9</p>
<h2 id="problem-12">Problem 12</h2>
<p>We want to estimate the probability that the University of Michigan
is among the four teams selected when schools are selected
<strong>without replacement</strong>.</p>
<div class="sourceCode" id="cb13"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>schools <span class="op">=</span> np.array(kart.get(<span class="st">&quot;University&quot;</span>))</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>mystery_one <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>num_trials <span class="op">=</span> <span class="dv">10000</span></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i <span class="kw">in</span> np.arange(num_trials):</span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>    bracket <span class="op">=</span> __(i)__</span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="st">&quot;Michigan&quot;</span> <span class="kw">in</span> bracket:</span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a>        mystery_one <span class="op">=</span> __(ii)__</span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a>mystery_two <span class="op">=</span> mystery_one <span class="op">/</span> num_trials</span></code></pre></div>
<p><br></p>
<h3 id="problem-12.1">Problem 12.1</h3>
<p>Fill in the blanks to complete a simulation.</p>
<ul>
<li><p>(i): ________________________________________</p></li>
<li><p>(ii): ________________________________________</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading12_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse12_1" aria-expanded="true" aria-controls="collapse12_1">
Click to view the solution.
</button>
</h2>
<div id="collapse12_1" class="accordion-collapse collapse"
aria-labelledby="heading12_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong><br/>
</p>
<ul>
<li><ol type="i">
<li><code>np.random.choice(schools, 4, replace=False)</code><br/>
</li>
</ol></li>
<li><ol start="2" type="i">
<li><code>mystery_one = mystery_one + 1</code></li>
</ol></li>
</ul>
<ol type="i">
<li>np.random.choice() allows us to select random samples from the
<code>schools</code> array. The correct syntax is
<strong>np.random.choice(arr, size, replace=True, p=[p_0, p_1,
…])</strong></li>
</ol>
<ul>
<li>arr: The array to sample from. In this case,
<code>schools</code>.</li>
<li>size: The number of elements to draw. In this case, <code>4</code>,
because we want to select four teams.</li>
<li>replace: A boolean value that determines if the same item can be
chosen more than once. Since teams cannot be picked more than once in a
single selection, we use <code>replace=False.</code></li>
<li>p: An parameter that sets the probabilities for each item in arr. If
omitted, the function assumes each item has an equal chance of being
selected. In this problem, we do not need to specify p because we are
performing uniform random sampling, meaning every team has an equal
chance.</li>
</ul>
<ol start="2" type="i">
<li>This blank updates <code>mystery_one</code>, which counts how many
times “Michigan” appears in the randomly selected teams across the
trials. In each iteration of the loop, if “Michigan” is in the randomly
selected bracket, we increment <code>mystery_one</code> by 1.</li>
</ol>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 67%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-12.2">Problem 12.2</h3>
<p>What is the meaning of <code>mystery_two</code> after the code has
finished running? ( ) The number of times Michigan was in the tournament
( ) The number of trials we ran ( ) The proportion of times Michigan was
in the tournament ( ) None of these answers is what
<code>mystery_two</code> represents</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading12_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse12_2" aria-expanded="true" aria-controls="collapse12_2">
Click to view the solution.
</button>
</h2>
<div id="collapse12_2" class="accordion-collapse collapse"
aria-labelledby="heading12_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> The proportion of times Michigan was in the
tournament</p>
<p>If “Michigan” is found in bracket, <code>mystery_one</code> is
incremented by 1. This means <code>mystery_one</code> keeps track of how
many times Michigan appears in the four selected teams across all 10,000
trials. Therefore, at the end of the loop, <code>mystery_one</code>
contains the total number of trials in which Michigan was selected.</p>
<p><code>mystery_two</code> is calculated as <strong>mystery_one /
num_trials.</strong> Since <code>mystery_one</code> is the count of
trials where Michigan was selected, dividing it by num_trials (the total
number of trials) gives the proportion of trials where Michigan was
chosen among the four teams.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 81%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-12.3">Problem 12.3</h3>
<p>For the next two parts only, imagine we wanted to simulate a 16-team
tournament, where teams are selected <strong>with replacement</strong>.
Which blank should be filled in?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> blank (i)</p></li>
<li><p><input type="radio" disabled="" /> blank (ii)</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading12_3">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse12_3" aria-expanded="true" aria-controls="collapse12_3">
Click to view the solution.
</button>
</h2>
<div id="collapse12_3" class="accordion-collapse collapse"
aria-labelledby="heading12_3" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> blank (i)</p>
<p>When simulating a 16-team tournament, where teams are selected with
replacement, Blank (i) should be used because that is where the
selection occurs. We need to adjust this line to account for selecting
more teams (16 teams) and to allow replacements.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 67%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-12.4">Problem 12.4</h3>
<p>What code should be used to fill in the blank you selected above?</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading12_4">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse12_4" aria-expanded="true" aria-controls="collapse12_4">
Click to view the solution.
</button>
</h2>
<div id="collapse12_4" class="accordion-collapse collapse"
aria-labelledby="heading12_4" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong>
<code>np.random.choice(schools, 16, replace=True)</code></p>
<p>We change size=4 to size=16 to select 16 teams, and replace=True
allows the same team to be selected multiple times within a single
trial.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 45%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="problem-13">Problem 13</h2>
<p>Billina Records, a new record company focused on creating new TikTok
audios, has its offices on the 23rd floor of a skyscraper with 75 floors
(numbered 1 through 75). The owners of the building promised that 10
different random floors will be selected to be renovated.</p>
<p><br></p>
<h3 id="problem-13.1">Problem 13.1</h3>
<p>Below, fill in the blanks to complete a simulation that will estimate
the probability that Billina Records’ floor will be renovated.</p>
<div class="sourceCode" id="cb14"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>total <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>repetitions <span class="op">=</span> <span class="dv">10000</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i <span class="kw">in</span> np.arange(repetitions):</span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>    choices <span class="op">=</span> np.random.choice(__(a)__, <span class="dv">10</span>, __(b)__)</span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> __(c)__:</span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>        total <span class="op">=</span> total <span class="op">+</span> <span class="dv">1</span></span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>prob_renovate <span class="op">=</span> total <span class="op">/</span> repetitions</span></code></pre></div>
<p>What goes in blank (a)?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> <code>np.arange(1, 75)</code></p></li>
<li><p><input type="radio" disabled="" /> <code>np.arange(10, 75)</code></p></li>
<li><p><input type="radio" disabled="" /> <code>np.arange(0, 76)</code></p></li>
<li><p><input type="radio" disabled="" /> <code>np.arange(1, 76)</code></p></li>
</ul>
<p>What goes in blank (b)?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> <code>replace=True</code></p></li>
<li><p><input type="radio" disabled="" /> <code>replace=False</code></p></li>
</ul>
<p>What goes in blank (c)?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> <code>choices == 23</code></p></li>
<li><p><input type="radio" disabled="" /> <code>choices is 23</code></p></li>
<li><p><input type="radio" disabled="" /> <code>np.count_nonzero(choices == 23) &gt; 0</code></p></li>
<li><p><input type="radio" disabled="" /> <code>np.count_nonzero(choices) == 23</code></p></li>
<li><p><input type="radio" disabled="" /> <code>choices.str.contains(23)</code></p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading13_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse13_1" aria-expanded="true" aria-controls="collapse13_1">
Click to view the solution.
</button>
</h2>
<div id="collapse13_1" class="accordion-collapse collapse"
aria-labelledby="heading13_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> <code>np.arange(1, 76)</code>,
<code>replace=False</code>,
<code>np.count_nonzero(choices == 23) &gt; 0</code></p>
<p>Here, the idea is to randomly choose 10 <strong>different</strong>
floors repeatedly, and each time, check if floor 23 was selected.</p>
<p>Blank (a): The first argument to <code>np.random.choice</code> needs
to be an array/list containing the options we want to choose from,
i.e. an array/list containing the values 1, 2, 3, 4, …, 75, since those
are the numbers of the floors. <code>np.arange(a, b)</code> returns an
array of integers spaced out by 1 starting from <code>a</code> and
ending at <code>b-1</code>. As such, the correct call to
<code>np.arange</code> is <code>np.arange(1, 76)</code>.</p>
<p>Blank (b): Since we want to select 10 different floors, we need to
specify <code>replace=False</code> (the default behavior is
<code>replace=True</code>).</p>
<p>Blank (c): The <code>if</code> condition needs to check if 23 was one
of the 10 numbers that were selected, i.e. if 23 is in
<code>choices</code>. It needs to evaluate to a single Boolean value,
i.e. <code>True</code> (if 23 was selected) or <code>False</code> (if 23
was not selected). Let’s go through each incorrect option to see why
it’s wrong:</p>
<ul>
<li>Option 1, <code>choices == 23</code>, does not evaluate to a single
Boolean value; rather, it evaluates to an array of length 10, containing
multiple <code>True</code>s and <code>False</code>s.</li>
<li>Option 2, <code>choices is 23</code>, does not evaluate to what we
want – it checks to see if the array <code>choices</code> is the same
Python object as the number 23, which it is not (and will never be,
since an array cannot be a single number).</li>
<li>Option 4, <code>np.count_nonzero(choices) == 23</code>, does
evaluate to a single Boolean, however it is not quite correct.
<code>np.count_nonzero(choices)</code> will always evaluate to 10, since
<code>choices</code> is made up of 10 integers randomly selected from 1,
2, 3, 4, …, 75, none of which are 0. As such,
<code>np.count_nonzero(choices) == 23</code> is the same as
<code>10 == 23</code>, which is always False, regardless of whether or
not 23 is in <code>choices</code>.</li>
<li>Option 5, <code>choices.str.contains(23)</code>, errors, since
<code>choices</code> is not a Series (and <code>.str</code> can only
follow a Series). If <code>choices</code> were a Series, this would
still error, since the argument to <code>.str.contains</code> must be a
string, not an int.</li>
</ul>
<p>By process of elimination, Option 3,
<code>np.count_nonzero(choices == 23) &gt; 0</code>, must be the correct
answer. Let’s look at it piece-by-piece:</p>
<ul>
<li>As we saw in Option 1, <code>choices == 23</code> is a Boolean array
that contains <code>True</code> each time the selected floor was floor
23 and <code>False</code> otherwise. (Since we’re sampling without
replacement, floor 23 can only be selected at most once, and so
<code>choices == 23</code> can only contain the value <code>True</code>
at most once.)</li>
<li><code>np.count_nonzero(choices == 23)</code> evaluates to the number
of <code>True</code>s in <code>choices == 23</code>. If it is positive
(i.e. 1), it means that floor 23 was selected. If it is 0, it means
floor 23 was not selected.</li>
<li>Thus, <code>np.count_nonzero(choices == 23) &gt; 0</code> evaluates
to <code>True</code> if (and only if) floor 23 was selected.</li>
</ul>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 75%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-13.2">Problem 13.2</h3>
<p>In the previous subpart of this question, your answer to blank (c)
contained the number 23, and the simulated probability was stored in the
variable <code>prob_renovate</code>.</p>
<p>Suppose, in blank (c), we change the number 23 to the number 46, and
we store the new simulated probability in the variable name
<code>other_prob</code>. (<code>prob_renovate</code> is unchanged from
the previous part.)</p>
<p>With these changes, which of the following is the most accurate
representation of the relationship between <code>other_prob</code> and
<code>prob_renovate</code>?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> <code>other_prob</code> will be roughly half of
<code>prob_renovate</code></p></li>
<li><p><input type="radio" disabled="" /> <code>other_prob</code> will be roughly equal to
<code>prob_renovate</code></p></li>
<li><p><input type="radio" disabled="" /> <code>other_prob</code> will be roughly double
<code>prob_renovate</code></p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading13_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse13_2" aria-expanded="true" aria-controls="collapse13_2">
Click to view the solution.
</button>
</h2>
<div id="collapse13_2" class="accordion-collapse collapse"
aria-labelledby="heading13_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> <code>other_prob</code> will be roughly
equal to <code>prob_renovate</code></p>
<p>The calculation we did in the previous subpart was not specific to
the number 23. That is, we could have replaced 23 with any integer
between 1 and 75 inclusive and the simulation would have been just as
valid. The probability we estimated is the probability that <strong>any
one floor</strong> was randomly selected; there is nothing special about
23.</p>
<p>(We say “roughly equal” because the result may turn out slightly
different due to randomness.)</p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 89%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<p class="meta"><em>Source:</em> wi23-final — Q13</p>
<h2 id="problem-14">Problem 14</h2>
<p>Dylan, Harshi, and Selim are playing a variant of a dice game called
<em>Left, Center, Right</em> (<em>LCR</em>) in which there are 9 chips
(tokens) and 9 dice. Each player starts off with 3 chips. Each die has
the following six sides: L, C, R, Dot, Dot, Dot.</p>
<p>During a given player’s turn, they must roll a number of dice equal
to the number of chips they currently have. Each die determines what to
do with one chip:</p>
<ol type="1">
<li>L means give the chip to the player on their left.</li>
<li>R means give the chip to the player on their right.</li>
<li>C means put the chip in the center of the table. This chip is now
out of play.</li>
<li>Dot means do nothing (or keep the chip).</li>
</ol>
<p>Since the number of dice rolled is the same as the number of chips
the player has, the dice rolls determine exactly what to do with each
chip. There is no strategy at all in this simple game.</p>
<p>Dylan will take his turn first (we’ll call him Player 0), then at the
end of his turn, he’ll pass the dice to his left and play will continue
clockwise around the table. Harshi (Player 1) will go next, then Selim
(Player 2), then back to Dylan, and so on.</p>
<center><img src='../../assets/images/wi23-final/lcr.png' width=30%></center>
<p>Note that if someone has no chips when it’s their turn, they are
still in the game and they still take their turn, they just roll 0 dice
because they have 0 chips. The game ends when only one person is holding
chips, and that person is the winner. If 300 turns have been taken (100
turns each), the game will end and we’ll declare it a tie.</p>
<p>The function <code>simulate_lcr</code> below simulates one full game
of <em>Left, Center, Right</em> and returns the number of turns taken in
that game. Some parts of the code are not provided. You will need to
fill in the code for the parts marked with a blank. The parts marked
with <code>...</code> are not provided, but you don’t need to fill them
in because they are very similar to other parts that you do need to
complete.</p>
<p><strong>Hint:</strong> Recall that in Python, the % operator gives
the remainder upon division. For example 12 % 5 is 2.</p>
<div class="sourceCode" id="cb15"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> simulate_lcr():</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>    <span class="co"># stores the number of chips for players 0, 1, 2 (in that order)</span></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>    player_chips <span class="op">=</span> np.array([<span class="dv">3</span>,<span class="dv">3</span>,<span class="dv">3</span>])</span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>    <span class="co"># maximum of 300 turns allotted for the game</span></span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> i <span class="kw">in</span> np.arange(<span class="dv">300</span>):</span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a>        <span class="co"># which player&#39;s turn it is currently (0, 1, or 2)</span></span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a>        current_player <span class="op">=</span> __(a)__</span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true" tabindex="-1"></a>        <span class="co"># stores what the player rolled on their turn</span></span>
<span id="cb15-12"><a href="#cb15-12" aria-hidden="true" tabindex="-1"></a>        roll <span class="op">=</span> np.random.choice([<span class="st">&quot;L&quot;</span>, <span class="st">&quot;C&quot;</span>, <span class="st">&quot;R&quot;</span>, <span class="st">&quot;Dot&quot;</span>, <span class="st">&quot;Dot&quot;</span>, <span class="st">&quot;Dot&quot;</span>], __(b)__)</span>
<span id="cb15-13"><a href="#cb15-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-14"><a href="#cb15-14" aria-hidden="true" tabindex="-1"></a>        <span class="co"># count the number of instances of L, C, and R</span></span>
<span id="cb15-15"><a href="#cb15-15" aria-hidden="true" tabindex="-1"></a>        L_count <span class="op">=</span> __(c)__</span>
<span id="cb15-16"><a href="#cb15-16" aria-hidden="true" tabindex="-1"></a>        C_count <span class="op">=</span> ...</span>
<span id="cb15-17"><a href="#cb15-17" aria-hidden="true" tabindex="-1"></a>        R_count <span class="op">=</span> ...</span>
<span id="cb15-18"><a href="#cb15-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-19"><a href="#cb15-19" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> current_player <span class="op">==</span> <span class="dv">0</span>:</span>
<span id="cb15-20"><a href="#cb15-20" aria-hidden="true" tabindex="-1"></a>            <span class="co"># update player_chips based on what player 0 rolled</span></span>
<span id="cb15-21"><a href="#cb15-21" aria-hidden="true" tabindex="-1"></a>            player_chips <span class="op">=</span> player_chips <span class="op">+</span> np.array(__(d)__)</span>
<span id="cb15-22"><a href="#cb15-22" aria-hidden="true" tabindex="-1"></a>        <span class="cf">elif</span> current_player <span class="op">==</span> <span class="dv">1</span>:</span>
<span id="cb15-23"><a href="#cb15-23" aria-hidden="true" tabindex="-1"></a>            <span class="co"># update player_chips based on what player 1 rolled</span></span>
<span id="cb15-24"><a href="#cb15-24" aria-hidden="true" tabindex="-1"></a>            player_chips <span class="op">=</span> player_chips <span class="op">+</span> ...</span>
<span id="cb15-25"><a href="#cb15-25" aria-hidden="true" tabindex="-1"></a>        <span class="cf">else</span>:</span>
<span id="cb15-26"><a href="#cb15-26" aria-hidden="true" tabindex="-1"></a>            <span class="co"># update player_chips based on what player 2 rolled</span></span>
<span id="cb15-27"><a href="#cb15-27" aria-hidden="true" tabindex="-1"></a>            player_chips <span class="op">=</span> player_chips <span class="op">+</span> ...</span>
<span id="cb15-28"><a href="#cb15-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-29"><a href="#cb15-29" aria-hidden="true" tabindex="-1"></a>        <span class="co"># if the game is over, return the number of turns played</span></span>
<span id="cb15-30"><a href="#cb15-30" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> __(e)__:</span>
<span id="cb15-31"><a href="#cb15-31" aria-hidden="true" tabindex="-1"></a>            <span class="cf">return</span> __(f)__</span>
<span id="cb15-32"><a href="#cb15-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-33"><a href="#cb15-33" aria-hidden="true" tabindex="-1"></a>    <span class="co"># if no one wins after 300 turns, return 300</span></span>
<span id="cb15-34"><a href="#cb15-34" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="dv">300</span></span></code></pre></div>
<p><br></p>
<h3 id="problem-14.1">Problem 14.1</h3>
<p>What goes in blank (a)?</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading14_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse14_1" aria-expanded="true" aria-controls="collapse14_1">
Click to view the solution.
</button>
</h2>
<div id="collapse14_1" class="accordion-collapse collapse"
aria-labelledby="heading14_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> <code>i % 3</code></p>
<p>We are trying to find which player’s turn it is within the
<code>for</code>-loop. We know that each player: Dylan, Harshi, and
Selim will play a maximum of 100 turns. Notice that the
<code>for</code>-loop goes from 0 to 299. This means we need to
manipulate the <code>i</code> somehow to figure out whose turn it is.
The hint here is extremely helpful. The maximum remainder we want to
have is 2 (recall the players are called Player 0, Player 1, and Player
2). This means we can utilize <code>%</code> to give us the remainder of
<code>i / 3</code>, which would tell us which player’s turn it is.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 41%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-14.2">Problem 14.2</h3>
<p>What goes in blank (b)?</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading14_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse14_2" aria-expanded="true" aria-controls="collapse14_2">
Click to view the solution.
</button>
</h2>
<div id="collapse14_2" class="accordion-collapse collapse"
aria-labelledby="heading14_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong>
<code>player_chips[current_player]</code></p>
<p>Recall <code>np.random.choice()</code> must be given an array and can
then optionally be given a <code>size</code> to get multiple values
instead of one. We know that <code>player_chips</code> is an array of
the chips for each player. To access a specific player’s chips we can
use <code>[current_player]</code> because the 1st index of
<code>player_chips</code> corresponds to Player 0, the 2nd index
corresponds to Player 1, and the 3rd index corresponds to Player 2.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 51%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-14.3">Problem 14.3</h3>
<p>What goes in blank (c)?</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading14_3">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse14_3" aria-expanded="true" aria-controls="collapse14_3">
Click to view the solution.
</button>
</h2>
<div id="collapse14_3" class="accordion-collapse collapse"
aria-labelledby="heading14_3" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> `np.count_nonzero(roll == “L”)</p>
<p>We know that if we do <code>roll == “L”</code> then we get an array
which changes the index of each element in <code>roll</code> to
<code>True</code> if that element equals <code>“L”</code> and
<code>False</code> otherwise. We can then use
<code>np.count_nonzero()</code> to count the number of <code>True</code>
values there are.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 61%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-14.4">Problem 14.4</h3>
<p>What goes in blank (d)?</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading14_4">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse14_4" aria-expanded="true" aria-controls="collapse14_4">
Click to view the solution.
</button>
</h2>
<div id="collapse14_4" class="accordion-collapse collapse"
aria-labelledby="heading14_4" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong>
<code>[-(L_count + C_count + R_count), L_count, R_count]</code></p>
<p>Recall the rules of the games:</p>
<ol type="1">
<li>L means give the chip to the player on their left.</li>
<li>R means give the chip to the player on their right.</li>
<li>C means put the chip in the center of the table. This chip is now
out of play.</li>
<li>Dot means do nothing (or keep the chip)</li>
</ol>
<p>If we are Player 0 the person to our left is Player 1 and the person
to our right is Player 2. We want to update <code>player_chips</code> to
appropriately give the players to our left and right chips. This means
we can add our own array with the element at index 1 be our
<code>L_count</code> and the element at index 2 be our
<code>R_count</code>. We need to also subtract the tokens we are giving
away and <code>C_count</code>, so in index 0 we have:
<code>-(L_count + C_count + R_count)</code>.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 51%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-14.5">Problem 14.5</h3>
<p>What goes in blank (e)?</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading14_5">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse14_5" aria-expanded="true" aria-controls="collapse14_5">
Click to view the solution.
</button>
</h2>
<div id="collapse14_5" class="accordion-collapse collapse"
aria-labelledby="heading14_5" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong>
<code>np.count_nonzero(player_chips) == 1</code></p>
<p>We want to stop the game early if only one person has chips. To do
this we can use <code>np.count_nonzero(player_chips)</code> to count the
number of elements inside <code>player_chips</code> that have chips. If
the player does not have chips then their index would have 0 inside of
it.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 61%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-14.6">Problem 14.6</h3>
<p>What goes in blank (f)?</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading14_6">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse14_6" aria-expanded="true" aria-controls="collapse14_6">
Click to view the solution.
</button>
</h2>
<div id="collapse14_6" class="accordion-collapse collapse"
aria-labelledby="heading14_6" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> <code>i + 1</code></p>
<p>To find the number of turns played we simply need to add 1 to
<code>i</code>. We do this because <code>i</code> starts at 0!</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 53%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<p class="meta"><em>Source:</em> wi24-midterm — Q6</p>
<h2 id="problem-15">Problem 15</h2>
<p>Which of the following probabilities could most easily be
approximated by writing a simulation in Python? Select the best
answer.</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> The probability that Janine wins the game.</p></li>
<li><p><input type="radio" disabled="" /> The probability that a three-player game takes less than 30 minutes
to play.</p></li>
<li><p><input type="radio" disabled="" /> The probability that Janine has three or more suspect cards.</p></li>
<li><p><input type="radio" disabled="" /> The probability that Janine visits the kitchen at some point in the
game.</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading15">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse15" aria-expanded="true" aria-controls="collapse15">
Click to view the solution.
</button>
</h2>
<div id="collapse15" class="accordion-collapse collapse"
aria-labelledby="heading15" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> The probability that Janine has three or
more suspect cards.</p>
<p>Let’s explain each choice and why it would be easy or difficult to
simulate in Python. The <strong>first choice</strong> is difficult
because these simulations depend on Janine’s strategies and decisions in
the game. There is no way to simulate people’s choices. We can only
simulate randomness. For the <strong>second choice</strong>, we are not
given information on how long each part of the gameplay takes, so we
would not be able to simulate the length of a game. The <strong>third
choice</strong> is very plausible to do because when cards are dealt out
to Janine, this is a random process which we can simulate in code, where
we keep track of whether she has three of more suspect cards. The
<strong>fourth choice</strong> follows the same reasoning as the first
choice. There is no way to simulate Janine’s moves in the game, as it
depends on the decisions she makes while playing.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 83%.</p>
</div>
</div>
</div>
</div>
<hr />
<p class="meta"><em>Source:</em> wi25-final — Q5</p>
<h2 id="problem-16">Problem 16</h2>
<p>Among Hogwarts students, Chocolate Frogs are a popular enchanted
treat. Chocolate Frogs are individually packaged, and every Chocolate
Frog comes with a collectible card of a famous wizard (ex.”Albus
Dumbledore"). There are 80 unique cards, and each package contains
<strong>one card selected uniformly at random from these
80</strong>.</p>
<p>Neville would love to get a complete collection with all 80 cards,
and he wants to know how many Chocolate Frogs he should expect to buy to
make this happen.</p>
<center><img src='../../assets/images/wi25-final/frog.jpg' width=400></center>
<p>Suppose we have access to a function called
<code>frog_experiment</code> that takes no inputs and simulates the act
of buying Chocolate Frogs until a complete collection of cards is
obtained. The function returns the number of Chocolate Frogs that were
purchased. Fill in the blanks below to run 10,000 simulations and set
<code>avg_frog_count</code> to the average number of Chocolate Frogs
purchased across these experiments.</p>
<pre><code>    frog_counts = np.array([])  
    
    for i in np.arange(10000):
        frog_counts = np.append(__(a)__)
    
    avg_frog_count = __(b)__</code></pre>
<p><br></p>
<h3 id="problem-16.1">Problem 16.1</h3>
<p>What goes in blank (a)?</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading16_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse16_1" aria-expanded="true" aria-controls="collapse16_1">
Click to view the solution.
</button>
</h2>
<div id="collapse16_1" class="accordion-collapse collapse"
aria-labelledby="heading16_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong>
<code>frog_counts, frog_experiment()</code></p>
<p>Each call to <code>frog_experiment()</code> simulates purchasing
Chocolate Frogs until a complete set of 80 unique cards is obtained,
returning the total number of frogs purchased in that simulation. The
result of each simulation is then appended to the
<code>frog_counts</code> array.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 65%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-16.2">Problem 16.2</h3>
<p>What goes in blank (b)?</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading16_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse16_2" aria-expanded="true" aria-controls="collapse16_2">
Click to view the solution.
</button>
</h2>
<div id="collapse16_2" class="accordion-collapse collapse"
aria-labelledby="heading16_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> <code>frog_counts.mean()</code></p>
<p>After running the loop for 10000 times, the <code>frog_counts</code>
array holds all the simulated totals. Taking the mean of that array
(<code>frog_counts.mean()</code>) gives the average number of frogs
needed to complete the set of 80 unique cards.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 89%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-16.3">Problem 16.3</h3>
<p>Realistically, Neville can only afford to buy 300 Chocolate Frog
cards. Using the simulated data in <code>frog_counts</code>, write a
Python expression that evaluates to an approximation of the probability
that Neville will be able to complete his collection.</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading16_3">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse16_3" aria-expanded="true" aria-controls="collapse16_3">
Click to view the solution.
</button>
</h2>
<div id="collapse16_3" class="accordion-collapse collapse"
aria-labelledby="heading16_3" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong>
<code>np.count_nonzero(frog_counts &lt;= 300) / len(frog_counts)</code>
or equivlent, such as
<code>np.count_nonzero(frog_counts &lt;= 300) / 10000</code> or
<code>(frog_counts &lt;= 300).mean()</code></p>
<p>In the simulated data, each entry of <code>frog_counts</code> is the
number of Chocolate Frogs purchased in one simulation before collecting
all 80 unique cards. We want to estimate the probability that Neville
completes his collection with at most 300 cards.</p>
<p><code>frog_counts &lt;= 300</code> creates a boolean array of the
same length as <code>frog_counts</code>, where each element is True if
the number of frogs used in that simulation was 300 or fewer, and False
otherwise.</p>
<p><code>np.count_nonzero(frog_counts &lt;= 300)</code> counts how many
simulations (out of all the simulations) met the condition since
<code>True</code> evaluates to 1 and <code>False</code> evaluates to
0.</p>
<p>Dividing by the total number of simulations,
<code>len(frog_counts)</code>, converts that count to probability.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 59%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-16.4">Problem 16.4</h3>
<p><strong>True or False</strong>: The Central Limit Theorem states that
the data in <code>frog_counts</code> is roughly normally
distributed.</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> True</p></li>
<li><p><input type="radio" disabled="" /> False</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading16_4">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse16_4" aria-expanded="true" aria-controls="collapse16_4">
Click to view the solution.
</button>
</h2>
<div id="collapse16_4" class="accordion-collapse collapse"
aria-labelledby="heading16_4" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> False</p>
<p>The Central Limit Theorem (CLT) says that the probability
distribution of the sum or mean of a large random sample drawn with
replacement will be roughly normal, regardless of the distribution of
the population from which the sample is drawn.</p>
<p>The Central Limit Theorem (CLT) does not claim that individual
observations are normally distributed. In this problem, each entry of
<code>frog_counts</code> is a single observation: the number of frogs
purchased in one simulation to complete the collection. There is no
requirement that these individual data points themselves follow a normal
distribution.</p>
<p>However, if we repeatedly take many samples of such observations and
compute the sample mean, then that mean would tend toward a normal
distribution as the sample size grows, follows the CLT.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 38%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<p class="meta"><em>Source:</em> wi25-midterm — Q5</p>
<h2 id="problem-17">Problem 17</h2>
<p>It’s the grand opening of UCSD’s newest dining attraction: The Bread
Basket! As a hardcore bread enthusiast, you celebrate by eating as much
bread as possible. There are only a few menu items at The Bread Basket,
shown with their costs in the table below:</p>
<table>
<thead>
<tr>
<th style="text-align: center;"><strong>Bread</strong></th>
<th style="text-align: center;"><strong>Cost</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;">Sourdough</td>
<td style="text-align: center;">2</td>
</tr>
<tr>
<td style="text-align: center;">Whole Wheat</td>
<td style="text-align: center;">3</td>
</tr>
<tr>
<td style="text-align: center;">Multigrain</td>
<td style="text-align: center;">4</td>
</tr>
</tbody>
</table>
<p>Suppose you are given an array <code>eaten</code> containing the
names of each type of bread you ate.</p>
<p>For example, <code>eaten</code> could be defined as follows:</p>
<div class="sourceCode" id="cb17"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>    eaten <span class="op">=</span> np.array([<span class="st">&quot;Whole Wheat&quot;</span>, <span class="st">&quot;Sourdough&quot;</span>, <span class="st">&quot;Whole Wheat&quot;</span>, </span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>                      <span class="st">&quot;Sourdough&quot;</span>, <span class="st">&quot;Sourdough&quot;</span>])</span></code></pre></div>
<p>In this example, <code>eaten</code> represents five slices of bread
that you ate, for a total cost of <span class="math inline">\$12</span>.
Pricey!</p>
<p>In this problem, you’ll calculate the total cost of your bread-eating
extravaganza in various ways. In all cases, your code must calculate the
total cost for an arbitrary <code>eaten</code> array, which might not be
exactly the same as the example shown above.</p>
<p><br></p>
<h3 id="problem-17.1">Problem 17.1</h3>
<p>One way to calculate the total cost of the bread in the
<code>eaten</code> array is outlined below. Fill in the missing
code.</p>
<div class="sourceCode" id="cb18"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>    breads <span class="op">=</span> [<span class="st">&quot;Sourdough&quot;</span>, <span class="st">&quot;Whole Wheat&quot;</span>, <span class="st">&quot;Multigrain&quot;</span>]</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>    prices <span class="op">=</span> [<span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>]</span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>    total_cost <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> i <span class="kw">in</span> __(a)__:</span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>        total_cost <span class="op">=</span> (total_cost <span class="op">+</span> </span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a>                     np.count_nonzero(eaten <span class="op">==</span> __(b)__) <span class="op">*</span> __(c)__)</span></code></pre></div>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading17_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse17_1" aria-expanded="true" aria-controls="collapse17_1">
Click to view the solution.
</button>
</h2>
<div id="collapse17_1" class="accordion-collapse collapse"
aria-labelledby="heading17_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer (a):</strong> <code>[0, 1, 2]</code> or
<code>np.arange(len(bread))</code> or <code>range(3)</code> or
equivalent</p>
<p>Let’s read through the code skeleton and develop the answers from
intuition. First, we notice a <code>for</code> loop, but we don’t yet
know what sequence we’ll be looping through.</p>
<p>Then we notice a variable <code>total_cost</code> that is initalized
to <code>0</code>. This suggests we’ll use the accumulator pattern to
keep a running total.</p>
<p>Inside the loop, we see that we are indeed adding onto the running
total. The amount by which we increase <code>total_cost</code> is
<code>np.count_nonzero(eaten == __(b)__) * __(c)__</code>. Let’s
remember what this does. It first compares the <code>eaten</code> array
to some value and then counts how many <code>True</code> values are in
resulting Boolean array. In other words, it counts how many times the
entries in the <code>eaten</code> array equal some particular value.
This is a big clue about how to fill in the code. There are only three
possible values in the <code>eaten</code> array, and they are
<code>"Sourdough"</code>, <code>"Whole Wheat"</code>, and
<code>"Multigrain"</code>. For example, if blank (b) were filled with
<code>"Sourdough"</code>, we would be counting how many of the slices in
the <code>eaten</code> array were <code>"Sourdough"</code>. Since each
such slice costs 2 dollars, we could find the total cost of all
<code>"Sourdough"</code> slices by multiplying this count by 2.</p>
<p>Understanding this helps us understand what the code is doing: it is
separately computing the cost of each type of bread
(<code>"Sourdough"</code>, <code>"Whole Wheat"</code>,
<code>"Multigrain"</code>) and adding this onto the running total. Once
we understand what the code is doing, we can figure out how to fill in
the blanks.</p>
<p>We just discussed filling in blank (b) with <code>"Sourdough"</code>,
in which case we would have to fill in blank (c) with <code>2</code>.
But that just gives the contribution of <code>"Sourdough"</code> to the
overall cost. We also need the contributions from
<code>"Whole Wheat"</code> and <code>"Multigrain"</code>. Somehow, blank
(b) needs to take on the values in the provided <code>breads</code>
array. Similarly, blank (c) needs to take on the values in the
<code>prices</code> array, and we need to make sure that we iterate
through both of these arrays simultaneously. This means we should access
<code>breads[0]</code> when we access <code>prices[0]</code>, for
example. We can use the loop variable <code>i</code> to help us, and
fill in blank (b) with <code>breads[i]</code> and blank (c) with
<code>prices[i]</code>. This means <code>i</code> needs to take on the
values <code>0</code>, <code>1</code>, <code>2</code>, so we can loop
through the sequence <code>[0, 1, 2]</code> in blank (a). This is also
the same as <code>range(len(bread))</code> and
<code>range(len(price))</code>.</p>
<p>Bravo! We have everything we want, and the code block is now
complete.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 58%.</p>
<p><strong>Answer (b):</strong> <code>breads[i]</code></p>
<p>See explanation above.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 61%.</p>
<p><strong>Answer (c):</strong> <code>prices[i]</code></p>
<p>See explanation above.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 61%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-17.2">Problem 17.2</h3>
<p>Another way to calculate the total cost of the bread in the
<code>eaten</code> array uses the <code>merge</code> method. Fill in the
missing code below.</p>
<div class="sourceCode" id="cb19"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>    available <span class="op">=</span> bpd.DataFrame().assign(Type <span class="op">=</span> [<span class="st">&quot;Sourdough&quot;</span>, </span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>                <span class="st">&quot;Whole Wheat&quot;</span>, <span class="st">&quot;Multigrain&quot;</span>]).assign(Cost <span class="op">=</span> [<span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>])</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>    consumed <span class="op">=</span> bpd.DataFrame().assign(Eaten <span class="op">=</span> eaten)</span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>    combined <span class="op">=</span> available.merge(consumed, left_on <span class="op">=</span> __(d)__, </span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>                               right_on <span class="op">=</span> __(e)__)   </span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a>    total_cost <span class="op">=</span> combined.__(f)__</span></code></pre></div>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading17_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse17_2" aria-expanded="true" aria-controls="collapse17_2">
Click to view the solution.
</button>
</h2>
<div id="collapse17_2" class="accordion-collapse collapse"
aria-labelledby="heading17_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer (d):</strong> <code>"Type"</code></p>
<p>It always helps to sketch out the DataFrames.
</p>
<center><img src="../../assets/images/wi25-midterm/q5-2.png" width="300"/></center>
<p>Let’s first develop some intuition based on the keywords.</p>
<ol type="1">
<li><p>We create two DataFrames as seen above, and we perform a <a href="https://dsc-courses.github.io/bpd-reference/docs/documentation/building-organizing/df.merge()">merge</a>)
operation. We want to fill in what columns to merge on. It should be
easy to see that blank (e) would be the <code>"Eaten"</code> column in
<code>consumed</code>, so let’s fill that in.</p></li>
<li><p>We are getting <code>total_cost</code> from the
<code>combined</code> DataFrame in some way. If we want the total amount
of something, which aggregation function might we use?</p></li>
</ol>
<p>In general, if we have
<code>df_left.merge(df_right, left_on=col_left, right_on=col_right)</code>,
assuming all entries are non-empty, the merge process looks at
individual entries from the specified column in <code>df_left</code> and
grabs all entries from the specified column in <code>df_right</code>
that matches the entry content. Based on this, we know that the
<code>combined</code> DataFrame will contain a column of all the breads
we have eaten and their corresponding prices. Blank (d) is also settled:
we can get the list of all breads by merging on the <code>"Type"</code>
column in <code>available</code> to match with <code>"Eaten"</code>.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 81%.</p>
<p><strong>Answer (e):</strong> <code>"Eaten"</code></p>
<p>See explanation above.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 80%.</p>
<p><strong>Answer (f):</strong> <code>get("Cost").sum()</code></p>
<p>The <code>combined</code> DataFrame would look something like this:
</p>
<center><img src="../../assets/images/wi25-midterm/q5-2-f.png" width="200"/></center>
<p>To get the total cost of the bread in <code>"Eaten"</code>, we can
take the sum of the <code>"Cost"</code> column.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 70%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<p class="meta"><em>Source:</em> wi25-midterm — Q6</p>
<h2 id="problem-18">Problem 18</h2>
<p>At OceanView Terrace, you can make a custom pizza. There are <span
class="math inline">6</span> toppings available. Suppose you include
each topping with a probability of <span class="math inline">0.5</span>,
independently of all other toppings.</p>
<p><br></p>
<h3 id="problem-18.1">Problem 18.1</h3>
<p>What is the probability you create a pizza with no toppings at all?
Give your answer as a <strong>fully simplified fraction</strong>.</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading18_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse18_1" aria-expanded="true" aria-controls="collapse18_1">
Click to view the solution.
</button>
</h2>
<div id="collapse18_1" class="accordion-collapse collapse"
aria-labelledby="heading18_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> 1/64</p>
<p>We want the probability that we create a pizza with no toppings at
all, which is to say 0 toppings. That means all 6 of the toppings need
to be not included on the pizza. In other words, the probability we want
is:</p>
<p><span class="math display">P(\text{Not topping 1} \text{ AND Not
topping 2} \dots \text{ AND Not topping 6})</span></p>
<p>The problem statement gives us two important pieces of information
that we use to calculate this probability:</p>
<ol type="1">
<li><p>The probability of including every topping is independent of
every other topping.</p>
<p>The independence of including different toppings means that the
probability that we create a pizza with <strong><span class="math inline">0</span></strong> toppings can be framed as a
product of probabilities: <span class="math display">P(\text{Not topping
1}) \cdot P(\text{Not topping 2}) \cdot ... \cdot P(\text{Not topping
6})</span></p></li>
<li><p>The probability of including a topping is <span class="math inline">0.5</span></p>
<p>This means that the probability of not including each topping is
<span class="math inline">1 - 0.5 = 0.5</span>.</p></li>
</ol>
<p>Therefore, the probability of creating a pizza with no toppings is
<span class="math display">0.5 \cdot 0.5 \cdot 0.5 \cdot 0.5 \cdot 0.5
\cdot 0.5 = (0.5)^6 = \frac{1}{64}.</span></p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 75%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-18.2">Problem 18.2</h3>
<p>What is the probability that you create a pizza with exactly three
toppings? Fill in the blanks in the code below so that
<code>toppa</code> evaluates to an estimate of this probability.</p>
<div class="sourceCode" id="cb20"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>        tiptop <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>        num_trials <span class="op">=</span> <span class="dv">10000</span></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> i <span class="kw">in</span> np.arange(num_trials):</span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>            pizza <span class="op">=</span> np.random.choice([<span class="dv">0</span>,<span class="dv">1</span>], __(a)__)</span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a>            <span class="cf">if</span> np.__(b)__ <span class="op">==</span> <span class="dv">3</span>:</span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a>                tiptop <span class="op">=</span> __(c)__</span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a>        toppa <span class="op">=</span> __(d)__</span></code></pre></div>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading18_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse18_2" aria-expanded="true" aria-controls="collapse18_2">
Click to view the solution.
</button>
</h2>
<div id="collapse18_2" class="accordion-collapse collapse"
aria-labelledby="heading18_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer (a):</strong> <code>6</code></p>
<p>Blank(a) is the <code>size</code> parameter of
<code>np.random.choice</code> which determines how many random choices
we need to make. To determine what value belongs here, consider the
context of the code.</p>
<p>We are defining a variable <code>pizza</code>, representing one
simulated pizza. As we are trying to estimate the probability of
including exactly three toppings on a pizza, we can simulate the
creation of one pizza by deciding whether to include each of the 6
toppings.</p>
<p>Further, we have instructed <code>np.random.choice</code> to select
from the list <code>[0, 1]</code>. These are the possible outcomes,
which represent whether we include a topping (<code>1</code>) or don’t
(<code>0</code>). So, we must randomly choose one of these options 6
times, once per topping.</p>
<p>We are making these choices independently, so each time we choose, we
have an equal chance of selecting <code>0</code> or <code>1</code>. This
means it’s possible to get several <code>0</code>s or several
<code>1</code>s, so we are selecting with replacement. Keep in mind that
the default behavior of <code>np.random.choice</code> uses
<code>replace=True</code>, so we don’t need to specify
<code>replace=True</code> anywhere in the code, though it would not be
wrong to include it.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 58%.</p>
<p><strong>Answer (b):</strong>
<code>count_nonzero(pizza) or sum(pizza)</code></p>
<p><code>pizza</code> is an array of <code>0</code>s and
<code>1</code>s, representing whether we include a topping
(<code>1</code>) or don’t (<code>0</code>), for each of the 6 toppings.
At this step, we want to check if we have three toppings, or if there
are exactly three <code>1</code>’s in our array. We can either do this
by counting how many non-zero elements occur, using
<code>np.count_nonzero(pizza)</code>, or by finding the sum of this
array, because the sum is the total number of <code>1</code>s. Note that
the <code>.sum()</code> array method and the built-in function
<code>sum()</code> do not fit the structure of the code, which provides
us with <code>np.</code> We can, however, use the <code>numpy</code>
function <code>np.sum()</code>, which satisfies the constraints of the
problem.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 58%.</p>
<p><strong>Answer (c):</strong> <code>tiptop + 1</code></p>
<p><code>tiptop</code> is a counter representing the number times we had
exactly three toppings in our simulation. We want to add 1 to it every
time we have exactly three different toppings, or when we satisfy the
above condition (<code>np.count_nonzero(pizza) == 3</code>). This is
important so that by the end of the simulation, we have a total count of
the number of times we had exactly three toppings.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 81%.</p>
<p><strong>Answer (d):</strong> <code>tiptop / num_trials</code></p>
<p><code>tiptop</code> is the number times we had exactly three toppings
in our simulation. To convert this count into a proportion, we need to
divide it by the total number of trials in our simluation, or
<code>num_trials</code>.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 84%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-18.3">Problem 18.3</h3>
<p>What is the meaning of <code>tiptop</code> after the code has
finished running?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> The number of repetitions in our simulation.</p></li>
<li><p><input type="radio" disabled="" /> The size of our sample.</p></li>
<li><p><input type="radio" disabled="" /> The number of times we randomly selected three toppings.</p></li>
<li><p><input type="radio" disabled="" /> The proportion of times we randomly selected three toppings.</p></li>
<li><p><input type="radio" disabled="" /> The number of toppings we randomly selected.</p></li>
<li><p><input type="radio" disabled="" /> None of these answers is what <code>tiptop</code> represents.</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading18_3">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse18_3" aria-expanded="true" aria-controls="collapse18_3">
Click to view the solution.
</button>
</h2>
<div id="collapse18_3" class="accordion-collapse collapse"
aria-labelledby="heading18_3" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> The number of times we randomly selected
three toppings.</p>
<p>1 is added to <code>tiptop</code> every time the condition
<code>np.count_nonzero(pizza) == 3</code> is satisfied. This means that
<code>tiptop</code> contains the total number of times in our simulation
where <code>np.count_nonzero(pizza) == 3</code>, or where our pizza
contained exactly three toppings.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 77%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
</body>
</html>
