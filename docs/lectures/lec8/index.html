<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>Lecture 8 — Practice</title>
  <style>
    /* Default styles provided by pandoc.
    ** See https://pandoc.org/MANUAL.html#variables-for-html for config info.
    */
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    /* The extra [class] is a hack that increases specificity enough to
       override a similar rule in reveal.js */
    ul.task-list[class]{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      font-size: inherit;
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    html { -webkit-text-size-adjust: 100%; }
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      {   }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span.al { color: #ff0000; font-weight: bold; } /* Alert */
    code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
    code span.at { color: #7d9029; } /* Attribute */
    code span.bn { color: #40a070; } /* BaseN */
    code span.bu { color: #008000; } /* BuiltIn */
    code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #4070a0; } /* Char */
    code span.cn { color: #880000; } /* Constant */
    code span.co { color: #60a0b0; font-style: italic; } /* Comment */
    code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
    code span.do { color: #ba2121; font-style: italic; } /* Documentation */
    code span.dt { color: #902000; } /* DataType */
    code span.dv { color: #40a070; } /* DecVal */
    code span.er { color: #ff0000; font-weight: bold; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #40a070; } /* Float */
    code span.fu { color: #06287e; } /* Function */
    code span.im { color: #008000; font-weight: bold; } /* Import */
    code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
    code span.kw { color: #007020; font-weight: bold; } /* Keyword */
    code span.op { color: #666666; } /* Operator */
    code span.ot { color: #007020; } /* Other */
    code span.pp { color: #bc7a00; } /* Preprocessor */
    code span.sc { color: #4070a0; } /* SpecialChar */
    code span.ss { color: #bb6688; } /* SpecialString */
    code span.st { color: #4070a0; } /* String */
    code span.va { color: #19177c; } /* Variable */
    code span.vs { color: #4070a0; } /* VerbatimString */
    code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="../../assets/theme.css" />
</head>
<body>
<header id="title-block-header">
<h1 class="title">Lecture 8 — Practice</h1>
</header>
<p><link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
<!-- add after bootstrap.min.css -->
<link rel="stylesheet" href="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.css"/>
<!-- add after bootstrap.min.js or bootstrap.bundle.min.js -->
<script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script></p>
<!-- for difficulty gauges-->
<script src="https://cdn.plot.ly/plotly-2.16.1.min.js"></script>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-B947E6J6H4"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-B947E6J6H4');
</script>
<p><a href="../../index.html">← return to practice.dsc10.com</a></p>
<hr />
<h1 id="lecture-8-collected-practice-questions">Lecture 8 — Collected
Practice Questions</h1>
<p>Below are practice problems tagged for Lecture <strong>8</strong>
(rendered directly from the original exam/quiz sources).</p>
<hr />
<h2 id="problem-1">Problem 1</h2>
<p>Consider the following incomplete assignment statement.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>result <span class="op">=</span> evs______.mean()</span></code></pre></div>
<p>In each part, fill in the blank above so that result evaluates to the
specified quantity.</p>
<p><br></p>
<h3 id="problem-1.1">Problem 1.1</h3>
<p>A DataFrame, indexed by <code>"Brand"</code>, whose
<code>"Seats"</code> column contains the average number of
<code>"Seats"</code> per <code>"Brand"</code>. (The DataFrame may have
other columns in it as well.)</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading1_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse1_1" aria-expanded="true" aria-controls="collapse1_1">
Click to view the solution.
</button>
</h2>
<div id="collapse1_1" class="accordion-collapse collapse"
aria-labelledby="heading1_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> <code>.groupby("Brand")</code></p>
<p>When we group by a column, the resulting DataFrame contains one row
for every unique value in that column. The question specified that we
wanted some information <em>per</em> <code>"Brand"</code>, which implies
that grouping by <code>"Brand"</code> is necessary.</p>
<p>After grouping, we need to use an aggregation method. Here, we wanted
the resulting DataFrame to be such that the <code>"Seats"</code> column
contained the average number of <code>"Seats"</code> per
<code>"Brand"</code>; this is accomplished by using
<code>.mean()</code>, which is already done for us.</p>
<p>Note: With the provided solution, the resulting DataFrame also has
other columns. For instance, it has a <code>"Range"</code> column that
contains the average <code>"Range"</code> for each <code>"Brand"</code>.
That’s fine, since we were told that the resulting DataFrame may have
other columns in it as well. If we wanted to ensure that the only column
in the resulting DataFrame was <code>"Seats"</code>, we could have used
<code>.get(["Brand", "Seats"])</code> before grouping, though this was
not necessary.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 76%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-1.2">Problem 1.2</h3>
<p>A number, corresponding to the average <code>"TopSpeed"</code> of all
EVs manufactured by Audi in evs</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading1_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse1_2" aria-expanded="true" aria-controls="collapse1_2">
Click to view the solution.
</button>
</h2>
<div id="collapse1_2" class="accordion-collapse collapse"
aria-labelledby="heading1_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong>
<code>[evs.get("Brand") == "Audi"].get("TopSpeed")</code></p>
<p>There are two parts to this problem:</p>
<ol type="1">
<li><p>Querying, to make sure that we only keep the rows corresponding
to Audis. This is accomplished by:</p>
<ul>
<li>Using <code>evs.get("Brand") == "Audi"</code> to create a Boolean
Series, with <code>True</code>s for the rows we want to keep and
<code>False</code>s for the other rows.</li>
<li>Using Boolean indexing to keep only the rows in which the
aforementioned Series is <code>True</code>. This is accomplished by
<code>evs[evs.get("Brand") == "Audi"]</code> (though the
<code>evs</code> part at the front was already provided).</li>
</ul></li>
<li><p>Accessing the <code>"TopSpeed"</code> column. This is
accomplished by using <code>.get("TopSpeed")</code>.</p></li>
</ol>
<p>Then, <code>evs[evs.get("Brand") == "Audi"].get("TopSpeed")</code> is
a Series contaning the <code>"TopSpeed"</code>s of all Audis, and mean
of this Series is the result we’re looking for. The call to
<code>.mean()</code> was already provided for us.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 77%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<p class="meta"><em>Source:</em> fa22-midterm — Q3</p>
<h2 id="problem-2">Problem 2</h2>
<p>Suppose we’ve run the following two lines of code. ​</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>first <span class="op">=</span> evs.get(<span class="st">&quot;Brand&quot;</span>).<span class="bu">apply</span>(<span class="bu">max</span>) </span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>second <span class="op">=</span> evs.get(<span class="st">&quot;Brand&quot;</span>).<span class="bu">max</span>()</span></code></pre></div>
<p>Note:</p>
<ul>
<li>The length of a value <code>v</code> is defined as
<code>len(v)</code>, unless <code>v</code> is a DataFrame, in which case
its length is <code>v.shape[0]</code>.</li>
<li>If <code>s</code> is a string, then <code>max(s)</code> also
evaluates to a string.</li>
</ul>
<p><br></p>
<h3 id="problem-2.1">Problem 2.1</h3>
<p>Fill in the blanks: <code>first</code> is a __(i)__ of length
__(ii)__.</p>
<p>(i):</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> list</p></li>
<li><p><input type="radio" disabled="" /> array</p></li>
<li><p><input type="radio" disabled="" /> string</p></li>
<li><p><input type="radio" disabled="" /> DataFrame</p></li>
<li><p><input type="radio" disabled="" /> Series</p></li>
</ul>
<p>(ii): _____</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading2_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse2_1" aria-expanded="true" aria-controls="collapse2_1">
Click to view the solution.
</button>
</h2>
<div id="collapse2_1" class="accordion-collapse collapse"
aria-labelledby="heading2_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong></p>
<ul>
<li>(i): Series</li>
<li>(ii): 32</li>
</ul>
<p>The <code>.apply</code> method applies a function on every element of
a Series. Here, <code>evs.get("Brand").apply(max)</code> applies the
<code>max</code> function on every element of the <code>"Brand"</code>
column of <code>evs</code>, producing a new Series with the same length
as <code>evs</code>.</p>
<p>While not necessary to answer the question, if <code>s</code> is a
string, then <code>max(s)</code> evaluates to the single character in
<code>s</code> that is last in the alphabet. For instance,
<code>max("zebra")</code> evaluates to <code>"z"</code>. As such,
<code>evs.get("Brand").apply(max)</code> is a Series of 32 elements,
each of which is a single character, corresponding to the latest
character in the alphabet for each entry in
<code>evs.get("Brand")</code>.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 65%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-2.2">Problem 2.2</h3>
<p>Fill in the blanks: <code>second</code> is a __(i)__ of length
__(ii)__.</p>
<p>(i):</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> list</p></li>
<li><p><input type="radio" disabled="" /> array</p></li>
<li><p><input type="radio" disabled="" /> string</p></li>
<li><p><input type="radio" disabled="" /> DataFrame</p></li>
<li><p><input type="radio" disabled="" /> Series</p></li>
</ul>
<p>(ii): _____</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading2_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse2_2" aria-expanded="true" aria-controls="collapse2_2">
Click to view the solution.
</button>
</h2>
<div id="collapse2_2" class="accordion-collapse collapse"
aria-labelledby="heading2_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong></p>
<ul>
<li>(i): string</li>
<li>(ii): 5</li>
</ul>
<p>The <code>.max()</code> method will find the “largest” element in the
Series it is called in, which in this case is
<code>evs.get("Brand")</code>. The way that strings are ordered is
alphabetically, so <code>evs.get("Brand").max()</code> will be the last
value of <code>"Brand"</code> alphabetically. Since we were told that
the only values in the <code>"Brand"</code> column are
<code>"Tesla"</code>, <code>"BMW"</code>, <code>"Audi"</code>, and
<code>"Nissan"</code>, the “maximum” is <code>"Tesla"</code>, which has
a length of 5.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 54%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<p class="meta"><em>Source:</em> fa22-midterm — Q5</p>
<h2 id="problem-3">Problem 3</h2>
<p>Consider the following incomplete assignment statement.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>result <span class="op">=</span> evs______.mean()</span></code></pre></div>
<p>In each part, fill in the blank above so that result evaluates to the
specified quantity.</p>
<p><br></p>
<h3 id="problem-3.1">Problem 3.1</h3>
<p>A DataFrame, indexed by <code>"Brand"</code>, whose
<code>"Seats"</code> column contains the average number of
<code>"Seats"</code> per <code>"Brand"</code>. (The DataFrame may have
other columns in it as well.)</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading3_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse3_1" aria-expanded="true" aria-controls="collapse3_1">
Click to view the solution.
</button>
</h2>
<div id="collapse3_1" class="accordion-collapse collapse"
aria-labelledby="heading3_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> <code>.groupby("Brand")</code></p>
<p>When we group by a column, the resulting DataFrame contains one row
for every unique value in that column. The question specified that we
wanted some information <em>per</em> <code>"Brand"</code>, which implies
that grouping by <code>"Brand"</code> is necessary.</p>
<p>After grouping, we need to use an aggregation method. Here, we wanted
the resulting DataFrame to be such that the <code>"Seats"</code> column
contained the average number of <code>"Seats"</code> per
<code>"Brand"</code>; this is accomplished by using
<code>.mean()</code>, which is already done for us.</p>
<p>Note: With the provided solution, the resulting DataFrame also has
other columns. For instance, it has a <code>"Range"</code> column that
contains the average <code>"Range"</code> for each <code>"Brand"</code>.
That’s fine, since we were told that the resulting DataFrame may have
other columns in it as well. If we wanted to ensure that the only column
in the resulting DataFrame was <code>"Seats"</code>, we could have used
<code>.get(["Brand", "Seats"])</code> before grouping, though this was
not necessary.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 76%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-3.2">Problem 3.2</h3>
<p>A number, corresponding to the average <code>"TopSpeed"</code> of all
EVs manufactured by Audi in evs</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading3_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse3_2" aria-expanded="true" aria-controls="collapse3_2">
Click to view the solution.
</button>
</h2>
<div id="collapse3_2" class="accordion-collapse collapse"
aria-labelledby="heading3_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong>
<code>[evs.get("Brand") == "Audi"].get("TopSpeed")</code></p>
<p>There are two parts to this problem:</p>
<ol type="1">
<li><p>Querying, to make sure that we only keep the rows corresponding
to Audis. This is accomplished by:</p>
<ul>
<li>Using <code>evs.get("Brand") == "Audi"</code> to create a Boolean
Series, with <code>True</code>s for the rows we want to keep and
<code>False</code>s for the other rows.</li>
<li>Using Boolean indexing to keep only the rows in which the
aforementioned Series is <code>True</code>. This is accomplished by
<code>evs[evs.get("Brand") == "Audi"]</code> (though the
<code>evs</code> part at the front was already provided).</li>
</ul></li>
<li><p>Accessing the <code>"TopSpeed"</code> column. This is
accomplished by using <code>.get("TopSpeed")</code>.</p></li>
</ol>
<p>Then, <code>evs[evs.get("Brand") == "Audi"].get("TopSpeed")</code> is
a Series contaning the <code>"TopSpeed"</code>s of all Audis, and mean
of this Series is the result we’re looking for. The call to
<code>.mean()</code> was already provided for us.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 77%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-3.3">Problem 3.3</h3>
<p>A number, corresponding to the average of the natural logarithm of
the <code>"TopSpeed"</code> of all EVs in evs. (Hint: The function
<code>np.log</code> computes the natural logarithm of a single
number.)</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading3_3">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse3_3" aria-expanded="true" aria-controls="collapse3_3">
Click to view the solution.
</button>
</h2>
<div id="collapse3_3" class="accordion-collapse collapse"
aria-labelledby="heading3_3" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong>
<code>.get("TopSpeed").apply(np.log)</code></p>
<p>The <code>.apply</code> method is used to apply a function on every
element of a Series. The relevant Series here is the column containing
the <code>"TopSpeed"</code> of each EV,
i.e. <code>evs.get("TopSpeed")</code> (the <code>evs</code> part was
already provided to us).</p>
<p>After we get that Series, we need to use the function
<code>np.log</code> on every element of it. This is accomplished by
using <code>.apply(np.log)</code>. Putting our steps so far together, we
have <code>evs.get("TopSpeed").apply(np.log)</code>, which is a Series
containing the natural logarithm of the <code>"TopSpeed"</code> of all
EVs in <code>evs</code>.</p>
<p>The number we were asked for was the average of the natural logarithm
of the <code>"TopSpeed"</code> of all EVs in <code>evs</code>; all we
need to do now is use the <code>.mean()</code> method at the end, which
was already done for us.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 61%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<p class="meta"><em>Source:</em> fa23-midterm — Q3</p>
<h2 id="problem-4">Problem 4</h2>
<p>Suppose we want to assign a new column named
<code>"family_size"</code> to <code>living_cost</code> that contains the
total number of people in each family, stored as an int. We do so as
follows.</p>
<pre><code>living_cost = living_cost.assign(
              family_size=living_cost.get(&quot;family_type&quot;).apply(num_people))</code></pre>
<p>Which of the following options correctly define the function
<code>num_people</code> such that the line above adds the
<code>"family_size"</code> column as desired? <strong>Select all that
apply.</strong></p>
<p><em>Hint:</em> You can access an individual character in a string
using the position number in square brackets. For example,
<code>"midterm"[0]</code> evaluates to <code>"m"</code> and
<code>"midterm"[1]</code> evaluates to <code>"i"</code>.</p>
<pre><code># Option 1
def num_people(fam): 
    return int(fam[0]) + int(fam[2])
------------------------------------
# Option 2
def num_people(fam):
    return int(fam[0] + fam[2])
------------------------------------
# Option 3
def num_people(fam):
    x = int(fam[0] + fam[2])
    return int(x / 10) + x % 10
------------------------------------
# Option 4
def num_people(fam):
    x = fam.strip(&quot;c&quot;).split(&quot;a&quot;)
    return int(x[0]) + int(x[1])
------------------------------------
# Option 5
def num_people(fam):
    x = 0
    for i in fam:
        if i % 2 == 0:
            x = x + 1
    return x
------------------------------------
# Option 6
def num_people(fam):
    x = 0
    for i in np.arange(len(fam)):
        if i % 2 == 0:
            x = x + int(fam[i])
    return x</code></pre>
<ul class="task-list">
<li><p><input type="checkbox" disabled="" /> Option 1</p></li>
<li><p><input type="checkbox" disabled="" /> Option 2</p></li>
<li><p><input type="checkbox" disabled="" /> Option 3</p></li>
<li><p><input type="checkbox" disabled="" /> Option 4</p></li>
<li><p><input type="checkbox" disabled="" /> Option 5</p></li>
<li><p><input type="checkbox" disabled="" /> Option 6</p></li>
<li><p><input type="checkbox" disabled="" /> None of the above.</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading4">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse4" aria-expanded="true" aria-controls="collapse4">
Click to view the solution.
</button>
</h2>
<div id="collapse4" class="accordion-collapse collapse"
aria-labelledby="heading4" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> Options 1, 3, 4, 6</p>
<p>Option 1: In order to get the number of people within a family, we
can look at the character at position 0 (for the number of adults) and
the character at position 2 (for the number of children). Converting
each character into an int and adding these ints yields the correct
results.</p>
<p>Option 2: This is similar to Option 1, however, the key difference is
that the separate strings are concatenated first, then converted into an
integer afterwards. Remember that the plus sign between two strings
concatenates the strings together, and does not add mathematically. For
example, on a family type of <code>"1a2c"</code>, <code>"1"</code> and
<code>"2"</code> will be extracted and concatenated together as
<code>"12"</code>, then converted to the int 12. This is returned
instead of the value 3 that we are looking for.</p>
<p>Option 3: This option is similar to Option 2, however, it includes an
extra step after concatenation. <code>int(x/10)</code> gets the value in
the tens place, taking advantage of the fact that the <code>int()</code>
function always rounds down. At the same time, <code>x % 10</code> gets
the value in the ones place by calculating the remainder upon division
by ten. Looking at the example of <code>"1a2c"</code>, the first line
will set <code>x = 12</code> and then <code>int(12/10)</code> will yield
1 while <code>12 % 10</code> yields 2. Adding these together achieves
the correct answer of 3.</p>
<p>Option 4: This option is similar to Option 1, but includes the
initial step of removing <code>"c"</code> from the string and separating
by <code>"a"</code>. After this, <code>x</code> is a list of two
elements, the first of which represents the number of adults in the
family, and the second of which represents the number of children in the
family. These are separately converted to ints then added up in the last
line.</p>
<p>Option 5: This option iterates through the input string, where
<code>i</code> represents each individual character in the string. For
example, on an input of <code>"1a2c"</code>, <code>i</code> is first set
to <code>1</code>, then <code>a</code>, then <code>2</code>, then
<code>c</code>. However, calculating the remainder when we divide by two
(<code>i % 2</code>) only makes sense when <code>i</code> is a number,
and results in an error when <code>i</code> is a string.</p>
<p>Option 6: This is a similar approach to Option 5, except this time,
<code>i</code> represents each of the numbers 0, 1, 2, and 3, since
<code>len(fam)</code> is always 4. For each such <code>i</code>, which
we can think of as the position number, the code will check if the
position number is even (<code>i % 2 == 0</code>). This is only true for
position 0 and 2, which are the positions that contain the numbers of
adults and children in the family. When this condition is met, we add
the value at that position onto our running total, <code>x</code>, which
at the end, equals the total number of adults and children in the
family.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 73%.</p>
</div>
</div>
</div>
</div>
<hr />
<p class="meta"><em>Source:</em> fa24-final — Q6</p>
<h2 id="problem-5">Problem 5</h2>
<p>Bill is curious about whether his bookstore is busier on weekends
(Saturday, Sunday) or weekdays (Monday, Tuesday, Wednesday, Thursday,
Friday). To help figure this out, he wants to define some helpful
one-line functions.</p>
<p>The function <code>find_day</code> should take in a given
<code>"date"</code> and return the associated day of the week. For
example, <code>find_day("Saturday, December 7, 2024")</code> should
evaluate to <code>"Saturday"</code>.</p>
<p>The function <code>is_weekend</code> should take in a given
<code>"date"</code> and return <code>True</code> if that date is on a
Saturday or Sunday, and <code>False</code> otherwise. For example,
<code>is_weekend("Saturday, December 7, 2024")</code> should evaluate to
<code>True</code>.</p>
<p><br></p>
<h3 id="problem-5.1">Problem 5.1</h3>
<p>Complete the implementation of both functions below.</p>
<pre><code>def find_day(date):
    return date.__(a)__

def weekend(date):
    return find_day(date)[__(b)__] == __(c)__</code></pre>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading5_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse5_1" aria-expanded="true" aria-controls="collapse5_1">
Click to view the solution.
</button>
</h2>
<div id="collapse5_1" class="accordion-collapse collapse"
aria-labelledby="heading5_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p>(a). <strong>Answer</strong>: <code>split(",")[0]</code></p>
<p>The function <code>find_day</code> takes in a string that is a date
with the format <code>"Day of week, Month Day, Year"</code>, and we want
the <code>"Day of week"</code> part. <code>.split(",")</code> separates
the given string by <code>","</code> and gives us a list containing the
separated substrings, which looks something like
<code>["Saturday", " December 7", " 2024"]</code>. We want the first
element in the list, so we use <code>[0]</code> to obtain the first
element of the list.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 89%.</p>
<p>(b). <strong>Answer</strong>: <code>0</code></p>
<p>This blank follows a call of <code>find_day(date)</code>, which
returns a string that is a day of the week, such as
<code>"Saturday"</code>. The blank is inside a pair of <code>[]</code>,
hinting that we are performing string indexing to pull out a specific
character from the string. We want to determine whether the string is
<code>"Saturday"</code> or <code>"Sunday"</code>. The only thing in
common for these two days and is not common for the other five days of
the week is that the string starts with the letter <code>"S"</code>.
Thus, we get the first character using <code>[0]</code> in this
blank.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 74%.</p>
<p>(c). <strong>Answer</strong>: <code>"S"</code></p>
<p>After getting the first character in the string, to check whether it
is the letter <code>"S"</code>, we use <code>==</code> to evaluate this
character against <code>"S"</code>. This expression will give us a
boolean, either <code>True</code> or <code>False</code>, which is then
returned.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 50%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<p>Now, Bill runs the following line of code:</p>
<pre><code>sales_day = sales.assign(weekend = sales.get(&quot;date&quot;).apply(is_weekend))</code></pre>
<p><br></p>
<h3 id="problem-5.2">Problem 5.2</h3>
<p>Determine which of the following code snippets evaluates to the
proportion of book purchases in <code>sales</code> that were made on a
weekend. <strong>Select all that apply.</strong></p>
<ul class="task-list">
<li><p><input type="checkbox" disabled="" /> <code>sales_day[sales_day.get("weekend")].count() / sales_day.shape[0]</code></p></li>
<li><p><input type="checkbox" disabled="" /> <code>sales[sales_day.get("weekend")].shape[0] / sales_day.shape[0]</code></p></li>
<li><p><input type="checkbox" disabled="" /> <code>sales_day.get("weekend").median()</code></p></li>
<li><p><input type="checkbox" disabled="" /> <code>sales_day.get("weekend").mean()</code></p></li>
<li><p><input type="checkbox" disabled="" /> <code>np.count_nonzero(sales_day.get("weekend") &gt; 0.5) / sales_day.shape[0]</code></p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading5_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse5_2" aria-expanded="true" aria-controls="collapse5_2">
Click to view the solution.
</button>
</h2>
<div id="collapse5_2" class="accordion-collapse collapse"
aria-labelledby="heading5_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer</strong>:</p>
<ul>
<li><code>sales[sales_day.get("weekend")].shape[0] / sales_day.shape[0]</code></li>
<li><code>sales_day.get("weekend").mean()</code></li>
<li><code>np.count_nonzero(sales_day.get("weekend") &gt; 0.5) / sales_day.shape[0]</code></li>
</ul>
<p>First of all, we add a new column called <code>"weekend"</code> to
the <code>sales</code> DataFrame, and this new DataFrame is called
<code>sales_day</code>. The new column contains boolean values that
indicate whether the value in the <code>"date"</code> column is
<code>"Saturday"</code> or <code>"Sunday"</code>, which are obtained by
applying <code>is_weekend</code> from the previous question to the
<code>"date"</code> column.</p>
<p>Now, we want to find the proportion of book purchases in sales that
were made on a weekend, which is basically the proportion of rows in the
<code>"weekend"</code> column that are <code>True</code>. Let’s look at
each of the options:</p>
<ul>
<li><p><code>sales_day[sales_day.get("weekend")].count() / sales_day.shape[0]</code>
(incorrect): You can only use <code>.count()</code> on a groupby object.
The correct alternative is to use <code>.shape[0]</code>.</p></li>
<li><p><code>sales[sales_day.get("weekend")].shape[0] / sales_day.shape[0]</code>
(correct): <code>sales_day.get("weekend")</code> gets the
<code>"weekend</code> column from the <code>sales_day</code> DataFrame.
We then use this Series to query the <code>sales</code> DataFrame and
keep only the rows corresponding to weekends. Lastly, we count the
number of rows in this filtered DataFrame with <code>.shape[0]</code>
and divide by the total number of sales to get the proportion.</p></li>
<li><p><code>sales_day.get("weekend").median()</code> (incorrect): A
boolean value can be seen as 1 (True) or 0 (False). Since the column
<code>"weekend"</code> contains all booleans, the median falls on either
1 or 0, which is not the proportion that we want.</p></li>
<li><p><code>sales_day.get("weekend").mean()</code> (correct): A boolean
value can be seen as 1 (True) or 0 (False). The mean of the
<code>"weekend"</code> column is equal to the sum of the column divided
the total number of rows in the column. The sum of the column is the sum
of all the 1’s and 0’s, which is just the number of <code>True</code>s.
The number of <code>True</code>s divided by the total number of rows is
the proportion of sales on weekend.</p></li>
<li><p><code>np.count_nonzero(sales_day.get("weekend") &gt; 0.5) / sales_day.shape[0]</code>
(correct): A boolean value can be seen as 1 (True) or 0 (False).
<code>sales_day.get("weekend") &gt; 0.5</code> gives us a Series of
booleans indicating whether the value in <code>"weekend"</code> is
greater than 0.5. If the value is <code>True</code>, then it’s greater
than 0.5. <code>np.count_nonzero</code> counts the number of values that
are not zero, which is the number of <code>True</code>s. We then divide
the number of <code>True</code>s by the total number of sales to get the
proportion.</p></li>
</ul>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 72%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<p class="meta"><em>Source:</em> fa24-midterm — Q4</p>
<h2 id="problem-6">Problem 6</h2>
<p>The <code>"address"</code> column contains quite a bit of
information. All houses are in <code>"San Diego, CA"</code>, but the
street address and the zip code vary. Note that the “street address"
includes both the house number and street name, such as
<code>"820 Opal Street"</code>. All addresses are formatted in the same
way, for example,
<code>"820 Opal Street, San Diego, CA, 92109"</code>.</p>
<p><br></p>
<h3 id="problem-6.1">Problem 6.1</h3>
<p>Fill in the blanks in the function <code>address_part</code> below.
The function has two inputs: a value in the index of <code>treat</code>
and a string <code>part</code>, which is either <code>"street"</code> or
<code>"zip"</code>. The function should return the appropriate part of
the address at the given index value, as a string. Example behavior is
given below.</p>
<pre><code>&gt;&gt;&gt; address_part(4, &quot;street&quot;)
&quot;8575 Jade Coast Drive&quot;

&gt;&gt;&gt; address_part(1, &quot;zip&quot;)
&quot;92109&quot;</code></pre>
<p>The function already has a return statement included. You should not
add the word <code>return</code> anywhere else!</p>
<pre><code>def address_part(index_value, part):
    if part == &quot;street&quot;:
        var = 0
    else:
        ___(a)___
    return treat.get(&quot;address&quot;).loc[___(b)___].___(c)___</code></pre>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading6_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse6_1" aria-expanded="true" aria-controls="collapse6_1">
Click to view the solution.
</button>
</h2>
<div id="collapse6_1" class="accordion-collapse collapse"
aria-labelledby="heading6_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer</strong>:</p>
<ul>
<li><p>(a): <code>var = 3</code>, <code>var = -1</code> or alternate
solution <code>var = 1</code></p></li>
<li><p>(b): <code>index_value</code></p></li>
<li><p>(c): <code>split(", ")[var]</code> or alternate solution
<code>split(", San Diego, CA, ")[var]</code></p></li>
</ul>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 58%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-6.2">Problem 6.2</h3>
<p>Suppose we had a different function called <code>zip_as_int</code>
that took as input a single address, formatted exactly as the addresses
in <code>treat</code>, and returned the zip code as an <code>int</code>.
Write a Python expression using the <code>zip_as_int</code> function
that evaluates to a Series with the zip codes of all the addresses in
<code>treat</code>.</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading6_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse6_2" aria-expanded="true" aria-controls="collapse6_2">
Click to view the solution.
</button>
</h2>
<div id="collapse6_2" class="accordion-collapse collapse"
aria-labelledby="heading6_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer</strong>:
<code>treat.get("address").apply(zip_as_int)</code></p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 76%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<p class="meta"><em>Source:</em> fa25-midterm — Q1</p>
<h2 id="problem-7">Problem 7</h2>
<p>Each value in the <code>"ps"</code> column is a string formatted like
<code>"(word, tag)"</code>, where the first part is the word and the
second part is a tag indicating the word’s part of speech
(e.g. <code>"(getting, VBG)"</code>). Note that the word and the part of
speech tag are each enclosed in single quotes. To clean the column so
that <code>"ps"</code> contains <strong>only</strong> the part of speech
tag, we run the following line of code.</p>
<pre><code>    words = words.assign(ps = words.get(&quot;ps&quot;).apply(fix_ps))</code></pre>
<p>After we run this line of code, the first five rows of
<code>words</code> should appear as follows.</p>
<center><img src="https://raw.githubusercontent.com/dsc-courses/practice.dsc10.com/refs/heads/master/assets/images/fa25-midterm/ps_fix.jpg" width=300></center>
<p><br />
</p>
<p>Which of the following options correctly define the function
<code>fix_ps</code> to produce the desired result? <strong>Select all
that apply.</strong></p>
<ul class="task-list">
<li><p><input type="checkbox" disabled="" /> <code>def fix_ps(x): return x.split("'")[3]</code></p></li>
<li><p><input type="checkbox" disabled="" /> <code>def fix_ps(x): return x.split(",")[1].strip("')")</code></p></li>
<li><p><input type="checkbox" disabled="" /> <code>def fix_ps(x): return x.split(", ")[1].strip("')")</code></p></li>
<li><p><input type="checkbox" disabled="" /> <code>def fix_ps(x): return x.split(", ")[1].strip(")").strip("'")</code></p></li>
<li><p><input type="checkbox" disabled="" /> <code>def fix_ps(x): return x.split(", ")[1].strip("'").strip(")")</code></p></li>
<li><p><input type="checkbox" disabled="" /> None of the above.</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading7">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse7" aria-expanded="true" aria-controls="collapse7">
Click to view the solution.
</button>
</h2>
<div id="collapse7" class="accordion-collapse collapse"
aria-labelledby="heading7" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p>Let’s consider all the answer options using
<code>x = "(’getting’, ’VBG’)"</code> as our example.</p>
<p><strong>Option 1:</strong><br/>
<code>x.split("’") = ["(", "getting", ", ", "VBG", ")"][3] = "VBG"</code><br/>
This is exactly what we want.</p>
<p><strong>Option 2:</strong><br/>
<code>1. x.split(",") = ["(’getting’", " ’VBG’)"][1] = " ’VBG’)"</code><br/>
<code>2. " ’VBG’)" .strip("’)") = " ’VBG"</code><br/>
Note that <code>strip</code> does not remove the exact substring it’s
given; instead, it removes all leading and trailing characters that
appear in the given set of characters.So, this code removes any
leading/trailing instances of single quote <code>"’"</code> and right
parenthesis <code>")"</code>. <code>" ’VBG’)"</code> starts with a
space, which is not in the argument to <code>strip</code>, so nothing is
removed from the front. It ends with both <code>"’"</code> and
<code>")"</code>, so both are removed, leaving <code>" ’VBG"</code>.
Thus, this option is incorrect.<br/>
</p>
<p><strong>Option 3:</strong><br/>
<code>1. x.split(", ") = ["(’getting’", "’VBG’)"][1] = "’VBG’)"</code><br/>
<code>2. "’VBG’)" .strip("’)") = "VBG"</code><br/>
Here, <code>strip</code> removes any leading and trailing instances of
<code>"’"</code> and <code>")"</code>. <code>"’VBG’)"</code> starts with
<code>"’"</code>, which is removed; it ends with <code>"’"</code> and
<code>")"</code>, which are also removed, leaving <code>"VBG"</code>.
Thus, this option is correct.<br/>
</p>
<p><strong>Option 4:</strong><br/>
<code>1. x.split(", ") = ["(’getting’", "’VBG’)"][1] = "’VBG’)"</code><br/>
<code>2. "’VBG’)" .strip(")") = "’VBG’"</code><br/>
<code>3. "’VBG’" .strip("’") = "VBG"</code><br/>
The first strip removes any leading and trailing instances of
<code>")"</code>, so the last character of <code>"’VBG’)"</code> is
removed to become <code>"’VBG’"</code>. The second strip removes any
leading and trailing instances of <code>"’"</code>, so the first and
last characters of <code>"’VBG’"</code> are removed to become
<code>"VBG"</code>. Thus, this option is correct.<br/>
</p>
<p><strong>Option 5:</strong><br/>
<code>1. x.split(", ") = ["(’getting’", "’VBG’)"][1] = "’VBG’)"</code><br/>
<code>2. "’VBG’)".strip(" ’") = "VBG’)"</code><br/>
<code>3. "VBG’)".strip(")") = "VBG’"</code><br/>
The first strip removes any leading and trailing instances of
<code>" "</code> and <code>"’"</code>, so the first character of
<code>"’VBG’)"</code> is removed to become <code>"VBG’)"</code>. The
second strip removes any leading and trailing instances of
<code>")"</code>, so the last character of <code>"VBG’)"</code> is
removed to become <code>"VBG’"</code>. Incorrect.<br/>
</p>
<p><strong>Therefore, the correct options are 1, 3, and 4.</strong></p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 57%.</p>
</div>
</div>
</div>
</div>
<hr />
<h2 id="problem-8">Problem 8</h2>
<p>In the <code>ikea</code> DataFrame, the first word of each string in
the <code>'product'</code> column represents the product line. For
example the HEMNES line of products includes several different products,
such as beds, dressers, and bedside tables.</p>
<p>The code below assigns a new column to the <code>ikea</code>
DataFrame containing the product line associated with each product.</p>
<div class="sourceCode" id="cb11"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>(ikea.assign(product_line <span class="op">=</span> ikea.get(<span class="st">&#39;product&#39;</span>)</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>                                .<span class="bu">apply</span>(extract_product_line)))</span></code></pre></div>
<p><br></p>
<h3 id="problem-8.1">Problem 8.1</h3>
<p>What are the input and output types of the
<code>extract_product_line</code> function?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> takes a string as input, returns a string</p></li>
<li><p><input type="radio" disabled="" /> takes a string as input, returns a Series</p></li>
<li><p><input type="radio" disabled="" /> takes a Series as input, returns a string</p></li>
<li><p><input type="radio" disabled="" /> takes a Series as input, returns a Series</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading8_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse8_1" aria-expanded="true" aria-controls="collapse8_1">
Click to view the solution.
</button>
</h2>
<div id="collapse8_1" class="accordion-collapse collapse"
aria-labelledby="heading8_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer: </strong> takes a string as input, returns a
string</p>
<p>To use the Series method <code>.apply</code>, we first need a Series,
containing values of any type. We pass in the name of a function to
<code>.apply</code> and essentially, <code>.apply</code> calls the given
function on each value of the Series, producing a Series with the
resulting outputs of those function calls. In this case,
<code>.apply(extract_product_line)</code> is called on the Series
<code>ikea.get('product')</code>, which contains string values. This
means the function <code>extract_product_line</code> must take strings
as inputs. We’re told that the code assigns a new column to the
<code>ikea</code> DataFrame containing the product line associated with
each product, and we know that the product line is a string, as it’s the
first word of the product name. This means the function
<code>extract_product_line</code> must output a string.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 72%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-8.2">Problem 8.2</h3>
<p>Complete the return statement in the
<code>extract_product_line</code> function below.</p>
<p>For example,
<code>extract_product_line('HEMNES Daybed frame with 3 drawers, white, Twin')</code>
should return <code>'HEMNES'</code>.</p>
<div class="sourceCode" id="cb12"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> extract_product_line(x):</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> _________</span></code></pre></div>
<p>What goes in the blank?</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading8_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse8_2" aria-expanded="true" aria-controls="collapse8_2">
Click to view the solution.
</button>
</h2>
<div id="collapse8_2" class="accordion-collapse collapse"
aria-labelledby="heading8_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer: </strong> <code>x.split(' ')[0]</code></p>
<p>This function should take as input a string <code>x</code>,
representing a product name, and return the first word of that string,
representing the product line. Since words are separated by spaces, we
want to split the string on the space character <code>' '</code>.</p>
<p>It’s also correct to answer <code>x.split()[0]</code> without
specifying to split on spaces, because the default behavior of the
string <code>.split</code> method is to split on any whitespace, which
includes any number of spaces, tabs, newlines, etc. Since we’re only
extracting the first word, which will be separated from the rest of the
product name by a single space, it’s equivalent to split using single
spaces and using the default of any whitespace. </p>
<hr/>
<h5>Difficulty:
⭐️⭐️</h5>
<p>The average score on this problem was 84%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="problem-9">Problem 9</h2>
<p>Complete the implementation of the <code>to_minutes</code> function
below. This function takes as input a string formatted as
<code>'x hr, y min'</code> where <code>x</code> and <code>y</code>
represent integers, and returns the corresponding number of minutes,
<strong>as an integer</strong> (type <code>int</code> in Python).</p>
<p>For example, <code>to_minutes('3 hr, 5 min')</code> should return
185.</p>
<div class="sourceCode" id="cb13"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> to_minutes(time):</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>    first_split <span class="op">=</span> time.split(<span class="st">&#39; hr, &#39;</span>)</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>    second_split <span class="op">=</span> first_split[<span class="dv">1</span>].split(<span class="st">&#39; min&#39;</span>)</span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> _________</span></code></pre></div>
<p>What goes in the blank?</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading9">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse9" aria-expanded="true" aria-controls="collapse9">
Click to view the solution.
</button>
</h2>
<div id="collapse9" class="accordion-collapse collapse"
aria-labelledby="heading9" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer: </strong>
<code>int(first_split[0])*60+int(second_split[0])</code></p>
<p>As the last subpart demonstrated, if we want to compare times, it
doesn’t make sense to do so when times are represented as strings. In
the <code>to_minutes</code> function, we convert a time string into an
integer number of minutes.</p>
<p>The first step is to understand the logic. Every hour contains 60
minutes, so for a time string formatted like <code>x hr, y min'</code>
the total number of minutes comes from multiplying the value of
<code>x</code> by 60 and adding <code>y</code>.</p>
<p>The second step is to understand how to extract the <code>x</code>
and <code>y</code> values from the time string using the string methods
<code>.split</code>. The string method <code>.split</code> takes as
input some separator string and breaks the string into pieces at each
instance of the separator string. It then returns a list of all those
pieces. The first line of code, therefore, creates a list called
<code>first_split</code> containing two elements. The first element,
accessed by <code>first_split[0]</code> contains the part of the time
string that comes before <code>' hr, '</code>. That is,
<code>first_split[0]</code> evaluates to the string <code>x</code>.</p>
<p>Similarly, <code>first_split[1]</code> contains the part of the time
string that comes after <code>' hr, '</code>. So it is formatted like
<code>'y min'</code>. If we split this string again using the separator
of <code>' min'</code>, the result will be a list whose first element is
the string <code>'y'</code>. This list is saved as
<code>second_split</code> so <code>second_split[0]</code> evaluates to
the string <code>y</code>.</p>
<p>Now we have the pieces we need to compute the number of minutes,
using the idea of multiplying the value of <code>x</code> by 60 and
adding <code>y</code>. We have to be careful with data types here, as
the bolded instructions warn us that the function must return an
integer. Right now, <code>first_split[0]</code> evaluates to the string
<code>x</code> and <code>second_split[0]</code> evaluates to the string
<code>y</code>. We need to convert these strings to integers before we
can multiply and add. Once we convert using the <code>int</code>
function, then we can multiply the number of hours by 60 and add the
number of minutes. Therefore, the solution is
<code>int(first_split[0])*60+int(second_split[0])</code>.</p>
<p>Note that failure to convert strings to integers using the
<code>int</code> function would lead to very different behavior. Let’s
take the example time string of <code>'3 hr, 5 min'</code> as input to
our function. With the return statement as
<code>int(first_split[0])*60+int(second_split[0])</code>, the function
would return 185 on this input, as desired. With the return statement as
<code>first_split[0]*60+second_split[0]</code>, the function would
return a string of length 61, looking something like this
<code>'3333...33335'</code>. That’s because the <code>*</code> and
<code>+</code> symbols do have meaning for strings, they’re just
different meanings than when used with integers.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 71%.</p>
</div>
</div>
</div>
</div>
<hr />
<h2 id="problem-10">Problem 10</h2>
<p>Recall that an IKEA fan created an app for people to log the amount
of time it takes them to assemble an IKEA product. We have this data in
<code>app_data</code>.</p>
<p><br></p>
<h3 id="problem-10.1">Problem 10.1</h3>
<p>Suppose that when someone downloads the app, the app requires them to
choose a username, which must be different from all other registered
usernames.</p>
<p><strong>True or False</strong>: If <code>app_data</code> had included
a column with the username of the person who reported each product
build, it would make sense to index <code>app_data</code> by
username.</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> True</p></li>
<li><p><input type="radio" disabled="" /> False</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading10_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse10_1" aria-expanded="true" aria-controls="collapse10_1">
Click to view the solution.
</button>
</h2>
<div id="collapse10_1" class="accordion-collapse collapse"
aria-labelledby="heading10_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer: </strong> False</p>
<p>Even though people must have distinct usernames, one person can build
multiple different IKEA products and log their time for each build. So
we don’t expect every row of <code>app_data</code> to have a distinct
username associated with it, and therefore username would not be
suitable as an index, since the index should have distinct values.
</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>The average score on this problem was
52%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-10.2">Problem 10.2</h3>
<p>What does the code below evaluate to?</p>
<div class="sourceCode" id="cb14"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>(app_data.take(np.arange(<span class="dv">4</span>))</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>         .sort_values(by<span class="op">=</span><span class="st">&#39;assembly_time&#39;</span>)</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>         .get(<span class="st">&#39;assembly_time&#39;</span>)</span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>         .iloc[<span class="dv">0</span>])</span></code></pre></div>
<p><em>Hint:</em> The <code>'assembly_time'</code> column contains
strings.</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading10_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse10_2" aria-expanded="true" aria-controls="collapse10_2">
Click to view the solution.
</button>
</h2>
<div id="collapse10_2" class="accordion-collapse collapse"
aria-labelledby="heading10_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer: </strong> <code>'1 hr, 45 min'</code></p>
<p>The code says that we should take the first four rows of
<code>app_data</code> (which we can see in the preview at the start of
this exam), sort the rows in ascending order of
<code>'assembly_time'</code>, and extract the very first entry of the
<code>'assembly_time'</code> column. In other words, we have to find the
<code>'assembly_time'</code> value that would be first when sorted in
ascending order. As given in the hint, the <code>'assembly_time'</code>
column contains strings, and strings get sorted alphabetically, so we
are looking for the assembly time, among the first four, that would come
first alphabetically. This is <code>'1 hr, 45 min'</code>.</p>
<p>Note that first alphabetically does not correspond to the least
amount of time. <code>'1 hr, 5 min'</code> represents less time than
<code>'1 hr, 45 min'</code>, but in alphabetical order
<code>'1 hr, 45 min'</code> comes before <code>'1 hr, 5 min'</code>
because both start with the same characters <code>'1 hr, '</code> and
comparing the next character, <code>'4'</code> comes before
<code>'5'</code>. </p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️⭐️</h5>
<p>The average score
on this problem was 46%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="problem-11">Problem 11</h2>
<p>Suppose that when someone downloads the app, the app requires them to
choose a username, which must be different from all other registered
usernames.</p>
<p><strong>True or False</strong>: If <code>app_data</code> had included
a column with the username of the person who reported each product
build, it would make sense to index <code>app_data</code> by
username.</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> True</p></li>
<li><p><input type="radio" disabled="" /> False</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading11">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse11" aria-expanded="true" aria-controls="collapse11">
Click to view the solution.
</button>
</h2>
<div id="collapse11" class="accordion-collapse collapse"
aria-labelledby="heading11" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer: </strong> False</p>
<p>Even though people must have distinct usernames, one person can build
multiple different IKEA products and log their time for each build. So
we don’t expect every row of <code>app_data</code> to have a distinct
username associated with it, and therefore username would not be
suitable as an index, since the index should have distinct values.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 52%.</p>
</div>
</div>
</div>
</div>
<hr />
<h2 id="problem-12">Problem 12</h2>
<p>Recall that an IKEA fan created an app for people to log the amount
of time it takes them to assemble an IKEA product. We have this data in
<code>app_data</code>.</p>
<p><br></p>
<h3 id="problem-12.1">Problem 12.1</h3>
<p>Suppose that when someone downloads the app, the app requires them to
choose a username, which must be different from all other registered
usernames.</p>
<p><strong>True or False</strong>: If <code>app_data</code> had included
a column with the username of the person who reported each product
build, it would make sense to index <code>app_data</code> by
username.</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> True</p></li>
<li><p><input type="radio" disabled="" /> False</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading12_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse12_1" aria-expanded="true" aria-controls="collapse12_1">
Click to view the solution.
</button>
</h2>
<div id="collapse12_1" class="accordion-collapse collapse"
aria-labelledby="heading12_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer: </strong> False</p>
<p>Even though people must have distinct usernames, one person can build
multiple different IKEA products and log their time for each build. So
we don’t expect every row of <code>app_data</code> to have a distinct
username associated with it, and therefore username would not be
suitable as an index, since the index should have distinct values.
</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>The average score on this problem was
52%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-12.2">Problem 12.2</h3>
<p>What does the code below evaluate to?</p>
<div class="sourceCode" id="cb15"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>(app_data.take(np.arange(<span class="dv">4</span>))</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>         .sort_values(by<span class="op">=</span><span class="st">&#39;assembly_time&#39;</span>)</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>         .get(<span class="st">&#39;assembly_time&#39;</span>)</span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>         .iloc[<span class="dv">0</span>])</span></code></pre></div>
<p><em>Hint:</em> The <code>'assembly_time'</code> column contains
strings.</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading12_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse12_2" aria-expanded="true" aria-controls="collapse12_2">
Click to view the solution.
</button>
</h2>
<div id="collapse12_2" class="accordion-collapse collapse"
aria-labelledby="heading12_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer: </strong> <code>'1 hr, 45 min'</code></p>
<p>The code says that we should take the first four rows of
<code>app_data</code> (which we can see in the preview at the start of
this exam), sort the rows in ascending order of
<code>'assembly_time'</code>, and extract the very first entry of the
<code>'assembly_time'</code> column. In other words, we have to find the
<code>'assembly_time'</code> value that would be first when sorted in
ascending order. As given in the hint, the <code>'assembly_time'</code>
column contains strings, and strings get sorted alphabetically, so we
are looking for the assembly time, among the first four, that would come
first alphabetically. This is <code>'1 hr, 45 min'</code>.</p>
<p>Note that first alphabetically does not correspond to the least
amount of time. <code>'1 hr, 5 min'</code> represents less time than
<code>'1 hr, 45 min'</code>, but in alphabetical order
<code>'1 hr, 45 min'</code> comes before <code>'1 hr, 5 min'</code>
because both start with the same characters <code>'1 hr, '</code> and
comparing the next character, <code>'4'</code> comes before
<code>'5'</code>. </p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️⭐️</h5>
<p>The average score
on this problem was 46%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-12.3">Problem 12.3</h3>
<p>Complete the implementation of the <code>to_minutes</code> function
below. This function takes as input a string formatted as
<code>'x hr, y min'</code> where <code>x</code> and <code>y</code>
represent integers, and returns the corresponding number of minutes,
<strong>as an integer</strong> (type <code>int</code> in Python).</p>
<p>For example, <code>to_minutes('3 hr, 5 min')</code> should return
185.</p>
<div class="sourceCode" id="cb16"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> to_minutes(time):</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>    first_split <span class="op">=</span> time.split(<span class="st">&#39; hr, &#39;</span>)</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>    second_split <span class="op">=</span> first_split[<span class="dv">1</span>].split(<span class="st">&#39; min&#39;</span>)</span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> _________</span></code></pre></div>
<p>What goes in the blank?</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading12_3">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse12_3" aria-expanded="true" aria-controls="collapse12_3">
Click to view the solution.
</button>
</h2>
<div id="collapse12_3" class="accordion-collapse collapse"
aria-labelledby="heading12_3" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer: </strong>
<code>int(first_split[0])*60+int(second_split[0])</code></p>
<p>As the last subpart demonstrated, if we want to compare times, it
doesn’t make sense to do so when times are represented as strings. In
the <code>to_minutes</code> function, we convert a time string into an
integer number of minutes.</p>
<p>The first step is to understand the logic. Every hour contains 60
minutes, so for a time string formatted like <code>x hr, y min'</code>
the total number of minutes comes from multiplying the value of
<code>x</code> by 60 and adding <code>y</code>.</p>
<p>The second step is to understand how to extract the <code>x</code>
and <code>y</code> values from the time string using the string methods
<code>.split</code>. The string method <code>.split</code> takes as
input some separator string and breaks the string into pieces at each
instance of the separator string. It then returns a list of all those
pieces. The first line of code, therefore, creates a list called
<code>first_split</code> containing two elements. The first element,
accessed by <code>first_split[0]</code> contains the part of the time
string that comes before <code>' hr, '</code>. That is,
<code>first_split[0]</code> evaluates to the string <code>x</code>.</p>
<p>Similarly, <code>first_split[1]</code> contains the part of the time
string that comes after <code>' hr, '</code>. So it is formatted like
<code>'y min'</code>. If we split this string again using the separator
of <code>' min'</code>, the result will be a list whose first element is
the string <code>'y'</code>. This list is saved as
<code>second_split</code> so <code>second_split[0]</code> evaluates to
the string <code>y</code>.</p>
<p>Now we have the pieces we need to compute the number of minutes,
using the idea of multiplying the value of <code>x</code> by 60 and
adding <code>y</code>. We have to be careful with data types here, as
the bolded instructions warn us that the function must return an
integer. Right now, <code>first_split[0]</code> evaluates to the string
<code>x</code> and <code>second_split[0]</code> evaluates to the string
<code>y</code>. We need to convert these strings to integers before we
can multiply and add. Once we convert using the <code>int</code>
function, then we can multiply the number of hours by 60 and add the
number of minutes. Therefore, the solution is
<code>int(first_split[0])*60+int(second_split[0])</code>.</p>
<p>Note that failure to convert strings to integers using the
<code>int</code> function would lead to very different behavior. Let’s
take the example time string of <code>'3 hr, 5 min'</code> as input to
our function. With the return statement as
<code>int(first_split[0])*60+int(second_split[0])</code>, the function
would return 185 on this input, as desired. With the return statement as
<code>first_split[0]*60+second_split[0]</code>, the function would
return a string of length 61, looking something like this
<code>'3333...33335'</code>. That’s because the <code>*</code> and
<code>+</code> symbols do have meaning for strings, they’re just
different meanings than when used with integers.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 71%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-12.4">Problem 12.4</h3>
<p>You want to add to <code>app_data</code> a column called
<code>'minutes'</code> with integer values representing the number of
minutes it took to assemble each product.</p>
<div class="sourceCode" id="cb17"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>app_data <span class="op">=</span> app_data.assign(minutes <span class="op">=</span> _________)</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>app_data</span></code></pre></div>
<p>Which of the following should go in the blank?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> <code>to_minutes('assembly_time')</code></p></li>
<li><p><input type="radio" disabled="" /> <code>to_minutes(app_data.get('assembly_time'))</code></p></li>
<li><p><input type="radio" disabled="" /> <code>app_data.get('assembly_time').apply(to_minutes)</code></p></li>
<li><p><input type="radio" disabled="" /> <code>app_data.get('assembly_time').apply(to_minutes(time))</code></p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading12_4">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse12_4" aria-expanded="true" aria-controls="collapse12_4">
Click to view the solution.
</button>
</h2>
<div id="collapse12_4" class="accordion-collapse collapse"
aria-labelledby="heading12_4" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer: </strong>
<code>app_data.get('assembly_time').apply(to_minutes)</code></p>
<p>We want to create a Series of times in minutes, since it’s to be
added to the <code>app_data</code> DataFrame using <code>.assign</code>.
The correct way to do that is to use <code>.apply</code> so that our
function, which works for one input time string, can be applied
separately to every time string in the <code>'assembly_time'</code>
column of <code>app_data</code>. Remember that <code>.apply</code> takes
as input one parameter, the name of the function to apply, with no
arguments. The correct syntax is
<code>app_data.get('assembly_time').apply(to_minutes)</code>.</p>
<hr/>
<h5>Difficulty: ⭐️</h5>
<p>
</p>
<p>The average score on this problem was 98%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="problem-13">Problem 13</h2>
<p>In the <code>ikea</code> DataFrame, the first word of each string in
the <code>'product'</code> column represents the product line. For
example the HEMNES line of products includes several different products,
such as beds, dressers, and bedside tables.</p>
<p>The code below assigns a new column to the <code>ikea</code>
DataFrame containing the product line associated with each product.</p>
<div class="sourceCode" id="cb18"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>(ikea.assign(product_line <span class="op">=</span> ikea.get(<span class="st">&#39;product&#39;</span>)</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>                                .<span class="bu">apply</span>(extract_product_line)))</span></code></pre></div>
<p><br></p>
<h3 id="problem-13.1">Problem 13.1</h3>
<p>What are the input and output types of the
<code>extract_product_line</code> function?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> takes a string as input, returns a string</p></li>
<li><p><input type="radio" disabled="" /> takes a string as input, returns a Series</p></li>
<li><p><input type="radio" disabled="" /> takes a Series as input, returns a string</p></li>
<li><p><input type="radio" disabled="" /> takes a Series as input, returns a Series</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading13_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse13_1" aria-expanded="true" aria-controls="collapse13_1">
Click to view the solution.
</button>
</h2>
<div id="collapse13_1" class="accordion-collapse collapse"
aria-labelledby="heading13_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer: </strong> takes a string as input, returns a
string</p>
<p>To use the Series method <code>.apply</code>, we first need a Series,
containing values of any type. We pass in the name of a function to
<code>.apply</code> and essentially, <code>.apply</code> calls the given
function on each value of the Series, producing a Series with the
resulting outputs of those function calls. In this case,
<code>.apply(extract_product_line)</code> is called on the Series
<code>ikea.get('product')</code>, which contains string values. This
means the function <code>extract_product_line</code> must take strings
as inputs. We’re told that the code assigns a new column to the
<code>ikea</code> DataFrame containing the product line associated with
each product, and we know that the product line is a string, as it’s the
first word of the product name. This means the function
<code>extract_product_line</code> must output a string.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 72%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-13.2">Problem 13.2</h3>
<p>Complete the return statement in the
<code>extract_product_line</code> function below.</p>
<div class="sourceCode" id="cb19"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> extract_product_line(x):</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> _________</span></code></pre></div>
<p>What goes in the blank?</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading13_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse13_2" aria-expanded="true" aria-controls="collapse13_2">
Click to view the solution.
</button>
</h2>
<div id="collapse13_2" class="accordion-collapse collapse"
aria-labelledby="heading13_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer: </strong> <code>x.split(' ')[0]</code></p>
<p>This function should take as input a string <code>x</code>,
representing a product name, and return the first word of that string,
representing the product line. Since words are separated by spaces, we
want to split the string on the space character <code>' '</code>.</p>
<p>It’s also correct to answer <code>x.split()[0]</code> without
specifying to split on spaces, because the default behavior of the
string <code>.split</code> method is to split on any whitespace, which
includes any number of spaces, tabs, newlines, etc. Since we’re only
extracting the first word, which will be separated from the rest of the
product name by a single space, it’s equivalent to split using single
spaces and using the default of any whitespace. </p>
<hr/>
<h5>Difficulty:
⭐️⭐️</h5>
<p>The average score on this problem was 84%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<p class="meta"><em>Source:</em> sp23-midterm — Q2</p>
<h2 id="problem-14">Problem 14</h2>
<p>Fill in the blanks below so that the expression evaluates to the most
unread emails of any student that has 0 Instagram followers.</p>
<div class="sourceCode" id="cb20"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>survey[__(a)__].__(b)__</span></code></pre></div>
<p><br></p>
<h3 id="problem-14.1">Problem 14.1</h3>
<p>What goes in blank (a)?</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading14_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse14_1" aria-expanded="true" aria-controls="collapse14_1">
Click to view the solution.
</button>
</h2>
<div id="collapse14_1" class="accordion-collapse collapse"
aria-labelledby="heading14_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer</strong>:
<code>survey.get("IG Followers") == 0</code></p>
<p><code>survey.get("IG Followers")</code> is a Series containing the
values in the <code>"IG Followers"</code> column.
<code>survey.get("IG Followers") == 0</code>, then, is a Series of
<code>True</code>s and <code>False</code>s, containing <code>True</code>
for rows where the number of <code>"IG Followers"</code> is 0 and
<code>False</code> for all other rows.</p>
<p>Put together, <code>survey[survey.get("IG Followers") == 0]</code>
evaluates to a new DataFrame, which only has the rows in
<code>survey</code> where the student’s number of
<code>"IG Followers"</code> is <code>0</code>.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 89%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<p><br></p>
<h3 id="problem-14.2">Problem 14.2</h3>
<p>What goes in blank (b)? Select all valid answers.</p>
<ul class="task-list">
<li><p><input type="checkbox" disabled="" /> <code>get("Unread Emails").apply(max)</code></p></li>
<li><p><input type="checkbox" disabled="" /> <code>get("Unread Emails").max()</code></p></li>
<li><p><input type="checkbox" disabled="" /> <code>sort_values("Unread Emails", ascending=False).get("Unread Emails").iloc[0]</code></p></li>
<li><p><input type="checkbox" disabled="" /> <code>sort_values("Unread Emails", ascending=False).get("Unread Emails").iloc[-1]</code></p></li>
<li><p><input type="checkbox" disabled="" /> None of the above</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading14_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse14_2" aria-expanded="true" aria-controls="collapse14_2">
Click to view the solution.
</button>
</h2>
<div id="collapse14_2" class="accordion-collapse collapse"
aria-labelledby="heading14_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer</strong>: Options 2 and 3</p>
<p>Let’s look at each option.</p>
<ul>
<li><strong>Option 1</strong>:
<code>get("Unread Emails").apply(max)</code> This option is invalid
because <code>.apply(max)</code> will produce a new Series containing
the maximums of each individual element in <code>"Unread Emails"</code>
rather than the maximum of the entire column. Since the values in the
<code>"Unread Emails"</code> columns are numbers, this will try to call
<code>max</code> on a number individually (many times), and that errors,
since e.g. <code>max(2)</code> is invalid.</li>
<li><strong>Option 2</strong>: <code>get("Unread Emails").max()</code>
This option is valid because it directly fetches the
<code>"Unread Emails"</code> column and uses the <code>max</code> method
to retrieve the highest value within it, aligning with the goal of
identifying the most unread emails.</li>
<li><strong>Option 3</strong>:
<code>sort_values("Unread Emails", ascending=False).get("Unread Emails").iloc[0]</code>
This option is valid. The
<code>sort_values("Unread Emails", ascending=False)</code> method call
sorts the <code>"Unread Emails"</code> column in descending order.
Following this, <code>.get("Unread Emails")</code> retrieves the sorted
column, and <code>.iloc[0]</code> selects the first element, which,
given the sorting, represents the maximum number of unread emails.</li>
<li><strong>Option 4</strong>:
<code>sort_values("Unread Emails", ascending=False).get("Unread Emails").iloc[-1]</code>
This option is invalid because, although it sorts the
<code>"Unread Emails"</code> column in descending order, it selects the
last element with <code>.iloc[-1]</code>, which represents the smallest
number of unread emails due to the descending sort order.</li>
</ul>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 89%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<p>Now, consider the following block of code.</p>
<div class="sourceCode" id="cb21"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>temp <span class="op">=</span> survey.groupby([<span class="st">&quot;IG Followers&quot;</span>, <span class="st">&quot;College&quot;</span>]).<span class="bu">max</span>().reset_index()</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>revellian <span class="op">=</span> temp[__(c)__].get(<span class="st">&quot;Unread Emails&quot;</span>).__(d)__</span></code></pre></div>
<p>Fill in the blanks below so that <code>revellian</code> is equal to
the most unread emails of any student in Revelle, among those with 0
Instagram followers.</p>
<p><br></p>
<h3 id="problem-14.3">Problem 14.3</h3>
<p>What goes in blank (c)?</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading14_3">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse14_3" aria-expanded="true" aria-controls="collapse14_3">
Click to view the solution.
</button>
</h2>
<div id="collapse14_3" class="accordion-collapse collapse"
aria-labelledby="heading14_3" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answers</strong>:
<code>(temp.get("College") == "Revelle") &amp; (temp.get("IG Followers") == 0)</code></p>
<p>To identify the students in <code>"Revelle"</code> with
<code>0</code> Instagram followers, we filter the <code>temp</code>
DataFrame using two conditions: <code>(temp["IG Followers"] == 0)</code>
ensures students have no Instagram followers, and
<code>(temp["College"] == "Revelle")</code> ensures the student is from
<code>"Revelle"</code>. The <code>&amp;</code> operator combines these
conditions, resulting in a subset of students from
<code>"Revelle"</code> with 0 Instagram followers.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 54%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-14.4">Problem 14.4</h3>
<p>What goes in blank (d)?</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading14_4">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse14_4" aria-expanded="true" aria-controls="collapse14_4">
Click to view the solution.
</button>
</h2>
<div id="collapse14_4" class="accordion-collapse collapse"
aria-labelledby="heading14_4" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer</strong>: <code>iloc[0]</code>, <code>iloc[-1]</code>,
<code>sum()</code>, <code>max()</code>, <code>mean()</code>, or any
other method that when called on a Series with a single value outputs
that same value</p>
<p>To create <code>temp</code>, we grouped on both
<code>"IG Followers"</code> and <code>"College"</code> and used the
<code>max</code> aggregation method. This means that <code>temp</code>
has exactly one row where <code>"College"</code> is
<code>"Revelle"</code> and <code>"IG Followers"</code> is 0, since when
we group on both <code>"IG Followers"</code> and <code>"College"</code>,
the resulting DataFrame has exactly one row for every unique combination
of <code>"IG Followers"</code> and <code>"College"</code> name. We’ve
already identified that before blank (d) is</p>
<div id="cb1" class="sourceCode">
<pre class="sourceCode py"><code class="sourceCode python"><span id="cb1-1"><a aria-hidden="true" href="#cb1-1" tabindex="-1"></a>temp[(temp.get(<span class="st">"College"</span>) <span class="op">==</span> <span class="st">"Revelle"</span>) <span class="op">&amp;</span> (temp.get(<span class="st">"IG Followers"</span>) <span class="op">==</span> <span class="dv">0</span>)].get(<span class="st">"Unread Emails"</span>)</span></code></pre>
</div>
<p>Since
<code>temp[(temp.get("College") == "Revelle") &amp; (temp.get("IG Followers") == 0)]</code>
is a DataFrame with just a single row, the entire expression is a Series
with just a single value, being the maximum value we ever saw in the
<code>"Unread Emails"</code> column when <code>"College"</code> was
<code>"Revelle"</code> and <code>"IG Followers"</code> was 0. To extract
the one element out of a Series that only has one element, we can use
many aggregation methods (<code>max</code>, <code>min</code>,
<code>mean</code>, <code>median</code>) or use <code>.iloc[0]</code> or
<code>.iloc[-1]</code>.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 79%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<p><br></p>
<h3 id="problem-14.5">Problem 14.5</h3>
<p>The student in Revelle with the most unread emails, among those with
0 Instagram followers, is a <code>"HI25"</code> (History) major. Is the
value <code>"HI25"</code> guaranteed to appear at least once within
<code>temp.get("Major")</code>?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> Yes</p></li>
<li><p><input type="radio" disabled="" /> No</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading14_5">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse14_5" aria-expanded="true" aria-controls="collapse14_5">
Click to view the solution.
</button>
</h2>
<div id="collapse14_5" class="accordion-collapse collapse"
aria-labelledby="heading14_5" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer</strong>: No</p>
<p>When the <code>survey</code> DataFrame is grouped by both
<code>"IG Followers"</code> and <code>"College"</code> using the
<code>.max</code> aggregation method, it retrieves the maximum value for
each column based on alphabetical order. Even if a student in
<code>"Revelle"</code> with 0 Instagram followers has the most unread
emails and is a <code>"HI25"</code> major, the <code>"HI25"</code> value
would only be the maximum for the <code>"Major"</code> column if no
other major code in the same group alphabetically surpasses it.
Therefore, if there’s another major code like <code>"HI26"</code> or
<code>"MA30"</code> in that group, it would be chosen as the maximum
instead of <code>"HI25"</code>.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 59%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<p class="meta"><em>Source:</em> sp24-final — Q13</p>
<h2 id="problem-15">Problem 15</h2>
<p><br></p>
<h3 id="problem-15.1">Problem 15.1</h3>
<p>Values in the <code>"Bath"</code> column are <code>"One"</code>,
<code>"One and a half"</code>, <code>"Two"</code>,
<code>"Two and a half"</code>, and <code>"Three"</code>. Fill in the
blank in the function <code>float_bath</code> that will convert any
string from the <code>"Bath"</code> column into its corresponding number
of bathrooms, as a float. For example,
<code>float_bath("One and a half")</code> should return
<code>1.5</code>.</p>
<div class="sourceCode" id="cb22"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> float_bath(s):</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="st">&quot;One&quot;</span> <span class="kw">in</span> s:</span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>        n_baths <span class="op">=</span> <span class="dv">1</span></span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>    <span class="cf">elif</span> <span class="st">&quot;Two&quot;</span> <span class="kw">in</span> s:</span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>        n_baths <span class="op">=</span> <span class="dv">2</span></span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a>        n_baths <span class="op">=</span> <span class="dv">3</span></span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="st">&quot;and a half&quot;</span> <span class="kw">in</span> s:</span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a>        __(a)__</span>
<span id="cb22-10"><a href="#cb22-10" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> n_baths</span></code></pre></div>
<p>What goes in blank <code>(a)</code>?</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading15_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse15_1" aria-expanded="true" aria-controls="collapse15_1">
Click to view the solution.
</button>
</h2>
<div id="collapse15_1" class="accordion-collapse collapse"
aria-labelledby="heading15_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> <code>n_baths = n_baths + 0.5</code></p>
<p>The behavior that we want this line of code to have is to work
regardless if the bath string contains <code>"One"</code>,
<code>"Two"</code>, or <code>"Three"</code>. This means we need to have
some way of taking the value that <code>n_baths</code> is already
assigned and adding 0.5 to it. So, our code should read
<code>n_baths = n_baths + 0.5</code>.</p>
<hr/>
<h5>Difficulty: ⭐️</h5>
<p>
</p>
<p>The average score on this problem was 92%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-15.2">Problem 15.2</h3>
<p>Values in the <code>"Lease Term"</code> column are
<code>"1 month"</code>, <code>"6 months"</code>, and
<code>"1 year"</code>. Fill in the blanks in the function
<code>int_lease()</code> that will convert any string from the
<code>"Lease Term"</code> column to the corresponding length of the
lease, in months, as an integer.</p>
<div class="sourceCode" id="cb23"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> int_lease(s):</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> s[<span class="op">-</span><span class="dv">1</span>] <span class="op">==</span> <span class="st">&quot;r&quot;</span>:</span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> __(b)__</span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> __(c)__</span></code></pre></div>
<p>What goes in blanks <code>(b)</code> and <code>(c)</code>?</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading15_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse15_2" aria-expanded="true" aria-controls="collapse15_2">
Click to view the solution.
</button>
</h2>
<div id="collapse15_2" class="accordion-collapse collapse"
aria-labelledby="heading15_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong></p>
<ul>
<li><code>(b)</code>: <code>12</code></li>
<li><code>(c)</code>: <code>int(s[0])</code></li>
</ul>
<p>The code in blank (b) will only be run if the last letter of
<code>s</code> is <code>"r"</code>, which only happens when
<code>s = "1 year"</code>. So, blank (b) should return
<code>12</code>.</p>
<p>The code in blank (c) will run when <code>s</code> has any value
other than <code>"1 year"</code>. This includes only two options:
<code>1 month</code>, and <code>6 months</code>. In order to get the
corresponding number of the months for these two string values, we just
need to take the first character of the string and convert it from a
<code>str</code> type to an <code>int</code> type. So, blank (c) should
return <code>int(s[0])</code>.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 84%. </p>
<hr/>
<h5>Difficulty:
⭐️⭐️⭐️</h5>
<p>The average score on this problem was 67%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-15.3">Problem 15.3</h3>
<p>Values in the <code>"Bed"</code> column are <code>"Studio"</code>,
<code>"One"</code>, <code>"Two"</code>, and <code>"Three"</code>. The
function <code>int_bed</code> provided below converts any string from
the <code>"Bed"</code> column to the corresponding number of bedrooms,
as an integer. Note that <code>"Studio"</code> apartments count as
having 0 bedrooms.</p>
<div class="sourceCode" id="cb24"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> int_bed(s):</span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> s <span class="op">==</span> <span class="st">&quot;Studio&quot;</span>:</span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="dv">0</span></span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>    <span class="cf">elif</span> s <span class="op">==</span> <span class="st">&quot;One&quot;</span>:</span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="dv">1</span></span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a>    <span class="cf">elif</span> s <span class="op">==</span> <span class="st">&quot;Two&quot;</span>:</span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="dv">2</span></span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="dv">3</span></span></code></pre></div>
<p>Using the provided <code>int_bed</code> function, write one line of
code that modifies the <code>"Bed"</code> column of the
<code>apts</code> DataFrame so that it contains integers instead of
strings.</p>
<p><strong>Important:</strong> We will assume throughout the rest of
this exam that we have converted the <code>"Bed"</code> column of
<code>apts</code> so that it now contains ints.</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading15_3">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse15_3" aria-expanded="true" aria-controls="collapse15_3">
Click to view the solution.
</button>
</h2>
<div id="collapse15_3" class="accordion-collapse collapse"
aria-labelledby="heading15_3" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong>
<code>apts = apts.assign(Bed = apts.get("Bed").apply(int_bed))</code></p>
<p>The code above takes the “Bed” column, <code>apts.get("Bed")</code>,
and uses <code>.apply(int_bed)</code>, which runs each entry through the
<code>int_bed</code> function that we have defined above. All that is
left is to save the result back to the dataframe; this can be done with
<code>.assign()</code>.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 68%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<p class="meta"><em>Source:</em> sp24-midterm — Q1</p>
<h2 id="problem-16">Problem 16</h2>
<p>Fill in the blanks in the function <code>sum_phone</code> below. This
function should take as input a string representing a phone number,
given in the form <code>"xxx-xxx-xxxx"</code>, and return the sum of the
digits of that phone number, as an <code>int</code>.</p>
<p>For example, <code>sum_phone("501-800-3002")</code> should evaluate
to <code>19</code>.</p>
<div class="sourceCode" id="cb25"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>     <span class="kw">def</span> sum_phone(phone_number):</span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>        total <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> digit <span class="kw">in</span> phone_number:</span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>            <span class="cf">if</span> ___(a)___:</span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a>                ___(b)___ </span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> total</span></code></pre></div>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading16">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse16" aria-expanded="true" aria-controls="collapse16">
Click to view the solution.
</button>
</h2>
<div id="collapse16" class="accordion-collapse collapse"
aria-labelledby="heading16" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong></p>
<ul>
<li><strong>(a) <code>digit != "-"</code></strong></li>
<li><strong>(b) <code>total = total + int(digit)</code></strong></li>
</ul>
<ol type="a">
<li>We only care if the current <code>digit</code> is a number, and the
only character in the string of the <code>phone_number</code> is the
hyphen (<code>-</code>). For instance, in the given phone number of
<code>"501-800-3002"</code>, we want to extract the actual numbers in
the string, without the hyphens. So, because we cannot establish a
numerical value to a hyphen, we exclude it.</li>
</ol>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 34%.</p>
<p><br/><br/></p>
<ol start="2" type="a">
<li>This converts the current character to an integer and adds it to the
total sum if the character is a digit.</li>
</ol>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 71%.</p>
</div>
</div>
</div>
</div>
<hr />
<p class="meta"><em>Source:</em> sp24-midterm — Q7</p>
<h2 id="problem-17">Problem 17</h2>
<p>Recall from the data description that the <code>"DOB"</code> column
in <code>contacts</code> contains the date of birth of everyone in your
contacts list, as a string formatted like <code>"MM-DD-YYYY"</code>.</p>
<p>Looking at the calendar, you see that today’s date is May 3rd, 2024,
which is <code>"05-03-2024"</code>.</p>
<p><br></p>
<h3 id="problem-17.1">Problem 17.1</h3>
<p>Using today’s date, fill in the blanks in the function
<code>age_today</code> so that the function takes as input someone’s
date of birth, as a string formatted like <code>"MM-DD-YYYY"</code>, and
returns that person’s age, as of today.</p>
<div class="sourceCode" id="cb26"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> age_today(dob):</span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>        dob <span class="op">=</span> dob.split(<span class="st">&quot;-&quot;</span>)</span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a>        month <span class="op">=</span> ___(a)___ <span class="co"># the month, as an int</span></span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a>        day <span class="op">=</span> ___(b)___ <span class="co"># the day, as an int</span></span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a>        year <span class="op">=</span> ___(c)___ <span class="co"># the year, as an int</span></span>
<span id="cb26-7"><a href="#cb26-7" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> ___(d)___:</span>
<span id="cb26-8"><a href="#cb26-8" aria-hidden="true" tabindex="-1"></a>            <span class="cf">return</span> <span class="dv">2024</span> <span class="op">-</span> year</span>
<span id="cb26-9"><a href="#cb26-9" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="dv">2024</span> <span class="op">-</span> year <span class="op">-</span> <span class="dv">1</span></span></code></pre></div>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading17_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse17_1" aria-expanded="true" aria-controls="collapse17_1">
Click to view the solution.
</button>
</h2>
<div id="collapse17_1" class="accordion-collapse collapse"
aria-labelledby="heading17_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong></p>
<ul>
<li>(a): <code>int(dob[0])</code></li>
<li>(b): <code>int(dob[1])</code></li>
<li>(c): <code>int(dob[2])</code></li>
<li>(d):
<code>(month &lt; 5) or (month == 5 and day &lt;= 3)</code></li>
</ul>
<p>.split() method divides a string into a list based on delimiter. In
this probelm, <code>dob.split("-")</code> returns a list of substrings
that were separated by hyphens in the original string formatted like
<code>"MM-DD-YYYY". Thus, after using the .split("-"), the resulting list will be formatted like</code>[“MM”,
“DD”, “YYYY”]. Thus, we can access month, day, year by its position in
the list <code>dob</code>.</p>
<p>Note that the comment asks month, day, year as int, do we need to
convert them from string to int datatype, by using int(). Thus, we have
<code>month = int(dob[0])</code>, <code>day = int(dob[1])</code>,
<code>year = int(dob[2])</code>. This is for us to calculate age later
by comparing month and day numebrs.</p>
<p>Then to calculate the age of the person given today is “05-03-2024”,
we can use <code>2024-year</code>. But if a person is born after May
3rd, then they are techinically 1 year younger than that, so we should
use <code>2024-year-1</code>. Thus in the if statment, we use
<code>(month &lt; 5) or (month == 5 and day &lt;= 3)</code> to compare
if the person is born in January, February, March, April or one of the
first three days of May.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 59%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<p><br></p>
<h3 id="problem-17.2">Problem 17.2</h3>
<p>Write a Python expression that evaluates to the average age of all of
your contacts, as of today.</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading17_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse17_2" aria-expanded="true" aria-controls="collapse17_2">
Click to view the solution.
</button>
</h2>
<div id="collapse17_2" class="accordion-collapse collapse"
aria-labelledby="heading17_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong></p>
<p><code>contacts.get("DOB").apply(age_today).mean()</code></p>
<p><code>contacts.get("DOB")</code> gets the column ‘DOB’ column in
contacts DataFrame as a series.</p>
<p><code>.apply(age_today)</code> applies the function
<code>age_today</code> to each element in the series to calculate age,
and returns a series of ages of all contacts.</p>
<p><code>.mean()</code> calculates the average of the series, giving the
average age of all contacts.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 80%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<p class="meta"><em>Source:</em> sp25-midterm — Q2</p>
<h2 id="problem-18">Problem 18</h2>
<p>In <code>tariffs</code>, we use integers to represent percentages,
but we could also use strings with the percent symbol %. For example,
the integer <code>34</code> and the string <code>"34%"</code> both
represent the same thing.</p>
<p><br></p>
<h3 id="problem-18.1">Problem 18.1</h3>
<p>Fill in the functions <code>with_percent_symbol</code> and
<code>without_percent_symbol</code> below. The function
<code>with_percent_symbol</code> should take as input an integer and
give as output a string with the percent symbol. The function
<code>without_percent_symbol</code> should do the opposite. Example
behavior is given below.</p>
<div class="sourceCode" id="cb27"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>    <span class="op">&gt;&gt;&gt;</span>  with_percent_symbol(<span class="dv">34</span>)</span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">&quot;34%&quot;</span></span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>    <span class="op">&gt;&gt;&gt;</span> without_percent_symbol(<span class="st">&quot;34%&quot;</span>)</span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a>    <span class="dv">34</span></span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> with_percent_symbol(x):</span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> __(a)__</span>
<span id="cb27-8"><a href="#cb27-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-9"><a href="#cb27-9" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> without_percent_symbol(x):</span>
<span id="cb27-10"><a href="#cb27-10" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> __(b)__</span></code></pre></div>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading18_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse18_1" aria-expanded="true" aria-controls="collapse18_1">
Click to view the solution.
</button>
</h2>
<div id="collapse18_1" class="accordion-collapse collapse"
aria-labelledby="heading18_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer (a):</strong> <code>str(x)+"%"</code></p>
<p>In order to add a percent symbol to the end, we first need to convert
the variable <code>x</code> from an integer into a string by casting it.
From there we can add a <code>"%"</code> sign to <code>x</code> through
concatenation.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 70%.</p>
<p><strong>Answer (b):</strong> <code>int(x.replace("%", ""))</code> or
<code>int(x.strip("%"))</code></p>
<p>In this case, the variable <code>x</code> is now a string with
<code>"%"</code> at the end of it. Our first step is to get rid of the
<code>"%"</code> at the end by either replacing it with an empty string
<code>""</code>, or stripping it from the end. Note that the
<code>.strip("%")</code> approach works because <code>"%"</code> is at
the end of the string. If it were in the middle instead of the start or
end, <code>.strip("%")</code> would not work. After we are left with
only the number to cast to a string value for our output.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 79%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-18.2">Problem 18.2</h3>
<p>Define the variable <code>y</code> as follows.</p>
<div class="sourceCode" id="cb28"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>    y <span class="op">=</span> tariffs.get(<span class="st">&quot;Reciprocal Tariff&quot;</span>).<span class="bu">apply</span>(with_percent_symbol)</span></code></pre></div>
<p>Below, define <code>z</code> so that it evaluates to exactly the same
Series as <code>y</code>. You may <strong>not</strong> use
<code>with_percent_symbol</code> or <code>y</code> when defining
<code>z</code>.</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading18_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse18_2" aria-expanded="true" aria-controls="collapse18_2">
Click to view the solution.
</button>
</h2>
<div id="collapse18_2" class="accordion-collapse collapse"
aria-labelledby="heading18_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong>
<code>z = tariffs.get("Reciprocal Tariff").apply(str) + "%"</code></p>
<p>The <code>Reciprocal Tariff</code> column consists of integer values.
In order to add a percent sign (“%”) to the end of each of these values,
we must first convert the Series of integers into a Series of strings
before we are able to concatenate each with the percent sign (“%”).</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 33%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-18.3">Problem 18.3</h3>
<p>Determine the value of the following expression.</p>
<div class="sourceCode" id="cb29"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>    y.iloc[<span class="dv">3</span>] <span class="op">+</span> <span class="st">&quot; tax on goods from &quot;</span> <span class="op">+</span> tariffs.get(<span class="st">&quot;Country&quot;</span>).loc[<span class="dv">3</span>]</span></code></pre></div>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading18_3">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse18_3" aria-expanded="true" aria-controls="collapse18_3">
Click to view the solution.
</button>
</h2>
<div id="collapse18_3" class="accordion-collapse collapse"
aria-labelledby="heading18_3" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong>
<code>"32% tax on goods from Taiwan"</code></p>
<p><code>y.iloc[3]</code> consists of the Reciprocal Tariff (as a
string) corresponding to the fourth entry of the Series y. From the
given DataFrame, the fourth row corresponds to a Reciprocal Tariff 32.
Because y is a Series of strings that added the “%” sign to each
Reciprocal Tariff, <code>y.iloc[3]</code> evaluates to the string “32%”.
<code>tariffs.get("Country").loc[3]</code> evaluates to the country at
the fourth position from the <code>tariffs</code> DataFrame, or
“Taiwan”.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 88%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<p class="meta"><em>Source:</em> su24-midterm — Q1</p>
<h2 id="problem-19">Problem 19</h2>
<p><br></p>
<h3 id="problem-19.1">Problem 19.1</h3>
<p>Which column of <code>kart</code> would work best as the index?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> <code>"Ranking"</code></p></li>
<li><p><input type="radio" disabled="" /> <code>"Team"</code></p></li>
<li><p><input type="radio" disabled="" /> <code>"Division"</code></p></li>
<li><p><input type="radio" disabled="" /> <code>"Total Points"</code></p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading19_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse19_1" aria-expanded="true" aria-controls="collapse19_1">
Click to view the solution.
</button>
</h2>
<div id="collapse19_1" class="accordion-collapse collapse"
aria-labelledby="heading19_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> <code>"Team"</code></p>
<p>Recall a choice for a good index would be a column wherein the values
would act as a unique identifier for a particular observation. The only
column that suits this description would be <code>“Team”</code> since
each row represents a unique team.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 86%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-19.2">Problem 19.2</h3>
<p>Write a line of python code that sets the index of <code>kart</code>
to the column that you identified in part (1).</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading19_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse19_2" aria-expanded="true" aria-controls="collapse19_2">
Click to view the solution.
</button>
</h2>
<div id="collapse19_2" class="accordion-collapse collapse"
aria-labelledby="heading19_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong>
<code>kart = kart.set_index("Team")</code></p>
<p>We use <code>set_index(“Team”)</code> to set the DataFrame’s index to
<code>“Team”</code> and set this equal to <code>kart</code> to save this
change.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 81%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-19.3">Problem 19.3</h3>
<p>Fill in the blanks below to complete the implementation of the
function <code>division_to _int</code>, which takes in a string,
<code>division</code>, the name of a division, and returns the
division’s number as an <code>int</code>. Example behavior is given
below.</p>
<div class="sourceCode" id="cb30"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>  <span class="op">&gt;&gt;&gt;</span> division_to_int(<span class="st">&quot;Division 1&quot;</span>)</span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>  <span class="dv">1</span></span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a>  <span class="op">&gt;&gt;&gt;</span> division_to_int(<span class="st">&quot;Division 2&quot;</span>)</span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a>  <span class="dv">2</span></span></code></pre></div>
<div class="sourceCode" id="cb31"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> division_to_int(division):</span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>  __(i)__ __(ii)__(division.__(iii)__[__(iv)__])</span></code></pre></div>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading19_3">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse19_3" aria-expanded="true" aria-controls="collapse19_3">
Click to view the solution.
</button>
</h2>
<div id="collapse19_3" class="accordion-collapse collapse"
aria-labelledby="heading19_3" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong></p>
<ul>
<li><strong>(i)</strong> <code>return</code></li>
<li><strong>(ii)</strong> <code>int</code></li>
<li><strong>(iii)</strong> <code>split()</code> or
<code>split(" ")</code></li>
<li><strong>(iv)</strong> <code>-1</code> or <code>1</code></li>
</ul>
<p>Using the argument <code>division</code>, we just want to retrieve
the number. To accomplish this, we can use <code>split()</code> on the
<code>division</code> to separate the string in order to access the
number. Note that the default behavior of <code>split()</code> is to
split by the space.</p>
<p>The output of <code>division.split()</code> is now a list of
<code>“Division”</code> and the number. To retrieve the number in this
list, we can index for it with either -1 (since it is the last element
of the list) or 1 (since it is the second element in the list). Because
we want the output to be an integer type, we use <code>int</code> to
cast the value to an integer. Finally, to have the function output the
desired value, we start with a <code>return</code> statement.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 67%. </p>
<hr/>
<h5>Difficulty:
⭐️⭐️⭐️</h5>
<p>The average score on this problem was 71%.
</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>The average score on this problem was
52%. </p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>The average score on this problem
was 52%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-19.4">Problem 19.4</h3>
<p>Write a <em>single</em> line of code that applies
<code>division_to_int</code> to the existing <code>"Division"</code>
column, and updates the <code>"Division"</code> column in
<code>kart</code>.</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading19_4">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse19_4" aria-expanded="true" aria-controls="collapse19_4">
Click to view the solution.
</button>
</h2>
<div id="collapse19_4" class="accordion-collapse collapse"
aria-labelledby="heading19_4" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong>
<code>kart.assign(Division=kart.get("Division").apply(division_to_int))</code></p>
<p>First let’s start by getting the information we want for the new
column. We get the column for transformation with
<code>kart.get(“Division”)</code> and use
<code>.apply(division_to_int)</code> in order to apply the function to
this column. In order to update this transformed Series as a column
<code>“Division”</code>, we use the <code>.assign</code> method on the
DataFrame and set the transformed Series to the column name
<code>“Division”</code>. Note that when using <code>.assign</code> to
add a column and the chosen column name already exists,
<code>.assign</code> will update the information in this column with the
new input information.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 81%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<p>For the rest of this exam, assume that the changes above have not
been made and that <code>kart</code> is the same DataFrame that was
described on the attached information sheet.</p>
<hr />
<h2 id="problem-20">Problem 20</h2>
<p>Which of the following best describes the input and output types of
the <code>.apply</code> Series method?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> input: string, output: Series</p></li>
<li><p><input type="radio" disabled="" /> input: Series, output: function</p></li>
<li><p><input type="radio" disabled="" /> input: function, output: Series</p></li>
<li><p><input type="radio" disabled="" /> input: function, output: function</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading20">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse20" aria-expanded="true" aria-controls="collapse20">
Click to view the solution.
</button>
</h2>
<div id="collapse20" class="accordion-collapse collapse"
aria-labelledby="heading20" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer: </strong> input: function, output: Series</p>
<p>It helps to think of an example of how we typically use
<code>.apply</code>. Consider a DataFrame called <code>books</code> and
a function called <code>year_to_century</code> that converts a year to
the century it belongs to. We might use <code>.apply</code> as
follows:</p>
<p><code>books.assign(publication_century = books.get('publication_year').apply(year_to_century))</code></p>
<p><code>.apply</code> is called a Series method because we use it on a
Series. In this case that Series is
<code>books.get('publication_year')</code>. <code>.apply</code> takes
one input, which is the name of the function we wish to apply to each
element of the Series. In the example above, that function is
<code>year_to_century</code>. The result is a Series containing the
centuries for each book in the <code>books</code> DataFrame, which we
can then assign back as a new column to the DataFrame. So
<code>.apply</code> therefore takes as input a function and outputs a
Series.</p>
<hr/>
<h5>Difficulty: ⭐️</h5>
<p>
</p>
<p>The average score on this problem was 98%.</p>
</div>
</div>
</div>
</div>
<hr />
<h2 id="problem-21">Problem 21</h2>
<p>In this question, we’ll take a closer look at the
<code>'material'</code> column of <code>sky</code>.</p>
<p><br></p>
<h3 id="problem-21.1">Problem 21.1</h3>
<p>Below, fill in the blank to complete the implementation of the
function <code>majority_concrete</code>, which takes in the name of a
<code>city</code> and returns <code>True</code> if the majority of the
skyscrapers in that city are made of concrete, and <code>False</code>
otherwise. <strong>We define “majority” to mean “at least
50%”.</strong></p>
<div class="sourceCode" id="cb32"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> majority_concrete(city):</span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>    all_city <span class="op">=</span> sky[sky.get(<span class="st">&#39;city&#39;</span>) <span class="op">==</span> city]</span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a>    concrete_city <span class="op">=</span> all_city[all_city(<span class="st">&#39;material&#39;</span>) <span class="op">==</span> <span class="st">&#39;concrete&#39;</span>]</span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a>    proportion <span class="op">=</span> ______</span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> proportion <span class="op">&gt;=</span> <span class="fl">0.5</span></span></code></pre></div>
<p>What goes in the blank?</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading21_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse21_1" aria-expanded="true" aria-controls="collapse21_1">
Click to view the solution.
</button>
</h2>
<div id="collapse21_1" class="accordion-collapse collapse"
aria-labelledby="heading21_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong>
<code>concrete_city.shape[0] / all_city.shape[0]</code></p>
<p>Let’s first understand the code that is already provided for us. Note
that <code>city</code> is a string corresponding to the name of a
city.</p>
<p><code>all_city</code> contains only the rows for the passed in
<code>city</code>. Note that <code>all_city.shape[0]</code> or
<code>len(all_city)</code> is the number of rows in
<code>all_city</code>, i.e. it is the number of skyscrapers in
<code>city</code>. Then, <code>concrete_city</code> contains only the
rows in <code>all_city</code> corresponding to <code>'concrete'</code>
skyscrapers, i.e. it contains only the rows corresponding to
<code>'concrete'</code> skyscrapers in <code>city</code>. Note that
<code>concrete_city.shape[0]</code> or <code>len(concrete_city)</code>
is the number of skyscrapers in <code>city</code> that are made of
<code>'concrete'</code>.</p>
<p>We want to return <code>True</code> only if at least 50% of the
skyscrapers in <code>city</code> are made of concrete. The last line in
the function, <code>return proportion &gt;= 0.5</code>, is already
provided for us, so all we need to do is compute the proportion of
skyscrapers in <code>city</code> that are made of concrete. This is
<code>concrete_city.shape[0] / all_city.shape[0]</code>.</p>
<p>Another possible answer is
<code>len(concrete_city) / len(all_city)</code>.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 85%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-21.2">Problem 21.2</h3>
<p>Below, we create a DataFrame named <code>by_city</code>.</p>
<div class="sourceCode" id="cb33"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>by_city <span class="op">=</span> sky.groupby(<span class="st">&#39;city&#39;</span>).count().reset_index()</span></code></pre></div>
<p>Below, fill in the blanks to add a column to <code>by_city</code>,
called <code>'is_majority'</code>, that contains the value
<code>True</code> for each city where the majority of skyscrapers are
concrete, and <code>False</code> for all other cities. You may need to
use the function you defined in the previous subpart.</p>
<div class="sourceCode" id="cb34"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>by_city <span class="op">=</span> by_city.assign(is_majority <span class="op">=</span> ______)</span></code></pre></div>
<p>What goes in the blank?</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading21_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse21_2" aria-expanded="true" aria-controls="collapse21_2">
Click to view the solution.
</button>
</h2>
<div id="collapse21_2" class="accordion-collapse collapse"
aria-labelledby="heading21_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong>
<code>by_city.get('city').apply(majority_concrete)</code></p>
<p>We are told to add a column to <code>by_city</code>. Recall, the way
that <code>.assign</code> works is that the name of the new column comes
before the <code>=</code> symbol, and a Series (or array) containing the
values for the new column comes after the <code>=</code> symbol. As
such, a Series needs to go in the blank.</p>
<p><code>majority_concrete</code> takes in the name of a single
<code>city</code> and returns either <code>True</code> or
<code>False</code> accordingly. All we need to do here then is use the
<code>majority_concrete</code> function on every element in the
<code>'city'</code> column. After accessing the <code>'city'</code>
column using <code>by_city.get('city')</code>, we need to use the
<code>.apply</code> method using the argument
<code>majority_concrete</code>. Putting it all together yields
<code>by_city.get('city').apply(majority_concrete)</code>, which is a
Series.</p>
<p>Note: Here, <code>by_city.get('city')</code> only works because
<code>.reset_index()</code> was used in the line where
<code>by_city</code> was defined. If we did not reset the index,
<code>'city'</code> would not be a column!</p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 86%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="problem-22">Problem 22</h2>
<p>Note that each part of Question 3 depends on previous parts of
Question 3.</p>
<p>In this question, we’ll take a closer look at the
<code>'material'</code> column of <code>sky</code>.</p>
<p><br></p>
<h3 id="problem-22.1">Problem 22.1</h3>
<p>Below, fill in the blank to complete the implementation of the
function <code>majority_concrete</code>, which takes in the name of a
<code>city</code> and returns <code>True</code> if the majority of the
skyscrapers in that city are made of concrete, and <code>False</code>
otherwise. <strong>We define “majority” to mean “at least
50%”.</strong></p>
<div class="sourceCode" id="cb35"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> majority_concrete(city):</span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>    all_city <span class="op">=</span> sky[sky.get(<span class="st">&#39;city&#39;</span>) <span class="op">==</span> city]</span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a>    concrete_city <span class="op">=</span> all_city[all_city(<span class="st">&#39;material&#39;</span>) <span class="op">==</span> <span class="st">&#39;concrete&#39;</span>]</span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a>    proportion <span class="op">=</span> ______</span>
<span id="cb35-5"><a href="#cb35-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> proportion <span class="op">&gt;=</span> <span class="fl">0.5</span></span></code></pre></div>
<p>What goes in the blank?</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading22_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse22_1" aria-expanded="true" aria-controls="collapse22_1">
Click to view the solution.
</button>
</h2>
<div id="collapse22_1" class="accordion-collapse collapse"
aria-labelledby="heading22_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong>
<code>concrete_city.shape[0] / all_city.shape[0]</code></p>
<p>Let’s first understand the code that is already provided for us. Note
that <code>city</code> is a string corresponding to the name of a
city.</p>
<p><code>all_city</code> contains only the rows for the passed in
<code>city</code>. Note that <code>all_city.shape[0]</code> or
<code>len(all_city)</code> is the number of rows in
<code>all_city</code>, i.e. it is the number of skyscrapers in
<code>city</code>. Then, <code>concrete_city</code> contains only the
rows in <code>all_city</code> corresponding to <code>'concrete'</code>
skyscrapers, i.e. it contains only the rows corresponding to
<code>'concrete'</code> skyscrapers in <code>city</code>. Note that
<code>concrete_city.shape[0]</code> or <code>len(concrete_city)</code>
is the number of skyscrapers in <code>city</code> that are made of
<code>'concrete'</code>.</p>
<p>We want to return <code>True</code> only if at least 50% of the
skyscrapers in <code>city</code> are made of concrete. The last line in
the function, <code>return proportion &gt;= 0.5</code>, is already
provided for us, so all we need to do is compute the proportion of
skyscrapers in <code>city</code> that are made of concrete. This is
<code>concrete_city.shape[0] / all_city.shape[0]</code>.</p>
<p>Another possible answer is
<code>len(concrete_city) / len(all_city)</code>.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 85%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-22.2">Problem 22.2</h3>
<p>Below, we create a DataFrame named <code>by_city</code>.</p>
<div class="sourceCode" id="cb36"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>by_city <span class="op">=</span> sky.groupby(<span class="st">&#39;city&#39;</span>).count().reset_index()</span></code></pre></div>
<p>Below, fill in the blanks to add a column to <code>by_city</code>,
called <code>'is_majority'</code>, that contains the value
<code>True</code> for each city where the majority of skyscrapers are
concrete, and <code>False</code> for all other cities. You may need to
use the function you defined in the previous subpart.</p>
<div class="sourceCode" id="cb37"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a>by_city <span class="op">=</span> by_city.assign(is_majority <span class="op">=</span> ______)</span></code></pre></div>
<p>What goes in the blank?</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading22_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse22_2" aria-expanded="true" aria-controls="collapse22_2">
Click to view the solution.
</button>
</h2>
<div id="collapse22_2" class="accordion-collapse collapse"
aria-labelledby="heading22_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong>
<code>by_city.get('city').apply(majority_concrete)</code></p>
<p>We are told to add a column to <code>by_city</code>. Recall, the way
that <code>.assign</code> works is that the name of the new column comes
before the <code>=</code> symbol, and a Series (or array) containing the
values for the new column comes after the <code>=</code> symbol. As
such, a Series needs to go in the blank.</p>
<p><code>majority_concrete</code> takes in the name of a single
<code>city</code> and returns either <code>True</code> or
<code>False</code> accordingly. All we need to do here then is use the
<code>majority_concrete</code> function on every element in the
<code>'city'</code> column. After accessing the <code>'city'</code>
column using <code>by_city.get('city')</code>, we need to use the
<code>.apply</code> method using the argument
<code>majority_concrete</code>. Putting it all together yields
<code>by_city.get('city').apply(majority_concrete)</code>, which is a
Series.</p>
<p>Note: Here, <code>by_city.get('city')</code> only works because
<code>.reset_index()</code> was used in the line where
<code>by_city</code> was defined. If we did not reset the index,
<code>'city'</code> would not be a column!</p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 86%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-22.3">Problem 22.3</h3>
<p><code>by_city</code> now has a column named
<code>'is_majority'</code> as described in the previous subpart. Now,
suppose we create another DataFrame, <code>mystery</code>, below:</p>
<div class="sourceCode" id="cb38"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>mystery <span class="op">=</span> by_city.groupby(<span class="st">&#39;is_majority&#39;</span>).count()</span></code></pre></div>
<p>What is the largest possible value that <code>mystery.shape[0]</code>
could evaluate to?</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading22_3">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse22_3" aria-expanded="true" aria-controls="collapse22_3">
Click to view the solution.
</button>
</h2>
<div id="collapse22_3" class="accordion-collapse collapse"
aria-labelledby="heading22_3" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> 2</p>
<p>Recall, the <code>'is_majority'</code> column we created in the
previous subpart contains only two possible values – <code>True</code>
and <code>False</code>. When we group <code>by_city</code> by
<code>'is_majority'</code>, we create two “groups” – one for
<code>True</code> and one for <code>False</code>. As such, no matter
what aggregation method we use (here we happened to use
<code>.count()</code>), the resulting DataFrame will only have 2 rows
(again, one for <code>True</code> and one for <code>False</code>).</p>
<p>Note: The question asked for the “largest possible value” that
<code>mystery.shape[0]</code>, because it is possible that
<code>mystery</code> only has 1 row. This can only happen in two
cases:</p>
<ol type="1">
<li>It is true in <strong>all cities</strong> that the majority of
skyscrapers are made of <code>'concrete'</code>.</li>
<li>It is true in <strong>no cities</strong> that the majority of
skyscrapers are made of <code>'concrete'</code>.</li>
</ol>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 76%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-22.4">Problem 22.4</h3>
<p>Suppose
<code>mystery.get('city').iloc[0] == mystery.get('city').iloc[1]</code>
evaluates to <code>True</code>.</p>
<p><strong>True or False:</strong> In exactly half of the cities in
<code>sky</code>, it is true that a majority of skyscrapers are made of
<code>'concrete'</code>. (<strong><em>Tip:</em></strong> Walk through
the manipulations performed in the previous three subparts to get an
idea of what <code>mystery</code> looks like and contains.)</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> True</p></li>
<li><p><input type="radio" disabled="" /> False</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading22_4">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse22_4" aria-expanded="true" aria-controls="collapse22_4">
Click to view the solution.
</button>
</h2>
<div id="collapse22_4" class="accordion-collapse collapse"
aria-labelledby="heading22_4" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> True</p>
<p>In the solution to the previous subpart, we noted that
<code>mystery</code> contains at most 2 rows, one corresponding to
cities where <code>'is_majority'</code> is <code>True</code> and one
corresponding to cities where <code>'is_majority'</code> is
<code>False</code>. Furthermore, recall that we used the
<code>.count()</code> aggregation method, which means that the entries
in each column of <code>mystery</code> contain the
<strong>number</strong> of cities where <code>'is_majority'</code> is
<code>True</code> and the <strong>number</strong> of cities where
<code>'is_majority'</code> is <code>False</code>.</p>
<p>If
<code>mystery.get('city').iloc[0] == mystery.get('city').iloc[1]</code>,
it must be the case that the number of cities where
<code>'is_majority'</code> is <code>True</code> and <code>False</code>
are equal. This must mean that in exactly half of the cities in
<code>sky</code>, it is true that the majority of skyscrapers are made
of <code>'concrete'</code>.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 69%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<p class="meta"><em>Source:</em> wi23-final — Q1</p>
<h2 id="problem-23">Problem 23</h2>
<p>Let’s start by correcting the data in the <code>"Rating"</code>
column. All the values in this column are strings of length 4. In
addition, some strings use commas in place of a dot to represent a
decimal point. Select the options below that evaluate to a Series
containing the values in the <code>"Rating"</code> column, appropriately
changed to floats.</p>
<p><strong>Note:</strong> The Series method <code>.str.replace</code>
uses the string method <code>.replace</code> on every string in a
Series.</p>
<ul class="task-list">
<li><p><input type="checkbox" disabled="" /> <code>float(games.get("Rating").str.replace(",", "."))</code></p></li>
<li><p><input type="checkbox" disabled="" /> <code>games.get("Rating").str.replace(",", ".").apply(float)</code></p></li>
<li><p><input type="checkbox" disabled="" /> <code>games.get("Rating").str.replace(",", "").apply(int)/100</code></p></li>
<li><p><input type="checkbox" disabled="" /> <code>games.get("Rating").str.replace(",", "").apply(float)</code></p></li>
</ul>
<p><strong>Important!</strong> For the rest of this exam, we will assume
that the values in the <code>"Rating"</code> column have been correctly
changed to floats.</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading23">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse23" aria-expanded="true" aria-controls="collapse23">
Click to view the solution.
</button>
</h2>
<div id="collapse23" class="accordion-collapse collapse"
aria-labelledby="heading23" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> Option 2</p>
<p><strong>Option 1:</strong> Let’s look at the code piece by piece to
understand why this does not work. <code>games.get("Rating")</code>
gives you the column <code>"Rating"</code> as a Series. As per the note,
<code>.str.replace(",", ".")</code> can be used on a Series, and will
replace all commas with periods. The issue is with the use of the
<code>float</code> function; the <code>float</code> function can convert
a single string to a float, like <code>float("3.14")</code>, but not an
entire Series of floats. This will cause an error making this option
wrong.</p>
<p><strong>Option 2:</strong> Once again we are getting
<code>"Rating"</code> as a Series and replacing the commas with periods.
We then apply <code>float()</code> to the Series, which will
successfully convert all of the values into floats.</p>
<p><strong>Option 3:</strong> This piece of code attempts to replace
commas with nothing, which is correct for values using commas as decimal
separators. However, this approach ignores values that use dots as
decimal separators. Something like
<code>games.get("Rating").str.replace(",", "").str.replace(".", "").apply(int)/100</code>
could correct this mistake.</p>
<p><strong>Option 4:</strong> Again, we are getting
<code>"Rating"</code> as a Series and replacing the commas with an empty
string. The values inside of <code>"Rating"</code> are then converted to
floats, which is fine, but remember, that the numbers are 100 times too
big. This means we have altered the actual value inappropriately, which
makes this option incorrect.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 67%.</p>
</div>
</div>
</div>
</div>
<hr />
<h2 id="problem-24">Problem 24</h2>
<p><br></p>
<h3 id="problem-24.1">Problem 24.1</h3>
<p>The <code>"Date"</code> column stores the year, month, and day
together in a single 8-digit <code>int</code>. The first four digits
represent the year, the next two represent the month, and the last two
represent the day. For example, <code>19500812</code> corresponds to
August 12, 1950. The <code>get month</code> function below takes one
such 8-digit <code>int</code>, and <strong>only</strong> returns the
month as an int. For example,
<code>get month</code>(<code>19500812</code>) evaluates to 8.</p>
<div class="sourceCode" id="cb39"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> get_month(date):</span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="bu">int</span>((date <span class="op">%</span> <span class="dv">10000</span>) <span class="op">/</span> <span class="dv">100</span>)</span></code></pre></div>
<p>Similarily, the <code>get year</code> and <code>get day</code>
functions below should each take as input an 8-digit <code>int</code>
representing a date, and return an <code>int</code> representing the
year and day, respectively. Choose the correct code to fill in the
blanks.</p>
<div class="sourceCode" id="cb40"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> get_year(date):</span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> ____(a)____</span></code></pre></div>
<div class="sourceCode" id="cb41"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> get_day(date):</span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> ____(b)____</span></code></pre></div>
<p>What goes in blank (a)?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> <code>date / 10000</code></p></li>
<li><p><input type="radio" disabled="" /> <code>int(date / 10000)</code></p></li>
<li><p><input type="radio" disabled="" /> <code>int(date % 10000)</code></p></li>
<li><p><input type="radio" disabled="" /> <code>int((date % 10000) / 10000)</code></p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading24_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse24_1" aria-expanded="true" aria-controls="collapse24_1">
Click to view the solution.
</button>
</h2>
<div id="collapse24_1" class="accordion-collapse collapse"
aria-labelledby="heading24_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> <code>int(date/10000)</code></p>
<p>The problem is asking us to find the code for blank (a) and
<code>get_year</code> is asking us to find the year. Let’s use
<code>19500812</code> as an example, so we need to convert
<code>19500812</code> to 1950. If we plug in <strong>Option 2</strong>
for (a) we will get 1950. This is because <span class="math inline">\frac{19500812}{10000} = 1950.0812</span>, and when
<code>int()</code> is applied to 1950.0812 then it will drop the
decimal, which returns 1950.</p>
<p><strong>Option A:</strong> <code>date / 10000</code> If we plugged in
Option 1 into blank (a) we would get: <span class="math inline">\frac{19500812}{10000} = 1950.0812</span>. This is a
float and is not equal to 1950.</p>
<p><strong>Option C:</strong> <code>int(date % 10000)</code> If we
plugged in Option 3 into blank (a) we would get: 812. Remember,
<code>%</code> is the operation to find the remainder. We can manually
find the remainder by doing <span class="math inline">\frac{19500812}{10000} = 1950.0812</span>, then
looking at the decimal, and noticing 812 cannot be divided by 10000
evenly. This is an int, but not the year.</p>
<p><strong>Option D:</strong> <code>int((date % 10000) / 10000)</code>
If we plugged in Option 4 into blank (a) we would get: 0.0812. We get
this number by once again looking at the remainder of <span class="math inline">\frac{19500812}{10000} = 1950.0812</span>, which is
812, and then dividing 812 by 10000. This is a float and is not equal to
1950.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 67%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<p><br></p>
<h3 id="problem-24.2">Problem 24.2</h3>
<p>What goes in blank (b)?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> <code>int(date / 100)</code></p></li>
<li><p><input type="radio" disabled="" /> <code>int(date / 1000000)</code></p></li>
<li><p><input type="radio" disabled="" /> <code>int((date % 100) / 10000)</code></p></li>
<li><p><input type="radio" disabled="" /> <code>date % 100</code></p></li>
</ul>
<div class="sourceCode" id="cb42"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a>storms <span class="op">=</span> storms.assign(Year <span class="op">=</span> storms.get(<span class="st">&quot;Date&quot;</span>).<span class="bu">apply</span>(get_year),</span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a>                       Month <span class="op">=</span> storms.get(<span class="st">&quot;Date&quot;</span>).<span class="bu">apply</span>(get_month),</span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a>                       Day <span class="op">=</span> storms.get(<span class="st">&quot;Date&quot;</span>).<span class="bu">apply</span>(get_day))</span></code></pre></div>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading24_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse24_2" aria-expanded="true" aria-controls="collapse24_2">
Click to view the solution.
</button>
</h2>
<div id="collapse24_2" class="accordion-collapse collapse"
aria-labelledby="heading24_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> <code>date % 100</code></p>
<p>The problem is asking us to find the code for blank (b) and
<code>get_day</code> is asking us to get the day. Let’s use
<code>19500812</code> as the example again, so we need to convert
<code>19500812</code> to 12. Remember, <code>%</code> is the operation
to find the remainder. If we plug in <strong>Option 4</strong> for (b)
we will get 12. This is because <span class="math inline">\frac{19500812}{100} = 195008.12</span> and by
looking at the decimal place we notice 12 cannot be divided by 100
evenly, making the remainder 12.</p>
<p><strong>Option 1:</strong> <code>int(date / 100)</code> If we plugged
in Option 1 into blank (b) we would get 195008. This is because Python
would do: <span class="math inline">\frac{19500812}{100} =
195008.12</span> then would drop the decimal due to the
<code>int()</code> function. This is not the day.</p>
<p><strong>Option 2:</strong> <code>int(date / 1000000)</code> If we
plugged in Option 2 into blank (b) we would get 19. This is because
Python would do: <span class="math inline">\frac{19500812}{1000000} =
19.500812</span> then would drop the decimal due to the
<code>int()</code> function. This is a day, <em>but</em> not the one we
are looking for.</p>
<p><strong>Option 3:</strong> <code>int((date % 100) / 10000)</code> If
we plugged in Option 3 into blank (b) we would get 0. This is because
Python works from the inside out, so it will first evaluate the
remainder: <span class="math inline">\frac{19500812}{100} =
195008.12</span>, by looking at the decimal place we notice 12 cannot be
divided by 100 evenly, making the remainder 12. Python then does <span class="math inline">\frac{12}{10000} = 0.0012</span>. Remember that
<code>int()</code> drops the decimal, so by plugging a date into this
code it will return 0, which is not a day.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 56%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<p class="meta"><em>Source:</em> wi23-midterm — Q2</p>
<h2 id="problem-25">Problem 25</h2>
<p><br></p>
<h3 id="problem-25.1">Problem 25.1</h3>
<p>The <code>"Date"</code> column stores the year, month, and day
together in a single 8-digit <code>int</code>. The first four digits
represent the year, the next two represent the month, and the last two
represent the day. For example, <code>19500812</code> corresponds to
August 12, 1950. The <code>get month</code> function below takes one
such 8-digit <code>int</code>, and <strong>only</strong> returns the
month as an int. For example,
<code>get month</code>(<code>19500812</code>) evaluates to 8.</p>
<div class="sourceCode" id="cb43"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> get_month(date):</span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="bu">int</span>((date <span class="op">%</span> <span class="dv">10000</span>) <span class="op">/</span> <span class="dv">100</span>)</span></code></pre></div>
<p>Similarily, the <code>get year</code> and <code>get day</code>
functions below should each take as input an 8-digit <code>int</code>
representing a date, and return an <code>int</code> representing the
year and day, respectively. Choose the correct code to fill in the
blanks.</p>
<div class="sourceCode" id="cb44"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> get_year(date):</span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> ____(a)____</span></code></pre></div>
<div class="sourceCode" id="cb45"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> get_day(date):</span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> ____(b)____</span></code></pre></div>
<p>What goes in blank (a)?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> <code>date / 10000</code></p></li>
<li><p><input type="radio" disabled="" /> <code>int(date / 10000)</code></p></li>
<li><p><input type="radio" disabled="" /> <code>int(date % 10000)</code></p></li>
<li><p><input type="radio" disabled="" /> <code>int((date % 10000) / 10000)</code></p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading25_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse25_1" aria-expanded="true" aria-controls="collapse25_1">
Click to view the solution.
</button>
</h2>
<div id="collapse25_1" class="accordion-collapse collapse"
aria-labelledby="heading25_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> <code>int(date/10000)</code></p>
<p>The problem is asking us to find the code for blank (a) and
<code>get_year</code> is asking us to find the year. Let’s use
<code>19500812</code> as an example, so we need to convert
<code>19500812</code> to 1950. If we plug in <strong>Option 2</strong>
for (a) we will get 1950. This is because <span class="math inline">\frac{19500812}{10000} = 1950.0812</span>, and when
<code>int()</code> is applied to 1950.0812 then it will drop the
decimal, which returns 1950.</p>
<p><strong>Option A:</strong> <code>date / 10000</code> If we plugged in
Option 1 into blank (a) we would get: <span class="math inline">\frac{19500812}{10000} = 1950.0812</span>. This is a
float and is not equal to 1950.</p>
<p><strong>Option C:</strong> <code>int(date % 10000)</code> If we
plugged in Option 3 into blank (a) we would get: 812. Remember,
<code>%</code> is the operation to find the remainder. We can manually
find the remainder by doing <span class="math inline">\frac{19500812}{10000} = 1950.0812</span>, then
looking at the decimal, and noticing 812 cannot be divided by 10000
evenly. This is an int, but not the year.</p>
<p><strong>Option D:</strong> <code>int((date % 10000) / 10000)</code>
If we plugged in Option 4 into blank (a) we would get: 0.0812. We get
this number by once again looking at the remainder of <span class="math inline">\frac{19500812}{10000} = 1950.0812</span>, which is
812, and then dividing 812 by 10000. This is a float and is not equal to
1950.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 67%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<p><br></p>
<h3 id="problem-25.2">Problem 25.2</h3>
<p>What goes in blank (b)?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> <code>int(date / 100)</code></p></li>
<li><p><input type="radio" disabled="" /> <code>int(date / 1000000)</code></p></li>
<li><p><input type="radio" disabled="" /> <code>int((date % 100) / 10000)</code></p></li>
<li><p><input type="radio" disabled="" /> <code>date % 100</code></p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading25_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse25_2" aria-expanded="true" aria-controls="collapse25_2">
Click to view the solution.
</button>
</h2>
<div id="collapse25_2" class="accordion-collapse collapse"
aria-labelledby="heading25_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> <code>date % 100</code></p>
<p>The problem is asking us to find the code for blank (b) and
<code>get_day</code> is asking us to get the day. Let’s use
<code>19500812</code> as the example again, so we need to convert
<code>19500812</code> to 12. Remember, <code>%</code> is the operation
to find the remainder. If we plug in <strong>Option 4</strong> for (b)
we will get 12. This is because <span class="math inline">\frac{19500812}{100} = 195008.12</span> and by
looking at the decimal place we notice 12 cannot be divided by 100
evenly, making the remainder 12.</p>
<p><strong>Option 1:</strong> <code>int(date / 100)</code> If we plugged
in Option 1 into blank (b) we would get 195008. This is because Python
would do: <span class="math inline">\frac{19500812}{100} =
195008.12</span> then would drop the decimal due to the
<code>int()</code> function. This is not the day.</p>
<p><strong>Option 2:</strong> <code>int(date / 1000000)</code> If we
plugged in Option 2 into blank (b) we would get 19. This is because
Python would do: <span class="math inline">\frac{19500812}{1000000} =
19.500812</span> then would drop the decimal due to the
<code>int()</code> function. This is a day, <em>but</em> not the one we
are looking for.</p>
<p><strong>Option 3:</strong> <code>int((date % 100) / 10000)</code> If
we plugged in Option 3 into blank (b) we would get 0. This is because
Python works from the inside out, so it will first evaluate the
remainder: <span class="math inline">\frac{19500812}{100} =
195008.12</span>, by looking at the decimal place we notice 12 cannot be
divided by 100 evenly, making the remainder 12. Python then does <span class="math inline">\frac{12}{10000} = 0.0012</span>. Remember that
<code>int()</code> drops the decimal, so by plugging a date into this
code it will return 0, which is not a day.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 56%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<p><strong>Important!</strong> For the rest of the exam, assume those
three functions have been implemented correctly and the following code
has been run to assign three new columns to <code>storms</code>.</p>
<div class="sourceCode" id="cb46"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a>storms <span class="op">=</span> storms.assign(Year <span class="op">=</span> storms.get(<span class="st">&quot;Date&quot;</span>).<span class="bu">apply</span>(get_year),</span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a>                       Month <span class="op">=</span> storms.get(<span class="st">&quot;Date&quot;</span>).<span class="bu">apply</span>(get_month),</span>
<span id="cb46-3"><a href="#cb46-3" aria-hidden="true" tabindex="-1"></a>                       Day <span class="op">=</span> storms.get(<span class="st">&quot;Date&quot;</span>).<span class="bu">apply</span>(get_day))</span></code></pre></div>
<hr />
<p class="meta"><em>Source:</em> wi23-midterm — Q5</p>
<h2 id="problem-26">Problem 26</h2>
<p><br></p>
<h3 id="problem-26.1">Problem 26.1</h3>
<p>Latitude measures distance from the equator in the North or South
direction. Longitude measures distance from the prime meridian in the
East or West direction.</p>
<center><img src='../../assets/images/wi23-midterm/latitude_longitude.png' width=30%></center>
<p>Since all of the United States lies north of the equator and west of
the prime meridian, the last character of each string in the
<code>"Latitude"</code> column of <code>storms</code> is
<code>"N"</code>, and the last character of each string in the
<code>"Longitude"</code> column is <code>"W"</code>. This means that we
can refer to the latitude and longitude of US locations by their
numerical values alone, without the directions <code>"N"</code> and
<code>"W"</code>. The map below shows the latitude and longitude of the
continental United States in numerical values only.</p>
<center><img src='../../assets/images/wi23-midterm/continental.png' width=50%></center>
<ol type="a">
<li>Complete the function <code>lat_long_numerical</code> that takes as
input a string representing a value from either the
<code>"Latitude"</code> or <code>"Longitude"</code> column of
<code>storms</code>, and returns that latitude or longitude as a
<code>float</code>. For example, <code>lat_long_numerical(34.1N)</code>
should return <code>34.1</code>.</li>
</ol>
<div class="sourceCode" id="cb47"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> lat_long_numerical(lat_long):</span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> ________</span></code></pre></div>
<p><em>Hint</em>: The string method <code>.strip()</code> takes as input
a string of characters and removes all instances of those characters at
the beginning and end of the string. For example,
<code>"www.dsc10.com".strip("cmowz.")</code> evaluates to
<code>"dsc10"</code>.</p>
<p>What goes in the blank? To earn credit, your answer
<strong>must</strong> use the string method: <code>.strip()</code>.</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading26_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse26_1" aria-expanded="true" aria-controls="collapse26_1">
Click to view the solution.
</button>
</h2>
<div id="collapse26_1" class="accordion-collapse collapse"
aria-labelledby="heading26_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> <code>float(lat_long.strip("NW"))</code></p>
<p>According to the hint, <code>.strip()</code> takes as input of a
string of characters and removes all instances of those characters at
the beginning or the end of the string. The input we are given,
<code>lat_long</code> is the latitude and longitude, so we able to take
it and use <code>.strip()</code> to remove the <code>"N"</code> and
<code>"W"</code>. However, it is important to mention the number we now
have is still a string, so we put <code>float()</code> around it to
convert the string to a float.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 70%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<p><br></p>
<h3 id="problem-26.2">Problem 26.2</h3>
<p>Assume that <code>lat_long_numerical</code> has been correctly
implemented. Which of the following correctly replaces the strings in
the <code>'Latitude'</code> and <code>'Longitude'</code> columns of
storms with <code>float</code> values? <strong>Select all that
apply.</strong></p>
<p>Option 1:</p>
<div class="sourceCode" id="cb48"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a>    lat_num <span class="op">=</span> storms.get(<span class="st">&#39;Latitude&#39;</span>).<span class="bu">apply</span>(lat_long_numerical)</span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a>    long_num <span class="op">=</span> storms.get(<span class="st">&#39;Longitude&#39;</span>).<span class="bu">apply</span>(lat_long_numerical)</span>
<span id="cb48-3"><a href="#cb48-3" aria-hidden="true" tabindex="-1"></a>    storms <span class="op">=</span> storms.drop(columns <span class="op">=</span> [<span class="st">&#39;Latitude&#39;</span>, <span class="st">&#39;Longitude&#39;</span>])</span>
<span id="cb48-4"><a href="#cb48-4" aria-hidden="true" tabindex="-1"></a>    storms <span class="op">=</span> storms.assign(Latitude <span class="op">=</span> lat_num, Longitude <span class="op">=</span> long_num)</span></code></pre></div>
<p>Option 2:</p>
<div class="sourceCode" id="cb49"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a>    lat_num <span class="op">=</span> storms.get(<span class="st">&#39;Latitude&#39;</span>).<span class="bu">apply</span>(lat_long_numerical)</span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a>    long_num <span class="op">=</span> storms.get(<span class="st">&#39;Longitude&#39;</span>).<span class="bu">apply</span>(lat_long_numerical)</span>
<span id="cb49-3"><a href="#cb49-3" aria-hidden="true" tabindex="-1"></a>    storms <span class="op">=</span> storms.assign(Latitude <span class="op">=</span> lat_num, Longitude <span class="op">=</span> long_num)</span>
<span id="cb49-4"><a href="#cb49-4" aria-hidden="true" tabindex="-1"></a>    storms <span class="op">=</span> storms.drop(columns <span class="op">=</span> [<span class="st">&#39;Latitude&#39;</span>, <span class="st">&#39;Longitude&#39;</span>])</span></code></pre></div>
<p>Option 3:</p>
<div class="sourceCode" id="cb50"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a>    lat_num <span class="op">=</span> storms.get(<span class="st">&#39;Latitude&#39;</span>).<span class="bu">apply</span>(lat_long_numerical)</span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a>    long_num <span class="op">=</span> storms.get(<span class="st">&#39;Longitude&#39;</span>).<span class="bu">apply</span>(lat_long_numerical)</span>
<span id="cb50-3"><a href="#cb50-3" aria-hidden="true" tabindex="-1"></a>    storms <span class="op">=</span> storms.assign(Latitude <span class="op">=</span> lat_num, Longitude <span class="op">=</span> long_num)</span></code></pre></div>
<ul class="task-list">
<li><p><input type="checkbox" disabled="" /> Option 1</p></li>
<li><p><input type="checkbox" disabled="" /> Option 2</p></li>
<li><p><input type="checkbox" disabled="" /> Option 3</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading26_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse26_2" aria-expanded="true" aria-controls="collapse26_2">
Click to view the solution.
</button>
</h2>
<div id="collapse26_2" class="accordion-collapse collapse"
aria-labelledby="heading26_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> Option 1 and Option 3</p>
<p><strong>Option 1</strong> is correct because it applies the function
<code>lat_long_numerical</code> to the <code>'Latitude'</code> and
<code>'Longitude'</code> columns. It then drops the old
<code>'Latitude'</code> and <code>'Longitude'</code> columns. Then
creates new <code>'Latitude'</code> and <code>'Longitude'</code> columns
that contain the float versions.</p>
<p><strong>Option 3</strong> is correct because it applies the function
<code>lat_long_numerical</code> to the <code>'Latitude'</code> and
<code>'Longitude'</code> columns. It then re-assigns the
<code>'Latitude'</code> and <code>'Longitude'</code> columns to the
float versions.</p>
<p><strong>Option 2</strong> is incorrect because it re-assigns the
<code>'Latitude'</code> and <code>'Longitude'</code> columns to the
float versions and then drops the <code>'Latitude'</code> and
<code>'Longitude'</code> columns from the DataFrame.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 86%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<p><strong>Important!</strong> For the rest of the exam, assume that the
<code>'Latitude'</code> and <code>'Longitude'</code> columns of storms
now have numerical entries.</p>
<hr />
<p class="meta"><em>Source:</em> wi24-final — Q4</p>
<h2 id="problem-27">Problem 27</h2>
<p>The Olympics are held every two years, in even-numbered years,
alternating between the Summer Olympics and Winter Olympics. Summer
Olympics are held in years that are a <strong>multiple of 4</strong>
(such as 2024), and Winter Olympics are held in years that are not a
multiple of 4 (such as 2022 or 2026).</p>
<p>We want to add a column to <code>olympics</code> that contains either
<code>"Winter"</code> or <code>"Summer"</code> by applying a function
called <code>season</code> as follows:</p>
<div class="sourceCode" id="cb51"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a>    olympians.assign(Season<span class="op">=</span>olympians.get(<span class="st">&quot;Year&quot;</span>).<span class="bu">apply</span>(season))</span></code></pre></div>
<p>Which of the following definitions of <code>season</code> is correct?
Select all that apply.</p>
<p><em>Notes:</em></p>
<ul>
<li><p>We’ll ignore the fact that the 2020 Olympics were rescheduled to
2021 due to Covid.</p></li>
<li><p>Recall that the <code>%</code> operator in Python gives the
remainder upon division. For example, <code>8 % 3</code> evaluates to
<code>2</code>.</p></li>
</ul>
<p>Way 1:</p>
<div class="sourceCode" id="cb52"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a>        <span class="kw">def</span> season(year):</span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a>            <span class="cf">if</span> year <span class="op">%</span> <span class="dv">4</span> <span class="op">==</span> <span class="dv">0</span>:</span>
<span id="cb52-3"><a href="#cb52-3" aria-hidden="true" tabindex="-1"></a>                <span class="cf">return</span> <span class="st">&quot;Summer&quot;</span></span>
<span id="cb52-4"><a href="#cb52-4" aria-hidden="true" tabindex="-1"></a>            <span class="cf">return</span> <span class="st">&quot;Winter&quot;</span></span></code></pre></div>
<p>Way 2:</p>
<div class="sourceCode" id="cb53"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a>        <span class="kw">def</span> season(year):</span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a>            <span class="cf">return</span> <span class="st">&quot;Winter&quot;</span></span>
<span id="cb53-3"><a href="#cb53-3" aria-hidden="true" tabindex="-1"></a>            <span class="cf">if</span> year <span class="op">%</span> <span class="dv">4</span> <span class="op">==</span> <span class="dv">0</span>:</span>
<span id="cb53-4"><a href="#cb53-4" aria-hidden="true" tabindex="-1"></a>                <span class="cf">return</span> <span class="st">&quot;Summer&quot;</span></span></code></pre></div>
<p>Way 3:</p>
<div class="sourceCode" id="cb54"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a>        <span class="kw">def</span> season(year):</span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a>            <span class="cf">if</span> year <span class="op">%</span> <span class="dv">2</span> <span class="op">==</span> <span class="dv">0</span>:</span>
<span id="cb54-3"><a href="#cb54-3" aria-hidden="true" tabindex="-1"></a>                <span class="cf">return</span> <span class="st">&quot;Winter&quot;</span></span>
<span id="cb54-4"><a href="#cb54-4" aria-hidden="true" tabindex="-1"></a>            <span class="cf">return</span> <span class="st">&quot;Summer&quot;</span></span></code></pre></div>
<p>Way 4:</p>
<div class="sourceCode" id="cb55"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a>        <span class="kw">def</span> season(year):</span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a>            <span class="cf">if</span> <span class="bu">int</span>(year <span class="op">/</span> <span class="dv">4</span>) <span class="op">!=</span> year <span class="op">/</span> <span class="dv">4</span>:</span>
<span id="cb55-3"><a href="#cb55-3" aria-hidden="true" tabindex="-1"></a>                <span class="cf">return</span> <span class="st">&quot;Winter&quot;</span></span>
<span id="cb55-4"><a href="#cb55-4" aria-hidden="true" tabindex="-1"></a>            <span class="cf">return</span> <span class="st">&quot;Summer&quot;</span></span></code></pre></div>
<ul class="task-list">
<li><p><input type="checkbox" disabled="" /> Way 1</p></li>
<li><p><input type="checkbox" disabled="" /> Way 2</p></li>
<li><p><input type="checkbox" disabled="" /> Way 3</p></li>
<li><p><input type="checkbox" disabled="" /> Way 4</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading27">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse27" aria-expanded="true" aria-controls="collapse27">
Click to view the solution.
</button>
</h2>
<div id="collapse27" class="accordion-collapse collapse"
aria-labelledby="heading27" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> Way 1 and Way 4</p>
<ul>
<li>Way 1: This function first checks if the year is divisible by 4, and
returns “Summer” if it is. If the year isn’t divisible by 4, then the
code inside that if statement won’t execute, and we move on to the next
line of code, which just returns “Winter”, as we wanted. So, way 1 is
correct.</li>
<li>Way 2 looks similar to way 1, but has one key difference: the
<code>return "Winter"</code> line is <strong>before</strong> the if
statement. Since nothing after a return statement gets executed
(assuming that the return statement gets executed), no matter what the
year is this function will always return “Winter”. So, way 2 is
incorrect.</li>
<li>Way 3 doesn’t account for the fact that all years which are
multiples of 4 are also multiples of 2. So even though it gets the 2022
Winter Olympics correct, it will also return “Winter” for 2020 since
<code>2020 % 2</code> evaluates to <code>0</code>. So, way 3 is
incorrect.</li>
<li>Way 4 uses similar logic to way 1, just using a different method to
check for divisibility. Instead of using the modulo operator, we check
if casting <code>year / 4</code> to an integer using <code>int</code>
changes its value. If the two aren’t equal, then we know that
<code>year / 4</code> wasn’t an integer before casting, which means that
the year isn’t divisible by 4 and we should return
<code>"Winter"</code>. If the code inside the if statement doesn’t
execute, then we know that the year is divisible by 4, so we return
“Summer”. So, way 4 is correct.</li>
</ul>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 89%.</p>
</div>
</div>
</div>
</div>
<hr />
<p class="meta"><em>Source:</em> wi24-midterm — Q2</p>
<h2 id="problem-28">Problem 28</h2>
<p>Since Janine’s knowledge of who holds each card will change
throughout the game, the <code>clue</code> DataFrame needs to be updated
by setting particular entries.</p>
<p>Suppose more generally that we want to write a function that changes
the value of an entry in a DataFrame. The function should work for any
DataFrame, not just <code>clue</code>.</p>
<p>What parameters would such a function require? Say what each
parameter represents.</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading28">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse28" aria-expanded="true" aria-controls="collapse28">
Click to view the solution.
</button>
</h2>
<div id="collapse28" class="accordion-collapse collapse"
aria-labelledby="heading28" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> We would need four parameters:</p>
<ul>
<li><p><code>df</code>, the DataFrame to change.</p></li>
<li><p><code>row</code>, the row label or row number of the entry to
change.</p></li>
<li><p><code>col</code>, the column label of the entry to
change.</p></li>
<li><p><code>val</code>, the value that we want to store at that
location.</p></li>
</ul>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 43%.</p>
</div>
</div>
</div>
</div>
<hr />
<p class="meta"><em>Source:</em> wi25-final — Q1</p>
<h2 id="problem-29">Problem 29</h2>
<p>While browsing the library, Hermione stumbles upon an old book
containing game logs for all Quidditch matches played at Hogwarts in the
18th century. Quidditch is a sport played between two houses. It
features three types of balls:</p>
<ul>
<li><p><strong>Quaffle</strong>: Worth 10 points when used to score a
goal.</p></li>
<li><p><strong>Bludger</strong>: Does not contribute points. Instead,
used to distract the other team.</p></li>
<li><p><strong>Snitch</strong>: Worth 150 points when caught. This
immediately ends the game.</p></li>
</ul>
<p>A game log is a list of actions that occurred during a Quidditch
match. Each element of a game log is a two-letter string where the first
letter represents the house that performed the action (<code>"G"</code>
for Gryffindor, , <code>"H"</code> for Hufflepuff, <code>"R"</code> for
Ravenclaw, <code>"S"</code> for Slytherin) and the second letter
indicates the type of Quidditch ball used in the action
(<code>"Q"</code> for Quaffle, <code>"B"</code> for Bludger,
<code>"S"</code> for Snitch). For example, <code>"RQ"</code> in a game
log represents Ravenclaw scoring with the Quaffle to earn 10 points.</p>
<p>Hermione writes a function, <code>logwarts</code>, to calculate the
final score of a Quidditch match based on the actions in the game log.
The inputs are a game log (a list, as described above) and the full
names of the two houses competing. The output is a list of length 4
containing the names of the teams and their corresponding scores.
Example behavior is given below.</p>
<pre><code>    &gt;&gt;&gt; logwarts([&quot;RQ&quot;, &quot;GQ&quot;, &quot;RB&quot;, &quot;GS&quot;], &quot;Gryffindor&quot;, &quot;Ravenclaw&quot;)
    [&quot;Gryffindor&quot;, 160, &quot;Ravenclaw&quot;, 10]

    &gt;&gt;&gt; logwarts([&quot;HB&quot;, &quot;HQ&quot;, &quot;HQ&quot;, &quot;SS&quot;], &quot;Hufflepuff&quot;, &quot;Slytherin&quot;)
    [&quot;Hufflepuff&quot;, 20, &quot;Slytherin&quot;, 150]</code></pre>
<p>Fill in the blanks in the <code>logwarts</code> function below. Note
that some of your answers are <strong>used in more than one
place</strong> in the code.</p>
<pre><code>    def logwarts(game_log, team1, team2):
        score1 = __(a)__
        score2 = __(a)__

        for action in game_log:
            house = __(b)__
            ball = __(c)__
            
            if __(d)__: 
                __(e)__:
                    score1 = score1 + 10
                __(f)__:
                    score1 = score1 + 150
            else:
                __(e)__:
                    score2 = score2 + 10
                __(f)__:
                    score2 = score2 + 150
        return [team1, score1, team2, score2]</code></pre>
<p><br></p>
<h3 id="problem-29.1">Problem 29.1</h3>
<p>What goes in blank (a)?</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading29_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse29_1" aria-expanded="true" aria-controls="collapse29_1">
Click to view the solution.
</button>
</h2>
<div id="collapse29_1" class="accordion-collapse collapse"
aria-labelledby="heading29_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer: <code>0</code></strong></p>
<p>First inspect the function parameters. With the example
<code>logwarts(["RQ", "GQ", "RB", "GS"], "Gryffindor", "Ravenclaw")</code>,
we observe <code>game_log</code> will be a list of strings, and
<code>team1</code> and <code>team2</code> will be the full name of the
respective competing houses. We can infer from the given structure that
our code will</p>
<ol type="1">
<li><p>Initialize two scores variables for the two houses,</p></li>
<li><p>Run a for loop through all the entries in the list, update score
based on given conditions,</p></li>
<li><p>Return the scores calculated by the loop.</p></li>
</ol>
<p>To set up <code>score_1</code> and <code>score_2</code> so we can
accumulate them in the for loop, we first set both equal to 0. So blank
(a) will be <code>0</code>. </p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>The average
score on this problem was 89%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-29.2">Problem 29.2</h3>
<p>What goes in blank (b)?</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading29_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse29_2" aria-expanded="true" aria-controls="collapse29_2">
Click to view the solution.
</button>
</h2>
<div id="collapse29_2" class="accordion-collapse collapse"
aria-labelledby="heading29_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer: <code>action[0]</code></strong></p>
<p>We observe the for loop iterates over the list of actions, where each
<code>action</code> is a <strong>two letter string</strong> in the
<code>game_log</code> array. Recall question statement- “Each element of
a game log is a two-letter string where the first letter represents the
house that performed the action”. Therefore, to get the house, we will
want to get the first letter of each action string. This is accessed by
<code>action[0]</code>.</p>
<p>Note: A common mistake here is using <code>action.split()[0]</code>.
<a href="https://dsc-courses.github.io/bpd-reference/docs/documentation/string-methods/str.split()">Recall
what <code>split()</code> does</a>/) - it takes in a string, splits it
according to the delimiter given (if not given, it separates by blank
space), and returns a <strong>list</strong> of separated strings. This
means that <code>action.split()[0]</code> will actually return itself.
Example: if <code>action</code> is <code>"RQ"</code>,
<code>action.split()</code> will split <code>"RQ"</code> by blank space,
in this case, there are none; so it will return the one-element list
<code>["RQ"]</code>. Accessing the zero-th index of this list by
<code>action.split()[0]</code> gives us <code>"RQ"</code> back, instead
of what we actually want (<code>"R"</code>).</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 61%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-29.3">Problem 29.3</h3>
<p>What goes in blank (c)?</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading29_3">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse29_3" aria-expanded="true" aria-controls="collapse29_3">
Click to view the solution.
</button>
</h2>
<div id="collapse29_3" class="accordion-collapse collapse"
aria-labelledby="heading29_3" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer: <code>action[1]</code></strong></p>
<p>Following the same logic as blank (b), we get the type of ball used
in the action by accessing the second character of the string, which is
<code>action[1]</code>.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 62%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-29.4">Problem 29.4</h3>
<p>What goes in blank (d)?</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading29_4">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse29_4" aria-expanded="true" aria-controls="collapse29_4">
Click to view the solution.
</button>
</h2>
<div id="collapse29_4" class="accordion-collapse collapse"
aria-labelledby="heading29_4" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer: <code>house == team1[0]</code></strong></p>
<p>Now enter the fun part: to figure out the correct conditions of the
if-statments, we must observe the code inside our conditional blocks
carefully.</p>
<p>Recall question statement:</p>
<ul>
<li><p>For each entry of the game log, the house is represented by the
first letter. “G” for Griffindor, “H” for Hufflepuff, “R” for Ravenclaw,
“S” for Slytherin.</p></li>
<li><p>Quaffle (“Q”) gets 10 points,</p></li>
<li><p>Snitch (“S”) gets 150 points,</p></li>
<li><p>Bludger (“B”) gets no point.</p></li>
<li><p><code>score1</code> is the score of the first team, and
<code>score2</code> is the score of the second.</p></li>
</ul>
<p>We have two conditions to take care of, the house and the type of
ball. How on earth do we know which one is nested and which one is on
the outside? Observe in the first big if statment, we are only updating
<code>score1</code>. This means this block takes care of the score of
the first house. Therefore, blank (d) should set the condition for the
first house.</p>
<p>Now careful! <code>team1</code> and <code>team2</code> are given as
full house names. We can match the <code>house</code> variable by
getting the first letter of the each team string (e.g. if
<code>team1</code> is Griffindor, we will get “G” to match with “G”). We
want to match <code>house</code> with <code>team1[0]</code>, so our
final answer is <code>house == team1[0]</code>. Since there are only two
houses here, the following <code>else</code> block will take care of
calculating score for the second house using the same scoring scheme as
we do for the first house.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 74%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-29.5">Problem 29.5</h3>
<p>What goes in blank (e)?</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading29_5">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse29_5" aria-expanded="true" aria-controls="collapse29_5">
Click to view the solution.
</button>
</h2>
<div id="collapse29_5" class="accordion-collapse collapse"
aria-labelledby="heading29_5" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer: <code>if ball == "Q"</code></strong></p>
<p>After gracefully handling the outer conditional statement, the rest
is simple. We now simply condition the scores. Here, we see score1
increments by 10, so we know this is accounting for a Quaffle. Recall
<code>ball</code> variable represents the type of ball we have. In this
case, we use <code>if ball == "Q"</code> to filter for Quaffles.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 69%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-29.6">Problem 29.6</h3>
<p>What goes in blank (f)?</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading29_6">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse29_6" aria-expanded="true" aria-controls="collapse29_6">
Click to view the solution.
</button>
</h2>
<div id="collapse29_6" class="accordion-collapse collapse"
aria-labelledby="heading29_6" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer: <code>elif ball == "S"</code> or
<code>if ball == "S"</code></strong></p>
<p>Using the same logic as blank (e), since the score is incremented by
150 here, we know this is a snitch. Using <code>elif ball == "S"</code>
or <code>if ball == "S"</code> will serve the purpose. We do not need to
worry about bludgers, since those do not add to the score.
</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>The average score on this problem was
64%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<p class="meta"><em>Source:</em> wi25-midterm — Q3</p>
<h2 id="problem-30">Problem 30</h2>
<p>Suppose we have access to another DataFrame called
<code>orders</code>, containing all student dining hall orders from the
past three years. <code>orders</code> includes the following columns,
among others:</p>
<ol type="1">
<li><p><code>"Dining Hall"</code> (<code>str</code>): The dining hall
where the order was placed.</p></li>
<li><p><code>"Start"</code> (<code>str</code>): The time the order was
placed.</p></li>
<li><p><code>"End"</code> (<code>str</code>): The time the order was
completed.</p></li>
</ol>
<p>All times are expressed in 24-hour military time format (HH:MM). For
example, <code>"13:15"</code> indicates 1:15 PM. All orders were
completed on the same day as they were placed, and <code>"End"</code> is
always after <code>"Start"</code>.</p>
<p><br></p>
<h3 id="problem-30.1">Problem 30.1</h3>
<p>Fill in the blanks in the function <code>to_minutes</code> below. The
function takes in a string representing a time in 24-hour military time
format (HH:MM) and returns an int representing the number of minutes
that have elapsed since midnight. Example behavior is given below.</p>
<div class="sourceCode" id="cb58"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a>    <span class="op">&gt;&gt;&gt;</span> to_minutes(<span class="st">&quot;02:35&quot;</span>)</span>
<span id="cb58-2"><a href="#cb58-2" aria-hidden="true" tabindex="-1"></a>    <span class="dv">155</span></span>
<span id="cb58-3"><a href="#cb58-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-4"><a href="#cb58-4" aria-hidden="true" tabindex="-1"></a>    <span class="op">&gt;&gt;&gt;</span> to_minutes(<span class="st">&quot;13:15&quot;</span>)</span>
<span id="cb58-5"><a href="#cb58-5" aria-hidden="true" tabindex="-1"></a>    <span class="dv">795</span></span>
<span id="cb58-6"><a href="#cb58-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-7"><a href="#cb58-7" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> to_minutes(time):</span>
<span id="cb58-8"><a href="#cb58-8" aria-hidden="true" tabindex="-1"></a>        separate <span class="op">=</span> time.__(a)__</span>
<span id="cb58-9"><a href="#cb58-9" aria-hidden="true" tabindex="-1"></a>        hour <span class="op">=</span> __(b)__</span>
<span id="cb58-10"><a href="#cb58-10" aria-hidden="true" tabindex="-1"></a>        minute <span class="op">=</span> __(c)__</span>
<span id="cb58-11"><a href="#cb58-11" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> __(d)__</span></code></pre></div>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading30_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse30_1" aria-expanded="true" aria-controls="collapse30_1">
Click to view the solution.
</button>
</h2>
<div id="collapse30_1" class="accordion-collapse collapse"
aria-labelledby="heading30_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer (a):</strong> <code>split(":")</code></p>
<p>We first want to separate the time string into hours and minutes, so
we use <code>split(":")</code> to turn a string like
<code>"HH:MM"</code> into a list of the form
<code>["HH", "MM"]</code>.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 84%.</p>
<p><strong>Answer (b):</strong> <code>separate[0]</code> or
<code>int(separate[0])</code></p>
<p>The hour will be the first element of the split list, so we can
access it using <code>separate[0]</code>. This is a string, which we can
convert to an <code>int</code> now, or later in blank (d).</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 73%.</p>
<p><strong>Answer (c):</strong> <code>separate[1]</code> or
<code>int(separate[1])</code></p>
<p>The minute will be the second element of the split list, so we can
access it using <code>separate[1]</code> or <code>separate[-1]</code>.
Likewise, this is also a string, which we can convert to an
<code>int</code> now, or later in blank (d).</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 73%.</p>
<p><strong>Answer (d):</strong>
<code>int(hour) * 60 + int(minute)</code> or
<code>hour * 60 + minute</code> (depending on the answers to (b) and
(c))</p>
<p>In order to convert hours and minutes into minutes since midnight, we
have to multiply the hours by 60 and add the number of minutes. These
operations must be done with <code>int</code>s, not strings.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 73%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-30.2">Problem 30.2</h3>
<p>Fill in the blanks below to add a new column called
<code>"Wait"</code> to <code>orders</code>, which contains the number of
minutes elapsed between when an order is placed and when it is
completed. Note that the first two blanks both say <code>(e)</code>
because they should be filled in with the same value.</p>
<div class="sourceCode" id="cb59"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a>    start_min <span class="op">=</span> orders.get(<span class="st">&quot;Start&quot;</span>).__(e)__</span>
<span id="cb59-2"><a href="#cb59-2" aria-hidden="true" tabindex="-1"></a>    end_min <span class="op">=</span> orders.get(<span class="st">&quot;End&quot;</span>).__(e)__</span>
<span id="cb59-3"><a href="#cb59-3" aria-hidden="true" tabindex="-1"></a>    orders <span class="op">=</span> orders.assign(Wait <span class="op">=</span> __(f)__)</span></code></pre></div>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading30_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse30_2" aria-expanded="true" aria-controls="collapse30_2">
Click to view the solution.
</button>
</h2>
<div id="collapse30_2" class="accordion-collapse collapse"
aria-labelledby="heading30_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer (e):</strong> <code>apply(to_minutes)</code></p>
<p>In order to find the time between when an order is placed and
completed, we first need to convert the <code>"Start"</code> and
<code>"End"</code> times to minutes since midnight, so that we can
subtract them. We apply the function we wrote in Problem 3.1 to get the
values of <code>"Start"</code> and <code>"End"</code> in minutes elapsed
since midnight.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 87%.</p>
<p><strong>Answer (f):</strong> <code>end_min - start_min</code></p>
<p>Now that we have the values of <code>"Start"</code> and
<code>"End"</code> columns in minutes, we simply need to subtract them
to find the wait time. Note that we are subtracting two Series here, so
the subtraction happens element-wise by matching up corresponding
elements.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 87%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-30.3">Problem 30.3</h3>
<p>You were told that <code>"End"</code> is always after
<code>"Start"</code> in <code>orders</code>, but you want to verify if
this is correct. Fill the blank below so that the result is
<code>True</code> if <code>"End"</code> is indeed always after
<code>"Start"</code>, and <code>False</code> otherwise.</p>
<div class="sourceCode" id="cb60"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a>    (orders.get(<span class="st">&quot;Wait&quot;</span>) <span class="op">&gt;</span> <span class="dv">0</span>).<span class="bu">sum</span>() <span class="op">==</span> __(g)__</span></code></pre></div>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading30_3">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse30_3" aria-expanded="true" aria-controls="collapse30_3">
Click to view the solution.
</button>
</h2>
<div id="collapse30_3" class="accordion-collapse collapse"
aria-labelledby="heading30_3" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer (g):</strong> <code>orders.shape[0]</code></p>
<p>Since <code>"Wait"</code> was already calculated in the previous
question by subtracting <code>"End"</code> minus <code>"Start"</code>,
we know that positive values indicate where <code>"End"</code> is after
<code>"Start"</code>. When we evaluate
<code>orders.get("Wait") = 0</code>, we get a Boolean Series where
<code>True</code> indicates rows where <code>"End"</code> is after
<code>"Start"</code>. Taking the <code>.sum()</code> of this Boolean
Series counts how many rows satisfy this condition, using the fact that
<code>True</code> is <code>1</code> and <code>False</code> is
<code>0</code> in Python. If <code>"End"</code> is always after
<code>"Start"</code>, this sum should equal the total number of rows in
the DataFrame, which is <code>orders.shape[0]</code>. Therefore,
comparing the sum to <code>orders.shape[0]</code> will return
<code>True</code> exactly when <code>"End"</code> is after
<code>"Start"</code> for all rows.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 36%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-30.4">Problem 30.4</h3>
<p>Fill in the blanks below so that <code>ranked</code> evaluates to an
array containing the names of the dining halls in <code>orders</code>,
sorted in descending order by <strong>average wait time</strong>.</p>
<div class="sourceCode" id="cb61"><pre
class="sourceCode py"><code class="sourceCode python"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a>    ranked <span class="op">=</span> np.array(orders.__(h)__</span>
<span id="cb61-2"><a href="#cb61-2" aria-hidden="true" tabindex="-1"></a>                             .sort_values(by<span class="op">=</span><span class="st">&quot;Wait&quot;</span>, ascending<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb61-3"><a href="#cb61-3" aria-hidden="true" tabindex="-1"></a>                             .__(i)__)</span></code></pre></div>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading30_4">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse30_4" aria-expanded="true" aria-controls="collapse30_4">
Click to view the solution.
</button>
</h2>
<div id="collapse30_4" class="accordion-collapse collapse"
aria-labelledby="heading30_4" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer (h):</strong>
<code>groupby('Dining Hall').mean()</code></p>
<p>Since we want to compare the average wait time for each Dining Hall
we know we need to aggregate each Dining Hall and find the mean of the
<code>"Wait"</code> column. This can be done using
<code>groupby('Dining Hall').mean()</code>.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 62%.</p>
<p><strong>Answer (i):</strong> <code>index</code> or
<code>reset_index().get('Dining Hall')</code></p>
<p>The desired output is an array with the <strong>names</strong> of
each dining hall. After grouping and sorting, the dining hall names
become the index of our DataFrame. Since we want an array of these names
in descending order of wait times, we can either use <code>.index</code>
to get them directly, or <code>reset_index().get("Dining Hall")</code>
to convert the index back to a column and select it.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 43%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-30.5">Problem 30.5</h3>
<p>What would be the most appropriate type of data visualization to
compare dining halls by average wait time?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> scatter plot</p></li>
<li><p><input type="radio" disabled="" /> line plot</p></li>
<li><p><input type="radio" disabled="" /> bar chart</p></li>
<li><p><input type="radio" disabled="" /> histogram</p></li>
<li><p><input type="radio" disabled="" /> overlaid plot</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading30_5">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse30_5" aria-expanded="true" aria-controls="collapse30_5">
Click to view the solution.
</button>
</h2>
<div id="collapse30_5" class="accordion-collapse collapse"
aria-labelledby="heading30_5" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> bar chart</p>
<p><code>"Dining Hall"</code> is a categorical variable and the average
wait time is a numerical variable, so a bar chart should be used. Our
visualization would have a bar for each dining hall, and the length of
that bar would be proportional to the average wait time.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 89%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
</body>
</html>
