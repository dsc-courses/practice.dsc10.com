<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>Extra Practice Session 5: Simulation and Sampling; Midterm Review</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      {   }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span.al { color: #ff0000; font-weight: bold; } /* Alert */
    code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
    code span.at { color: #7d9029; } /* Attribute */
    code span.bn { color: #40a070; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #4070a0; } /* Char */
    code span.cn { color: #880000; } /* Constant */
    code span.co { color: #60a0b0; font-style: italic; } /* Comment */
    code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
    code span.do { color: #ba2121; font-style: italic; } /* Documentation */
    code span.dt { color: #902000; } /* DataType */
    code span.dv { color: #40a070; } /* DecVal */
    code span.er { color: #ff0000; font-weight: bold; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #40a070; } /* Float */
    code span.fu { color: #06287e; } /* Function */
    code span.im { } /* Import */
    code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
    code span.kw { color: #007020; font-weight: bold; } /* Keyword */
    code span.op { color: #666666; } /* Operator */
    code span.ot { color: #007020; } /* Other */
    code span.pp { color: #bc7a00; } /* Preprocessor */
    code span.sc { color: #4070a0; } /* SpecialChar */
    code span.ss { color: #bb6688; } /* SpecialString */
    code span.st { color: #4070a0; } /* String */
    code span.va { color: #19177c; } /* Variable */
    code span.vs { color: #4070a0; } /* VerbatimString */
    code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="..\assets\theme.css" />
  <script defer=""
  src="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.js"></script>
  <script>document.addEventListener("DOMContentLoaded", function () {
 var mathElements = document.getElementsByClassName("math");
 var macros = [];
 for (var i = 0; i < mathElements.length; i++) {
  var texText = mathElements[i].firstChild;
  if (mathElements[i].tagName == "SPAN") {
   katex.render(texText.data, mathElements[i], {
    displayMode: mathElements[i].classList.contains('display'),
    throwOnError: false,
    macros: macros,
    fleqn: false
   });
}}});
  </script>
  <link rel="stylesheet"
  href="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.css" />
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<header id="title-block-header">
<h1 class="title">Extra Practice Session 5: Simulation and Sampling;
Midterm Review</h1>
</header>
<p><link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
<!-- add after bootstrap.min.css -->
<link rel="stylesheet" href="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.css"/>
<!-- add after bootstrap.min.js or bootstrap.bundle.min.js -->
<script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script></p>
<!-- for difficulty gauges-->
<script src="https://cdn.plot.ly/plotly-2.16.1.min.js"></script>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-B947E6J6H4"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-B947E6J6H4');
</script>
<p><a href="../index.html">← return to practice.dsc10.com</a></p>
<hr />
<p>Welcome! The problems shown below should be worked on <strong>on
paper</strong>, since the quizzes and exams you take in this course will
also be on paper. You do not need to submit your solutions anywhere.
<br><br>We encourage you to complete this worksheet in groups during an
extra practice session on Friday, February 9th. Solutions will be posted
after all sessions have finished. This problem set is not designed to
take any particular amount of time - focus on understanding concepts,
not on getting through all the questions.</p>
<hr />
<h2 id="problem-1">Problem 1</h2>
<p>Suppose you are booking a flight and you have no control over which
airline you fly on. Below is a table with multiple airlines and the
probability of a flight being on a specific airline.</p>
<center>
<table class="table" style="width:20%">
  <thead>
    <tr>
      <th scope="col">Airline</th>
      <th scope="col">Chance</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th scope="row">Delta</th>
      <td>0.4</td>
    </tr>
    <tr>
      <th scope="row">United</th>
      <td>0.3</td>
    </tr>
    <tr>
      <th scope="row">American</th>
      <td>0.2</td>
    </tr>
    <tr>
      <th scope="row">All other airlines</th>
      <td>0.1</td>
    </tr>
  </tbody>
</table>
</center>
<p>The airline for one flight has no impact on the airline for another
flight.</p>
<p>For this question, suppose that you schedule 3 flights for January
2022.</p>
<p><br></p>
<h3 id="problem-1.1">Problem 1.1</h3>
<p>What is the probability that all 3 flights are on United? Give your
answer as an <strong>exact</strong> decimal between 0 and 1 (not a
Python expression).</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading1_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse1_1" aria-expanded="true" aria-controls="collapse1_1">
Click to view the solution.
</button>
</h2>
<div id="collapse1_1" class="accordion-collapse collapse collapse"
aria-labelledby="heading1_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer: </strong> 0.027</p>
<p>For all three flights to be on United, we need the first flight to be
on United, and the second, and the third. Since these are independent
events that do not impact one another, and we need all three flights to
separately be on United, we need to multiply these probabilities, giving
an answer of <span class="math inline">0.3*0.3*0.3 = 0.027</span>.</p>
<p>Note that on an exam without calculator access, you could leave your
answer as <span class="math inline">(0.3)^3</span>.</p>
<hr/>
<h5>Difficulty: ⭐️</h5>
<p>
</p>
<p>The average score on this problem was 93%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-1.2">Problem 1.2</h3>
<p>What is the probability that all 3 flights are on Delta, or all on
United, or all on American? Give your answer as an
<strong>exact</strong> decimal between 0 and 1 (not a Python
expression).</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading1_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse1_2" aria-expanded="true" aria-controls="collapse1_2">
Click to view the solution.
</button>
</h2>
<div id="collapse1_2" class="accordion-collapse collapse collapse"
aria-labelledby="heading1_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer: </strong> 0.099</p>
<p>We already calculated the probability of all three flights being on
United as <span class="math inline">(0.3)^3 = 0.027</span>. Similarly,
the probability of all three flights being on Delta is <span class="math inline">(0.4)^3 = 0.064</span>, and the probability of all
three flights being on American is <span class="math inline">(0.2)^3 =
0.008</span>. Since we cannot satisfy more than one of these conditions
at the same time, we can separately add their probabilities to find a
total probability of <span class="math inline">0.027 + 0.064 + 0.008 =
0.099</span>.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 76%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-1.3">Problem 1.3</h3>
<p>True or False: The probability that all 3 flights are on the same
airline is equal to the probability you computed in the previous
subpart.</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> True</p></li>
<li><p><input type="radio" disabled="" /> False</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading1_3">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse1_3" aria-expanded="true" aria-controls="collapse1_3">
Click to view the solution.
</button>
</h2>
<div id="collapse1_3" class="accordion-collapse collapse collapse"
aria-labelledby="heading1_3" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer: </strong> False</p>
<p>It’s not quite the same because the previous subpart doesn’t include
the probability that all three flights are on the same airline which is
not one of Delta, United, or American. For example, there is a small
probability that all three flights are on Allegiant or all three flights
are on Southwest.</p>
<hr/>
<h5>Difficulty: ⭐️</h5>
<p>
</p>
<p>The average score on this problem was 90%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="problem-2">Problem 2</h2>
<p>King Triton has boarded a Southwest flight. For in-flight
refreshments, Southwest serves four types of cookies – chocolate chip,
gingerbread, oatmeal, and peanut butter.</p>
<p>The flight attendant comes to King Triton with a box containing 10
cookies:</p>
<ul>
<li>4 chocolate chip</li>
<li>3 gingerbread</li>
<li>2 oatmeal, and</li>
<li>1 peanut butter</li>
</ul>
<p>The flight attendant tells King Triton to grab 2 cookies out of the
box without looking.</p>
<p>Fill in the blanks below to implement a simulation that estimates the
probability that both of King Triton’s selected cookies are the
same.</p>
<div class="sourceCode" id="cb1"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># &#39;cho&#39; stands for chocolate chip, &#39;gin&#39; stands for gingerbread,</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="co"># &#39;oat&#39; stands for oatmeal, and &#39;pea&#39; stands for peanut butter.</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>cookie_box <span class="op">=</span> np.array([<span class="st">&#39;cho&#39;</span>, <span class="st">&#39;cho&#39;</span>, <span class="st">&#39;cho&#39;</span>, <span class="st">&#39;cho&#39;</span>, <span class="st">&#39;gin&#39;</span>, </span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>                       <span class="st">&#39;gin&#39;</span>, <span class="st">&#39;gin&#39;</span>, <span class="st">&#39;oat&#39;</span>, <span class="st">&#39;oat&#39;</span>, <span class="st">&#39;pea&#39;</span>])</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>repetitions <span class="op">=</span> <span class="dv">10000</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>prob_both_same <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i <span class="kw">in</span> np.arange(repetitions):</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>    grab <span class="op">=</span> np.random.choice(__(a)__)</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> __(b)__:</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>        prob_both_same <span class="op">=</span> prob_both_same <span class="op">+</span> <span class="dv">1</span></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>prob_both_same <span class="op">=</span> __(c)__</span></code></pre></div>
<p><br></p>
<h3 id="problem-2.1">Problem 2.1</h3>
<p>What goes in blank (a)?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> <code>cookie_box, repetitions, replace=False</code></p></li>
<li><p><input type="radio" disabled="" /> <code>cookie_box, 2, replace=True</code></p></li>
<li><p><input type="radio" disabled="" /> <code>cookie_box, 2, replace=False</code></p></li>
<li><p><input type="radio" disabled="" /> <code>cookie_box, 2</code></p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading2_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse2_1" aria-expanded="true" aria-controls="collapse2_1">
Click to view the solution.
</button>
</h2>
<div id="collapse2_1" class="accordion-collapse collapse collapse"
aria-labelledby="heading2_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong>
<code>cookie_box, 2, replace=False</code></p>
<p>We are told that King Triton grabs two cookies out of the box without
looking. Since this is a random choice, we use the function
<code>np.random.choice</code> to simulate this. The first input to this
function is a sequence of values to choose from. We already have an
array of values to choose from in the variable <code>cookie_box</code>.
Calling <code>np.random.choice(cookie_box)</code> would select one
cookie from the cookie box, but we want to select two, so we use an
optional second parameter to specify the number of items to randomly
select. Finally, we should consider whether we want to select with or
without replacement. Since <code>cookie_box</code> contains individual
cookies and King Triton is selecting two of them, he cannot choose the
same exact cookie twice. This means we should sample without
replacement, by specifying <code>replace=False</code>. Note that
omitting the <code>replace</code> parameter would use the default option
of sampling with replacement.</p>
<hr/>
<h5>Difficulty: ⭐️</h5>
<p>
</p>
<p>The average score on this problem was 92%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-2.2">Problem 2.2</h3>
<p>What goes in blank (b)?</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading2_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse2_2" aria-expanded="true" aria-controls="collapse2_2">
Click to view the solution.
</button>
</h2>
<div id="collapse2_2" class="accordion-collapse collapse collapse"
aria-labelledby="heading2_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> <code>grab[0] == grab[1]</code></p>
<p>The idea of a simulation is to do some random process many times. We
can use the results to approximate a probability by counting up the
number of times some event occurred, and dividing that by the number of
times we did the random process. Here, the random process is selecting
two cookies from the cookie box, and we are doing this 10,000 times. The
approximate probability will be the number of times in which both
cookies are the same divided by 10,000. So we need to count up the
number of times that both randomly selected cookies are the same. We do
this by having an accumulator variable that starts out at 0 and gets
incremented, or increased by 1, every time both cookies are the same.
The code has such a variable, called <code>prob_both_same</code>, that
is initialized to 0 and gets incremented when some condition is met.</p>
<p>We need to fill in the condition, which is that both randomly
selected cookies are the same. We’ve already randomly selected the
cookies and stored the results in <code>grab</code>, which is an array
of length 2 that comes from the output of a call to
<code>np.random.choice</code>. To check if both elements of the
<code>grab</code> array are the same, we access the individual elements
using brackets with the position number, and compare using the
<code>==</code> symbol to check equality. Note that at the end of the
<code>for</code> loop, the variable <code>prob_both_same</code> will
contain a count of the number of trials out of 10,000 in which both of
King Triton’s cookies were the same flavor.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 79%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-2.3">Problem 2.3</h3>
<p>What goes in blank (c)?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> <code>prob_both_same / repetitions</code></p></li>
<li><p><input type="radio" disabled="" /> <code>prob_both_same / 2</code></p></li>
<li><p><input type="radio" disabled="" /> <code>np.mean(prob_both_same)</code></p></li>
<li><p><input type="radio" disabled="" /> <code>prob_both_same.mean()</code></p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading2_3">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse2_3" aria-expanded="true" aria-controls="collapse2_3">
Click to view the solution.
</button>
</h2>
<div id="collapse2_3" class="accordion-collapse collapse collapse"
aria-labelledby="heading2_3" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong>
<code>prob_both_same / repetitions</code></p>
<p>After the <code>for</code> loop, <code>prob_both_same</code> contains
the number of trials out of 10,000 in which both of King Triton’s
cookies were the same flavor. We’d like it to represent the approximate
probability of both cookies being the same flavor, so we need to divide
the current value by the total number of trials, 10,000. Since this
value is stored in the variable <code>repetitions</code>, we can divide
<code>prob_both_same</code> by <code>repetitions</code>.</p>
<hr/>
<h5>Difficulty: ⭐️</h5>
<p>
</p>
<p>The average score on this problem was 93%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="problem-3">Problem 3</h2>
<p>Each individual penguin in our dataset is of a certain species
(Adelie, Chinstrap, or Gentoo) and comes from a particular island in
Antarctica (Biscoe, Dream, or Torgerson). There are 330 penguins in our
dataset, grouped by species and island as shown below.</p>
<center><img src='../assets/images/fa21-final/dream_form.png' width=20%></center>
<p><br></p>
<p>Suppose we pick one of these 330 penguins, uniformly at random, and
name it Chester.</p>
<p><br></p>
<h3 id="problem-3.1">Problem 3.1</h3>
<p>What is the probability that Chester comes from Dream island? Give
your answer as a number between 0 and 1, rounded to three decimal
places.</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading3_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse3_1" aria-expanded="true" aria-controls="collapse3_1">
Click to view the solution.
</button>
</h2>
<div id="collapse3_1" class="accordion-collapse collapse collapse"
aria-labelledby="heading3_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> 0.373</p>
<p>P(Chester comes from Dream island) = # of penguins in dream island
<span class="math inline">/</span> # of all penguins in the data = <span class="math inline">\frac{55+68}{330} \approx 0.373</span></p>
<hr/>
<h5>Difficulty: ⭐️</h5>
<p>
</p>
<p>The average score on this problem was 94%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-3.2">Problem 3.2</h3>
<p>If we know that Chester comes from Dream island, what is the
probability that Chester is an Adelie penguin? Give your answer as a
number between 0 and 1, rounded to three decimal places.</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading3_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse3_2" aria-expanded="true" aria-controls="collapse3_2">
Click to view the solution.
</button>
</h2>
<div id="collapse3_2" class="accordion-collapse collapse collapse"
aria-labelledby="heading3_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> 0.447</p>
<p>P(Chester is an Adelie penguin given that Chester comes from Dream
island) = # of Adelie penguins from Dream island <span class="math inline">/</span> # of penguins from Dream island = <span class="math inline">\frac{55}{55+68} \approx 0.447</span></p>
<hr/>
<h5>Difficulty: ⭐️</h5>
<p>
</p>
<p>The average score on this problem was 91%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-3.3">Problem 3.3</h3>
<p>If we know that Chester is not from Dream island, what is the
probability that Chester is not an Adelie penguin? Give your answer as a
number between 0 and 1, rounded to three decimal places.</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading3_3">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse3_3" aria-expanded="true" aria-controls="collapse3_3">
Click to view the solution.
</button>
</h2>
<div id="collapse3_3" class="accordion-collapse collapse collapse"
aria-labelledby="heading3_3" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> 0.575</p>
<p>Method 1</p>
<p>P(Chester is not an Adelie penguin given that Chester is not from
Dream island) = # of penguins that are not Adelie penguins from islands
other than Dream island <span class="math inline">/</span> # of penguins
in island other than Dream island = <span class="math inline">\frac{119\
\text{(eliminate all penguins that are Adelie or from Dream island, only
Gentoo penguins from Biscoe are left)}}{44+44+119} \approx
0.575</span></p>
<p>Method 2</p>
<p>P(Chester is not an Adelie penguin given that Chester is not from
Dream island) = 1- (# of penguins that are Adelie penguins from islands
other than Dream island <span class="math inline">/</span> # of penguins
in island other than Dream island) = <span class="math inline">1-\frac{44+44}{44+44+119} \approx 0.575</span></p>
<hr/>
<h5>Difficulty: ⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 85%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="problem-4">Problem 4</h2>
<p>The fine print of the Sun God festival website says “Ticket does not
guarantee entry. Venue subject to capacity restrictions.” RIMAC field,
where the 2022 festival will be held, has a capacity of 20,000 people.
Let’s say that UCSD distributes 21,000 tickets to Sun God 2022 because
prior data shows that 5% of tickets distributed are never actually
redeemed. Let’s suppose that each person with a ticket this year has a
5% chance of not attending (independently of all others). What is the
probability that at least one student who has a ticket cannot get in due
to the capacity restriction? Fill in the blanks in the code below so
that <code>prob_angry_student</code> evaluates to an approximation of
this probability.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>num_angry <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> rep <span class="kw">in</span> np.arange(<span class="dv">10000</span>):</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>    <span class="co"># randomly choose 21000 elements from [True, False] such that </span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>    <span class="co"># True has probability 0.95, False has probability 0.05</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>    attending <span class="op">=</span> np.random.choice([<span class="va">True</span>, <span class="va">False</span>], <span class="dv">21000</span>, p<span class="op">=</span>[<span class="fl">0.95</span>, <span class="fl">0.05</span>])</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> __(a)__:</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>        __(b)__</span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>prob_angry_student <span class="op">=</span> __(c)__</span></code></pre></div>
<p><br></p>
<h3 id="problem-4.1">Problem 4.1</h3>
<p>What goes in the <strong>first</strong> blank?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> <code>np.count_nonzero(attending) == 20001</code></p></li>
<li><p><input type="radio" disabled="" /> <code>attending[20000] == False</code></p></li>
<li><p><input type="radio" disabled="" /> <code>attending.sum() &gt; 20000</code></p></li>
<li><p><input type="radio" disabled="" /> <code>np.count_nonzero(attending) &gt; num_angry</code></p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading4_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse4_1" aria-expanded="true" aria-controls="collapse4_1">
Click to view the solution.
</button>
</h2>
<div id="collapse4_1" class="accordion-collapse collapse collapse"
aria-labelledby="heading4_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer: </strong> <code>attending.sum() &gt; 20000</code></p>
<p>Let’s look at the variable <code>attending</code>. Since we’re
choosing 21,000 elements from the list <code>[True, False]</code> and
there are 21,000 tickets distributed, this code is randomly determining
whether each ticket holder will actually attend the festival. There’s a
95% chance of each ticket holder attending, which is reflected in the
<code>p=[0.95, 0.05]</code> argument. Remember that
<code>np.random.choice</code> returns an array of random choices, which
in this case means it will contain 21,000 elements, each of which is
<code>True</code> or <code>False</code>.</p>
<p>We want to figure out the probability of at least one ticket holder
showing up and not being admitted. Another way to say this is we want to
find the probability that more than 20,000 ticket holders show up to
attend the festival. The way we approximate a probability through
simulation is we repeat a process many times and see how often some
event occured. The event we’re interested in this case is that more than
20,000 ticket holders came to Sun God. Since we have an array of
<code>True</code> and <code>False</code> values corresponding to whether
each ticket holder actually came, we just need to determine if there are
more than 20,000 <code>True</code> values in the <code>attending</code>
array.</p>
<p>There are several ways to count the number of <code>True</code>
values in a Boolean array. One way is to sum the array since in Python
<code>True</code> counts as 1 and <code>False</code> counts as 0.
Therefore, <code>attending.sum() &gt; 20000</code> is the condition we
need to check here.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 67%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-4.2">Problem 4.2</h3>
<p>What goes in the <strong>second</strong> blank?</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading4_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse4_2" aria-expanded="true" aria-controls="collapse4_2">
Click to view the solution.
</button>
</h2>
<div id="collapse4_2" class="accordion-collapse collapse collapse"
aria-labelledby="heading4_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer: </strong> <code>num_angry = num_angry + 1</code></p>
<p>Remember our goal in simulation is to repeat a process many times to
see how often some event occurs. The repetition comes from the
<code>for</code> loop which runs 10,000 times. Each time, we are
simulating the process of 21,000 students each randomly deciding whether
to show up to Sun God or not. We want to know, out of these 10,000
trials, how frequently more than 20,000 of the students will show up. So
when this happens, we want to record that it happened. The standard way
to do that is to keep a counter variable that starts at 0 and gets
incremented, or increased by one, each time we had more than 20,000
attendees in our simulation.</p>
<p>The framework to do this is already set up because a variable called
<code>num_angry</code> is initialized to 0 before the <code>for</code>
loop. This variable is our counter variable, meant to count the number
of trials, out of 10,000, that resulted in at least one student being
angry because they showed up to Sun God with a ticket and were denied
entrance. So all we need to do when there are more than 20,000
<code>True</code> values in the <code>attending</code> array is
increment this counter by one via the code
<code>num_angry = num_angry + 1</code>, sometimes abbreviated as
<code>num_angry += 1</code>.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 59%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-4.3">Problem 4.3</h3>
<p>What goes in the <strong>third</strong> blank?</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading4_3">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse4_3" aria-expanded="true" aria-controls="collapse4_3">
Click to view the solution.
</button>
</h2>
<div id="collapse4_3" class="accordion-collapse collapse collapse"
aria-labelledby="heading4_3" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer: </strong> <code>num_angry/10000</code></p>
<p>To calculate the approximate probability, all we need to do is divide
the number of trials in which a student was angry by the total number of
trials, which is 10,000.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 68%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="problem-5">Problem 5</h2>
<div class="sourceCode" id="cb3"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>results <span class="op">=</span> np.array([])</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i <span class="kw">in</span> np.arange(<span class="dv">10</span>):</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>    result <span class="op">=</span> np.random.choice(np.arange(<span class="dv">1000</span>), replace<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>    results <span class="op">=</span> np.append(results, result)</span></code></pre></div>
<p>After this code executes, <code>results</code> contains:</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> a simple random sample of size 9, chosen from a set of size 999 with
replacement</p></li>
<li><p><input type="radio" disabled="" /> a simple random sample of size 9, chosen from a set of size 999
without replacement</p></li>
<li><p><input type="radio" disabled="" /> a simple random sample of size 10, chosen from a set of size 1000
with replacement</p></li>
<li><p><input type="radio" disabled="" /> a simple random sample of size 10, chosen from a set of size 1000
without replacement</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading5">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse5" aria-expanded="true" aria-controls="collapse5">
Click to view the solution.
</button>
</h2>
<div id="collapse5" class="accordion-collapse collapse collapse"
aria-labelledby="heading5" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer: </strong> a simple random sample of size 10, chosen
from a set of size 1000 with replacement</p>
<p>Let’s see what the code is doing. The first line initializes an empty
array called <code>results</code>. The for loop runs 10 times. Each
time, it creates a value called <code>result</code> by some process
we’ll inspect shortly and appends this value to the end of the
<code>results</code> array. At the end of the code snippet,
<code>results</code> will be an array containing 10 elements.</p>
<p>Now, let’s look at the process by which each element
<code>result</code> is generated. Each <code>result</code> is a random
element chosen from <code>np.arange(1000)</code> which is the numbers
from 0 to 999, inclusive. That’s 1000 possible numbers. Each time
<code>np.random.choice</code> is called, just one value is chosen from
this set of 1000 possible numbers.</p>
<p>When we sample just one element from a set of values, sampling with
replacement is the same as sampling without replacement, because
sampling with or without replacement concerns whether subsequent draws
can be the same as previous ones. When we’re just sampling one element,
it really doesn’t matter whether our process involves putting that
element back, as we’re not going to draw again!</p>
<p>Therefore, <code>result</code> is just one random number chosen from
the 1000 possible numbers. Each time the <code>for</code> loop executes,
<code>result</code> gets set to a random number chosen from the 1000
possible numbers. It is possible (though unlikely) that the random
<code>result</code> of the first execution of the loop matches the
<code>result</code> of the second execution of the loop. More generally,
there can be repeated values in the <code>results</code> array since
each entry of this array is independently drawn from the same set of
possibilities. Since repetitions are possible, this means the sample is
drawn with replacement.</p>
<p>Therefore, the <code>results</code> array contains a sample of size
10 chosen from a set of size 1000 with replacement. This is called a
“simple random sample” because each possible sample of 10 values is
equally likely, which comes from the fact that
<code>np.random.choice</code> chooses each possible value with equal
probability by default.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 11%.</p>
</div>
</div>
</div>
</div>
<hr />
<h2 id="problem-6">Problem 6</h2>
<p>Given below is the <code>season</code> DataFrame, which contains
statistics on all players in the WNBA in the 2021 season. The first few
rows of <code>season</code> are shown below:</p>
<center><img src='../assets/images/wi22-final/seasons.png' width=40%></center>
<p>Each row in season corresponds to a single player. In this problem,
we’ll be looking at the <code>'PPG'</code> column, which records the
number of points scored per game played.</p>
<p>Now, suppose we only have access to the DataFrame
<code>small_season</code>, which is a random sample of <strong>size
36</strong> from <code>season</code>. We’re interested in learning about
the true mean points per game of all players in <code>season</code>
given just the information in <code>small_season</code>.</p>
<p>To start, we want to bootstrap <code>small_season</code> 10,000 times
and compute the mean of the resample each time. We want to store these
10,000 bootstrapped means in the array <code>boot_means</code>.</p>
<p>Here is a broken implementation of this procedure.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>boot_means <span class="op">=</span> np.array([])                                           </span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i <span class="kw">in</span> np.arange(<span class="dv">10000</span>):                                          </span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>    resample <span class="op">=</span> small_season.sample(season.shape[<span class="dv">0</span>], replace<span class="op">=</span><span class="va">False</span>)  <span class="co"># Line 1</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>    resample_mean <span class="op">=</span> small_season.get(<span class="st">&#39;PPG&#39;</span>).mean()                  <span class="co"># Line 2</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>    np.append(boot_means, new_mean)                                 <span class="co"># Line 3</span></span></code></pre></div>
<p>For each of the 3 lines of code above (marked by comments), specify
what is incorrect about the line by selecting one or more of the
corresponding options below. Or, select “Line _ is correct as-is” if you
believe there’s nothing that needs to be changed about the line in order
for the above code to run properly.</p>
<p><br></p>
<h3 id="problem-6.1">Problem 6.1</h3>
<p>What is incorrect about Line 1? Select all that apply.</p>
<ul class="task-list">
<li><p><input type="checkbox" disabled="" /> Currently the procedure samples from <code>small_season</code>, when
it should be sampling from <code>season</code></p></li>
<li><p><input type="checkbox" disabled="" /> The sample size is <code>season.shape[0]</code>, when it should be
<code>small_season.shape[0]</code></p></li>
<li><p><input type="checkbox" disabled="" /> Sampling is currently being done without replacement, when it should
be done with replacement</p></li>
<li><p><input type="checkbox" disabled="" /> Line 1 is correct as-is</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading6_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse6_1" aria-expanded="true" aria-controls="collapse6_1">
Click to view the solution.
</button>
</h2>
<div id="collapse6_1" class="accordion-collapse collapse collapse"
aria-labelledby="heading6_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answers:</strong></p>
<ul>
<li>The sample size is <code>season.shape[0]</code>, when it should be
<code>small_season.shape[0]</code></li>
<li>Sampling is currently being done without replacement, when it should
be done with replacement</li>
</ul>
<p>Here, our goal is to bootstrap from <code>small_season</code>. When
bootstrapping, we <strong>sample with replacement</strong> from our
original sample, with a sample size that’s equal to the original
sample’s size. Here, our original sample is <code>small_season</code>,
so we should be taking samples of size
<code>small_season.shape[0]</code> from it.</p>
<p>Option 1 is incorrect; <code>season</code> has nothing to do with
this problem, as we are bootstrapping from
<code>small_season</code>.</p>
<hr/>
<h5>Difficulty: ⭐️</h5>
<p>
</p>
<p>The average score on this problem was 95%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-6.2">Problem 6.2</h3>
<p>What is incorrect about Line 2? Select all that apply.</p>
<ul class="task-list">
<li><p><input type="checkbox" disabled="" /> Currently it is taking the mean of the <code>'PPG'</code> column in
<code>small_season</code>, when it should be taking the mean of the
<code>'PPG'</code> column in <code>season</code></p></li>
<li><p><input type="checkbox" disabled="" /> Currently it is taking the mean of the <code>'PPG'</code> column in
<code>small_season</code>, when it should be taking the mean of the
<code>'PPG'</code> column in <code>resample</code></p></li>
<li><p><input type="checkbox" disabled="" /> <code>.mean()</code> is not a valid Series method, and should be
replaced with a call to the function <code>np.mean</code></p></li>
<li><p><input type="checkbox" disabled="" /> Line 2 is correct as-is</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading6_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse6_2" aria-expanded="true" aria-controls="collapse6_2">
Click to view the solution.
</button>
</h2>
<div id="collapse6_2" class="accordion-collapse collapse collapse"
aria-labelledby="heading6_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer:</strong> Currently it is taking the mean of the
<code>'PPG'</code> column in <code>small_season</code>, when it should
be taking the mean of the <code>'PPG'</code> column in
<code>resample</code></p>
<p>The current implementation of Line 2 doesn’t use the
<code>resample</code> at all, when it should. If we were to leave Line 2
as it is, all of the values in <code>boot_means</code> would be
identical (and equal to the mean of the <code>'PPG'</code> column in
<code>small_season</code>).</p>
<p>Option 1 is incorrect since our bootstrapping procedure is
independent of <code>season</code>. Option 3 is incorrect because
<code>.mean()</code> is a valid Series method.</p>
<hr/>
<h5>Difficulty: ⭐️</h5>
<p>
</p>
<p>The average score on this problem was 98%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-6.3">Problem 6.3</h3>
<p>What is incorrect about Line 3? Select all that apply.</p>
<ul class="task-list">
<li><p><input type="checkbox" disabled="" /> The result of calling <code>np.append</code> is not being reassigned
to <code>boot_means</code>, so <code>boot_means</code> will be an empty
array after running this procedure</p></li>
<li><p><input type="checkbox" disabled="" /> The indentation level of the line is incorrect –
<code>np.append</code> should be outside of the <code>for</code>-loop
(and aligned with <code>for i</code>)</p></li>
<li><p><input type="checkbox" disabled="" /> <code>new_mean</code> is not a defined variable name, and should be
replaced with <code>resample_mean</code></p></li>
<li><p><input type="checkbox" disabled="" /> Line 3 is correct as-is</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading6_3">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse6_3" aria-expanded="true" aria-controls="collapse6_3">
Click to view the solution.
</button>
</h2>
<div id="collapse6_3" class="accordion-collapse collapse collapse"
aria-labelledby="heading6_3" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answers:</strong></p>
<ul>
<li>The result of calling <code>np.append</code> is not being reassigned
to <code>boot_means</code>, so <code>boot_means</code> will be an empty
array after running this procedure</li>
<li><code>new_mean</code> is not a defined variable name, and should be
replaced with <code>resample_mean</code></li>
</ul>
<p><code>np.append</code> returns a new array and does not modify the
array it is called on (<code>boot_means</code>, in this case), so Option
1 is a necessary fix. Furthermore, Option 3 is a necessary fix since
<code>new_mean</code> wasn’t defined anywhere.</p>
<p>Option 2 is incorrect; if <code>np.append</code> were outside of the
<code>for</code>-loop, none of the 10,000 resampled means would be saved
in <code>boot_means</code>.</p>
<hr/>
<h5>Difficulty: ⭐️</h5>
<p>
</p>
<p>The average score on this problem was 94%.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-6.4">Problem 6.4</h3>
<p>We construct a 95% confidence interval for the true mean points per
game for all players by taking the middle 95% of the bootstrapped sample
means.</p>
<div class="sourceCode" id="cb5"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>left_b <span class="op">=</span> np.percentile(boot_means, <span class="fl">2.5</span>)</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>right_b <span class="op">=</span> np.percentile(boot_means, <span class="fl">97.5</span>)</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>boot_ci <span class="op">=</span> [left_b, right_b]         </span></code></pre></div>
<p>We find that <code>boot_ci</code> is the interval [7.7, 10.3].
However, the mean points per game in <code>season</code> is 7, which is
not in the interval we found. Which of the following statements is true?
(Select all question)</p>
<ul class="task-list">
<li><p><input type="checkbox" disabled="" /> 95% of games in <code>season</code> have a number of points between
7.7 and 10.3.</p></li>
<li><p><input type="checkbox" disabled="" /> 95% of values in <code>boot_means</code> fall between 7.7 and
10.3.</p></li>
<li><p><input type="checkbox" disabled="" /> There is a 95% chance that the true mean points per game is between
7.7 and 10.3.</p></li>
<li><p><input type="checkbox" disabled="" /> The interval we created did not contain the true mean points per
game, but if we collected many original samples and constructed many 95%
confidence intervals, then exactly 95% of them would contain the true
mean points per game.</p></li>
<li><p><input type="checkbox" disabled="" /> The interval we created did not contain the true mean points per
game, but if we collected many original samples and constructed many 95%
confidence intervals, then roughly 95% of them would contain the true
mean points per game.</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading6_4">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse6_4" aria-expanded="true" aria-controls="collapse6_4">
Click to view the solution.
</button>
</h2>
<div id="collapse6_4" class="accordion-collapse collapse collapse"
aria-labelledby="heading6_4" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answers:</strong></p>
<ul>
<li>95% of values in <code>boot_means</code> fall between the endpoints
of the interval we found.</li>
<li>The interval we created did not contain the true mean points per
game, but if we collected many original samples and constructed many 95%
confidence intervals, then roughly 95% of them would contain the true
mean points per game.</li>
</ul>
<p>The first option is incorrect because the confidence interval
describes what we think the <em>mean</em> points per game could be.
Individual games likely have a very large variety in the number of
points scores. Probably very few have between 7.7 and 10.3 points.</p>
<p>The second option is correct because this is precisely how we
calculated the endpoints of our interval, by taking the middle 95% of
values in <code>boot_means</code>.</p>
<p>The third option is incorrect because we know the true mean points
per game - it’s 7. 7 does not fall in the interval 7.7 to 10.3, and we
can say that with certainty. This is not a probability statement because
the interval and the parameter are both fixed.</p>
<p>The fourth option is incorrect because of the word <em>exactly</em>.
We generally can’t make guarantees like this when working with
randomness.</p>
<p>The fifth option is correct, as this is the meaning of confidence. We
have confidence in the process of generating 95% confidence intervals,
because roughly 95% of such intervals we create will capture the
parameter of interest.</p>
<!-- <hr><h5>Difficulty: ⭐️⭐️</h5><p>The average score on this problem was 87%. -->
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="problem-7">Problem 7</h2>
<p>An IKEA fan created an app where people can log the amount of time it
took them to assemble their IKEA furniture. The DataFrame
<code>app_data</code> has a row for each product build that was logged
on the app. The columns are:</p>
<ul>
<li><code>'product'</code> (<code>str</code>): the name of the product,
which includes the product line as the first word, followed by a
description of the product</li>
<li><code>'category'</code> (<code>str</code>): a categorical
description of the type of product</li>
<li><code>'assembly_time'</code> (<code>str</code>): the amount of time
to assemble the product, formatted as <code>'x hr, y min'</code> where
<code>x</code> and <code>y</code> represent integers, possibly zero</li>
<li><code>'minutes'</code> (<code>int</code>): integer values
representing the number of minutes it took to assemble each product
<br><br></li>
</ul>
<p>We want to use <code>app_data</code> to estimate the average amount
of time it takes to build an IKEA bed (any product in the
<code>'bed'</code> category). Which of the following strategies would be
an appropriate way to estimate this quantity? Select all that apply.</p>
<ul class="task-list">
<li><p><input type="checkbox" disabled="" /> Query to keep only the beds. Then resample with replacement many
times. For each resample, take the mean of the <code>'minutes'</code>
column. Compute a 95% confidence interval based on those means.</p></li>
<li><p><input type="checkbox" disabled="" /> Query to keep only the beds. Group by <code>'product'</code> using
the mean aggregation function. Then resample with replacement many
times. For each resample, take the mean of the <code>'minutes'</code>
column. Compute a 95% confidence interval based on those means.</p></li>
<li><p><input type="checkbox" disabled="" /> Resample with replacement many times. For each resample, first query
to keep only the beds and then take the mean of the
<code>'minutes'</code> column. Compute a 95% confidence interval based
on those means.</p></li>
<li><p><input type="checkbox" disabled="" /> Resample with replacement many times. For each resample, first query
to keep only the beds. Then group by <code>'product'</code> using the
mean aggregation function, and finally take the mean of the
<code>'minutes'</code> column. Compute a 95% confidence interval based
on those means.</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading7">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse7" aria-expanded="true" aria-controls="collapse7">
Click to view the solution.
</button>
</h2>
<div id="collapse7" class="accordion-collapse collapse collapse"
aria-labelledby="heading7" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><strong>Answer: </strong></p>
<p>Only the first answer is correct. This is a question of parameter
estimation, so our approach is to use bootstrapping to create many
resamples of our original sample, computing the average of each
resample. Each resample should always be the same size as the original
sample. The first answer choice accomplishes this by querying first to
keep only the beds, then resampling from the DataFrame of beds only.
This means resamples will have the same size as the original sample.
Each resample’s mean will be computed, so we will have many resample
means from which to construct our 95% confidence interval.</p>
<p>In the second answer choice, we are actually taking the mean twice.
We first average the build times for all builds of the same product when
grouping by product. This produces a DataFrame of different products
with the average build time for each. We then resample from this
DataFrame, computing the average of each resample. But this is a
resample of products, not of product builds. The size of the resample is
the number of unique products in <code>app_data</code>, not the number
of reported product builds in <code>app_data</code>. Further, we get
incorrect results by averaging numbers that are already averages. For
example, if 5 people build bed A and it takes them each 1 hour, and 1
person builds bed B and it takes them 10 hours, the average amount of
time to build a bed is <span class="math inline">\frac{5*1+10}{6} =
2.5</span>. But if we average the times for bed A (1 hour) and average
the times for bed B (5 hours), then average those, we get <span class="math inline">\frac{1+5}{2} = 3</span>, which is not the same.
More generally, grouping is not a part of the bootstrapping process
because we want each data value to be weighted equally.</p>
<p>The last two answer choices are incorrect because they involve
resampling from the full <code>app_data</code> DataFrame before querying
to keep only the beds. This is incorrect because it does not preserve
the sample size. For example, if <code>app_data</code> contains 1000
reported bed builds and 4000 other product builds, then the only
relevant data is the 1000 bed build times, so when we resample, we want
to consider another set of 1000 beds. If we resample from the full
<code>app_data</code> DataFrame, our resample will contain 5000 rows,
but the number of beds will be random, not necessarily 1000. If we query
first to keep only the beds, then resample, our resample will contain
exactly 1000 beds every time. As an added bonus, since we only care
about beds, it’s much faster to resample from a smaller DataFrame of
beds only than it is to resample from all <code>app_data</code> with
plenty of rows we don’t care about.</p>
<hr/>
<h5>Difficulty: ⭐️⭐️⭐️</h5>
<p>
</p>
<p>The average score on this problem was 71%.</p>
</div>
</div>
</div>
</div>
<hr />
<h2 id="section"><span class="math display"> </span></h2>
<h4
id="feedback-find-an-error-still-confused-have-a-suggestion-let-us-know-here.">👋
Feedback: Find an error? Still confused? Have a suggestion?
<a href="https://forms.gle/WZ71FchnXU1K154d7">Let us know
here</u></a>.</h4>
<hr />
</body>
</html>
